const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-Ccpz8Mwt.js","assets/index-xg0wAXn9.js","assets/index-yhRgZGKy.css","assets/solicitudesQueries-D0yC5ypa.js","assets/useMutation-C0w7SSmQ.js","assets/GlassPanel-DsiEcOyo.js","assets/useModalScroll-bImGwwMj.js","assets/triangle-alert-BedL4Rwo.js","assets/AmbientGlows-DQ_86F5f.js","assets/AdminProfilePage-Bt6QVE0E.js","assets/payrollQueries-B0uB6XeT.js","assets/payrollQueries-C_jm_VfG.css","assets/NotificationsPage-BFGyi_F9.js","assets/MainLayoutWrapper-EGe_tFhJ.js","assets/MainLayoutWrapper-Cw1gz2Si.css"])))=>i.map(i=>d[i]);
import{u as dr,h as Dt,c as er,a as fo,j as s,b as ii,d as y9,e as cu,r as w,s as Sw,f as Cw,R as Lo,g as w9,t as K6,i as ir,k as lt,U as Zn,G as nt,X as $r,C as St,l as Jn,m as ho,n as da,o as J2,L as Zo,p as Hl,q as N9,v as j9,w as _9,x as A9,y as S9,z as Q2,A as C9,B as P9,D as E9,E as k9,F as an,H as T9,I as Pw,J as Jt,K as Yl,M as Xl,N as Zl,O as Jl,P as Xa,Q as Fi,S as dc,T as Y6,V as xi,W as Xr,Y as Js,Z as Er,_ as eb,$ as O9,a0 as D9,a1 as Nh,a2 as Ad,a3 as I9,a4 as M9,a5 as F9,a6 as L9,a7 as X6,a8 as Tr,a9 as Z6,aa as R9,ab as J6,ac as Uc,ad as Jo,ae as vm,af as uu,ag as zf,ah as Q6,ai as eS,aj as tS,ak as md,al as La,am as Iv,an as Mv,ao as Ma,ap as Fv,aq as Wc,ar as B9,as as q9,at as L0,au as z9,av as rS,aw as jh,ax as Mf,ay as $9,az as U9,aA as W9,aB as H9,aC as Lv,aD as V9,aE as Sd,aF as Bp,aG as qp,aH as G9,aI as K9}from"./index-xg0wAXn9.js";import{u as tb,G as Nn,a as nS,b as aS,c as iS,d as sS,e as Y9,f as X9,g as Em,h as Rv,i as Z9,j as J9,k as Q9,P as Ql,S as Xc,C as oS,l as eI,m as tI,R as lS,n as rI,o as nI,p as aI,q as iI,r as sI,s as oI,t as zp}from"./solicitudesQueries-D0yC5ypa.js";import{G as Ye,B as Wo}from"./GlassPanel-DsiEcOyo.js";import{C as kr,a as As,F as to,u as Cd,T as rb}from"./useModalScroll-bImGwwMj.js";import{C as rn,T as $p}from"./triangle-alert-BedL4Rwo.js";import{A as Mn}from"./AmbientGlows-DQ_86F5f.js";import{M as nb,E as du,A as Bv,B as cS,U as qv,S as pd,L as zv,a as lI,b as uS,c as cI,d as uI,e as dI}from"./AdminProfilePage-Bt6QVE0E.js";import{T as ua,a as dS,g as fI,f as Mo,C as hI,u as mI,b as pI,c as xI}from"./payrollQueries-B0uB6XeT.js";import{C as ns,S as gI,N as vI}from"./NotificationsPage-BFGyi_F9.js";import{C as ab,a as ec,M as bI}from"./MainLayoutWrapper-EGe_tFhJ.js";import{u as sn}from"./useMutation-C0w7SSmQ.js";function yI(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function wI(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function NI(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Ew=e=>Array.isArray(e)?e:[e];function jI(e){const t=Array.isArray(e[0])?e[0]:e;return NI(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function _I(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var AI=class{constructor(e){this.value=e}deref(){return this.value}},SI=typeof WeakRef<"u"?WeakRef:AI,CI=0,kw=1;function R0(){return{s:CI,v:void 0,o:null,p:null}}function fS(e,t={}){let r=R0();const{resultEqualityCheck:n}=t;let a,i=0;function o(){let l=r;const{length:c}=arguments;for(let f=0,m=c;f<m;f++){const h=arguments[f];if(typeof h=="function"||typeof h=="object"&&h!==null){let g=l.o;g===null&&(l.o=g=new WeakMap);const p=g.get(h);p===void 0?(l=R0(),g.set(h,l)):l=p}else{let g=l.p;g===null&&(l.p=g=new Map);const p=g.get(h);p===void 0?(l=R0(),g.set(h,l)):l=p}}const u=l;let d;if(l.s===kw)d=l.v;else if(d=e.apply(null,arguments),i++,n){const f=a?.deref?.()??a;f!=null&&n(f,d)&&(d=f,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new SI(d):d}return u.s=kw,u.v=d,d}return o.clearCache=()=>{r=R0(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function PI(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),yI(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:m=[],argsMemoize:h=fS,argsMemoizeOptions:g=[]}=d,p=Ew(m),v=Ew(g),b=jI(a),j=f(function(){return i++,u.apply(null,arguments)},...p),A=h(function(){o++;const k=_I(b,arguments);return l=j.apply(null,k),l},...v);return Object.assign(A,{resultFunc:u,memoizedResultFunc:j,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var Ae=PI(fS),EI=Object.assign((e,t=Ae)=>{wI(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>EI});const hS={all:["profile"],me:()=>[...hS.all,"me"]};function kI(e){return{...e,idAlumno:e.idAlumno??null,idProfesor:e.idProfesor??null}}function Up(e=!0){return dr({queryKey:hS.me(),queryFn:async()=>{const t=await Dt.get("/api/auth/me");return kI(t.data)},enabled:e,staleTime:300*1e3,gcTime:1800*1e3,retry:(t,r)=>{const n=r?.status;return n===401||n===404?!1:t<2}})}const TI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ib=er("arrow-left",TI);const OI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Pd=er("arrow-right",OI);const DI=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Tw=er("award",DI);const II=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]],MI=er("badge",II);const FI=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],LI=er("banknote",FI);const RI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],mS=er("book-open",RI);const BI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Wp=er("calendar-days",BI);const qI=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],zI=er("check-check",qI);const $I=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],UI=er("circle-user-round",$I);const WI=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],bf=er("clipboard-list",WI);const HI=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Qs=er("download",HI);const VI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],GI=er("file-down",VI);const KI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],YI=er("file-question-mark",KI);const XI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],km=er("file-spreadsheet",XI);const ZI=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],pS=er("flame",ZI);const JI=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],xS=er("funnel",JI);const QI=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],sb=er("gift",QI);const e7=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ob=er("history",e7);const t7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],xd=er("info",t7);const r7=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],gS=er("log-in",r7);const n7=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],a7=er("maximize-2",n7);const i7=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],lb=er("message-square",i7);const s7=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],cb=er("pen",s7);const o7=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],l7=er("play",o7);const c7=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],u7=er("qr-code",c7);const d7=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],vS=er("receipt",d7);const f7=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ro=er("refresh-cw",f7);const h7=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],Jf=er("snowflake",h7);const m7=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Hc=er("sparkles",m7);const p7=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],x7=er("square-check-big",p7);const g7=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ub=er("square-pen",g7);const v7=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],$v=er("sun",v7);const b7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],y7=er("target",b7);const w7=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Uv=er("trophy",w7);const N7=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bS=er("user-check",N7);const j7=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_7=er("wifi-off",j7);const A7=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],S7=er("zoom-in",A7);const C7=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],P7=er("zap",C7);function E7({onSuccess:e,className:t=""}){const{login:r,authState:n}=fo(),a=async()=>{try{await r(),e?.()}catch{}};return s.jsxs("div",{className:`min-h-screen w-full relative overflow-hidden ${t}`,children:[s.jsx("div",{className:"absolute inset-0 bg-[#121212]"}),s.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col lg:grid lg:grid-cols-2",children:[s.jsx("div",{className:"flex flex-col justify-center px-8 md:px-16 lg:px-20 xl:px-28 py-12 lg:py-0 relative",children:s.jsxs("div",{className:"max-w-xl relative",children:[s.jsx("div",{className:"absolute -left-8 top-0 w-1 h-24 bg-gradient-to-b from-[#c93448] to-transparent opacity-40"}),s.jsx("div",{className:"mb-12 lg:mb-14 group cursor-pointer",children:s.jsxs("div",{className:"flex items-center gap-5",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"w-20 h-20 rounded-3xl bg-gradient-to-br from-[#B84545] via-[#A03838] to-[#7D2B2B] flex items-center justify-center shadow-[0_12px_40px_rgba(184,69,69,0.6),0_4px_12px_rgba(0,0,0,0.4)] group-hover:shadow-[0_16px_50px_rgba(184,69,69,0.8),0_6px_16px_rgba(0,0,0,0.5)] transition-all duration-500 group-hover:scale-105",style:{boxShadow:"0 12px 40px rgba(184,69,69,0.6), 0 4px 12px rgba(0,0,0,0.4), inset 0 -2px 8px rgba(0,0,0,0.3), inset 0 2px 4px rgba(255,255,255,0.15)"},children:[s.jsx("span",{className:"text-white text-4xl font-bold tracking-tight",style:{textShadow:"0 2px 4px rgba(0,0,0,0.5), 0 4px 8px rgba(0,0,0,0.3), 0 -1px 2px rgba(255,255,255,0.3), 2px 2px 4px rgba(125,43,43,0.5)"},children:"C"}),s.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-tr from-white/20 via-transparent to-transparent opacity-50"}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1/3 rounded-t-3xl bg-gradient-to-b from-white/10 to-transparent"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1/3 rounded-b-3xl bg-gradient-to-t from-black/20 to-transparent"})]}),s.jsx("div",{className:"absolute -inset-2 rounded-[28px] border border-[rgba(184,69,69,0.4)] opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),s.jsx("div",{children:s.jsx("span",{className:"text-white text-3xl font-semibold tracking-tight",children:"Chetango"})})]})}),s.jsxs("div",{className:"mb-8 relative",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-8 h-[2px] bg-gradient-to-r from-[#c93448] to-transparent"}),s.jsx("span",{className:"text-[#9ca3af] text-xs tracking-[0.2em] uppercase font-medium",children:"Bienvenido"})]}),s.jsxs("h1",{className:"mb-2 leading-[0.85] relative",style:{fontSize:"clamp(52px, 6vw, 82px)",fontWeight:300,letterSpacing:"0.02em"},children:[s.jsx("span",{className:"block outline-text",style:{WebkitTextStroke:"1.5px rgba(255,255,255,0.9)",WebkitTextFillColor:"transparent",color:"transparent"},children:"Gestión"}),s.jsx("span",{className:"block text-white",style:{fontWeight:400},children:"Inteligente"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[s.jsx("div",{className:"h-[1px] w-12 bg-[rgba(255,255,255,0.3)]"}),s.jsx("div",{className:"h-[2px] w-2 bg-[#c93448] rounded-full"})]})]}),s.jsx("p",{className:"text-[#d1d5db] leading-relaxed mb-12 relative pl-4 border-l-2 border-[rgba(201,52,72,0.3)]",style:{fontSize:"clamp(16px, 1.1vw, 19px)",lineHeight:"1.8"},children:s.jsx("span",{className:"block text-[#9ca3af]",children:"Sistema premium para academias modernas."})}),n.error&&s.jsx("div",{className:"mb-8 p-5 rounded-2xl bg-[rgba(239,68,68,0.1)] border border-[rgba(239,68,68,0.3)] backdrop-blur-sm animate-slide-in",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(rn,{className:"w-5 h-5 text-[#ef4444] flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-[#fca5a5] text-sm leading-relaxed",children:n.error})]})}),s.jsxs("button",{onClick:a,disabled:n.isLoading,className:`\r
                w-full\r
                px-8 py-6\r
                bg-gradient-to-br from-[#1a1a1a] to-[#0f0f0f]\r
                hover:from-[#262626] hover:to-[#1a1a1a]\r
                disabled:from-[#0a0a0a] disabled:to-[#050505]\r
                border border-[rgba(255,255,255,0.12)]\r
                hover:border-[rgba(201,52,72,0.6)]\r
                disabled:border-[rgba(255,255,255,0.05)]\r
                text-white\r
                rounded-2xl\r
                shadow-[0_8px_32px_rgba(0,0,0,0.4),inset_0_1px_0_rgba(255,255,255,0.05)]\r
                hover:shadow-[0_16px_56px_rgba(201,52,72,0.4),0_0_48px_rgba(201,52,72,0.2),inset_0_1px_0_rgba(255,255,255,0.1)]\r
                disabled:shadow-[0_4px_16px_rgba(0,0,0,0.3)]\r
                transition-all duration-500\r
                hover:scale-[1.02]\r
                hover:-translate-y-0.5\r
                disabled:scale-100\r
                disabled:translate-y-0\r
                disabled:cursor-not-allowed\r
                disabled:opacity-50\r
                relative overflow-hidden group\r
              `,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-[rgba(201,52,72,0.15)] to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),s.jsx("span",{className:"relative z-10 flex items-center justify-center gap-4",children:n.isLoading?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}),s.jsx("span",{className:"text-[17px] font-medium tracking-wide",children:"Conectando..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",className:"flex-shrink-0",children:[s.jsx("rect",{x:"1",y:"1",width:"10",height:"10",fill:"#F25022",rx:"1"}),s.jsx("rect",{x:"13",y:"1",width:"10",height:"10",fill:"#7FBA00",rx:"1"}),s.jsx("rect",{x:"1",y:"13",width:"10",height:"10",fill:"#00A4EF",rx:"1"}),s.jsx("rect",{x:"13",y:"13",width:"10",height:"10",fill:"#FFB900",rx:"1"})]}),s.jsx("span",{className:"text-[17px] font-medium tracking-wide",children:"Iniciar sesión con Microsoft"})]})})]}),s.jsxs("div",{className:"mt-10 flex items-start gap-3",children:[s.jsx("div",{className:"w-1 h-1 rounded-full bg-[#c93448] mt-2 flex-shrink-0"}),s.jsx("p",{className:"text-[#6b7280] text-sm leading-relaxed",children:"Acceso exclusivo para personal autorizado. Utiliza tu cuenta corporativa de Microsoft."})]}),s.jsx("div",{className:"absolute -left-8 bottom-0 w-1 h-16 bg-gradient-to-t from-[#c93448] to-transparent opacity-30"})]})}),s.jsx("div",{className:"flex items-center justify-center px-8 py-16 lg:py-0 order-first lg:order-last",children:s.jsx("div",{className:"relative w-full max-w-2xl lg:max-w-4xl aspect-square lg:aspect-auto lg:h-[85vh]",children:s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[s.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-contain animate-video-visibility-cycle",children:[s.jsx("source",{src:"/Video-LogoChetango.mp4",type:"video/mp4"}),"Tu navegador no soporta el elemento de video."]}),s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:"radial-gradient(ellipse at center, transparent 20%, rgba(18,18,18,0.4) 35%, rgba(18,18,18,0.75) 50%, rgba(18,18,18,0.92) 65%, #121212 80%)"}}),s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to right, #121212 0%, transparent 15%, transparent 85%, #121212 100%)"}}),s.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-50",style:{background:"radial-gradient(ellipse at center, rgba(201,52,72,0.2) 0%, rgba(201,52,72,0.08) 35%, transparent 60%)"}})]})})})})]}),s.jsx("style",{children:`
        @keyframes pulse-slow {
          0%, 100% {
            opacity: 0.3;
            transform: scale(1);
          }
          50% {
            opacity: 0.5;
            transform: scale(1.02);
          }
        }

        @keyframes ping-slow {
          0% {
            transform: scale(1);
            opacity: 0.4;
          }
          100% {
            transform: scale(1.5);
            opacity: 0;
          }
        }

        @keyframes slide-in {
          from {
            opacity: 0;
            transform: translateY(-12px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes float-particle {
          0%, 100% {
            transform: translate(0, 0) scale(1);
            opacity: 0.3;
          }
          25% {
            transform: translate(10px, -15px) scale(1.1);
            opacity: 0.5;
          }
          50% {
            transform: translate(-5px, -25px) scale(0.9);
            opacity: 0.4;
          }
          75% {
            transform: translate(-15px, -10px) scale(1.05);
            opacity: 0.35;
          }
        }

        @keyframes video-visibility-cycle {
          0% {
            opacity: 0;
          }
          10% {
            opacity: 0;
          }
          20% {
            opacity: 1;
          }
          90% {
            opacity: 1;
          }
          100% {
            opacity: 0;
          }
        }

        .animate-pulse-slow {
          animation: pulse-slow 4s ease-in-out infinite;
        }

        .animate-ping-slow {
          animation: ping-slow 3s cubic-bezier(0, 0, 0.2, 1) infinite;
        }

        .animate-slide-in {
          animation: slide-in 0.4s ease-out;
        }

        .animate-float-particle {
          animation: float-particle 7s ease-in-out infinite;
        }

        .animate-video-visibility-cycle {
          animation: video-visibility-cycle 10s ease-in-out infinite;
        }
      `})]})}const k7="_spinner_g6qv6_338",Fu={"auth-callback":"_auth-callback_g6qv6_295","auth-callback__container":"_auth-callback__container_g6qv6_315","auth-callback__spinner":"_auth-callback__spinner_g6qv6_326",spinner:k7,"auth-callback__title":"_auth-callback__title_g6qv6_349","auth-callback__subtitle":"_auth-callback__subtitle_g6qv6_359"};function T7(){const e=ii(),{instance:t}=y9(),r=cu(),n=()=>{const a=sessionStorage.getItem("returnUrl");return sessionStorage.removeItem("returnUrl"),a||Lo.DASHBOARD};return w.useEffect(()=>{(async()=>{try{r(Sw(!0)),await t.initialize();const i=await t.handleRedirectPromise();if(i?.account)t.setActiveAccount(i.account),r(Cw(!0)),e(n(),{replace:!0});else{const o=t.getAllAccounts();o.length>0?(t.setActiveAccount(o[0]),r(Cw(!0)),e(n(),{replace:!0})):e(Lo.LOGIN,{replace:!0})}}catch(i){r(w9(i instanceof Error?i.message:"Error de autenticacion")),e(Lo.LOGIN,{replace:!0})}finally{r(Sw(!1))}})()},[t,e,r]),s.jsx("div",{className:Fu["auth-callback"],children:s.jsxs("div",{className:Fu["auth-callback__container"],children:[s.jsx("div",{className:Fu["auth-callback__spinner"],children:s.jsx("div",{className:Fu.spinner})}),s.jsx("h2",{className:Fu["auth-callback__title"],children:"Procesando autenticación..."}),s.jsx("p",{className:Fu["auth-callback__subtitle"],children:"Por favor espera mientras completamos tu inicio de sesión"})]})})}function di({children:e,variant:t="info",shape:r="rounded",className:n=""}){const a={active:"bg-[rgba(52,211,153,0.15)] border-[rgba(52,211,153,0.4)] text-[#6ee7b7] shadow-[0_4px_12px_rgba(52,211,153,0.2),inset_0_1px_1px_rgba(52,211,153,0.3)]",expired:"bg-[rgba(239,68,68,0.15)] border-[rgba(239,68,68,0.4)] text-[#fca5a5] shadow-[0_4px_12px_rgba(239,68,68,0.2),inset_0_1px_1px_rgba(239,68,68,0.3)]",depleted:"bg-[rgba(245,158,11,0.15)] border-[rgba(245,158,11,0.4)] text-[#fcd34d] shadow-[0_4px_12px_rgba(245,158,11,0.2),inset_0_1px_1px_rgba(245,158,11,0.3)]",frozen:"bg-[rgba(59,130,246,0.15)] border-[rgba(59,130,246,0.4)] text-[#93c5fd] shadow-[0_4px_12px_rgba(59,130,246,0.2),inset_0_1px_1px_rgba(59,130,246,0.3)]",none:"bg-[rgba(156,163,175,0.15)] border-[rgba(156,163,175,0.4)] text-[#d1d5db] shadow-[0_4px_12px_rgba(156,163,175,0.2),inset_0_1px_1px_rgba(156,163,175,0.3)]",info:"bg-[rgba(124,90,248,0.15)] border-[rgba(124,90,248,0.4)] text-[#9b8afb] shadow-[0_4px_12px_rgba(124,90,248,0.2),inset_0_1px_1px_rgba(124,90,248,0.3)]",success:"bg-[rgba(52,211,153,0.15)] border-[rgba(52,211,153,0.4)] text-[#6ee7b7] shadow-[0_4px_12px_rgba(52,211,153,0.2),inset_0_1px_1px_rgba(52,211,153,0.3)]",warning:"bg-[rgba(245,158,11,0.15)] border-[rgba(245,158,11,0.4)] text-[#fcd34d] shadow-[0_4px_12px_rgba(245,158,11,0.2),inset_0_1px_1px_rgba(245,158,11,0.3)]",error:"bg-[rgba(239,68,68,0.15)] border-[rgba(239,68,68,0.4)] text-[#fca5a5] shadow-[0_4px_12px_rgba(239,68,68,0.2),inset_0_1px_1px_rgba(239,68,68,0.3)]"},i={rounded:"rounded-lg",pill:"rounded-full"};return s.jsx("span",{className:`
        inline-block
        px-3 py-1.5 
        backdrop-blur-xl 
        border 
        text-sm
        ${a[t]}
        ${i[r]}
        ${n}
      `,children:e})}function B0({children:e,variant:t,className:r=""}){const n={active:`
      bg-[rgba(52,211,153,0.15)]
      border-[rgba(52,211,153,0.4)]
      text-[#6ee7b7]
      shadow-[0_4px_12px_rgba(52,211,153,0.2),inset_0_1px_1px_rgba(52,211,153,0.3)]
    `,depleted:`
      bg-[rgba(245,158,11,0.15)]
      border-[rgba(245,158,11,0.4)]
      text-[#fcd34d]
      shadow-[0_4px_12px_rgba(245,158,11,0.2),inset_0_1px_1px_rgba(245,158,11,0.3)]
    `,frozen:`
      bg-[rgba(59,130,246,0.15)]
      border-[rgba(59,130,246,0.4)]
      text-[#93c5fd]
      shadow-[0_4px_12px_rgba(59,130,246,0.2),inset_0_1px_1px_rgba(59,130,246,0.3)]
    `,none:`
      bg-[rgba(156,163,175,0.15)]
      border-[rgba(156,163,175,0.4)]
      text-[#d1d5db]
      shadow-[0_4px_12px_rgba(156,163,175,0.2),inset_0_1px_1px_rgba(156,163,175,0.3)]
    `,trial:`
      bg-[rgba(124,90,248,0.15)]
      border-[rgba(124,90,248,0.4)]
      text-[#a78bfa]
      shadow-[0_4px_12px_rgba(124,90,248,0.2),inset_0_1px_1px_rgba(124,90,248,0.3)]
    `};return s.jsx("span",{className:`
        inline-flex items-center gap-1.5
        px-3 py-1.5
        backdrop-blur-xl
        border
        rounded-lg
        ${n[t]}
        ${r}
      `,children:e})}function db({children:e,color:t="primary",className:r="",icon:n}){const i={primary:{bg:"bg-[rgba(201,52,72,0.15)]",border:"border-[rgba(201,52,72,0.3)]",text:"text-[#e54d5e]",shadow:"shadow-[0_4px_16px_rgba(201,52,72,0.2)]"},success:{bg:"bg-[rgba(52,211,153,0.15)]",border:"border-[rgba(52,211,153,0.3)]",text:"text-[#6ee7b7]",shadow:"shadow-[0_4px_16px_rgba(52,211,153,0.2)]"},warning:{bg:"bg-[rgba(245,158,11,0.15)]",border:"border-[rgba(245,158,11,0.3)]",text:"text-[#fcd34d]",shadow:"shadow-[0_4px_16px_rgba(245,158,11,0.2)]"},info:{bg:"bg-[rgba(59,130,246,0.15)]",border:"border-[rgba(59,130,246,0.3)]",text:"text-[#93c5fd]",shadow:"shadow-[0_4px_16px_rgba(59,130,246,0.2)]"}}[t];return s.jsxs("div",{className:`
        inline-flex items-center gap-2
        px-4 py-2
        rounded-full
        backdrop-blur-xl
        ${i.bg}
        border ${i.border}
        ${i.text}
        text-sm font-medium
        ${i.shadow}
        ${r}
      `,children:[n,e]})}function Hp(...e){return K6(ir(e))}function Ge({className:e,variant:t="default",width:r,height:n,style:a,...i}){return s.jsx("div",{className:Hp("relative overflow-hidden","bg-[rgba(255,255,255,0.05)]","before:absolute before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:bg-gradient-to-r","before:from-transparent","before:via-[rgba(255,255,255,0.08)]","before:to-transparent",t==="circular"&&"rounded-full",t==="text"&&"rounded h-4",t==="default"&&"rounded-lg",e),style:{width:r,height:n,...a},...i})}function jn({className:e,...t}){return s.jsx(Ge,{variant:"text",className:Hp("h-4 w-full",e),...t})}function Vp({className:e,...t}){return s.jsx(Ge,{variant:"circular",className:Hp("size-10",e),...t})}function Tm({className:e,...t}){return s.jsx(Ge,{variant:"default",className:Hp("h-32 w-full rounded-xl",e),...t})}function Ja({icon:e,value:t,label:r,title:n,subtitle:a,trend:i,trendValue:o,color:l="primary",className:c=""}){const u={primary:{glow:"bg-gradient-to-br from-[rgba(201,52,72,0.1)] to-transparent",icon:"bg-[rgba(201,52,72,0.2)] text-[#c93448] shadow-[0_4px_12px_rgba(201,52,72,0.3),inset_0_1px_2px_rgba(201,52,72,0.4)]"},secondary:{glow:"bg-gradient-to-br from-[rgba(124,90,248,0.1)] to-transparent",icon:"bg-[rgba(124,90,248,0.2)] text-[#7c5af8] shadow-[0_4px_12px_rgba(124,90,248,0.3),inset_0_1px_2px_rgba(124,90,248,0.4)]"},success:{glow:"bg-gradient-to-br from-[rgba(52,211,153,0.1)] to-transparent",icon:"bg-[rgba(52,211,153,0.2)] text-[#34d399] shadow-[0_4px_12px_rgba(52,211,153,0.3),inset_0_1px_2px_rgba(52,211,153,0.4)]"},warning:{glow:"bg-gradient-to-br from-[rgba(245,158,11,0.1)] to-transparent",icon:"bg-[rgba(245,158,11,0.2)] text-[#f59e0b] shadow-[0_4px_12px_rgba(245,158,11,0.3),inset_0_1px_2px_rgba(245,158,11,0.4)]"}};return s.jsxs(Ye,{className:`p-6 group hover:scale-[1.03] transition-all duration-300 cursor-pointer relative overflow-hidden ${c}`,children:[s.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 opacity-[0.08] blur-[60px] rounded-full group-hover:opacity-[0.15] transition-opacity duration-300 ${u[l].glow}`}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`p-3 backdrop-blur-md rounded-xl ${u[l].icon}`,children:e}),i&&o&&s.jsxs("span",{className:i==="up"?"text-[#34d399]":"text-[#fca5a5]",children:[i==="up"?"↑":"↓"," ",o]})]}),s.jsx("h3",{className:"text-[#f9fafb] text-2xl font-semibold mb-1",children:t}),s.jsx("p",{className:"text-[#9ca3af] font-medium mb-1",children:n||r}),a&&s.jsx("p",{className:"text-[#6b7280] text-sm",children:a})]})]})}function Ow({icon:e,label:t,value:r,position:n="top-[12%] right-[3%]",delay:a="0s"}){return s.jsxs("div",{className:`
        fixed ${n}
        z-20
        backdrop-blur-xl
        bg-[rgba(42,42,48,0.6)]
        border border-[rgba(255,255,255,0.12)]
        rounded-2xl
        px-5 py-4
        shadow-[0_8px_24px_rgba(0,0,0,0.3)]
        animate-float
        hidden xl:flex
        items-center gap-3
      `,style:{animationDelay:a},children:[s.jsx("div",{className:"p-2.5 rounded-lg bg-[rgba(255,255,255,0.05)]",children:e}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#9ca3af] text-[12px]",children:t}),s.jsx("p",{className:"text-[#f9fafb] font-semibold text-[18px]",children:r})]})]})}function O7(e,t,r="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:r}).format(t).split(/\s/g).slice(2).join(" ")}const D7={},Ff={};function Rc(e,t){try{const n=(D7[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return n in Ff?Ff[n]:Dw(n,n.split(":"))}catch{if(e in Ff)return Ff[e];const r=e?.match(I7);return r?Dw(e,r.slice(1)):NaN}}const I7=/([+-]\d\d):?(\d\d)?/;function Dw(e,t){const r=+(t[0]||0),n=+(t[1]||0),a=+(t[2]||0)/60;return Ff[e]=r*60+n>0?r*60+n+a:r*60-n-a}class Gs extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Rc(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),yS(this),Wv(this)):this.setTime(Date.now())}static tz(t,...r){return r.length?new Gs(...r,t):new Gs(Date.now(),t)}withTimeZone(t){return new Gs(+this,t)}getTimezoneOffset(){const t=-Rc(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),Wv(this),+this}[Symbol.for("constructDateFrom")](t){return new Gs(+new Date(t),this.timeZone)}}const Iw=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!Iw.test(e))return;const t=e.replace(Iw,"$1UTC");Gs.prototype[t]&&(e.startsWith("get")?Gs.prototype[e]=function(){return this.internal[t]()}:(Gs.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),M7(this),+this},Gs.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),Wv(this),+this}))});function Wv(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-Rc(e.timeZone,e)*60))}function M7(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),yS(e)}function yS(e){const t=Rc(e.timeZone,e),r=t>0?Math.floor(t):Math.ceil(t),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const a=-new Date(+e).getTimezoneOffset(),i=-new Date(+n).getTimezoneOffset(),o=a-i,l=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();o&&l&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+o);const c=a-r;c&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+c);const u=new Date(+e);u.setUTCSeconds(0);const d=a>0?u.getSeconds():(u.getSeconds()-60)%60,f=Math.round(-(Rc(e.timeZone,e)*60))%60;(f||d)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+f),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+f+d));const m=Rc(e.timeZone,e),h=m>0?Math.floor(m):Math.ceil(m),p=-new Date(+e).getTimezoneOffset()-h,v=h!==r,b=p-c;if(v&&b){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+b);const j=Rc(e.timeZone,e),A=j>0?Math.floor(j):Math.ceil(j),_=h-A;_&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+_),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+_))}}class Ro extends Gs{static tz(t,...r){return r.length?new Ro(...r,t):new Ro(Date.now(),t)}toISOString(){const[t,r,n]=this.tzComponents(),a=`${t}${r}:${n}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,r,n,a]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${n} ${r} ${a}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[r,n,a]=this.tzComponents();return`${t} GMT${r}${n}${a} (${O7(this.timeZone,this)})`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),r=t>0?"-":"+",n=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),a=String(Math.abs(t)%60).padStart(2,"0");return[r,n,a]}withTimeZone(t){return new Ro(+this,t)}[Symbol.for("constructDateFrom")](t){return new Ro(+new Date(t),this.timeZone)}}const wS=6048e5,F7=864e5,Mw=Symbol.for("constructDateFrom");function qn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Mw in e?e[Mw](t):e instanceof Date?new e.constructor(t):new Date(t)}function Dr(e,t){return qn(t||e,e)}function NS(e,t,r){const n=Dr(e,r?.in);return isNaN(t)?qn(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function jS(e,t,r){const n=Dr(e,r?.in);if(isNaN(t))return qn(e,NaN);if(!t)return n;const a=n.getDate(),i=qn(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const o=i.getDate();return a>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}let L7={};function _h(){return L7}function gd(e,t){const r=_h(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Dr(e,t?.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Qf(e,t){return gd(e,{...t,weekStartsOn:1})}function _S(e,t){const r=Dr(e,t?.in),n=r.getFullYear(),a=qn(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Qf(a),o=qn(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Qf(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function Fw(e){const t=Dr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ed(e,...t){const r=qn.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function eh(e,t){const r=Dr(e,t?.in);return r.setHours(0,0,0,0),r}function AS(e,t,r){const[n,a]=Ed(r?.in,e,t),i=eh(n),o=eh(a),l=+i-Fw(i),c=+o-Fw(o);return Math.round((l-c)/F7)}function R7(e,t){const r=_S(e,t),n=qn(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Qf(n)}function B7(e,t,r){return NS(e,t*7,r)}function q7(e,t,r){return jS(e,t*12,r)}function z7(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=qn.bind(null,a));const i=Dr(a,n);(!r||r<i||isNaN(+i))&&(r=i)}),qn(n,r||NaN)}function $7(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=qn.bind(null,a));const i=Dr(a,n);(!r||r>i||isNaN(+i))&&(r=i)}),qn(n,r||NaN)}function U7(e,t,r){const[n,a]=Ed(r?.in,e,t);return+eh(n)==+eh(a)}function SS(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function W7(e){return!(!SS(e)&&typeof e!="number"||isNaN(+Dr(e)))}function H7(e,t,r){const[n,a]=Ed(r?.in,e,t),i=n.getFullYear()-a.getFullYear(),o=n.getMonth()-a.getMonth();return i*12+o}function V7(e,t){const r=Dr(e,t?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function CS(e,t){const[r,n]=Ed(e,t.start,t.end);return{start:r,end:n}}function G7(e,t){const{start:r,end:n}=CS(t?.in,e);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0),o.setDate(1);let l=1;const c=[];for(;+o<=i;)c.push(qn(r,o)),o.setMonth(o.getMonth()+l);return a?c.reverse():c}function K7(e,t){const r=Dr(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function Y7(e,t){const r=Dr(e,t?.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function PS(e,t){const r=Dr(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function X7(e,t){const{start:r,end:n}=CS(t?.in,e);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0),o.setMonth(0,1);let l=1;const c=[];for(;+o<=i;)c.push(qn(r,o)),o.setFullYear(o.getFullYear()+l);return a?c.reverse():c}function ES(e,t){const r=_h(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Dr(e,t?.in),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function Z7(e,t){return ES(e,{...t,weekStartsOn:1})}const J7={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Q7=(e,t,r)=>{let n;const a=J7[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function bx(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const eM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nM={date:bx({formats:eM,defaultWidth:"full"}),time:bx({formats:tM,defaultWidth:"full"}),dateTime:bx({formats:rM,defaultWidth:"full"})},aM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},iM=(e,t,r,n)=>aM[e];function yf(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const sM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fM=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},hM={ordinalNumber:fM,era:yf({values:sM,defaultWidth:"wide"}),quarter:yf({values:oM,defaultWidth:"wide",argumentCallback:e=>e-1}),month:yf({values:lM,defaultWidth:"wide"}),day:yf({values:cM,defaultWidth:"wide"}),dayPeriod:yf({values:uM,defaultWidth:"wide",formattingValues:dM,defaultFormattingWidth:"wide"})};function wf(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?pM(l,f=>f.test(o)):mM(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function mM(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function pM(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function xM(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const gM=/^(\d+)(th|st|nd|rd)?/i,vM=/\d+/i,bM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yM={any:[/^b/i,/^(a|c)/i]},wM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},NM={any:[/1/i,/2/i,/3/i,/4/i]},jM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_M={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},AM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},SM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},PM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},EM={ordinalNumber:xM({matchPattern:gM,parsePattern:vM,valueCallback:e=>parseInt(e,10)}),era:wf({matchPatterns:bM,defaultMatchWidth:"wide",parsePatterns:yM,defaultParseWidth:"any"}),quarter:wf({matchPatterns:wM,defaultMatchWidth:"wide",parsePatterns:NM,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wf({matchPatterns:jM,defaultMatchWidth:"wide",parsePatterns:_M,defaultParseWidth:"any"}),day:wf({matchPatterns:AM,defaultMatchWidth:"wide",parsePatterns:SM,defaultParseWidth:"any"}),dayPeriod:wf({matchPatterns:CM,defaultMatchWidth:"any",parsePatterns:PM,defaultParseWidth:"any"})},Yu={code:"en-US",formatDistance:Q7,formatLong:nM,formatRelative:iM,localize:hM,match:EM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kM(e,t){const r=Dr(e,t?.in);return AS(r,PS(r))+1}function kS(e,t){const r=Dr(e,t?.in),n=+Qf(r)-+R7(r);return Math.round(n/wS)+1}function TS(e,t){const r=Dr(e,t?.in),n=r.getFullYear(),a=_h(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=qn(t?.in||e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=gd(o,t),c=qn(t?.in||e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=gd(c,t);return+r>=+l?n+1:+r>=+u?n:n-1}function TM(e,t){const r=_h(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=TS(e,t),i=qn(t?.in||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),gd(i,t)}function OS(e,t){const r=Dr(e,t?.in),n=+gd(r,t)-+TM(r,t);return Math.round(n/wS)+1}function br(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Il={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return br(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):br(r+1,2)},d(e,t){return br(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,t){return br(e.getHours()%12||12,t.length)},H(e,t){return br(e.getHours(),t.length)},m(e,t){return br(e.getMinutes(),t.length)},s(e,t){return br(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return br(a,t.length)}},Lu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Lw={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Il.y(e,t)},Y:function(e,t,r,n){const a=TS(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return br(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):br(i,t.length)},R:function(e,t){const r=_S(e);return br(r,t.length)},u:function(e,t){const r=e.getFullYear();return br(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return br(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return br(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Il.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return br(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=OS(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):br(a,t.length)},I:function(e,t,r){const n=kS(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):br(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Il.d(e,t)},D:function(e,t,r){const n=kM(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):br(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return br(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return br(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return br(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Lu.noon:n===0?a=Lu.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Lu.evening:n>=12?a=Lu.afternoon:n>=4?a=Lu.morning:a=Lu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Il.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Il.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):br(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):br(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Il.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Il.s(e,t)},S:function(e,t){return Il.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Bw(n);case"XXXX":case"XX":return Oc(n);default:return Oc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Bw(n);case"xxxx":case"xx":return Oc(n);default:return Oc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Rw(n,":");default:return"GMT"+Oc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Rw(n,":");default:return"GMT"+Oc(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return br(n,t.length)},T:function(e,t,r){return br(+e,t.length)}};function Rw(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+br(i,2)}function Bw(e,t){return e%60===0?(e>0?"-":"+")+br(Math.abs(e)/60,2):Oc(e,t)}function Oc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=br(Math.trunc(n/60),2),i=br(n%60,2);return r+a+t+i}const qw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},DS=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},OM=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return qw(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",qw(n,t)).replace("{{time}}",DS(a,t))},DM={p:DS,P:OM},IM=/^D+$/,MM=/^Y+$/,FM=["D","DD","YY","YYYY"];function LM(e){return IM.test(e)}function RM(e){return MM.test(e)}function BM(e,t,r){const n=qM(e,t,r);if(console.warn(n),FM.includes(e))throw new RangeError(n)}function qM(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$M=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,UM=/^'([^]*?)'?$/,WM=/''/g,HM=/[a-zA-Z]/;function Lf(e,t,r){const n=_h(),a=r?.locale??n.locale??Yu,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=Dr(e,r?.in);if(!W7(l))throw new RangeError("Invalid time value");let c=t.match($M).map(d=>{const f=d[0];if(f==="p"||f==="P"){const m=DM[f];return m(d,a.formatLong)}return d}).join("").match(zM).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:VM(d)};if(Lw[f])return{isToken:!0,value:d};if(f.match(HM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(d=>{if(!d.isToken)return d.value;const f=d.value;(!r?.useAdditionalWeekYearTokens&&RM(f)||!r?.useAdditionalDayOfYearTokens&&LM(f))&&BM(f,t,String(e));const m=Lw[f[0]];return m(l,f,a.localize,u)}).join("")}function VM(e){const t=e.match(UM);return t?t[1].replace(WM,"'"):e}function GM(e,t){const r=Dr(e,t?.in),n=r.getFullYear(),a=r.getMonth(),i=qn(r,0);return i.setFullYear(n,a+1,0),i.setHours(0,0,0,0),i.getDate()}function KM(e,t){return Dr(e,t?.in).getMonth()}function YM(e,t){return Dr(e,t?.in).getFullYear()}function XM(e,t){return+Dr(e)>+Dr(t)}function ZM(e,t){return+Dr(e)<+Dr(t)}function JM(e,t,r){const[n,a]=Ed(r?.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function QM(e,t,r){const[n,a]=Ed(r?.in,e,t);return n.getFullYear()===a.getFullYear()}function eF(e,t,r){const n=Dr(e,r?.in),a=n.getFullYear(),i=n.getDate(),o=qn(e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);const l=GM(o);return n.setMonth(t,Math.min(i,l)),n}function tF(e,t,r){const n=Dr(e,r?.in);return isNaN(+n)?qn(e,NaN):(n.setFullYear(t),n)}const zw=5,rF=4;function nF(e,t){const r=t.startOfMonth(e),n=r.getDay()>0?r.getDay():7,a=t.addDays(e,-n+1),i=t.addDays(a,zw*7-1);return t.getMonth(e)===t.getMonth(i)?zw:rF}function IS(e,t){const r=t.startOfMonth(e),n=r.getDay();return n===1?r:n===0?t.addDays(r,-6):t.addDays(r,-1*(n-1))}function aF(e,t){const r=IS(e,t),n=nF(e,t);return t.addDays(r,n*7-1)}const MS={...Yu,labels:{labelDayButton:(e,t,r,n)=>{let a;n&&typeof n.format=="function"?a=n.format.bind(n):a=(o,l)=>Lf(o,l,{locale:Yu,...r});let i=a(e,"PPPP");return t.today&&(i=`Today, ${i}`),t.selected&&(i=`${i}, selected`),i},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:e=>`Week ${e}`,labelYearDropdown:"Choose the Year",labelGrid:(e,t,r)=>{let n;return r&&typeof r.format=="function"?n=r.format.bind(r):n=(a,i)=>Lf(a,i,{locale:Yu,...t}),n(e,"LLLL yyyy")},labelGridcell:(e,t,r,n)=>{let a;n&&typeof n.format=="function"?a=n.format.bind(n):a=(o,l)=>Lf(o,l,{locale:Yu,...r});let i=a(e,"PPPP");return t?.today&&(i=`Today, ${i}`),i},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(e,t,r)=>{let n;return r&&typeof r.format=="function"?n=r.format.bind(r):n=(a,i)=>Lf(a,i,{locale:Yu,...t}),n(e,"cccc")}}};class Li{constructor(t,r){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?Ro.tz(this.options.timeZone):new this.Date,this.newDate=(n,a,i)=>this.overrides?.newDate?this.overrides.newDate(n,a,i):this.options.timeZone?new Ro(n,a,i,this.options.timeZone):new Date(n,a,i),this.addDays=(n,a)=>this.overrides?.addDays?this.overrides.addDays(n,a):NS(n,a),this.addMonths=(n,a)=>this.overrides?.addMonths?this.overrides.addMonths(n,a):jS(n,a),this.addWeeks=(n,a)=>this.overrides?.addWeeks?this.overrides.addWeeks(n,a):B7(n,a),this.addYears=(n,a)=>this.overrides?.addYears?this.overrides.addYears(n,a):q7(n,a),this.differenceInCalendarDays=(n,a)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(n,a):AS(n,a),this.differenceInCalendarMonths=(n,a)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(n,a):H7(n,a),this.eachMonthOfInterval=n=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(n):G7(n),this.eachYearOfInterval=n=>{const a=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(n):X7(n),i=new Set(a.map(l=>this.getYear(l)));if(i.size===a.length)return a;const o=[];return i.forEach(l=>{o.push(new Date(l,0,1))}),o},this.endOfBroadcastWeek=n=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(n):aF(n,this),this.endOfISOWeek=n=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(n):Z7(n),this.endOfMonth=n=>this.overrides?.endOfMonth?this.overrides.endOfMonth(n):V7(n),this.endOfWeek=(n,a)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(n,a):ES(n,this.options),this.endOfYear=n=>this.overrides?.endOfYear?this.overrides.endOfYear(n):Y7(n),this.format=(n,a,i)=>{const o=this.overrides?.format?this.overrides.format(n,a,this.options):Lf(n,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=n=>this.overrides?.getISOWeek?this.overrides.getISOWeek(n):kS(n),this.getMonth=(n,a)=>this.overrides?.getMonth?this.overrides.getMonth(n,this.options):KM(n,this.options),this.getYear=(n,a)=>this.overrides?.getYear?this.overrides.getYear(n,this.options):YM(n,this.options),this.getWeek=(n,a)=>this.overrides?.getWeek?this.overrides.getWeek(n,this.options):OS(n,this.options),this.isAfter=(n,a)=>this.overrides?.isAfter?this.overrides.isAfter(n,a):XM(n,a),this.isBefore=(n,a)=>this.overrides?.isBefore?this.overrides.isBefore(n,a):ZM(n,a),this.isDate=n=>this.overrides?.isDate?this.overrides.isDate(n):SS(n),this.isSameDay=(n,a)=>this.overrides?.isSameDay?this.overrides.isSameDay(n,a):U7(n,a),this.isSameMonth=(n,a)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(n,a):JM(n,a),this.isSameYear=(n,a)=>this.overrides?.isSameYear?this.overrides.isSameYear(n,a):QM(n,a),this.max=n=>this.overrides?.max?this.overrides.max(n):z7(n),this.min=n=>this.overrides?.min?this.overrides.min(n):$7(n),this.setMonth=(n,a)=>this.overrides?.setMonth?this.overrides.setMonth(n,a):eF(n,a),this.setYear=(n,a)=>this.overrides?.setYear?this.overrides.setYear(n,a):tF(n,a),this.startOfBroadcastWeek=(n,a)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(n,this):IS(n,this),this.startOfDay=n=>this.overrides?.startOfDay?this.overrides.startOfDay(n):eh(n),this.startOfISOWeek=n=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(n):Qf(n),this.startOfMonth=n=>this.overrides?.startOfMonth?this.overrides.startOfMonth(n):K7(n),this.startOfWeek=(n,a)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(n,this.options):gd(n,this.options),this.startOfYear=n=>this.overrides?.startOfYear?this.overrides.startOfYear(n):PS(n),this.options={locale:MS,...t},this.overrides=r}getDigitMap(){const{numerals:t="latn"}=this.options,r=new Intl.NumberFormat("en-US",{numberingSystem:t}),n={};for(let a=0;a<10;a++)n[a.toString()]=r.format(a);return n}replaceDigits(t){const r=this.getDigitMap();return t.replace(/\d/g,n=>r[n]||n)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&Li.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:r,timeZone:n,numerals:a}=this.options,i=r?.code;if(i&&Li.yearFirstLocales.has(i))try{return new Intl.DateTimeFormat(i,{month:"long",year:"numeric",timeZone:n,numberingSystem:a}).format(t)}catch{}const o=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,o)}}Li.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const mo=new Li;class FS{constructor(t,r,n=mo){this.date=t,this.displayMonth=r,this.outside=!!(r&&!n.isSameMonth(t,r)),this.dateLib=n,this.isoDate=n.format(t,"yyyy-MM-dd"),this.displayMonthId=n.format(r,"yyyy-MM"),this.dateMonthId=n.format(t,"yyyy-MM")}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class iF{constructor(t,r){this.date=t,this.weeks=r}}class sF{constructor(t,r){this.days=r,this.weekNumber=t}}function oF(e){return lt.createElement("button",{...e})}function lF(e){return lt.createElement("span",{...e})}function cF(e){const{size:t=24,orientation:r="left",className:n}=e;return lt.createElement("svg",{className:n,width:t,height:t,viewBox:"0 0 24 24"},r==="up"&&lt.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),r==="down"&&lt.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),r==="left"&&lt.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),r==="right"&&lt.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function uF(e){const{day:t,modifiers:r,...n}=e;return lt.createElement("td",{...n})}function dF(e){const{day:t,modifiers:r,...n}=e,a=lt.useRef(null);return lt.useEffect(()=>{r.focused&&a.current?.focus()},[r.focused]),lt.createElement("button",{ref:a,...n})}var Ot;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(Ot||(Ot={}));var tn;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(tn||(tn={}));var js;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(js||(js={}));var ki;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(ki||(ki={}));function fF(e){const{options:t,className:r,components:n,classNames:a,...i}=e,o=[a[Ot.Dropdown],r].join(" "),l=t?.find(({value:c})=>c===i.value);return lt.createElement("span",{"data-disabled":i.disabled,className:a[Ot.DropdownRoot]},lt.createElement(n.Select,{className:o,...i},t?.map(({value:c,label:u,disabled:d})=>lt.createElement(n.Option,{key:c,value:c,disabled:d},u))),lt.createElement("span",{className:a[Ot.CaptionLabel],"aria-hidden":!0},l?.label,lt.createElement(n.Chevron,{orientation:"down",size:18,className:a[Ot.Chevron]})))}function hF(e){return lt.createElement("div",{...e})}function mF(e){return lt.createElement("div",{...e})}function pF(e){const{calendarMonth:t,displayIndex:r,...n}=e;return lt.createElement("div",{...n},e.children)}function xF(e){const{calendarMonth:t,displayIndex:r,...n}=e;return lt.createElement("div",{...n})}function gF(e){return lt.createElement("table",{...e})}function vF(e){return lt.createElement("div",{...e})}const LS=w.createContext(void 0);function Ah(){const e=w.useContext(LS);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function bF(e){const{components:t}=Ah();return lt.createElement(t.Dropdown,{...e})}function yF(e){const{onPreviousClick:t,onNextClick:r,previousMonth:n,nextMonth:a,...i}=e,{components:o,classNames:l,labels:{labelPrevious:c,labelNext:u}}=Ah(),d=w.useCallback(m=>{a&&r?.(m)},[a,r]),f=w.useCallback(m=>{n&&t?.(m)},[n,t]);return lt.createElement("nav",{...i},lt.createElement(o.PreviousMonthButton,{type:"button",className:l[Ot.PreviousMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":c(n),onClick:f},lt.createElement(o.Chevron,{disabled:n?void 0:!0,className:l[Ot.Chevron],orientation:"left"})),lt.createElement(o.NextMonthButton,{type:"button",className:l[Ot.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":u(a),onClick:d},lt.createElement(o.Chevron,{disabled:a?void 0:!0,orientation:"right",className:l[Ot.Chevron]})))}function wF(e){const{components:t}=Ah();return lt.createElement(t.Button,{...e})}function NF(e){return lt.createElement("option",{...e})}function jF(e){const{components:t}=Ah();return lt.createElement(t.Button,{...e})}function _F(e){const{rootRef:t,...r}=e;return lt.createElement("div",{...r,ref:t})}function AF(e){return lt.createElement("select",{...e})}function SF(e){const{week:t,...r}=e;return lt.createElement("tr",{...r})}function CF(e){return lt.createElement("th",{...e})}function PF(e){return lt.createElement("thead",{"aria-hidden":!0},lt.createElement("tr",{...e}))}function EF(e){const{week:t,...r}=e;return lt.createElement("th",{...r})}function kF(e){return lt.createElement("th",{...e})}function TF(e){return lt.createElement("tbody",{...e})}function OF(e){const{components:t}=Ah();return lt.createElement(t.Dropdown,{...e})}const DF=Object.freeze(Object.defineProperty({__proto__:null,Button:oF,CaptionLabel:lF,Chevron:cF,Day:uF,DayButton:dF,Dropdown:fF,DropdownNav:hF,Footer:mF,Month:pF,MonthCaption:xF,MonthGrid:gF,Months:vF,MonthsDropdown:bF,Nav:yF,NextMonthButton:wF,Option:NF,PreviousMonthButton:jF,Root:_F,Select:AF,Week:SF,WeekNumber:EF,WeekNumberHeader:kF,Weekday:CF,Weekdays:PF,Weeks:TF,YearsDropdown:OF},Symbol.toStringTag,{value:"Module"}));function Bo(e,t,r=!1,n=mo){let{from:a,to:i}=e;const{differenceInCalendarDays:o,isSameDay:l}=n;return a&&i?(o(i,a)<0&&([a,i]=[i,a]),o(t,a)>=(r?1:0)&&o(i,t)>=(r?1:0)):!r&&i?l(i,t):!r&&a?l(a,t):!1}function fb(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Gp(e){return!!(e&&typeof e=="object"&&"from"in e)}function hb(e){return!!(e&&typeof e=="object"&&"after"in e)}function mb(e){return!!(e&&typeof e=="object"&&"before"in e)}function RS(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function BS(e,t){return Array.isArray(e)&&e.every(t.isDate)}function qo(e,t,r=mo){const n=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:i,isAfter:o}=r;return n.some(l=>{if(typeof l=="boolean")return l;if(r.isDate(l))return a(e,l);if(BS(l,r))return l.some(c=>a(e,c));if(Gp(l))return Bo(l,e,!1,r);if(RS(l))return Array.isArray(l.dayOfWeek)?l.dayOfWeek.includes(e.getDay()):l.dayOfWeek===e.getDay();if(fb(l)){const c=i(l.before,e),u=i(l.after,e),d=c>0,f=u<0;return o(l.before,l.after)?f&&d:d||f}return hb(l)?i(e,l.after)>0:mb(l)?i(l.before,e)>0:typeof l=="function"?l(e):!1})}function IF(e,t,r,n,a){const{disabled:i,hidden:o,modifiers:l,showOutsideDays:c,broadcastCalendar:u,today:d=a.today()}=t,{isSameDay:f,isSameMonth:m,startOfMonth:h,isBefore:g,endOfMonth:p,isAfter:v}=a,b=r&&h(r),j=n&&p(n),A={[tn.focused]:[],[tn.outside]:[],[tn.disabled]:[],[tn.hidden]:[],[tn.today]:[]},_={};for(const k of e){const{date:I,displayMonth:T}=k,M=!!(T&&!m(I,T)),O=!!(b&&g(I,b)),U=!!(j&&v(I,j)),P=!!(i&&qo(I,i,a)),C=!!(o&&qo(I,o,a))||O||U||!u&&!c&&M||u&&c===!1&&M,F=f(I,d);M&&A.outside.push(k),P&&A.disabled.push(k),C&&A.hidden.push(k),F&&A.today.push(k),l&&Object.keys(l).forEach(V=>{const te=l?.[V];te&&qo(I,te,a)&&(_[V]?_[V].push(k):_[V]=[k])})}return k=>{const I={[tn.focused]:!1,[tn.disabled]:!1,[tn.hidden]:!1,[tn.outside]:!1,[tn.today]:!1},T={};for(const M in A){const O=A[M];I[M]=O.some(U=>U===k)}for(const M in _)T[M]=_[M].some(O=>O===k);return{...I,...T}}}function MF(e,t,r={}){return Object.entries(e).filter(([,a])=>a===!0).reduce((a,[i])=>(r[i]?a.push(r[i]):t[tn[i]]?a.push(t[tn[i]]):t[js[i]]&&a.push(t[js[i]]),a),[t[Ot.Day]])}function FF(e){return{...DF,...e}}function LF(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([r,n])=>{r.startsWith("data-")&&(t[r]=n)}),t}function RF(){const e={};for(const t in Ot)e[Ot[t]]=`rdp-${Ot[t]}`;for(const t in tn)e[tn[t]]=`rdp-${tn[t]}`;for(const t in js)e[js[t]]=`rdp-${js[t]}`;for(const t in ki)e[ki[t]]=`rdp-${ki[t]}`;return e}function qS(e,t,r){return(r??new Li(t)).formatMonthYear(e)}const BF=qS;function qF(e,t,r){return(r??new Li(t)).format(e,"d")}function zF(e,t=mo){return t.format(e,"LLLL")}function $F(e,t,r){return(r??new Li(t)).format(e,"cccccc")}function UF(e,t=mo){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function WF(){return""}function zS(e,t=mo){return t.format(e,"yyyy")}const HF=zS,VF=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:qS,formatDay:qF,formatMonthCaption:BF,formatMonthDropdown:zF,formatWeekNumber:UF,formatWeekNumberHeader:WF,formatWeekdayName:$F,formatYearCaption:HF,formatYearDropdown:zS},Symbol.toStringTag,{value:"Module"}));function GF(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...VF,...e}}function pb(e,t,r,n){let a=(n??new Li(r)).format(e,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}const KF=pb;function xb(e,t,r){return(r??new Li(t)).formatMonthYear(e)}const YF=xb;function $S(e,t,r,n){let a=(n??new Li(r)).format(e,"PPPP");return t?.today&&(a=`Today, ${a}`),a}function US(e){return"Choose the Month"}function WS(){return""}const XF="Go to the Next Month";function HS(e,t){return XF}function VS(e){return"Go to the Previous Month"}function GS(e,t,r){return(r??new Li(t)).format(e,"cccc")}function KS(e,t){return`Week ${e}`}function YS(e){return"Week Number"}function XS(e){return"Choose the Year"}const ZF=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:YF,labelDay:KF,labelDayButton:pb,labelGrid:xb,labelGridcell:$S,labelMonthDropdown:US,labelNav:WS,labelNext:HS,labelPrevious:VS,labelWeekNumber:KS,labelWeekNumberHeader:YS,labelWeekday:GS,labelYearDropdown:XS},Symbol.toStringTag,{value:"Module"})),gs=(e,t,r)=>t||(r?typeof r=="function"?r:(...n)=>r:e);function JF(e,t){const r=t.locale?.labels??{};return{...ZF,...e??{},labelDayButton:gs(pb,e?.labelDayButton,r.labelDayButton),labelMonthDropdown:gs(US,e?.labelMonthDropdown,r.labelMonthDropdown),labelNext:gs(HS,e?.labelNext,r.labelNext),labelPrevious:gs(VS,e?.labelPrevious,r.labelPrevious),labelWeekNumber:gs(KS,e?.labelWeekNumber,r.labelWeekNumber),labelYearDropdown:gs(XS,e?.labelYearDropdown,r.labelYearDropdown),labelGrid:gs(xb,e?.labelGrid,r.labelGrid),labelGridcell:gs($S,e?.labelGridcell,r.labelGridcell),labelNav:gs(WS,e?.labelNav,r.labelNav),labelWeekNumberHeader:gs(YS,e?.labelWeekNumberHeader,r.labelWeekNumberHeader),labelWeekday:gs(GS,e?.labelWeekday,r.labelWeekday)}}function QF(e,t,r,n,a){const{startOfMonth:i,startOfYear:o,endOfYear:l,eachMonthOfInterval:c,getMonth:u}=a;return c({start:o(e),end:l(e)}).map(m=>{const h=n.formatMonthDropdown(m,a),g=u(m),p=t&&m<i(t)||r&&m>i(r)||!1;return{value:g,label:h,disabled:p}})}function eL(e,t={},r={}){let n={...t?.[Ot.Day]};return Object.entries(e).filter(([,a])=>a===!0).forEach(([a])=>{n={...n,...r?.[a]}}),n}function tL(e,t,r,n){const a=n??e.today(),i=r?e.startOfBroadcastWeek(a,e):t?e.startOfISOWeek(a):e.startOfWeek(a),o=[];for(let l=0;l<7;l++){const c=e.addDays(i,l);o.push(c)}return o}function rL(e,t,r,n,a=!1){if(!e||!t)return;const{startOfYear:i,endOfYear:o,eachYearOfInterval:l,getYear:c}=n,u=i(e),d=o(t),f=l({start:u,end:d});return a&&f.reverse(),f.map(m=>{const h=r.formatYearDropdown(m,n);return{value:c(m),label:h,disabled:!1}})}const Sh=e=>e instanceof HTMLElement?e:null,yx=e=>[...e.querySelectorAll("[data-animated-month]")??[]],nL=e=>Sh(e.querySelector("[data-animated-month]")),wx=e=>Sh(e.querySelector("[data-animated-caption]")),Nx=e=>Sh(e.querySelector("[data-animated-weeks]")),aL=e=>Sh(e.querySelector("[data-animated-nav]")),iL=e=>Sh(e.querySelector("[data-animated-weekdays]"));function sL(e,t,{classNames:r,months:n,focused:a,dateLib:i}){const o=w.useRef(null),l=w.useRef(n),c=w.useRef(!1);w.useLayoutEffect(()=>{const u=l.current;if(l.current=n,!t||!e.current||!(e.current instanceof HTMLElement)||n.length===0||u.length===0||n.length!==u.length)return;const d=i.isSameMonth(n[0].date,u[0].date),f=i.isAfter(n[0].date,u[0].date),m=f?r[ki.caption_after_enter]:r[ki.caption_before_enter],h=f?r[ki.weeks_after_enter]:r[ki.weeks_before_enter],g=o.current,p=e.current.cloneNode(!0);if(p instanceof HTMLElement?(yx(p).forEach(A=>{if(!(A instanceof HTMLElement))return;const _=nL(A);_&&A.contains(_)&&A.removeChild(_);const k=wx(A);k&&k.classList.remove(m);const I=Nx(A);I&&I.classList.remove(h)}),o.current=p):o.current=null,c.current||d||a)return;const v=g instanceof HTMLElement?yx(g):[],b=yx(e.current);if(b?.every(j=>j instanceof HTMLElement)&&v&&v.every(j=>j instanceof HTMLElement)){c.current=!0,e.current.style.isolation="isolate";const j=aL(e.current);j&&(j.style.zIndex="1"),b.forEach((A,_)=>{const k=v[_];if(!k)return;A.style.position="relative",A.style.overflow="hidden";const I=wx(A);I&&I.classList.add(m);const T=Nx(A);T&&T.classList.add(h);const M=()=>{c.current=!1,e.current&&(e.current.style.isolation=""),j&&(j.style.zIndex=""),I&&I.classList.remove(m),T&&T.classList.remove(h),A.style.position="",A.style.overflow="",A.contains(k)&&A.removeChild(k)};k.style.pointerEvents="none",k.style.position="absolute",k.style.overflow="hidden",k.setAttribute("aria-hidden","true");const O=iL(k);O&&(O.style.opacity="0");const U=wx(k);U&&(U.classList.add(f?r[ki.caption_before_exit]:r[ki.caption_after_exit]),U.addEventListener("animationend",M));const P=Nx(k);P&&P.classList.add(f?r[ki.weeks_before_exit]:r[ki.weeks_after_exit]),A.insertBefore(k,A.firstChild)})}})}function oL(e,t,r,n){const a=e[0],i=e[e.length-1],{ISOWeek:o,fixedWeeks:l,broadcastCalendar:c}=r??{},{addDays:u,differenceInCalendarDays:d,differenceInCalendarMonths:f,endOfBroadcastWeek:m,endOfISOWeek:h,endOfMonth:g,endOfWeek:p,isAfter:v,startOfBroadcastWeek:b,startOfISOWeek:j,startOfWeek:A}=n,_=c?b(a,n):o?j(a):A(a),k=c?m(i):o?h(g(i)):p(g(i)),I=t&&(c?m(t):o?h(t):p(t)),T=I&&v(k,I)?I:k,M=d(T,_),O=f(i,a)+1,U=[];for(let F=0;F<=M;F++){const V=u(_,F);U.push(V)}const C=(c?35:42)*O;if(l&&U.length<C){const F=C-U.length;for(let V=0;V<F;V++){const te=u(U[U.length-1],1);U.push(te)}}return U}function lL(e){const t=[];return e.reduce((r,n)=>{const a=n.weeks.reduce((i,o)=>i.concat(o.days.slice()),t.slice());return r.concat(a.slice())},t.slice())}function cL(e,t,r,n){const{numberOfMonths:a=1}=r,i=[];for(let o=0;o<a;o++){const l=n.addMonths(e,o);if(t&&l>t)break;i.push(l)}return i}function $w(e,t,r,n){const{month:a,defaultMonth:i,today:o=n.today(),numberOfMonths:l=1}=e;let c=a||i||o;const{differenceInCalendarMonths:u,addMonths:d,startOfMonth:f}=n;if(r&&u(r,c)<l-1){const m=-1*(l-1);c=d(r,m)}return t&&u(c,t)<0&&(c=t),f(c)}function uL(e,t,r,n){const{addDays:a,endOfBroadcastWeek:i,endOfISOWeek:o,endOfMonth:l,endOfWeek:c,getISOWeek:u,getWeek:d,startOfBroadcastWeek:f,startOfISOWeek:m,startOfWeek:h}=n,g=e.reduce((p,v)=>{const b=r.broadcastCalendar?f(v,n):r.ISOWeek?m(v):h(v),j=r.broadcastCalendar?i(v):r.ISOWeek?o(l(v)):c(l(v)),A=t.filter(T=>T>=b&&T<=j),_=r.broadcastCalendar?35:42;if(r.fixedWeeks&&A.length<_){const T=t.filter(M=>{const O=_-A.length;return M>j&&M<=a(j,O)});A.push(...T)}const k=A.reduce((T,M)=>{const O=r.ISOWeek?u(M):d(M),U=T.find(C=>C.weekNumber===O),P=new FS(M,v,n);return U?U.days.push(P):T.push(new sF(O,[P])),T},[]),I=new iF(v,k);return p.push(I),p},[]);return r.reverseMonths?g.reverse():g}function dL(e,t){let{startMonth:r,endMonth:n}=e;const{startOfYear:a,startOfDay:i,startOfMonth:o,endOfMonth:l,addYears:c,endOfYear:u,newDate:d,today:f}=t,{fromYear:m,toYear:h,fromMonth:g,toMonth:p}=e;!r&&g&&(r=g),!r&&m&&(r=t.newDate(m,0,1)),!n&&p&&(n=p),!n&&h&&(n=d(h,11,31));const v=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return r?r=o(r):m?r=d(m,0,1):!r&&v&&(r=a(c(e.today??f(),-100))),n?n=l(n):h?n=d(h,11,31):!n&&v&&(n=u(e.today??f())),[r&&i(r),n&&i(n)]}function fL(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i=1}=r,{startOfMonth:o,addMonths:l,differenceInCalendarMonths:c}=n,u=a?i:1,d=o(e);if(!t)return l(d,u);if(!(c(t,e)<i))return l(d,u)}function hL(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i}=r,{startOfMonth:o,addMonths:l,differenceInCalendarMonths:c}=n,u=a?i??1:1,d=o(e);if(!t)return l(d,-u);if(!(c(d,t)<=0))return l(d,-u)}function mL(e){const t=[];return e.reduce((r,n)=>r.concat(n.weeks.slice()),t.slice())}function Kp(e,t){const[r,n]=w.useState(e);return[t===void 0?r:t,n]}function pL(e,t){const[r,n]=dL(e,t),{startOfMonth:a,endOfMonth:i}=t,o=$w(e,r,n,t),[l,c]=Kp(o,e.month?o:void 0);w.useEffect(()=>{const _=$w(e,r,n,t);c(_)},[e.timeZone]);const{months:u,weeks:d,days:f,previousMonth:m,nextMonth:h}=w.useMemo(()=>{const _=cL(l,n,{numberOfMonths:e.numberOfMonths},t),k=oL(_,e.endMonth?i(e.endMonth):void 0,{ISOWeek:e.ISOWeek,fixedWeeks:e.fixedWeeks,broadcastCalendar:e.broadcastCalendar},t),I=uL(_,k,{broadcastCalendar:e.broadcastCalendar,fixedWeeks:e.fixedWeeks,ISOWeek:e.ISOWeek,reverseMonths:e.reverseMonths},t),T=mL(I),M=lL(I),O=hL(l,r,e,t),U=fL(l,n,e,t);return{months:I,weeks:T,days:M,previousMonth:O,nextMonth:U}},[t,l.getTime(),n?.getTime(),r?.getTime(),e.disableNavigation,e.broadcastCalendar,e.endMonth?.getTime(),e.fixedWeeks,e.ISOWeek,e.numberOfMonths,e.pagedNavigation,e.reverseMonths]),{disableNavigation:g,onMonthChange:p}=e,v=_=>d.some(k=>k.days.some(I=>I.isEqualTo(_))),b=_=>{if(g)return;let k=a(_);r&&k<a(r)&&(k=a(r)),n&&k>a(n)&&(k=a(n)),c(k),p?.(k)};return{months:u,weeks:d,days:f,navStart:r,navEnd:n,previousMonth:m,nextMonth:h,goToMonth:b,goToDay:_=>{v(_)||b(_.date)}}}var Hs;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(Hs||(Hs={}));function Uw(e){return!e[tn.disabled]&&!e[tn.hidden]&&!e[tn.outside]}function xL(e,t,r,n){let a,i=-1;for(const o of e){const l=t(o);Uw(l)&&(l[tn.focused]&&i<Hs.FocusedModifier?(a=o,i=Hs.FocusedModifier):n?.isEqualTo(o)&&i<Hs.LastFocused?(a=o,i=Hs.LastFocused):r(o.date)&&i<Hs.Selected?(a=o,i=Hs.Selected):l[tn.today]&&i<Hs.Today&&(a=o,i=Hs.Today))}return a||(a=e.find(o=>Uw(t(o)))),a}function gL(e,t,r,n,a,i,o){const{ISOWeek:l,broadcastCalendar:c}=i,{addDays:u,addMonths:d,addWeeks:f,addYears:m,endOfBroadcastWeek:h,endOfISOWeek:g,endOfWeek:p,max:v,min:b,startOfBroadcastWeek:j,startOfISOWeek:A,startOfWeek:_}=o;let I={day:u,week:f,month:d,year:m,startOfWeek:T=>c?j(T,o):l?A(T):_(T),endOfWeek:T=>c?h(T):l?g(T):p(T)}[e](r,t==="after"?1:-1);return t==="before"&&n?I=v([n,I]):t==="after"&&a&&(I=b([a,I])),I}function ZS(e,t,r,n,a,i,o,l=0){if(l>365)return;const c=gL(e,t,r.date,n,a,i,o),u=!!(i.disabled&&qo(c,i.disabled,o)),d=!!(i.hidden&&qo(c,i.hidden,o)),f=c,m=new FS(c,f,o);return!u&&!d?m:ZS(e,t,m,n,a,i,o,l+1)}function vL(e,t,r,n,a){const{autoFocus:i}=e,[o,l]=w.useState(),c=xL(t.days,r,n||(()=>!1),o),[u,d]=w.useState(i?c:void 0);return{isFocusTarget:p=>!!c?.isEqualTo(p),setFocused:d,focused:u,blur:()=>{l(u),d(void 0)},moveFocus:(p,v)=>{if(!u)return;const b=ZS(p,v,u,t.navStart,t.navEnd,e,a);b&&(e.disableNavigation&&!t.days.some(A=>A.isEqualTo(b))||(t.goToDay(b),d(b)))}}}function bL(e,t){const{selected:r,required:n,onSelect:a}=e,[i,o]=Kp(r,a?r:void 0),l=a?r:i,{isSameDay:c}=t,u=h=>l?.some(g=>c(g,h))??!1,{min:d,max:f}=e;return{selected:l,select:(h,g,p)=>{let v=[...l??[]];if(u(h)){if(l?.length===d||n&&l?.length===1)return;v=l?.filter(b=>!c(b,h))}else l?.length===f?v=[h]:v=[...v,h];return a||o(v),a?.(v,h,g,p),v},isSelected:u}}function yL(e,t,r=0,n=0,a=!1,i=mo){const{from:o,to:l}=t||{},{isSameDay:c,isAfter:u,isBefore:d}=i;let f;if(!o&&!l)f={from:e,to:r>0?void 0:e};else if(o&&!l)c(o,e)?r===0?f={from:o,to:e}:a?f={from:o,to:void 0}:f=void 0:d(e,o)?f={from:e,to:o}:f={from:o,to:e};else if(o&&l)if(c(o,e)&&c(l,e))a?f={from:o,to:l}:f=void 0;else if(c(o,e))f={from:o,to:r>0?void 0:e};else if(c(l,e))f={from:e,to:r>0?void 0:e};else if(d(e,o))f={from:e,to:l};else if(u(e,o))f={from:o,to:e};else if(u(e,l))f={from:o,to:e};else throw new Error("Invalid range");if(f?.from&&f?.to){const m=i.differenceInCalendarDays(f.to,f.from);n>0&&m>n?f={from:e,to:void 0}:r>1&&m<r&&(f={from:e,to:void 0})}return f}function wL(e,t,r=mo){const n=Array.isArray(t)?t:[t];let a=e.from;const i=r.differenceInCalendarDays(e.to,e.from),o=Math.min(i,6);for(let l=0;l<=o;l++){if(n.includes(a.getDay()))return!0;a=r.addDays(a,1)}return!1}function Ww(e,t,r=mo){return Bo(e,t.from,!1,r)||Bo(e,t.to,!1,r)||Bo(t,e.from,!1,r)||Bo(t,e.to,!1,r)}function NL(e,t,r=mo){const n=Array.isArray(t)?t:[t];if(n.filter(l=>typeof l!="function").some(l=>typeof l=="boolean"?l:r.isDate(l)?Bo(e,l,!1,r):BS(l,r)?l.some(c=>Bo(e,c,!1,r)):Gp(l)?l.from&&l.to?Ww(e,{from:l.from,to:l.to},r):!1:RS(l)?wL(e,l.dayOfWeek,r):fb(l)?r.isAfter(l.before,l.after)?Ww(e,{from:r.addDays(l.after,1),to:r.addDays(l.before,-1)},r):qo(e.from,l,r)||qo(e.to,l,r):hb(l)||mb(l)?qo(e.from,l,r)||qo(e.to,l,r):!1))return!0;const o=n.filter(l=>typeof l=="function");if(o.length){let l=e.from;const c=r.differenceInCalendarDays(e.to,e.from);for(let u=0;u<=c;u++){if(o.some(d=>d(l)))return!0;l=r.addDays(l,1)}}return!1}function jL(e,t){const{disabled:r,excludeDisabled:n,selected:a,required:i,onSelect:o}=e,[l,c]=Kp(a,o?a:void 0),u=o?a:l;return{selected:u,select:(m,h,g)=>{const{min:p,max:v}=e,b=m?yL(m,u,p,v,i,t):void 0;return n&&r&&b?.from&&b.to&&NL({from:b.from,to:b.to},r,t)&&(b.from=m,b.to=void 0),o||c(b),o?.(b,m,h,g),b},isSelected:m=>u&&Bo(u,m,!1,t)}}function _L(e,t){const{selected:r,required:n,onSelect:a}=e,[i,o]=Kp(r,a?r:void 0),l=a?r:i,{isSameDay:c}=t;return{selected:l,select:(f,m,h)=>{let g=f;return!n&&l&&l&&c(f,l)&&(g=void 0),a||o(g),a?.(g,f,m,h),g},isSelected:f=>l?c(l,f):!1}}function AL(e,t){const r=_L(e,t),n=bL(e,t),a=jL(e,t);switch(e.mode){case"single":return r;case"multiple":return n;case"range":return a;default:return}}function Na(e,t){return e instanceof Ro&&e.timeZone===t?e:new Ro(e,t)}function Hw(e,t){return typeof e=="boolean"||typeof e=="function"?e:e instanceof Date?Na(e,t):Array.isArray(e)?e.map(r=>r instanceof Date?Na(r,t):r):Gp(e)?{...e,from:e.from?Na(e.from,t):e.from,to:e.to?Na(e.to,t):e.to}:fb(e)?{before:Na(e.before,t),after:Na(e.after,t)}:hb(e)?{after:Na(e.after,t)}:mb(e)?{before:Na(e.before,t)}:e}function jx(e,t){return e&&(Array.isArray(e)?e.map(r=>Hw(r,t)):Hw(e,t))}function SL(e){let t=e;const r=t.timeZone;if(r&&(t={...e,timeZone:r},t.today&&(t.today=Na(t.today,r)),t.month&&(t.month=Na(t.month,r)),t.defaultMonth&&(t.defaultMonth=Na(t.defaultMonth,r)),t.startMonth&&(t.startMonth=Na(t.startMonth,r)),t.endMonth&&(t.endMonth=Na(t.endMonth,r)),t.mode==="single"&&t.selected?t.selected=Na(t.selected,r):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(Ke=>Na(Ke,r)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?Na(t.selected.from,r):t.selected.from,to:t.selected.to?Na(t.selected.to,r):t.selected.to}),t.disabled!==void 0&&(t.disabled=jx(t.disabled,r)),t.hidden!==void 0&&(t.hidden=jx(t.hidden,r)),t.modifiers)){const Ke={};Object.keys(t.modifiers).forEach(at=>{Ke[at]=jx(t.modifiers?.[at],r)}),t.modifiers=Ke}const{components:n,formatters:a,labels:i,dateLib:o,locale:l,classNames:c}=w.useMemo(()=>{const Ke={...MS,...t.locale},at=new Li({locale:Ke,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib);return{dateLib:at,components:FF(t.components),formatters:GF(t.formatters),labels:JF(t.labels,at.options),locale:Ke,classNames:{...RF(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]);t.today||(t={...t,today:o.today()});const{captionLayout:u,mode:d,navLayout:f,numberOfMonths:m=1,onDayBlur:h,onDayClick:g,onDayFocus:p,onDayKeyDown:v,onDayMouseEnter:b,onDayMouseLeave:j,onNextClick:A,onPrevClick:_,showWeekNumber:k,styles:I}=t,{formatCaption:T,formatDay:M,formatMonthDropdown:O,formatWeekNumber:U,formatWeekNumberHeader:P,formatWeekdayName:C,formatYearDropdown:F}=a,V=pL(t,o),{days:te,months:de,navStart:me,navEnd:ue,previousMonth:he,nextMonth:Ne,goToMonth:Ee}=V,E=IF(te,t,me,ue,o),{isSelected:R,select:L,selected:z}=AL(t,o)??{},{blur:J,focused:le,isFocusTarget:xe,moveFocus:Q,setFocused:ce}=vL(t,V,E,R??(()=>!1),o),{labelDayButton:je,labelGridcell:pe,labelGrid:ze,labelMonthDropdown:Te,labelNav:Y,labelPrevious:qe,labelNext:Oe,labelWeekday:et,labelWeekNumber:Re,labelWeekNumberHeader:Nt,labelYearDropdown:ot}=i,kt=w.useMemo(()=>tL(o,t.ISOWeek,t.broadcastCalendar,t.today),[o,t.ISOWeek,t.broadcastCalendar,t.today]),jt=d!==void 0||g!==void 0,qt=w.useCallback(()=>{he&&(Ee(he),_?.(he))},[he,Ee,_]),zt=w.useCallback(()=>{Ne&&(Ee(Ne),A?.(Ne))},[Ee,Ne,A]),It=w.useCallback((Ke,at)=>ut=>{ut.preventDefault(),ut.stopPropagation(),ce(Ke),!at.disabled&&(L?.(Ke.date,at,ut),g?.(Ke.date,at,ut))},[L,g,ce]),Kt=w.useCallback((Ke,at)=>ut=>{ce(Ke),p?.(Ke.date,at,ut)},[p,ce]),Rt=w.useCallback((Ke,at)=>ut=>{J(),h?.(Ke.date,at,ut)},[J,h]),vt=w.useCallback((Ke,at)=>ut=>{const ct={ArrowLeft:[ut.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[ut.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[ut.shiftKey?"year":"week","after"],ArrowUp:[ut.shiftKey?"year":"week","before"],PageUp:[ut.shiftKey?"year":"month","before"],PageDown:[ut.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(ct[ut.key]){ut.preventDefault(),ut.stopPropagation();const[ft,dt]=ct[ut.key];Q(ft,dt)}v?.(Ke.date,at,ut)},[Q,v,t.dir]),Ft=w.useCallback((Ke,at)=>ut=>{b?.(Ke.date,at,ut)},[b]),wt=w.useCallback((Ke,at)=>ut=>{j?.(Ke.date,at,ut)},[j]),Rr=w.useCallback(Ke=>at=>{const ut=Number(at.target.value),ct=o.setMonth(o.startOfMonth(Ke),ut);Ee(ct)},[o,Ee]),Qt=w.useCallback(Ke=>at=>{const ut=Number(at.target.value),ct=o.setYear(o.startOfMonth(Ke),ut);Ee(ct)},[o,Ee]),{className:Ut,style:Wt}=w.useMemo(()=>({className:[c[Ot.Root],t.className].filter(Boolean).join(" "),style:{...I?.[Ot.Root],...t.style}}),[c,t.className,t.style,I]),Ar=LF(t),Pt=w.useRef(null);sL(Pt,!!t.animate,{classNames:c,months:de,focused:le,dateLib:o});const hr={dayPickerProps:t,selected:z,select:L,isSelected:R,months:de,nextMonth:Ne,previousMonth:he,goToMonth:Ee,getModifiers:E,components:n,classNames:c,styles:I,labels:i,formatters:a};return lt.createElement(LS.Provider,{value:hr},lt.createElement(n.Root,{rootRef:t.animate?Pt:void 0,className:Ut,style:Wt,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...Ar},lt.createElement(n.Months,{className:c[Ot.Months],style:I?.[Ot.Months]},!t.hideNavigation&&!f&&lt.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[Ot.Nav],style:I?.[Ot.Nav],"aria-label":Y(),onPreviousClick:qt,onNextClick:zt,previousMonth:he,nextMonth:Ne}),de.map((Ke,at)=>lt.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:c[Ot.Month],style:I?.[Ot.Month],key:at,displayIndex:at,calendarMonth:Ke},f==="around"&&!t.hideNavigation&&at===0&&lt.createElement(n.PreviousMonthButton,{type:"button",className:c[Ot.PreviousMonthButton],tabIndex:he?void 0:-1,"aria-disabled":he?void 0:!0,"aria-label":qe(he),onClick:qt,"data-animated-button":t.animate?"true":void 0},lt.createElement(n.Chevron,{disabled:he?void 0:!0,className:c[Ot.Chevron],orientation:t.dir==="rtl"?"right":"left"})),lt.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:c[Ot.MonthCaption],style:I?.[Ot.MonthCaption],calendarMonth:Ke,displayIndex:at},u?.startsWith("dropdown")?lt.createElement(n.DropdownNav,{className:c[Ot.Dropdowns],style:I?.[Ot.Dropdowns]},(()=>{const ut=u==="dropdown"||u==="dropdown-months"?lt.createElement(n.MonthsDropdown,{key:"month",className:c[Ot.MonthsDropdown],"aria-label":Te(),classNames:c,components:n,disabled:!!t.disableNavigation,onChange:Rr(Ke.date),options:QF(Ke.date,me,ue,a,o),style:I?.[Ot.Dropdown],value:o.getMonth(Ke.date)}):lt.createElement("span",{key:"month"},O(Ke.date,o)),ct=u==="dropdown"||u==="dropdown-years"?lt.createElement(n.YearsDropdown,{key:"year",className:c[Ot.YearsDropdown],"aria-label":ot(o.options),classNames:c,components:n,disabled:!!t.disableNavigation,onChange:Qt(Ke.date),options:rL(me,ue,a,o,!!t.reverseYears),style:I?.[Ot.Dropdown],value:o.getYear(Ke.date)}):lt.createElement("span",{key:"year"},F(Ke.date,o));return o.getMonthYearOrder()==="year-first"?[ct,ut]:[ut,ct]})(),lt.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},T(Ke.date,o.options,o))):lt.createElement(n.CaptionLabel,{className:c[Ot.CaptionLabel],role:"status","aria-live":"polite"},T(Ke.date,o.options,o))),f==="around"&&!t.hideNavigation&&at===m-1&&lt.createElement(n.NextMonthButton,{type:"button",className:c[Ot.NextMonthButton],tabIndex:Ne?void 0:-1,"aria-disabled":Ne?void 0:!0,"aria-label":Oe(Ne),onClick:zt,"data-animated-button":t.animate?"true":void 0},lt.createElement(n.Chevron,{disabled:Ne?void 0:!0,className:c[Ot.Chevron],orientation:t.dir==="rtl"?"left":"right"})),at===m-1&&f==="after"&&!t.hideNavigation&&lt.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[Ot.Nav],style:I?.[Ot.Nav],"aria-label":Y(),onPreviousClick:qt,onNextClick:zt,previousMonth:he,nextMonth:Ne}),lt.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":ze(Ke.date,o.options,o)||void 0,className:c[Ot.MonthGrid],style:I?.[Ot.MonthGrid]},!t.hideWeekdays&&lt.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:c[Ot.Weekdays],style:I?.[Ot.Weekdays]},k&&lt.createElement(n.WeekNumberHeader,{"aria-label":Nt(o.options),className:c[Ot.WeekNumberHeader],style:I?.[Ot.WeekNumberHeader],scope:"col"},P()),kt.map(ut=>lt.createElement(n.Weekday,{"aria-label":et(ut,o.options,o),className:c[Ot.Weekday],key:String(ut),style:I?.[Ot.Weekday],scope:"col"},C(ut,o.options,o)))),lt.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:c[Ot.Weeks],style:I?.[Ot.Weeks]},Ke.weeks.map(ut=>lt.createElement(n.Week,{className:c[Ot.Week],key:ut.weekNumber,style:I?.[Ot.Week],week:ut},k&&lt.createElement(n.WeekNumber,{week:ut,style:I?.[Ot.WeekNumber],"aria-label":Re(ut.weekNumber,{locale:l}),className:c[Ot.WeekNumber],scope:"row",role:"rowheader"},U(ut.weekNumber,o)),ut.days.map(ct=>{const{date:ft}=ct,dt=E(ct);if(dt[tn.focused]=!dt.hidden&&!!le?.isEqualTo(ct),dt[js.selected]=R?.(ft)||dt.selected,Gp(z)){const{from:Pa,to:Tt}=z;dt[js.range_start]=!!(Pa&&Tt&&o.isSameDay(ft,Pa)),dt[js.range_end]=!!(Pa&&Tt&&o.isSameDay(ft,Tt)),dt[js.range_middle]=Bo(z,ft,!0,o)}const ls=eL(dt,I,t.modifiersStyles),Cn=MF(dt,c,t.modifiersClassNames),bi=!jt&&!dt.hidden?pe(ft,dt,o.options,o):void 0;return lt.createElement(n.Day,{key:`${ct.isoDate}_${ct.displayMonthId}`,day:ct,modifiers:dt,className:Cn.join(" "),style:ls,role:"gridcell","aria-selected":dt.selected||void 0,"aria-label":bi,"data-day":ct.isoDate,"data-month":ct.outside?ct.dateMonthId:void 0,"data-selected":dt.selected||void 0,"data-disabled":dt.disabled||void 0,"data-hidden":dt.hidden||void 0,"data-outside":ct.outside||void 0,"data-focused":dt.focused||void 0,"data-today":dt.today||void 0},!dt.hidden&&jt?lt.createElement(n.DayButton,{className:c[Ot.DayButton],style:I?.[Ot.DayButton],type:"button",day:ct,modifiers:dt,disabled:!dt.focused&&dt.disabled||void 0,"aria-disabled":dt.focused&&dt.disabled||void 0,tabIndex:xe(ct)?0:-1,"aria-label":je(ft,dt,o.options,o),onClick:It(ct,dt),onBlur:Rt(ct,dt),onFocus:Kt(ct,dt),onKeyDown:vt(ct,dt),onMouseEnter:Ft(ct,dt),onMouseLeave:wt(ct,dt)},M(ft,o.options,o)):!dt.hidden&&M(ct.date,o.options,o))})))))))),t.footer&&lt.createElement(n.Footer,{className:c[Ot.Footer],style:I?.[Ot.Footer],role:"status","aria-live":"polite"},t.footer)))}function Ru(...e){return K6(ir(e))}function JS({className:e,showOutsideDays:t=!0,enabledDates:r,fromDate:n,toDate:a,selected:i,onSelect:o,defaultMonth:l}){const c=r?f=>!r.some(h=>h.getFullYear()===f.getFullYear()&&h.getMonth()===f.getMonth()&&h.getDate()===f.getDate()):void 0,u={months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",month_caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium text-[#f9fafb]",nav:"flex items-center gap-1",button_previous:Ru("absolute left-1 size-7 bg-transparent p-0 opacity-50 hover:opacity-100","text-[#d1d5db] hover:text-[#f9fafb] transition-colors"),button_next:Ru("absolute right-1 size-7 bg-transparent p-0 opacity-50 hover:opacity-100","text-[#d1d5db] hover:text-[#f9fafb] transition-colors"),month_grid:"w-full border-collapse space-x-1",weekdays:"flex",weekday:"text-[#6b7280] rounded-md w-8 font-normal text-[0.8rem]",week:"flex w-full mt-2",day:Ru("relative p-0 text-center text-sm focus-within:relative focus-within:z-20","[&:has([aria-selected])]:bg-[rgba(201,52,72,0.2)] [&:has([aria-selected])]:rounded-md"),day_button:Ru("size-8 p-0 font-normal","text-[#d1d5db] hover:text-[#f9fafb]","hover:bg-[rgba(255,255,255,0.1)] rounded-md transition-colors","aria-selected:opacity-100"),selected:Ru("bg-[#c93448] text-[#f9fafb]","hover:bg-[#c93448] hover:text-[#f9fafb]","focus:bg-[#c93448] focus:text-[#f9fafb]","rounded-md"),today:"bg-[rgba(255,255,255,0.1)] text-[#f9fafb] rounded-md",outside:"text-[#6b7280] opacity-50",disabled:"text-[#6b7280] opacity-30 cursor-not-allowed hover:bg-transparent",hidden:"invisible"},d=({orientation:f})=>f==="left"?s.jsx(ab,{className:"size-4"}):s.jsx(ec,{className:"size-4"});return s.jsx(SL,{mode:"single",selected:i,onSelect:o,showOutsideDays:t,defaultMonth:l,className:Ru("p-3",e),classNames:u,components:{Chevron:d},disabled:c,startMonth:n,endMonth:a})}function Ch({text:e,orientation:t="vertical",position:r="right",size:n=320,opacity:a=.4}){const i={vertical:{left:"left-[10%] top-1/2 -translate-y-1/2",right:"right-[10%] top-1/2 -translate-y-1/2",center:"left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"},horizontal:{left:"left-0 bottom-0",right:"right-0 bottom-0",center:"left-1/2 bottom-0 -translate-x-1/2"}};return s.jsx("div",{className:`absolute pointer-events-none overflow-hidden ${i[t][r]}`,children:s.jsx("h1",{className:"text-[#1a1a1d] select-none",style:{fontSize:`${n}px`,fontWeight:700,lineHeight:"0.9",letterSpacing:"-0.04em",writingMode:t==="vertical"?"vertical-rl":"horizontal-tb",textOrientation:"mixed",opacity:a},children:e})})}function no({size:e="w-32 h-32",position:t,color:r="primary",delay:n="0s"}){const a={primary:{bg:"bg-[rgba(201,52,72,0.08)]",border:"border-[rgba(201,52,72,0.2)]",shadow:"shadow-[0_0_80px_rgba(201,52,72,0.3)]"},secondary:{bg:"bg-[rgba(124,90,248,0.08)]",border:"border-[rgba(124,90,248,0.2)]",shadow:"shadow-[0_0_80px_rgba(124,90,248,0.3)]"},success:{bg:"bg-[rgba(52,211,153,0.08)]",border:"border-[rgba(52,211,153,0.2)]",shadow:"shadow-[0_0_80px_rgba(52,211,153,0.3)]"}};return s.jsx("div",{className:`absolute ${t||""} ${e} rounded-full backdrop-blur-3xl ${a[r].bg} border ${a[r].border} animate-pulse-slow ${a[r].shadow}`,style:{animationDelay:n}})}function ei({position:e,color:t="#c93448",size:r="w-3 h-3",delay:n="0s"}){return s.jsx("div",{className:`absolute ${e} ${r} rounded-full opacity-40 blur-[1px] animate-float-slow`,style:{backgroundColor:t,animationDelay:n}})}function Ph(){return s.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-20px); }
      }
      
      @keyframes float-slow {
        0%, 100% { transform: translateY(0px) translateX(0px); }
        50% { transform: translateY(-15px) translateX(10px); }
      }
      
      @keyframes pulse-slow {
        0%, 100% { opacity: 0.4; transform: scale(1); }
        50% { opacity: 0.6; transform: scale(1.05); }
      }
      
      @keyframes ping-slow {
        0% { transform: scale(1); opacity: 0.8; }
        100% { transform: scale(1.3); opacity: 0; }
      }
      
      @keyframes slide-in {
        from { opacity: 0; transform: translateY(-10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      
      @keyframes shine {
        from { transform: translateX(-100%); }
        to { transform: translateX(100%); }
      }
      
      .animate-float {
        animation: float 3s ease-in-out infinite;
      }
      
      .animate-float-slow {
        animation: float-slow 6s ease-in-out infinite;
      }
      
      .animate-pulse-slow {
        animation: pulse-slow 4s ease-in-out infinite;
      }
      
      .animate-ping-slow {
        animation: ping-slow 3s cubic-bezier(0, 0, 0.2, 1) infinite;
      }
      
      .animate-slide-in {
        animation: slide-in 0.5s ease-out;
      }
    `})}const Om={all:["userDetail"],alumno:e=>[...Om.all,"alumno",e],profesor:e=>[...Om.all,"profesor",e]};function CL(e,t=!0){return dr({queryKey:Om.alumno(e||""),queryFn:async()=>{if(!e)throw new Error("ID de alumno requerido");return(await Dt.get(`/api/alumnos/${e}/detail`)).data},enabled:t&&!!e,staleTime:120*1e3,retry:1})}function PL(e,t=!0){return dr({queryKey:Om.profesor(e||""),queryFn:async()=>{if(!e)throw new Error("ID de profesor requerido");return(await Dt.get(`/api/profesores/${e}/detail`)).data},enabled:t&&!!e,staleTime:120*1e3,retry:1})}function Dm(e){return e.substring(0,5)}function QS(e,t){const[r,n]=e.split(":").map(Number),[a,i]=t.split(":").map(Number),o=a*60+i-(r*60+n),l=Math.floor(o/60),c=o%60;return l>0&&c>0?`${l}h ${c}min`:l>0?`${l}h`:`${c}min`}function eC(e){switch(e){case"hoy":return"error";case"programada":return"info";case"completada":return"success";case"cancelada":return"none";default:return"info"}}function tC(e){switch(e){case"hoy":return"Hoy";case"programada":return"Programada";case"completada":return"Completada";case"cancelada":return"Cancelada";default:return e}}function Hv(e,t){return t===0?0:Math.min(100,Math.round(e/t*100))}function rC(e){return e>=90?"bg-red-500":e>=70?"bg-yellow-500":"bg-emerald-500"}function EL({clase:e,estado:t,nombreProfesor:r,onEdit:n,onCancel:a,onComplete:i,onViewDetail:o,isLoading:l=!1}){const c=ii(),u=Hv(e.totalAsistencias,e.cupoMaximo),d=t==="hoy"||t==="programada",f=t==="hoy"||t==="programada",m=t!=="cancelada",h=e.estado!=="Completada"&&e.estado!=="Cancelada",g=()=>{c(`/admin/attendance?claseId=${e.idClase}`)},p=t==="cancelada"?"opacity-60":"";return l?s.jsx(Ye,{className:`p-4 ${p}`,children:s.jsxs("div",{className:"animate-pulse space-y-3",children:[s.jsx("div",{className:"h-4 bg-white/10 rounded w-1/3"}),s.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"}),s.jsx("div",{className:"h-2 bg-white/10 rounded w-full"})]})}):s.jsxs(Ye,{hover:d,className:`p-4 min-w-[380px] ${p}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:e.tipoClase}),r&&s.jsx("p",{className:"text-sm text-gray-400",children:r})]}),s.jsx(di,{variant:eC(t),shape:"pill",children:tC(t)})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-300 mb-3",children:[s.jsx(kr,{className:"w-4 h-4 text-gray-400"}),s.jsxs("span",{className:"text-sm",children:[Dm(e.horaInicio)," - ",Dm(e.horaFin)]}),s.jsxs("span",{className:"text-xs text-gray-500",children:["(",QS(e.horaInicio,e.horaFin),")"]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[s.jsx(Zn,{className:"w-4 h-4 text-gray-400"}),s.jsxs("span",{className:"text-sm",children:[e.totalAsistencias," / ",e.cupoMaximo]})]}),s.jsxs("span",{className:"text-xs text-gray-500",children:[u,"%"]})]}),s.jsx("div",{className:"h-1.5 bg-white/10 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${rC(u)} transition-all duration-300`,style:{width:`${u}%`}})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[o&&s.jsx(nt,{variant:"ghost",size:"sm",onClick:()=>o(e.idClase),className:"text-xs",children:"Ver Detalle"}),m&&s.jsxs(nt,{variant:"secondary",size:"sm",onClick:g,className:"text-xs flex items-center gap-1",children:[s.jsx("span",{children:"Ir a Asistencia"}),s.jsx(Pd,{className:"w-3 h-3"})]}),s.jsx("div",{className:"flex-1"}),h&&i&&s.jsxs(nt,{variant:"secondary",size:"sm",onClick:()=>i(e.idClase),title:"Completar clase y generar pagos",className:"text-xs flex items-center gap-1 !bg-emerald-500/20 !border-emerald-500/40 hover:!bg-emerald-500/30",children:[s.jsx(As,{className:"w-3 h-3"}),s.jsx("span",{children:"Completar"})]}),d&&n&&s.jsx(nt,{variant:"icon",onClick:()=>n(e.idClase),title:"Editar clase",className:"!p-2",children:s.jsx(cb,{className:"w-4 h-4"})}),f&&a&&s.jsx(nt,{variant:"icon",onClick:()=>a(e.idClase),title:"Cancelar clase",className:"!p-2 hover:!bg-red-500/20 hover:!border-red-500/40",children:s.jsx($r,{className:"w-4 h-4"})})]})]})}function kL(e){const t=ho(),r=e.split("T")[0];return r===t?"hoy":r<t?"completada":"programada"}function nC(e){return new Date(e).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}function TL(e,t){const r=Dm(e),n=Dm(t),a=QS(e,t);return`${r} - ${n} (${a})`}function gb({idClase:e,isOpen:t,onClose:r,estado:n}){const a=ii(),{data:i,isLoading:o,error:l}=tb(e||"",t&&!!e);if(w.useEffect(()=>{t&&window.scrollTo({top:0,behavior:"smooth"})},[t]),!t)return null;const c=n||(i?kL(i.fecha):"programada"),u=()=>{e&&(a(`/profesor/attendance?claseId=${e}`),r())},d=c!=="cancelada";return s.jsxs("div",{className:"absolute inset-0 z-[100] flex items-start justify-center pt-20 px-4 pb-8 overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm -z-10",onClick:r}),s.jsxs(Ye,{className:"relative z-10 w-full max-w-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Detalle de Clase"}),s.jsx(nt,{variant:"icon",onClick:r,className:"!p-2",children:s.jsx($r,{className:"w-5 h-5"})})]}),o&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ge,{className:"h-8 w-1/3"}),s.jsx(Ge,{className:"h-6 w-full"}),s.jsx(Ge,{className:"h-6 w-2/3"}),s.jsx(Ge,{className:"h-6 w-1/2"}),s.jsx(Ge,{className:"h-20 w-full"})]}),l&&s.jsx("div",{className:"p-4 rounded-lg bg-red-500/20 border border-red-500/40 text-red-300",children:s.jsx("p",{className:"text-sm",children:l?.response?.status===404?"La clase especificada no existe":"Error al cargar los detalles de la clase"})}),i&&!o&&s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h3",{className:"text-2xl font-bold text-white",children:i.tipoClase}),s.jsx(di,{variant:eC(c),shape:"pill",children:tC(c)})]}),s.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[s.jsx(St,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"capitalize",children:nC(i.fecha)})]}),s.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[s.jsx(kr,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),s.jsx("span",{children:TL(i.horaInicio,i.horaFin)})]}),i.profesores&&i.profesores.length>0?s.jsxs("div",{className:"flex items-start gap-3 text-gray-300",children:[s.jsx(Zn,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Profesores:"}),s.jsx("ul",{className:"mt-2 space-y-2",children:i.profesores.map(f=>s.jsx("li",{className:"flex items-start gap-2",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-200 font-medium",children:f.nombreProfesor}),s.jsx("div",{className:"text-sm text-gray-400",children:f.rolEnClase==="Principal"?"👨‍🏫 Profesor Principal":"🎓 Monitor"})]})},f.idProfesor))})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[s.jsx(Jn,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-200",children:i.nombreProfesor}),s.jsx("div",{className:"text-sm text-gray-400",children:"👨‍🏫 Profesor Principal"})]})]}),i.monitores&&i.monitores.length>0&&s.jsxs("div",{className:"flex items-start gap-3 text-gray-300",children:[s.jsx(Zn,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Monitores:"}),s.jsx("ul",{className:"mt-1 space-y-1",children:i.monitores.map(f=>s.jsx("li",{className:"text-gray-300",children:f.nombreProfesor},f.idProfesor))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[s.jsx(Zn,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),s.jsxs("span",{children:["Inscriptos: ",i.totalAsistencias," / ",i.cupoMaximo]})]}),s.jsx("div",{className:"ml-8",children:s.jsx("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${rC(Hv(i.totalAsistencias,i.cupoMaximo))} transition-all duration-300`,style:{width:`${Hv(i.totalAsistencias,i.cupoMaximo)}%`}})})})]}),i.observaciones&&s.jsxs("div",{className:"flex items-start gap-3 text-gray-300",children:[s.jsx(to,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Observaciones:"}),s.jsx("p",{className:"mt-1 text-gray-300",children:i.observaciones})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-white/10",children:[s.jsx(nt,{variant:"secondary",onClick:r,children:"Cerrar"}),d&&s.jsxs(nt,{variant:"primary",onClick:u,className:"flex items-center gap-2",children:[s.jsx("span",{children:"Ir a Asistencia"}),s.jsx(Pd,{className:"w-4 h-4"})]})]})]})]})]})}function vb(e){const t=new Date;t.setHours(0,0,0,0);const r=new Date(e.split("T")[0]);return r.setHours(0,0,0,0),r.getTime()===t.getTime()}function OL(e){const t=new Date;t.setDate(t.getDate()+1),t.setHours(0,0,0,0);const r=new Date(e.split("T")[0]);return r.setHours(0,0,0,0),r.getTime()===t.getTime()}function Yp(e){return new Date(e).toLocaleDateString("es-ES",{weekday:"long"})}function kd(e,t=!1){if(vb(e))return"Hoy";if(OL(e))return"Mañana";const r=new Date(e),n={weekday:"long",day:"numeric",month:"long"};return t&&(n.year="numeric"),r.toLocaleDateString("es-ES",n)}function aC(e){const r=new Date(e).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return r.charAt(0).toUpperCase()+r.slice(1)}function hi(e){return e.substring(0,5)}function iC(e,t){const[r,n]=e.split(":").map(Number),[a,i]=t.split(":").map(Number),o=a*60+i-(r*60+n),l=Math.floor(o/60),c=o%60;return l>0&&c>0?`${l}h ${c}min`:l>0?`${l}h`:`${c}min`}function sC(){return new Date().toISOString().split("T")[0]}function oC(e,t){const r=new Date,n=r.getHours()*60+r.getMinutes(),[a,i]=e.split(":").map(Number),[o,l]=t.split(":").map(Number),c=a*60+i,u=o*60+l;return n>=c&&n<=u}function DL(e,t){const r=new Date,[n,a]=t.split(":").map(Number),i=new Date(e.split("T")[0]);i.setHours(n,a,0,0);const o=i.getTime()-r.getTime();return Math.floor(o/(1e3*60))}function IL(e){switch(e){case"en_curso":return"error";case"programada":return"info";case"finalizada":return"success";case"cancelada":return"none";default:return"info"}}function ML(e){switch(e){case"en_curso":return"En curso";case"programada":return"Programada";case"finalizada":return"Finalizada";case"cancelada":return"Cancelada";default:return e}}function FL({clase:e,onViewDetail:t,isLoading:r=!1}){const n=ii(),a=e.estado==="en_curso",i=e.estado==="cancelada",o=()=>{n(`/profesor/attendance?claseId=${e.id}`)};return r?s.jsx(Ye,{className:"p-5",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-5 bg-white/10 rounded w-2/3"}),s.jsx("div",{className:"h-4 bg-white/10 rounded w-1/2"}),s.jsx("div",{className:"h-3 bg-white/10 rounded w-full"}),s.jsx("div",{className:"h-10 bg-white/10 rounded w-full"})]})}):s.jsxs(Ye,{hover:!i,className:`p-5 ${i?"opacity-60":""} ${a?"ring-2 ring-[#c93448]/50":""}`,children:[e.alerta&&s.jsxs("div",{className:"mb-4 p-3 rounded-xl bg-yellow-500/10 border border-yellow-500/30 flex items-start gap-3",children:[s.jsx($p,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-yellow-300 text-sm font-medium",children:[e.alerta.tipo==="cambio_horario"&&"Cambio de horario",e.alerta.tipo==="cancelada"&&"Clase cancelada",e.alerta.tipo==="baja_asistencia"&&"Baja asistencia"]}),s.jsx("p",{className:"text-yellow-200/70 text-xs mt-0.5",children:e.alerta.mensaje})]})]}),s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-1",children:e.nombre}),s.jsx("p",{className:"text-sm text-gray-400",children:e.tipo})]}),s.jsxs(di,{variant:IL(e.estado),shape:"pill",className:a?"flex items-center gap-1.5":"",children:[a&&s.jsx(Hc,{className:"w-3.5 h-3.5"}),ML(e.estado)]})]}),s.jsxs("div",{className:"space-y-3 mb-5",children:[s.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[s.jsx(kr,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),s.jsxs("span",{className:"text-sm",children:[hi(e.horaInicio)," - ",hi(e.horaFin),s.jsxs("span",{className:"text-gray-500 ml-2",children:["(",iC(e.horaInicio,e.horaFin),")"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[s.jsx(nb,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:e.ubicacion})]}),s.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[s.jsx(Zn,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),s.jsxs("span",{className:"text-sm",children:[e.inscriptos," / ",e.capacidad," inscriptos"]})]})]}),e.observaciones&&s.jsxs("div",{className:"mb-5 p-3 rounded-xl bg-white/5 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Observaciones"}),s.jsx("p",{className:"text-gray-300 text-sm",children:e.observaciones})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[!i&&s.jsxs(nt,{variant:"primary",size:"sm",onClick:o,className:"flex-1 flex items-center justify-center gap-2",children:[s.jsx("span",{children:"Ir a Asistencia"}),s.jsx(Pd,{className:"w-4 h-4"})]}),t&&s.jsxs(nt,{variant:"secondary",size:"sm",onClick:()=>t(e),className:"flex items-center gap-2",children:[s.jsx(du,{className:"w-4 h-4"}),s.jsx("span",{children:"Ver Detalle"})]})]})]})}function LL(e){switch(e){case"en_curso":return"error";case"programada":return"info";case"finalizada":return"success";case"cancelada":return"none";case"reprogramada":return"warning";default:return"info"}}function RL(e){switch(e){case"en_curso":return"En curso";case"programada":return"Confirmada";case"finalizada":return"Finalizada";case"cancelada":return"Cancelada";case"reprogramada":return"Reprogramada";default:return e}}function BL({clase:e,onViewDetail:t,onReprogramar:r,isLoading:n=!1}){const a=e.estado==="cancelada",i=e.minutosParaInicio!==void 0&&e.minutosParaInicio<=30&&e.minutosParaInicio>0;return n?s.jsx(Ye,{className:"p-5",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-5 bg-white/10 rounded w-2/3"}),s.jsx("div",{className:"h-4 bg-white/10 rounded w-1/2"}),s.jsx("div",{className:"h-3 bg-white/10 rounded w-full"}),s.jsx("div",{className:"h-10 bg-white/10 rounded w-full"})]})}):s.jsxs(Ye,{hover:!a,className:`p-5 ${a?"opacity-60":""} ${i?"ring-2 ring-yellow-500/50":""}`,children:[i&&s.jsxs("div",{className:"mb-4 p-3 rounded-xl bg-yellow-500/10 border border-yellow-500/30 flex items-center gap-3",children:[s.jsx(rn,{className:"w-5 h-5 text-yellow-400 flex-shrink-0"}),s.jsxs("p",{className:"text-yellow-300 text-sm",children:["¡Comienza en ",e.minutosParaInicio," minutos!"]})]}),s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-1",children:e.nombre}),s.jsx("p",{className:"text-sm text-gray-400",children:e.tipo})]}),s.jsx(di,{variant:LL(e.estado),shape:"pill",children:RL(e.estado)})]}),s.jsxs("div",{className:"space-y-3 mb-5",children:[s.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[s.jsx(kr,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),s.jsxs("span",{className:"text-sm",children:[hi(e.horaInicio)," - ",hi(e.horaFin),s.jsxs("span",{className:"text-gray-500 ml-2",children:["(",iC(e.horaInicio,e.horaFin),")"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[s.jsx(Jn,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:e.profesor})]}),s.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[s.jsx(nb,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:e.ubicacion})]})]}),e.puedeReprogramar&&e.horasParaReprogramar&&s.jsx("div",{className:"mb-5 p-3 rounded-xl bg-purple-500/10 border border-purple-500/30",children:s.jsxs("div",{className:"flex items-center gap-2 text-purple-300 text-sm",children:[s.jsx(St,{className:"w-4 h-4"}),s.jsxs("span",{children:["Puedes reprogramar hasta ",e.horasParaReprogramar,"h antes"]})]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[e.puedeReprogramar&&r&&!a&&s.jsxs(nt,{variant:"secondary",size:"sm",onClick:()=>r(e),className:"flex items-center gap-2",children:[s.jsx(St,{className:"w-4 h-4"}),s.jsx("span",{children:"Reprogramar"})]}),t&&s.jsxs(nt,{variant:"ghost",size:"sm",onClick:()=>t(e),className:"flex items-center gap-2 ml-auto",children:[s.jsx(du,{className:"w-4 h-4"}),s.jsx("span",{children:"Ver Detalles"})]})]})]})}function qL(e){return e>=80?{bg:"bg-emerald-500/10",text:"text-emerald-400",bar:"bg-emerald-500"}:e>=65?{bg:"bg-yellow-500/10",text:"text-yellow-400",bar:"bg-yellow-500"}:{bg:"bg-red-500/10",text:"text-red-400",bar:"bg-red-500"}}function zL({isOpen:e,onClose:t,clase:r}){const n=ii();if(w.useEffect(()=>{e&&window.scrollTo({top:0,behavior:"smooth"})},[e]),!e||!r)return null;const a=r.asistenciaReal||0,i=r.inscriptos,o=i-a,l=r.porcentajeAsistencia||0,c=qL(l),u=()=>{n(`/profesor/attendance?claseId=${r.id}`),t()};return s.jsxs("div",{className:"absolute inset-0 z-[100] flex items-start justify-center pt-20 px-4 pb-8 overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm -z-10",onClick:t}),s.jsxs(Ye,{className:"relative z-10 w-full max-w-md p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Resumen de Asistencia"}),s.jsx(nt,{variant:"icon",onClick:t,className:"!p-2",children:s.jsx($r,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-1",children:r.nombre}),s.jsx("p",{className:"text-gray-400 text-sm capitalize",children:aC(r.fecha)}),s.jsxs("p",{className:"text-gray-500 text-sm",children:[hi(r.horaInicio)," - ",hi(r.horaFin)]})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-500/20",children:s.jsx(Zn,{className:"w-5 h-5 text-purple-400"})}),s.jsx("span",{className:"text-gray-300",children:"Inscriptos"})]}),s.jsx("span",{className:"text-2xl font-semibold text-white",children:i})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/20",children:s.jsx(da,{className:"w-5 h-5 text-emerald-400"})}),s.jsx("span",{className:"text-gray-300",children:"Presentes"})]}),s.jsx("span",{className:"text-2xl font-semibold text-emerald-400",children:a})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-red-500/20",children:s.jsx(ns,{className:"w-5 h-5 text-red-400"})}),s.jsx("span",{className:"text-gray-300",children:"Ausentes"})]}),s.jsx("span",{className:"text-2xl font-semibold text-red-400",children:o})]})]}),s.jsxs("div",{className:`p-4 rounded-xl ${c.bg} border border-white/10 mb-6`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-gray-300 text-sm",children:"Tasa de Asistencia"}),s.jsxs("span",{className:`text-2xl font-bold ${c.text}`,children:[l,"%"]})]}),s.jsx("div",{className:"h-3 bg-white/10 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${c.bar} transition-all duration-500`,style:{width:`${l}%`}})}),s.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:[l>=80&&"¡Excelente asistencia!",l>=65&&l<80&&"Asistencia aceptable",l<65&&"Asistencia baja"]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx(nt,{variant:"secondary",onClick:t,children:"Cerrar"}),s.jsxs(nt,{variant:"primary",onClick:u,className:"flex items-center gap-2",children:[s.jsx("span",{children:"Ver Asistencia Completa"}),s.jsx(Pd,{className:"w-4 h-4"})]})]})]})]})}function $L({isOpen:e,onClose:t,clase:r,onConfirm:n,isLoading:a=!1}){const[i,o]=w.useState(""),[l,c]=w.useState("");if(!e||!r)return null;const u=(()=>{const h=new Date;return h.setDate(h.getDate()+1),J2(h)})(),d=h=>{o(h.target.value),c("")},f=async()=>{if(!i){c("Selecciona una fecha para reprogramar");return}try{await n(i),o(""),c("")}catch{c("Error al reprogramar la clase. Intenta de nuevo.")}},m=()=>{o(""),c(""),t()};return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:m}),s.jsxs(Ye,{className:"relative z-10 w-full max-w-md mx-4 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Reprogramar Clase"}),s.jsx(nt,{variant:"icon",onClick:m,disabled:a,className:"!p-2",children:s.jsx($r,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"mb-6 p-4 rounded-xl bg-white/5 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs mb-2",children:"Clase original"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:r.nombre}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-300",children:[s.jsx("p",{className:"capitalize",children:aC(r.fecha)}),s.jsxs("p",{children:[hi(r.horaInicio)," - ",hi(r.horaFin)]}),s.jsxs("p",{children:["Profesor: ",r.profesor]})]})]}),s.jsx("div",{className:"mb-6 p-4 rounded-xl bg-yellow-500/10 border border-yellow-500/30",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx($p,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-300 text-sm font-medium mb-1",children:"Importante"}),s.jsx("p",{className:"text-yellow-200/70 text-xs",children:"Al reprogramar, tu clase original será cancelada y se te asignará una nueva fecha. Esta acción no se puede deshacer."})]})]})}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("label",{className:"block text-gray-300 mb-2 text-sm",children:["Nueva fecha ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(Nn,{type:"date",value:i,onChange:d,min:u,icon:s.jsx(St,{className:"w-4 h-4"}),error:l}),s.jsx("p",{className:"text-gray-500 text-xs mt-2",children:"Selecciona la nueva fecha para tu clase"})]}),r.horasParaReprogramar&&s.jsxs("div",{className:"mb-6 flex items-center gap-2 text-gray-400 text-sm",children:[s.jsx(kr,{className:"w-4 h-4"}),s.jsxs("span",{children:["Plazo de reprogramación: hasta ",r.horasParaReprogramar," horas antes"]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx(nt,{variant:"secondary",onClick:m,disabled:a,children:"Cancelar"}),s.jsx(nt,{variant:"primary",onClick:f,disabled:a||!i,children:a?s.jsxs(s.Fragment,{children:[s.jsx(Zo,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Reprogramando..."})]}):"Confirmar Reprogramación"})]})]})]})}function lC(e){const t=new Date;t.setHours(0,0,0,0);const r=t.toISOString().split("T")[0],n=e.split("T")[0];return n===r?"hoy":n<r?"completada":"programada"}function UL(e){const t={};return e.forEach(r=>{const n=r.fecha.split("T")[0];t[n]||(t[n]=[]),t[n].push(r)}),Object.keys(t).forEach(r=>{t[r].sort((n,a)=>n.horaInicio.localeCompare(a.horaInicio))}),t}function WL(e,t,r,n){return e.filter(a=>{const i=t===""||a.tipoClase.toLowerCase().includes(t.toLowerCase()),o=r==="todos"||a.tipoClase===r,l=n===""||a.fecha.startsWith(n);return i&&o&&l})}function HL(e){const t=new Date;t.setHours(0,0,0,0);const r=t.toISOString().split("T")[0],n=new Date(t.getTime()+10080*60*1e3),a=e.filter(l=>l.fecha.startsWith(r)).length,i=e.filter(l=>{const c=new Date(l.fecha);return c>=t&&c<=n}).length;return{clasesHoy:a,clasesSemana:i,clasesCanceladas:0}}function VL(){const e=cu(),t=Hl(C=>C.classes),r=nS(),n=aS(),[a,i]=w.useState(""),[o,l]=w.useState({fechaDesde:"",fechaHasta:"",pagina:1,tamanoPagina:50}),c=iS(a,o,!!a),[u,d]=w.useState(null),f=tb(u||"",!!u),m=sS(),h=Y9(),g=X9(),p=w.useMemo(()=>c.data?.items?WL(c.data.items,t.searchTerm,t.filterTipo,t.filterFecha):[],[c.data?.items,t.searchTerm,t.filterTipo,t.filterFecha]),v=w.useMemo(()=>UL(p),[p]),b=w.useMemo(()=>Object.keys(v).sort((C,F)=>new Date(C).getTime()-new Date(F).getTime()),[v]),j=w.useMemo(()=>HL(c.data?.items||[]),[c.data?.items]),A=w.useCallback(async C=>{const F={profesores:C.profesores.map(V=>({idProfesor:V.idProfesor,rolEnClase:V.rolEnClase})),idTipoClase:C.idTipoClase,fecha:Rv(C.fecha,"00:00"),horaInicio:Em(C.horaInicio),horaFin:Em(C.horaFin),cupoMaximo:C.cupoMaximo,observaciones:C.observaciones||void 0};return m.mutateAsync(F)},[m]),_=w.useCallback(async(C,F)=>{const V=Z9(F.profesores);if(!V)throw new Error("No se encontró un profesor principal");const te={idTipoClase:F.idTipoClase,idProfesor:V.idProfesor,fechaHoraInicio:Rv(F.fecha,F.horaInicio),duracionMinutos:J9(F.horaInicio,F.horaFin),cupoMaximo:F.cupoMaximo,observaciones:F.observaciones||void 0};return h.mutateAsync({idClase:C,data:te})},[h]),k=w.useCallback(async C=>g.mutateAsync(C),[g]),I=w.useCallback(C=>{e(N9(C))},[e]),T=w.useCallback(C=>{e(j9(C)),i(C==="todos"?"":C)},[e]),M=w.useCallback(C=>{e(_9(C))},[e]),O=w.useCallback(C=>{e(A9(C))},[e]),U=w.useCallback(()=>{e(S9())},[e]),P=w.useCallback(C=>{e(Q2(C)),d(C)},[e]);return{tiposClase:r.data||[],profesores:n.data||[],isCatalogsLoading:r.isLoading||n.isLoading,catalogsError:r.error||n.error,clases:p,clasesByDate:v,sortedDates:b,isClasesLoading:c.isLoading,clasesError:c.error,pagination:c.data?{paginaActual:c.data.paginaActual,totalPaginas:c.data.totalPaginas,totalRegistros:c.data.totalRegistros,tienePaginaAnterior:c.data.tienePaginaAnterior,tienePaginaSiguiente:c.data.tienePaginaSiguiente}:null,claseDetail:f.data,isDetailLoading:f.isLoading,detailError:f.error,setDetailClaseId:P,filters:t,setSearchTerm:I,setFilterProfesor:T,setFilterTipo:M,setFilterFecha:O,clearFilters:U,queryParams:o,setQueryParams:l,selectedProfesorId:a,setSelectedProfesorId:i,stats:j,getClaseEstado:lC,handleCreateClase:A,handleUpdateClase:_,handleDeleteClase:k,isCreating:m.isPending,isUpdating:h.isPending,isDeleting:g.isPending,refetchClases:c.refetch,refetchCatalogs:()=>{r.refetch(),n.refetch()}}}function cC(e){const t=new Date;t.setHours(0,0,0,0);const r=t.toISOString().split("T")[0],n=[],a=[],i=[];return e.forEach(o=>{const l=o.fecha.split("T")[0];l===r?n.push(o):l>r?a.push(o):i.push(o)}),a.sort((o,l)=>new Date(o.fecha).getTime()-new Date(l.fecha).getTime()),i.sort((o,l)=>new Date(l.fecha).getTime()-new Date(o.fecha).getTime()),{clasesHoy:n,proximasClases:a,clasesAnteriores:i}}function GL(e,t){const r=new Date;r.setHours(0,0,0,0);let n;switch(t){case"ultimos_7":n=new Date(r),n.setDate(n.getDate()-7);break;case"ultimos_30":n=new Date(r),n.setDate(n.getDate()-30);break;case"este_mes":n=new Date(r.getFullYear(),r.getMonth(),1);break;default:n=new Date(r),n.setDate(n.getDate()-7)}return e.filter(a=>{const i=new Date(a.fecha.split("T")[0]);return i>=n&&i<r})}function KL(e){const t=vb(e.fecha),r=t&&oC(e.horaInicio,e.horaFin);let n="programada";if(r)n="en_curso";else if(t){const a=new Date,[i,o]=e.horaFin.split(":").map(Number),l=i*60+o;a.getHours()*60+a.getMinutes()>l&&(n="finalizada")}else{const a=new Date(e.fecha.split("T")[0]),i=new Date;i.setHours(0,0,0,0),a<i&&(n="finalizada")}return{id:e.idClase,fecha:e.fecha,diaSemana:Yp(e.fecha),horaInicio:e.horaInicio,horaFin:e.horaFin,nombre:e.tipoClase,tipo:e.tipoClase,estado:n,observaciones:"",capacidad:e.cupoMaximo,inscriptos:e.totalAsistencias,ubicacion:"Estudio Principal",asistenciaReal:e.totalAsistencias,porcentajeAsistencia:e.cupoMaximo>0?Math.round(e.totalAsistencias/e.cupoMaximo*100):0}}function YL(){const e=cu(),{session:t}=fo(),r=Hl(C9),{data:n}=Up(t.isAuthenticated),a=n?.idProfesor||"",i=iS(a,{pagina:1,tamanoPagina:100},!!a),o=tb(r.resumenClaseId||"",!!r.resumenClaseId),l=w.useMemo(()=>i.data?.items?i.data.items.map(KL):[],[i.data?.items]),{clasesHoy:c,proximasClases:u,clasesAnteriores:d}=w.useMemo(()=>cC(l),[l]),f=w.useMemo(()=>GL(d,r.filtroAnterior),[d,r.filtroAnterior]),m=w.useMemo(()=>c.find(_=>_.estado==="en_curso")||null,[c]),h=sC(),g=Yp(h),p=kd(h,!0),v=w.useCallback(_=>{e(P9(_))},[e]),b=w.useCallback(()=>{e(E9())},[e]),j=w.useCallback(_=>{e(k9(_))},[e]),A=w.useCallback(_=>{e(Q2(_))},[e]);return{clasesHoy:c,proximasClases:u,clasesAnteriores:f,claseEnCurso:m,claseDetail:o.data,isLoading:i.isLoading,isDetailLoading:o.isLoading,error:i.error,detailError:o.error,filtroAnterior:r.filtroAnterior,showClasesAnteriores:r.showClasesAnteriores,resumenClaseId:r.resumenClaseId,setFiltroAnterior:v,toggleClasesAnteriores:b,setResumenClaseId:j,setSelectedClaseId:A,fechaActual:h,diaSemanaActual:g,fechaFormateada:p,refetch:i.refetch}}function XL(e){const t=vb(e.fecha),r=t&&oC(e.horaInicio,e.horaFin),n=DL(e.fecha,e.horaInicio);let a="programada";if(r)a="en_curso";else if(t){const i=new Date,[o,l]=e.horaFin.split(":").map(Number),c=o*60+l;i.getHours()*60+i.getMinutes()>c&&(a="finalizada")}else{const i=new Date(e.fecha.split("T")[0]),o=new Date;o.setHours(0,0,0,0),i<o&&(a="finalizada")}return e.resultado==="reprogramada"&&(a="reprogramada"),{id:e.idClase,fecha:e.fecha,diaSemana:Yp(e.fecha),horaInicio:e.horaInicio,horaFin:e.horaFin,nombre:e.tipoClase,tipo:e.tipoClase,profesor:e.nombreProfesor,estado:a,ubicacion:"Estudio Principal",puedeReprogramar:e.puedeReprogramar,horasParaReprogramar:e.horasParaReprogramar,minutosParaInicio:n>0?n:void 0,resultado:e.resultado,descontada:e.descontada}}const Vv={all:["student-classes"],list:e=>[...Vv.all,"list",e]};function ZL(){const e=cu(),t=an(),{session:r}=fo(),n=Hl(T9),{data:a}=Up(r.isAuthenticated),i=a?.idAlumno||"",[o,l]=w.useState(!1),c=dr({queryKey:Vv.list(i),queryFn:async()=>{if(!i)return[];try{return(await Dt.get(`/api/alumnos/${i}/clases`)).data}catch(k){return console.error("Error fetching student classes:",k),[]}},enabled:!!i,staleTime:300*1e3,retry:1}),u=sn({mutationFn:async({claseId:k,nuevaFecha:I})=>{await Dt.post(`/api/clases/${k}/reprogramar`,{nuevaFecha:I})},onSuccess:()=>{Jt.success("Clase reprogramada exitosamente"),t.invalidateQueries({queryKey:Vv.all}),e(Pw(null))},onError:()=>{Jt.error("Error al reprogramar la clase")}}),d=w.useMemo(()=>c.data?c.data.map(XL):[],[c.data]),{clasesHoy:f,proximasClases:m,clasesAnteriores:h}=w.useMemo(()=>cC(d),[d]),g=sC(),p=Yp(g),v=kd(g,!0),b=w.useCallback(k=>{e(Pw(k))},[e]),j=w.useCallback(k=>{e(Q2(k))},[e]),A=w.useCallback(async(k,I)=>u.mutateAsync({claseId:k,nuevaFecha:I}),[u]),_=w.useCallback(()=>{l(k=>!k)},[]);return{clasesHoy:f,proximasClases:m,clasesAnteriores:h,isLoading:c.isLoading,isReprogramando:u.isPending,error:c.error,selectedClaseId:n.selectedClaseId,reprogramarClaseId:n.reprogramarClaseId,showClasesAnteriores:o,setSelectedClaseId:j,setReprogramarClaseId:b,reprogramarClase:A,toggleClasesAnteriores:_,fechaActual:g,diaSemanaActual:p,fechaFormateada:v,refetch:c.refetch}}const Jr={"page-container":"_page-container_i4b5u_295","page-title":"_page-title_i4b5u_304","page-description":"_page-description_i4b5u_313"};function JL({isOpen:e,title:t,message:r,confirmText:n="Confirmar",cancelText:a="Cancelar",isLoading:i=!1,onConfirm:o,onCancel:l}){return e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:l}),s.jsxs(Ye,{className:"relative z-10 w-full max-w-md mx-4 p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:t}),s.jsx("p",{className:"text-gray-300 mb-6",children:r}),s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx(nt,{variant:"secondary",onClick:l,disabled:i,children:a}),s.jsx(nt,{variant:"primary",onClick:o,disabled:i,className:"!bg-red-500/20 !border-red-500/40 hover:!bg-red-500/30",children:i?s.jsxs(s.Fragment,{children:[s.jsx(ro,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Procesando..."})]}):n})]})]})]}):null}function QL(){return s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[s.jsx(Ge,{className:"h-12 w-64"}),s.jsx(Ge,{className:"h-12 w-48"}),s.jsx(Ge,{className:"h-12 w-48"}),s.jsx(Ge,{className:"h-12 w-40"})]})}function eR(){return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ge,{className:"h-6 w-48 mb-4"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(e=>s.jsx(Tm,{className:"h-48"},e))}),s.jsx(Ge,{className:"h-6 w-48 mb-4 mt-8"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[4,5].map(e=>s.jsx(Tm,{className:"h-48"},e))})]})}function tR(){return s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[1,2,3].map(e=>s.jsx(Ge,{className:"h-28"},e))})}function rR({hasFilters:e,onClearFilters:t,onCreateClass:r}){return s.jsxs(Ye,{className:"p-12 text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-4 rounded-full bg-white/5",children:s.jsx(St,{className:"w-12 h-12 text-gray-400"})})}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:e?"No se encontraron clases":"No hay clases programadas"}),s.jsx("p",{className:"text-gray-400 mb-6 max-w-md mx-auto",children:e?"No hay clases que coincidan con los filtros seleccionados. Intenta ajustar los criterios de búsqueda.":"Aún no hay clases programadas. Crea una nueva clase para comenzar."}),s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e&&s.jsxs(nt,{variant:"secondary",onClick:t,children:[s.jsx($r,{className:"w-4 h-4"}),s.jsx("span",{children:"Limpiar filtros"})]}),s.jsxs(nt,{variant:"primary",onClick:r,children:[s.jsx(Ql,{className:"w-4 h-4"}),s.jsx("span",{children:"Nueva Clase"})]})]})]})}function nR({message:e,onRetry:t}){return s.jsxs(Ye,{className:"p-8 text-center border-red-500/30",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-4 rounded-full bg-red-500/10",children:s.jsx(rn,{className:"w-10 h-10 text-red-400"})})}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Error al cargar las clases"}),s.jsx("p",{className:"text-gray-400 mb-4",children:e}),s.jsxs(nt,{variant:"secondary",onClick:t,children:[s.jsx(ro,{className:"w-4 h-4"}),s.jsx("span",{children:"Reintentar"})]})]})}function Vw(){const{tiposClase:e,profesores:t,isCatalogsLoading:r,clasesByDate:n,sortedDates:a,isClasesLoading:i,clasesError:o,claseDetail:l,setDetailClaseId:c,filters:u,setSearchTerm:d,setFilterProfesor:f,setFilterTipo:m,setFilterFecha:h,clearFilters:g,selectedProfesorId:p,setSelectedProfesorId:v,stats:b,handleCreateClase:j,handleUpdateClase:A,handleDeleteClase:_,isCreating:k,isUpdating:I,isDeleting:T,refetchClases:M}=VL(),O=Q9(),[U,P]=w.useState(!1),[C,F]=w.useState(!1),[V,te]=w.useState("create"),[de,me]=w.useState(null),[ue,he]=w.useState({isOpen:!1,claseId:null,type:"delete"}),[Ne,Ee]=w.useState(u.searchTerm);w.useEffect(()=>{const Te=setTimeout(()=>{d(Ne)},300);return()=>clearTimeout(Te)},[Ne,d]),w.useEffect(()=>{t.length>0&&!p&&(v(t[0].idProfesor),f(t[0].idProfesor))},[t,p,v,f]);const E=w.useCallback(()=>{te("create"),me(null),P(!0)},[]),R=w.useCallback(Te=>{te("edit"),c(Te),P(!0)},[c]);w.useEffect(()=>{l&&V==="edit"&&U&&me(l)},[l,V,U]);const L=w.useCallback(Te=>{c(Te),F(!0)},[c]),z=w.useCallback(()=>{P(!1),me(null),c(null)},[c]),J=w.useCallback(()=>{F(!1),c(null)},[c]),le=w.useCallback(async Te=>{V==="create"?await j(Te):de&&await A(de.idClase,Te),z()},[V,de,j,A,z]),xe=w.useCallback(Te=>{he({isOpen:!0,claseId:Te,type:"delete"})},[]),Q=w.useCallback(Te=>{he({isOpen:!0,claseId:Te,type:"complete"})},[]),ce=w.useCallback(async()=>{ue.claseId&&(ue.type==="delete"?await _(ue.claseId):ue.type==="complete"&&await O.mutateAsync(ue.claseId),he({isOpen:!1,claseId:null,type:"delete"}))},[ue,_,O]),je=w.useCallback(()=>{he({isOpen:!1,claseId:null,type:"delete"})},[]),pe=w.useCallback(Te=>{f(Te),Te!=="todos"&&v(Te)},[f,v]),ze=w.useMemo(()=>u.searchTerm!==""||u.filterTipo!=="todos"||u.filterFecha!=="",[u]);return s.jsxs("div",{className:Jr["page-container"],children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:Jr["page-title"],children:"Gestión de Clases"}),s.jsx("p",{className:Jr["page-description"],children:"Administra las clases programadas de la academia"})]}),s.jsxs(nt,{variant:"primary",onClick:E,children:[s.jsx(Ql,{className:"w-4 h-4"}),s.jsx("span",{children:"Nueva Clase"})]})]}),i?s.jsx(tR,{}):s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[s.jsx(Ja,{icon:s.jsx(St,{className:"w-5 h-5"}),value:b.clasesHoy,label:"Clases Hoy",color:"primary"}),s.jsx(Ja,{icon:s.jsx(St,{className:"w-5 h-5"}),value:b.clasesSemana,label:"Esta Semana",color:"secondary"}),s.jsx(Ja,{icon:s.jsx($r,{className:"w-5 h-5"}),value:b.clasesCanceladas,label:"Canceladas",color:"warning"})]}),r?s.jsx(QL,{}):s.jsx(Ye,{className:"p-4 mb-6",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsx("div",{className:"flex-1 min-w-[200px] max-w-md",children:s.jsx(Nn,{type:"text",placeholder:"Buscar por tipo de clase...",value:Ne,onChange:Te=>Ee(Te.target.value),icon:s.jsx(Xc,{className:"w-4 h-4"})})}),s.jsx("div",{className:"min-w-[180px]",children:s.jsxs(Yl,{value:u.filterProfesor,onValueChange:pe,children:[s.jsx(Xl,{children:s.jsx(Zl,{placeholder:"Profesor"})}),s.jsxs(Jl,{children:[s.jsx(Xa,{value:"todos",children:"Todos los profesores"}),t.map(Te=>s.jsx(Xa,{value:Te.idProfesor,children:Te.nombreCompleto},Te.idProfesor))]})]})}),s.jsx("div",{className:"min-w-[160px]",children:s.jsxs(Yl,{value:u.filterTipo,onValueChange:m,children:[s.jsx(Xl,{children:s.jsx(Zl,{placeholder:"Tipo"})}),s.jsxs(Jl,{children:[s.jsx(Xa,{value:"todos",children:"Todos los tipos"}),e.map(Te=>s.jsx(Xa,{value:Te.nombre,children:Te.nombre},Te.id))]})]})}),s.jsx("div",{className:"min-w-[160px]",children:s.jsx(Nn,{type:"date",value:u.filterFecha,onChange:Te=>h(Te.target.value),icon:s.jsx(St,{className:"w-4 h-4"})})}),ze&&s.jsxs(nt,{variant:"ghost",onClick:g,className:"text-sm",children:[s.jsx($r,{className:"w-4 h-4"}),s.jsx("span",{children:"Limpiar"})]}),s.jsx(nt,{variant:"icon",onClick:()=>M(),title:"Actualizar lista",className:"!p-2",children:s.jsx(ro,{className:`w-4 h-4 ${i?"animate-spin":""}`})})]})}),i?s.jsx(eR,{}):o?s.jsx(nR,{message:"No se pudieron cargar las clases. Verifica tu conexión e intenta de nuevo.",onRetry:()=>M()}):a.length===0?s.jsx(rR,{hasFilters:ze,onClearFilters:g,onCreateClass:E}):s.jsx("div",{className:"space-y-8",children:a.map(Te=>s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-white mb-4 capitalize",children:nC(Te)}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n[Te].map(Y=>{const qe=lC(Y.fecha),Oe=t.find(et=>et.idProfesor===p);return s.jsx(EL,{clase:Y,estado:qe,nombreProfesor:Oe?.nombreCompleto,onEdit:R,onCancel:xe,onComplete:Q,onViewDetail:L},Y.idClase)})})]},Te))}),s.jsx(oS,{isOpen:U,onClose:z,onSubmit:le,tiposClase:e,profesores:t,isCatalogsLoading:r,isSubmitting:k||I,mode:V,initialData:de}),s.jsx(gb,{idClase:C&&l?.idClase||null,isOpen:C,onClose:J}),s.jsx(JL,{isOpen:ue.isOpen,title:ue.type==="complete"?"Completar Clase":"Cancelar Clase",message:ue.type==="complete"?"¿Estás seguro de que deseas completar esta clase? Se generarán los pagos automáticamente para el profesor y monitores.":"¿Estás seguro de que deseas cancelar esta clase? Esta acción no se puede deshacer.",confirmText:ue.type==="complete"?"Sí, completar clase":"Sí, cancelar clase",cancelText:"No, mantener",isLoading:T||O.isPending,onConfirm:ce,onCancel:je})]})}function aR(){return s.jsx(T7,{})}const uC={all:["dashboard"],data:e=>[...uC.all,"data",e]};function iR(e){return dr({queryKey:uC.data(e),queryFn:async()=>(await Dt.get("/api/reportes/dashboard",{params:e})).data,staleTime:300*1e3,refetchInterval:300*1e3,retry:2,refetchOnWindowFocus:!0})}const sR=({descripcion:e,fecha:t,icon:r,color:n})=>{const a=(o,l)=>{const c=parseInt(o.slice(1,3),16),u=parseInt(o.slice(3,5),16),d=parseInt(o.slice(5,7),16);return`rgba(${c}, ${u}, ${d}, ${l})`},i=o=>{const l=new Date(o),u=new Date().getTime()-l.getTime(),d=Math.floor(u/6e4),f=Math.floor(u/36e5),m=Math.floor(u/864e5);return d<1?"Hace un momento":d<60?`Hace ${d} minuto${d>1?"s":""}`:f<24?`Hace ${f} hora${f>1?"s":""}`:`Hace ${m} día${m>1?"s":""}`};return s.jsxs("div",{className:"flex items-start gap-4 pb-4 border-b border-[rgba(255,255,255,0.05)] last:border-b-0 last:pb-0",children:[s.jsx("div",{className:"p-2.5 rounded-lg flex-shrink-0",style:{background:a(n,.15),color:n},children:s.jsx(r,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-[#f9fafb] text-sm mb-1",children:e}),s.jsx("p",{className:"text-[#6b7280] text-xs",children:i(t)})]}),s.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0 mt-1.5",style:{background:n}})]})},oR=({ultimosPagos:e,onRefresh:t})=>{const r=e.map(n=>({id:n.idPago,descripcion:`Pago registrado – ${n.nombreAlumno} – $${n.monto.toLocaleString("es-CL")}`,fecha:n.fecha,icon:Fi,color:"#c93448"}));return s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(Ye,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kr,{className:"w-5 h-5 text-[#7c5af8]"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-bold",children:"Última Actividad"})]}),t&&s.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] text-sm transition-all duration-300",children:[s.jsx(ro,{className:"w-3.5 h-3.5"}),"Actualizar"]})]}),r.length>0?s.jsx("div",{className:"space-y-4",children:r.map(n=>s.jsx(sR,{descripcion:n.descripcion,fecha:n.fecha,icon:n.icon,color:n.color},n.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(kr,{className:"w-12 h-12 text-[#4b5563] mx-auto mb-3"}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"No hay actividad reciente"})]}),r.length>0&&s.jsxs("div",{className:"mt-6 pt-4 border-t border-[rgba(255,255,255,0.08)] flex items-center justify-between",children:[s.jsxs("p",{className:"text-[#6b7280] text-xs",children:["Mostrando ",r.length," actividades recientes"]}),s.jsx("button",{className:"text-[#7c5af8] text-xs font-medium hover:underline",children:"Ver todo el historial →"})]})]})})},lR=({titulo:e,descripcion:t,prioridad:r,icon:n,onAction:a})=>{const i={Alta:{bg:"rgba(239, 68, 68, 0.15)",border:"rgba(239, 68, 68, 0.3)",text:"#fca5a5",icon:"#ef4444"},Media:{bg:"rgba(245, 158, 11, 0.15)",border:"rgba(245, 158, 11, 0.3)",text:"#fcd34d",icon:"#f59e0b"},Baja:{bg:"rgba(59, 130, 246, 0.15)",border:"rgba(59, 130, 246, 0.3)",text:"#93c5fd",icon:"#3b82f6"}},o=i[r]||i.Media,l=(c,u)=>{const d=parseInt(c.slice(1,3),16),f=parseInt(c.slice(3,5),16),m=parseInt(c.slice(5,7),16);return`rgba(${d}, ${f}, ${m}, ${u})`};return s.jsx("div",{className:"p-4 rounded-xl backdrop-blur-xl border transition-all duration-300 hover:scale-[1.02] cursor-pointer group",style:{background:o.bg,borderColor:o.border},onClick:a,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg flex-shrink-0",style:{background:l(o.icon,.2)},children:s.jsx(n,{className:"w-4 h-4",style:{color:o.icon}})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-[#f9fafb] text-sm font-medium mb-1",children:e}),s.jsx("p",{className:"text-[#9ca3af] text-xs mb-2",children:t}),a&&s.jsx("button",{className:"text-xs font-medium group-hover:underline",style:{color:o.text},children:"Ver detalles →"})]})]})})},cR=({alertas:e})=>{const t=r=>({PaquetePorVencer:rn,AlumnoInactivo:Zn,ClaseBajaAsistencia:St,PagosPendientes:rn,ClasePocosCupos:St,PagoPendiente:rn})[r]||rn;return s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(Ye,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wo,{className:"w-5 h-5 text-[#f59e0b]"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-bold",children:"Alertas"})]}),e.length>0&&s.jsx("span",{className:"px-2.5 py-1 rounded-full bg-[rgba(239,68,68,0.15)] border border-[rgba(239,68,68,0.3)] text-[#fca5a5] text-xs",children:e.length})]}),e.length>0?s.jsx("div",{className:"space-y-3",children:e.map((r,n)=>s.jsx(lR,{tipo:r.tipo,titulo:r.titulo,descripcion:r.descripcion,prioridad:r.prioridad,icon:t(r.tipo)},n))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Wo,{className:"w-12 h-12 text-[#4b5563] mx-auto mb-3"}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"No hay alertas en este momento"})]})]})})};var uR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function bb(e){if(typeof e!="string")return!1;var t=uR;return t.includes(e)}var dR=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],fR=new Set(dR);function dC(e){return typeof e!="string"?!1:fR.has(e)}function fC(e){return typeof e=="string"&&e.startsWith("data-")}function Ri(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(dC(r)||fC(r))&&(t[r]=e[r]);return t}function Zc(e){if(e==null)return null;if(w.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ri(t)}return typeof e=="object"&&!Array.isArray(e)?Ri(e):null}function ri(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(dC(r)||fC(r)||bb(r))&&(t[r]=e[r]);return t}function hR(e){return e==null?null:w.isValidElement(e)?ri(e.props):typeof e=="object"&&!Array.isArray(e)?ri(e):null}var mR=["children","width","height","viewBox","className","style","title","desc"];function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gv.apply(null,arguments)}function pR(e,t){if(e==null)return{};var r,n,a=xR(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yb=w.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:l,title:c,desc:u}=e,d=pR(e,mR),f=i||{width:n,height:a,x:0,y:0},m=ir("recharts-surface",o);return w.createElement("svg",Gv({},ri(d),{className:m,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),w.createElement("title",null,c),w.createElement("desc",null,u),r)}),gR=["children","className"];function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kv.apply(null,arguments)}function vR(e,t){if(e==null)return{};var r,n,a=bR(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fa=w.forwardRef((e,t)=>{var{children:r,className:n}=e,a=vR(e,gR),i=ir("recharts-layer",n);return w.createElement("g",Kv({className:i},ri(a),{ref:t}),r)}),hC=w.createContext(null),yR=()=>w.useContext(hC);function zr(e){return function(){return e}}const mC=Math.cos,Im=Math.sin,Ps=Math.sqrt,Mm=Math.PI,Xp=2*Mm,Yv=Math.PI,Xv=2*Yv,Dc=1e-6,wR=Xv-Dc;function pC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function NR(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return pC;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class jR{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?pC:NR(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Dc)if(!(Math.abs(f*c-u*d)>Dc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,g=a-l,p=c*c+u*u,v=h*h+g*g,b=Math.sqrt(p),j=Math.sqrt(m),A=i*Math.tan((Yv-Math.acos((p+m-v)/(2*b*j)))/2),_=A/j,k=A/b;Math.abs(_-1)>Dc&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*h>d*g)},${this._x1=t+k*c},${this._y1=r+k*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Dc||Math.abs(this._y1-d)>Dc)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%Xv+Xv),m>wR?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>Dc&&this._append`A${n},${n},0,${+(m>=Yv)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function wb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new jR(t)}function Nb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xC(e){this._context=e}xC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Zp(e){return new xC(e)}function gC(e){return e[0]}function vC(e){return e[1]}function bC(e,t){var r=zr(!0),n=null,a=Zp,i=null,o=wb(l);e=typeof e=="function"?e:e===void 0?gC:zr(e),t=typeof t=="function"?t:t===void 0?vC:zr(t);function l(c){var u,d=(c=Nb(c)).length,f,m=!1,h;for(n==null&&(i=a(h=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(f,u,c),+t(f,u,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:zr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:zr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:zr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function q0(e,t,r){var n=null,a=zr(!0),i=null,o=Zp,l=null,c=wb(u);e=typeof e=="function"?e:e===void 0?gC:zr(+e),t=typeof t=="function"?t:zr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?vC:zr(+r);function u(f){var m,h,g,p=(f=Nb(f)).length,v,b=!1,j,A=new Array(p),_=new Array(p);for(i==null&&(l=o(j=c())),m=0;m<=p;++m){if(!(m<p&&a(v=f[m],m,f))===b)if(b=!b)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=m-1;g>=h;--g)l.point(A[g],_[g]);l.lineEnd(),l.areaEnd()}b&&(A[m]=+e(v,m,f),_[m]=+t(v,m,f),l.point(n?+n(v,m,f):A[m],r?+r(v,m,f):_[m]))}if(j)return l=null,j+""||null}function d(){return bC().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:zr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:zr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:zr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:zr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:zr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:zr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:zr(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class yC{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function _R(e){return new yC(e,!0)}function AR(e){return new yC(e,!1)}const jb={draw(e,t){const r=Ps(t/Mm);e.moveTo(r,0),e.arc(0,0,r,0,Xp)}},SR={draw(e,t){const r=Ps(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},wC=Ps(1/3),CR=wC*2,PR={draw(e,t){const r=Ps(t/CR),n=r*wC;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},ER={draw(e,t){const r=Ps(t),n=-r/2;e.rect(n,n,r,r)}},kR=.8908130915292852,NC=Im(Mm/10)/Im(7*Mm/10),TR=Im(Xp/10)*NC,OR=-mC(Xp/10)*NC,DR={draw(e,t){const r=Ps(t*kR),n=TR*r,a=OR*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Xp*i/5,l=mC(o),c=Im(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},_x=Ps(3),IR={draw(e,t){const r=-Ps(t/(_x*3));e.moveTo(0,r*2),e.lineTo(-_x*r,-r),e.lineTo(_x*r,-r),e.closePath()}},Yi=-.5,Xi=Ps(3)/2,Zv=1/Ps(12),MR=(Zv/2+1)*3,FR={draw(e,t){const r=Ps(t/MR),n=r/2,a=r*Zv,i=n,o=r*Zv+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Yi*n-Xi*a,Xi*n+Yi*a),e.lineTo(Yi*i-Xi*o,Xi*i+Yi*o),e.lineTo(Yi*l-Xi*c,Xi*l+Yi*c),e.lineTo(Yi*n+Xi*a,Yi*a-Xi*n),e.lineTo(Yi*i+Xi*o,Yi*o-Xi*i),e.lineTo(Yi*l+Xi*c,Yi*c-Xi*l),e.closePath()}};function LR(e,t){let r=null,n=wb(a);e=typeof e=="function"?e:zr(e||jb),t=typeof t=="function"?t:zr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:zr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:zr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Fm(){}function Lm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function jC(e){this._context=e}jC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RR(e){return new jC(e)}function _C(e){this._context=e}_C.prototype={areaStart:Fm,areaEnd:Fm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Lm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function BR(e){return new _C(e)}function AC(e){this._context=e}AC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Lm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qR(e){return new AC(e)}function SC(e){this._context=e}SC.prototype={areaStart:Fm,areaEnd:Fm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function zR(e){return new SC(e)}function Gw(e){return e<0?-1:1}function Kw(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(Gw(i)+Gw(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function Yw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ax(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function Rm(e){this._context=e}Rm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ax(this,this._t0,Yw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ax(this,Yw(this,r=Kw(this,e,t)),r);break;default:Ax(this,this._t0,r=Kw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function CC(e){this._context=new PC(e)}(CC.prototype=Object.create(Rm.prototype)).point=function(e,t){Rm.prototype.point.call(this,t,e)};function PC(e){this._context=e}PC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function $R(e){return new Rm(e)}function UR(e){return new CC(e)}function EC(e){this._context=e}EC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Xw(e),a=Xw(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Xw(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function WR(e){return new EC(e)}function Jp(e,t){this._context=e,this._t=t}Jp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function HR(e){return new Jp(e,.5)}function VR(e){return new Jp(e,0)}function GR(e){return new Jp(e,1)}function Jc(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Jv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function KR(e,t){return e[t]}function YR(e){const t=[];return t.key=e,t}function XR(){var e=zr([]),t=Jv,r=Jc,n=KR;function a(i){var o=Array.from(e.apply(this,arguments),YR),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=Nb(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:zr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:zr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Jv:typeof i=="function"?i:zr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Jc,a):r},a}function ZR(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Jc(e,t)}}function JR(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Jc(e,t)}}function QR(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,m=d[n-1][1]||0,h=(f-m)/2,g=0;g<l;++g){var p=e[t[g]],v=p[n][1]||0,b=p[n-1][1]||0;h+=v-b}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Jc(e,t)}}var Sx={},Cx={},Zw;function eB(){return Zw||(Zw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Cx)),Cx}var Px={},Jw;function kC(){return Jw||(Jw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Px)),Px}var Ex={},Qw;function _b(){return Qw||(Qw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Ex)),Ex}var kx={},Tx={},e4;function tB(){return e4||(e4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Tx)),Tx}var t4;function Ab(){return t4||(t4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tB(),r=_b();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let l=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const f=a[l];u?f==="\\"&&l+1<o?(l++,c+=a[l]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(c),c=""):c+=f:f==="["?(d=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,l++}return c&&i.push(c),i}e.toPath=n})(kx)),kx}var r4;function Sb(){return r4||(r4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eB(),r=kC(),n=_b(),a=Ab();function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?i(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(Sx)),Sx}var Ox,n4;function rB(){return n4||(n4=1,Ox=Sb().get),Ox}var nB=rB();const Qc=dc(nB);var aB=4;function zl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:aB,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function hn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,o)=>{var l=r[o-1];return typeof l=="string"?a+l+i:l!==void 0?a+zl(l)+i:a+i},"")}var oa=e=>e===0?0:e>0?1:-1,ao=e=>typeof e=="number"&&e!=+e,eu=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ht=e=>(typeof e=="number"||e instanceof Number)&&!ao(e),io=e=>ht(e)||typeof e=="string",iB=0,th=e=>{var t=++iB;return"".concat(e||"").concat(t)},qa=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ht(t)&&typeof t!="string")return n;var i;if(eu(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return ao(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},TC=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Zr(e,t,r){return ht(e)&&ht(t)?zl(e+r*(t-e)):t}function OC(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Qc(n,t))===r)}var nn=e=>e===null||typeof e>"u",Eh=e=>nn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function ci(e){return e!=null}function fu(){}var sB=["type","size","sizeType"];function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qv.apply(null,arguments)}function a4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a4(Object(r),!0).forEach(function(n){oB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oB(e,t,r){return(t=lB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lB(e){var t=cB(e,"string");return typeof t=="symbol"?t:t+""}function cB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uB(e,t){if(e==null)return{};var r,n,a=dB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DC={symbolCircle:jb,symbolCross:SR,symbolDiamond:PR,symbolSquare:ER,symbolStar:DR,symbolTriangle:IR,symbolWye:FR},fB=Math.PI/180,hB=e=>{var t="symbol".concat(Eh(e));return DC[t]||jb},mB=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*fB;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},pB=(e,t)=>{DC["symbol".concat(Eh(e))]=t},Cb=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=uB(e,sB),i=i4(i4({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var m=hB(o),h=LR().type(m).size(mB(r,n,o)),g=h();if(g!==null)return g},{className:c,cx:u,cy:d}=i,f=ri(i);return ht(u)&&ht(d)&&ht(r)?w.createElement("path",Qv({},f,{className:ir("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};Cb.registerSymbol=pB;var IC=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Pb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{bb(a)&&(n[a]=(i=>r[a](r,i)))}),n},xB=(e,t,r)=>n=>(e(t,r,n),null),kh=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];bb(a)&&typeof i=="function"&&(n||(n={}),n[a]=xB(i,t,r))}),n};function s4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s4(Object(r),!0).forEach(function(n){vB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vB(e,t,r){return(t=bB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bB(e){var t=yB(e,"string");return typeof t=="symbol"?t:t+""}function yB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zn(e,t){var r=gB({},e),n=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}function Bm(){return Bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bm.apply(null,arguments)}function o4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o4(Object(r),!0).forEach(function(n){NB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NB(e,t,r){return(t=jB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jB(e){var t=_B(e,"string");return typeof t=="symbol"?t:t+""}function _B(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var es=32,AB={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function SB(e){var{data:t,iconType:r,inactiveColor:n}=e,a=es/2,i=es/6,o=es/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var u;return w.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:es,y2:a,className:"recharts-legend-icon"})}if(c==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(es,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return w.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(es/8,"h").concat(es,"v").concat(es*3/4,"h").concat(-es,"z"),className:"recharts-legend-icon"});if(w.isValidElement(t.legendIcon)){var d=wB({},t);return delete d.legendIcon,w.cloneElement(t.legendIcon,d)}return w.createElement(Cb,{fill:l,cx:a,cy:a,size:es,sizeType:"diameter",type:c})}function CB(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:o}=e,l={x:0,y:0,width:es,height:es},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var m=d.formatter||a,h=ir({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var g=d.inactive?i:d.color,p=m?m(d.value,d,f):d.value;return w.createElement("li",Bm({className:h,style:c,key:"legend-item-".concat(f)},kh(e,d,f)),w.createElement(yb,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(p," legend icon")},w.createElement(SB,{data:d,iconType:o,inactiveColor:i})),w.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},p))})}var PB=e=>{var t=zn(e,AB),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:i},w.createElement(CB,Bm({},t,{payload:r})))},Dx={},Ix={},l4;function EB(){return l4||(l4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o,i,r);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(Ix)),Ix}var Mx={},c4;function kB(){return c4||(c4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(Mx)),Mx}var Fx={},u4;function MC(){return u4||(u4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Fx)),Fx}var Lx={},Rx={},Bx={},d4;function TB(){return d4||(d4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Bx)),Bx}var f4;function Eb(){return f4||(f4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TB();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Rx)),Rx}var qx={},h4;function OB(){return h4||(h4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(qx)),qx}var m4;function DB(){return m4||(m4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Eb(),r=OB();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(Lx)),Lx}var zx={},$x={},p4;function IB(){return p4||(p4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sb();function r(n){return function(a){return t.get(a,n)}}e.property=r})($x)),$x}var Ux={},Wx={},Hx={},Vx={},x4;function FC(){return x4||(x4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Vx)),Vx}var Gx={},g4;function LC(){return g4||(g4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Gx)),Gx}var Kx={},v4;function RC(){return v4||(v4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(Kx)),Kx}var b4;function MB(){return b4||(b4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FC(),r=LC(),n=RC();function a(d,f,m){return typeof m!="function"?a(d,f,()=>{}):i(d,f,function h(g,p,v,b,j,A){const _=m(g,p,v,b,j,A);return _!==void 0?!!_:i(g,p,h,A)},new Map)}function i(d,f,m,h){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,m,h);case"function":return Object.keys(f).length>0?i(d,{...f},m,h):n.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function o(d,f,m,h){if(f==null)return!0;if(Array.isArray(f))return c(d,f,m,h);if(f instanceof Map)return l(d,f,m,h);if(f instanceof Set)return u(d,f,m,h);const g=Object.keys(f);if(d==null||r.isPrimitive(d))return g.length===0;if(g.length===0)return!0;if(h?.has(f))return h.get(f)===d;h?.set(f,d);try{for(let p=0;p<g.length;p++){const v=g[p];if(!r.isPrimitive(d)&&!(v in d)||f[v]===void 0&&d[v]!==void 0||f[v]===null&&d[v]!==null||!m(d[v],f[v],v,d,f,h))return!1}return!0}finally{h?.delete(f)}}function l(d,f,m,h){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,p]of f.entries()){const v=d.get(g);if(m(v,p,g,d,f,h)===!1)return!1}return!0}function c(d,f,m,h){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let p=0;p<f.length;p++){const v=f[p];let b=!1;for(let j=0;j<d.length;j++){if(g.has(j))continue;const A=d[j];let _=!1;if(m(A,v,p,d,f,h)&&(_=!0),_){g.add(j),b=!0;break}}if(!b)return!1}return!0}function u(d,f,m,h){return f.size===0?!0:d instanceof Set?c([...d],[...f],m,h):!1}e.isMatchWith=a,e.isSetMatch=u})(Hx)),Hx}var y4;function BC(){return y4||(y4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MB();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Wx)),Wx}var Yx={},Xx={},Zx={},w4;function FB(){return w4||(w4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Zx)),Zx}var Jx={},N4;function kb(){return N4||(N4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Jx)),Jx}var Qx={},j4;function qC(){return j4||(j4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",m="[object ArrayBuffer]",h="[object Object]",g="[object Error]",p="[object DataView]",v="[object Uint8Array]",b="[object Uint8ClampedArray]",j="[object Uint16Array]",A="[object Uint32Array]",_="[object BigUint64Array]",k="[object Int8Array]",I="[object Int16Array]",T="[object Int32Array]",M="[object BigInt64Array]",O="[object Float32Array]",U="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=m,e.arrayTag=d,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=_,e.booleanTag=a,e.dataViewTag=p,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=O,e.float64ArrayTag=U,e.functionTag=f,e.int16ArrayTag=I,e.int32ArrayTag=T,e.int8ArrayTag=k,e.mapTag=c,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=j,e.uint32ArrayTag=A,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=b})(Qx)),Qx}var eg={},_4;function LB(){return _4||(_4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(eg)),eg}var A4;function zC(){return A4||(A4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FB(),r=kb(),n=qC(),a=LC(),i=LB();function o(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,m,h=new Map,g=void 0){const p=g?.(d,f,m,h);if(p!==void 0)return p;if(a.isPrimitive(d))return d;if(h.has(d))return h.get(d);if(Array.isArray(d)){const v=new Array(d.length);h.set(d,v);for(let b=0;b<d.length;b++)v[b]=l(d[b],b,m,h,g);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;h.set(d,v);for(const[b,j]of d)v.set(b,l(j,b,m,h,g));return v}if(d instanceof Set){const v=new Set;h.set(d,v);for(const b of d)v.add(l(b,void 0,m,h,g));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);h.set(d,v);for(let b=0;b<d.length;b++)v[b]=l(d[b],b,m,h,g);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return h.set(d,v),c(v,d,m,h,g),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return h.set(d,v),c(v,d,m,h,g),v}if(typeof Blob<"u"&&d instanceof Blob){const v=new Blob([d],{type:d.type});return h.set(d,v),c(v,d,m,h,g),v}if(d instanceof Error){const v=new d.constructor;return h.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,c(v,d,m,h,g),v}if(d instanceof Boolean){const v=new Boolean(d.valueOf());return h.set(d,v),c(v,d,m,h,g),v}if(d instanceof Number){const v=new Number(d.valueOf());return h.set(d,v),c(v,d,m,h,g),v}if(d instanceof String){const v=new String(d.valueOf());return h.set(d,v),c(v,d,m,h,g),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return h.set(d,v),c(v,d,m,h,g),v}return d}function c(d,f,m=d,h,g){const p=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<p.length;v++){const b=p[v],j=Object.getOwnPropertyDescriptor(d,b);(j==null||j.writable)&&(d[b]=l(f[b],b,m,h,g))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(Xx)),Xx}var S4;function RB(){return S4||(S4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zC();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Yx)),Yx}var C4;function BB(){return C4||(C4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BC(),r=RB();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(Ux)),Ux}var tg={},rg={},ng={},P4;function qB(){return P4||(P4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zC(),r=kb(),n=qC();function a(i,o){return t.cloneDeepWith(i,(l,c,u,d)=>{const f=o?.(l,c,u,d);if(f!==void 0)return f;if(typeof i=="object"){if(r.getTag(i)===n.objectTag&&typeof i.constructor!="function"){const m={};return d.set(i,m),t.copyProperties(m,i,u,d),m}switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i?.valueOf());return t.copyProperties(m,i),m}case n.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}}})}e.cloneDeepWith=a})(ng)),ng}var E4;function zB(){return E4||(E4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qB();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(rg)),rg}var ag={},ig={},k4;function $C(){return k4||(k4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(ig)),ig}var sg={},T4;function $B(){return T4||(T4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kb();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(sg)),sg}var O4;function UB(){return O4||(O4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kC(),r=$C(),n=$B(),a=Ab();function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&o?.[l]==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(ag)),ag}var D4;function WB(){return D4||(D4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BC(),r=_b(),n=zB(),a=Sb(),i=UB();function o(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(tg)),tg}var I4;function HB(){return I4||(I4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MC(),r=IB(),n=BB(),a=WB();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(zx)),zx}var M4;function VB(){return M4||(M4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EB(),r=kB(),n=MC(),a=DB(),i=HB();function o(l,c=n.identity){return a.isArrayLikeObject(l)?t.uniqBy(Array.from(l),r.ary(i.iteratee(c),1)):[]}e.uniqBy=o})(Dx)),Dx}var og,F4;function GB(){return F4||(F4=1,og=VB().uniqBy),og}var KB=GB();const L4=dc(KB);function UC(e,t,r){return t===!0?L4(e,r):typeof t=="function"?L4(e,t):e}var lg={exports:{}},cg={},ug={exports:{}},dg={};var R4;function YB(){if(R4)return dg;R4=1;var e=Y6();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(f,m){var h=m(),g=n({inst:{value:h,getSnapshot:m}}),p=g[0].inst,v=g[1];return i(function(){p.value=h,p.getSnapshot=m,c(p)&&v({inst:p})},[f,h,m]),a(function(){return c(p)&&v({inst:p}),f(function(){c(p)&&v({inst:p})})},[f]),o(h),h}function c(f){var m=f.getSnapshot;f=f.value;try{var h=m();return!r(f,h)}catch{return!0}}function u(f,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return dg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,dg}var B4;function XB(){return B4||(B4=1,ug.exports=YB()),ug.exports}var q4;function ZB(){if(q4)return cg;q4=1;var e=Y6(),t=XB();function r(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,c=e.useDebugValue;return cg.useSyncExternalStoreWithSelector=function(u,d,f,m,h){var g=i(null);if(g.current===null){var p={hasValue:!1,value:null};g.current=p}else p=g.current;g=l(function(){function b(I){if(!j){if(j=!0,A=I,I=m(I),h!==void 0&&p.hasValue){var T=p.value;if(h(T,I))return _=T}return _=I}if(T=_,n(A,I))return T;var M=m(I);return h!==void 0&&h(T,M)?(A=I,T):(A=I,_=M)}var j=!1,A,_,k=f===void 0?null:f;return[function(){return b(d())},k===null?void 0:function(){return b(k())}]},[d,f,m,h]);var v=a(u,g[0],g[1]);return o(function(){p.hasValue=!0,p.value=v},[v]),c(v),v},cg}var z4;function JB(){return z4||(z4=1,lg.exports=ZB()),lg.exports}var QB=JB(),Tb=w.createContext(null),eq=e=>e,Ur=()=>{var e=w.useContext(Tb);return e?e.store.dispatch:eq},bm=()=>{},tq=()=>bm,rq=(e,t)=>e===t;function gt(e){var t=w.useContext(Tb),r=w.useMemo(()=>t?n=>{if(n!=null)return e(n)}:bm,[t,e]);return QB.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:tq,t?t.store.getState:bm,t?t.store.getState:bm,r,rq)}var fg={},hg={},mg={},$4;function nq(){return $4||($4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(mg)),mg}var pg={},xg={},U4;function WC(){return U4||(U4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(xg)),xg}var W4;function aq(){return W4||(W4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WC(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(pg)),pg}var H4;function iq(){return H4||(H4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nq(),r=aq(),n=Ab();function a(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(h=>String(h));const u=(h,g)=>{let p=h;for(let v=0;v<g.length&&p!=null;++v)p=p[g[v]];return p},d=(h,g)=>g==null||h==null?g:typeof h=="object"&&"key"in h?Object.hasOwn(g,h.key)?g[h.key]:u(g,h.path):typeof h=="function"?h(g):Array.isArray(h)?u(g,h):typeof g=="object"?g[h]:g,f=o.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return i.map(h=>({original:h,criteria:f.map(g=>d(g,h))})).slice().sort((h,g)=>{for(let p=0;p<f.length;p++){const v=t.compareValues(h.criteria[p],g.criteria[p],l[p]);if(v!==0)return v}return 0}).map(h=>h.original)}e.orderBy=a})(hg)),hg}var gg={},V4;function sq(){return V4||(V4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?o(d,c+1):a.push(d)}};return o(r,0),a}e.flatten=t})(gg)),gg}var vg={},G4;function HC(){return G4||(G4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$C(),r=Eb(),n=FC(),a=RC();function i(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.isEqualsSameValueZero(c[l],o):!1}e.isIterateeCall=i})(vg)),vg}var K4;function oq(){return K4||(K4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iq(),r=sq(),n=HC();function a(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(fg)),fg}var bg,Y4;function lq(){return Y4||(Y4=1,bg=oq().sortBy),bg}var cq=lq();const Qp=dc(cq);var VC=e=>e.legend.settings,uq=e=>e.legend.size,dq=e=>e.legend.payload,fq=Ae([dq,VC],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Qp(n,r):n});function hq(){return gt(fq)}var z0=1;function GC(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>z0||Math.abs(o.left-t.left)>z0||Math.abs(o.top-t.top)>z0||Math.abs(o.width-t.width)>z0)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}var mq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},KC=xi({name:"chartLayout",initialState:mq,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:pq,setLayout:xq,setChartSize:gq,setScale:vq}=KC.actions,bq=KC.reducer;function YC(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function nr(e){return Number.isFinite(e)}function so(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function X4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(r),!0).forEach(function(n){yq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yq(e,t,r){return(t=wq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wq(e){var t=Nq(e,"string");return typeof t=="symbol"?t:t+""}function Nq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Or(e,t,r){return nn(e)||nn(t)?r:io(t)?Qc(e,t,r):typeof t=="function"?t(e):r}var jq=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&ht(e[i]))return Qu(Qu({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&ht(e[o]))return Qu(Qu({},e),{},{[o]:e[o]+(a||0)})}return e},cl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",XC=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},ZC=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:m,axisType:h}=e;if(!o)return null;var g=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,p=a==="category"&&o.bandwidth?o.bandwidth()/g:0;if(p=h==="angleAxis"&&i&&i.length>=2?oa(i[0]-i[1])*2*p:p,f||m){var v=(f||m||[]).map((b,j)=>{var A=n?n.indexOf(b):b,_=o.map(A);return nr(_)?{coordinate:_+p,value:b,offset:p,index:j}:null}).filter(ci);return v}return c&&u?u.map((b,j)=>{var A=o.map(b);return nr(A)?{coordinate:A+p,value:b,index:j,offset:p}:null}).filter(ci):o.ticks&&d!=null?o.ticks(d).map((b,j)=>{var A=o.map(b);return nr(A)?{coordinate:A+p,value:b,index:j,offset:p}:null}).filter(ci):o.domain().map((b,j)=>{var A=o.map(b);return nr(A)?{coordinate:A+p,value:n?n[b]:b,index:j,offset:p}:null}).filter(ci)},_q=(e,t)=>{if(!t||t.length!==2||!ht(t[0])||!ht(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!ht(e[0])||e[0]<r)&&(a[0]=r),(!ht(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},Aq=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0,l=0;l<r;++l){var c=e[l],u=c?.[a];if(u!=null){var d=u[1],f=u[0],m=ao(d)?f:d;m>=0?(u[0]=i,i+=m,u[1]=i):(u[0]=o,o+=m,u[1]=o)}}}},Sq=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0;o<r;++o){var l=e[o],c=l?.[a];if(c!=null){var u=ao(c[1])?c[0]:c[1];u>=0?(c[0]=i,i+=u,c[1]=i):(c[0]=0,c[1]=0)}}}},Cq={sign:Aq,expand:ZR,none:Jc,silhouette:JR,wiggle:QR,positive:Sq},Pq=(e,t,r)=>{var n,a=(n=Cq[r])!==null&&n!==void 0?n:Jc,i=XR().keys(t).value((l,c)=>Number(Or(l,c,0))).order(Jv).offset(a),o=i(e);return o.forEach((l,c)=>{l.forEach((u,d)=>{var f=Or(e[d],t[c],0);Array.isArray(f)&&f.length===2&&ht(f[0])&&ht(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function Eq(e){return e==null?void 0:String(e)}function Z4(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!nn(a[t.dataKey])){var l=OC(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r!=null&&r[i]?r[i].coordinate+n/2:null}var c=Or(a,nn(o)?t.dataKey:o),u=t.scale.map(c);return ht(u)?u:null}var J4=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=Or(i,t.dataKey,t.scale.domain()[o]);if(nn(l))return null;var c=t.scale.map(l);return ht(c)?c-a/2+n:null},kq=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},Tq=e=>{var t=e.flat(2).filter(ht);return[Math.min(...t),Math.max(...t)]},Oq=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Dq=(e,t,r)=>{if(e!=null)return Oq(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:o}=i,l=o.reduce((c,u)=>{var d=YC(u,t,r),f=Tq(d);return!nr(f[0])||!nr(f[1])?c:[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},Q4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,e3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vd=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Qp(t,d=>d.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];i=Math.min((c?.coordinate||0)-(u?.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function t3(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Qu(Qu({},t),{},{dataKey:r,payload:n,value:a,name:i})}function Td(e,t){if(e)return String(e);if(typeof t=="string")return t}var Iq=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Mq=(e,t)=>t==="centric"?e.angle:e.radius,ul=e=>e.layout.width,dl=e=>e.layout.height,Fq=e=>e.layout.scale,JC=e=>e.layout.margin,e1=Ae(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),t1=Ae(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),QC="data-recharts-item-index",eP="data-recharts-item-id",Th=60;function r3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r3(Object(r),!0).forEach(function(n){Lq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lq(e,t,r){return(t=Rq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rq(e){var t=Bq(e,"string");return typeof t=="symbol"?t:t+""}function Bq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qq=e=>e.brush.height;function zq(e){var t=t1(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Th;return r+a}return r},0)}function $q(e){var t=t1(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Th;return r+a}return r},0)}function Uq(e){var t=e1(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Wq(e){var t=e1(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Qn=Ae([ul,dl,JC,qq,zq,$q,Uq,Wq,VC,uq],(e,t,r,n,a,i,o,l,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+o,bottom:(r.bottom||0)+l},m=$0($0({},f),d),h=m.bottom;m.bottom+=n,m=jq(m,c,u);var g=e-m.left-m.right,p=t-m.top-m.bottom;return $0($0({brushBottom:h},m),{},{width:Math.max(g,0),height:Math.max(p,0)})}),Hq=Ae(Qn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Ob=Ae(ul,dl,(e,t)=>({x:0,y:0,width:e,height:t})),Vq=w.createContext(null),Ua=()=>w.useContext(Vq)!=null,r1=e=>e.brush,n1=Ae([r1,Qn,JC],(e,t,r)=>({height:e.height,x:ht(e.x)?e.x:t.left,y:ht(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:ht(e.width)?e.width:t.width})),yg={},wg={},Ng={},n3;function Gq(){return n3||(n3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{u&&d(),p()};let m=null;const h=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},n)},g=()=>{m!==null&&(clearTimeout(m),m=null)},p=()=>{g(),o=void 0,l=null},v=()=>{d()},b=function(...j){if(a?.aborted)return;o=this,l=j;const A=m==null;h(),c&&A&&d()};return b.schedule=h,b.cancel=p,b.flush=v,a?.addEventListener("abort",p,{once:!0}),b}e.debounce=t})(Ng)),Ng}var a3;function Kq(){return a3||(a3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gq();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const m=t.debounce(function(...p){d=n.apply(this,p),f=null},a,{edges:u}),h=function(...p){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,p),f=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,p),d)},g=()=>(m.flush(),d);return h.cancel=m.cancel,h.flush=g,h}e.debounce=r})(wg)),wg}var i3;function Yq(){return i3||(i3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kq();function r(n,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(yg)),yg}var jg,s3;function Xq(){return s3||(s3=1,jg=Yq().throttle),jg}var Zq=Xq();const Jq=dc(Zq);var qm=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},Ks={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},tP=(e,t,r)=>{var{width:n=Ks.width,height:a=Ks.height,aspect:i,maxHeight:o}=r,l=eu(n)?e:Number(n),c=eu(a)?t:Number(a);return i&&i>0&&(l?c=l/i:c&&(l=c*i),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:l,calculatedHeight:c}},Qq={width:0,height:0,overflow:"visible"},ez={width:0,overflowX:"visible"},tz={height:0,overflowY:"visible"},rz={},nz=e=>{var{width:t,height:r}=e,n=eu(t),a=eu(r);return n&&a?Qq:n?ez:a?tz:rz};function az(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a=Ks.width,i=Ks.height):a===void 0?a=n&&n>0?void 0:Ks.width:i===void 0&&(i=n&&n>0?void 0:Ks.height),{width:a,height:i}}function e2(){return e2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e2.apply(null,arguments)}function o3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o3(Object(r),!0).forEach(function(n){iz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iz(e,t,r){return(t=sz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sz(e){var t=oz(e,"string");return typeof t=="symbol"?t:t+""}function oz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rP=w.createContext(Ks.initialDimension);function lz(e){return so(e.width)&&so(e.height)}function nP(e){var{children:t,width:r,height:n}=e,a=w.useMemo(()=>({width:r,height:n}),[r,n]);return lz(a)?w.createElement(rP.Provider,{value:a},t):null}var Db=()=>w.useContext(rP),cz=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Ks.initialDimension,width:a,height:i,minWidth:o=Ks.minWidth,minHeight:l,maxHeight:c,children:u,debounce:d=Ks.debounce,id:f,className:m,onResize:h,style:g={}}=e,p=w.useRef(null),v=w.useRef();v.current=h,w.useImperativeHandle(t,()=>p.current);var[b,j]=w.useState({containerWidth:n.width,containerHeight:n.height}),A=w.useCallback((M,O)=>{j(U=>{var P=Math.round(M),C=Math.round(O);return U.containerWidth===P&&U.containerHeight===C?U:{containerWidth:P,containerHeight:C}})},[]);w.useEffect(()=>{if(p.current==null||typeof ResizeObserver>"u")return fu;var M=C=>{var F,V=C[0];if(V!=null){var{width:te,height:de}=V.contentRect;A(te,de),(F=v.current)===null||F===void 0||F.call(v,te,de)}};d>0&&(M=Jq(M,d,{trailing:!0,leading:!1}));var O=new ResizeObserver(M),{width:U,height:P}=p.current.getBoundingClientRect();return A(U,P),O.observe(p.current),()=>{O.disconnect()}},[A,d]);var{containerWidth:_,containerHeight:k}=b;qm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:I,calculatedHeight:T}=tP(_,k,{width:a,height:i,aspect:r,maxHeight:c});return qm(I!=null&&I>0||T!=null&&T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,T,a,i,o,l,r),w.createElement("div",{id:f?"".concat(f):void 0,className:ir("recharts-responsive-container",m),style:l3(l3({},g),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:p},w.createElement("div",{style:nz({width:a,height:i})},w.createElement(nP,{width:I,height:T},u)))}),ni=w.forwardRef((e,t)=>{var r=Db();if(so(r.width)&&so(r.height))return e.children;var{width:n,height:a}=az({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=tP(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return ht(i)&&ht(o)?w.createElement(nP,{width:i,height:o},e.children):w.createElement(cz,e2({},e,{width:n,height:a,ref:t}))});function Ib(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var a1=()=>{var e,t=Ua(),r=gt(Hq),n=gt(n1),a=(e=gt(r1))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},uz={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},aP=()=>{var e;return(e=gt(Qn))!==null&&e!==void 0?e:uz},Mb=()=>gt(ul),Fb=()=>gt(dl),dz=()=>gt(e=>e.layout.margin),fr=e=>e.layout.layoutType,hu=()=>gt(fr),iP=()=>{var e=hu();if(e==="horizontal"||e==="vertical")return e},sP=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},fz=()=>{var e=hu();return e!==void 0},Oh=e=>{var t=Ur(),r=Ua(),{width:n,height:a}=e,i=Db(),o=n,l=a;return i&&(o=i.width>0?i.width:n,l=i.height>0?i.height:a),w.useEffect(()=>{!r&&so(o)&&so(l)&&t(gq({width:o,height:l}))},[t,r,o,l]),null},hz={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},oP=xi({name:"legend",initialState:hz,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(Er(t.payload))},prepare:Xr()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Js(e).payload.indexOf(Er(r));a>-1&&(e.payload[a]=Er(n))},prepare:Xr()},removeLegendPayload:{reducer(e,t){var r=Js(e).payload.indexOf(Er(t.payload));r>-1&&e.payload.splice(r,1)},prepare:Xr()}}}),{setLegendSize:c3,setLegendSettings:mz,addLegendPayload:lP,replaceLegendPayload:cP,removeLegendPayload:uP}=oP.actions,pz=oP.reducer,xz=["contextPayload"];function t2(){return t2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t2.apply(null,arguments)}function u3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u3(Object(r),!0).forEach(function(n){gz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gz(e,t,r){return(t=vz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vz(e){var t=bz(e,"string");return typeof t=="symbol"?t:t+""}function bz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yz(e,t){if(e==null)return{};var r,n,a=wz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Nz(e){return e.value}function jz(e){var{contextPayload:t}=e,r=yz(e,xz),n=UC(t,e.payloadUniqBy,Nz),a=bd(bd({},r),{},{payload:n});return w.isValidElement(e.content)?w.cloneElement(e.content,a):typeof e.content=="function"?w.createElement(e.content,a):w.createElement(PB,a)}function _z(e,t,r,n,a,i){var{layout:o,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?u={left:((n||0)-i.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-i.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),bd(bd({},u),d)}function Az(e){var t=Ur();return w.useEffect(()=>{t(mz(e))},[t,e]),null}function Sz(e){var t=Ur();return w.useEffect(()=>(t(c3(e)),()=>{t(c3({width:0,height:0}))}),[t,e]),null}function Cz(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var Pz={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Qo(e){var t=zn(e,Pz),r=hq(),n=yR(),a=dz(),{width:i,height:o,wrapperStyle:l,portal:c}=t,[u,d]=GC([r]),f=Mb(),m=Fb();if(f==null||m==null)return null;var h=f-(a?.left||0)-(a?.right||0),g=Cz(t.layout,o,i,h),p=c?l:bd(bd({position:"absolute",width:g?.width||i||"auto",height:g?.height||o||"auto"},_z(l,t,a,f,m,u)),l),v=c??n;if(v==null||r==null)return null;var b=w.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:d},w.createElement(Az,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&w.createElement(Sz,{width:u.width,height:u.height}),w.createElement(jz,t2({},t,g,{margin:a,chartWidth:f,chartHeight:m,contextPayload:r})));return eb.createPortal(b,v)}Qo.displayName="Legend";function r2(){return r2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r2.apply(null,arguments)}function d3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(r),!0).forEach(function(n){Ez(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ez(e,t,r){return(t=kz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kz(e){var t=Tz(e,"string");return typeof t=="symbol"?t:t+""}function Tz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oz(e){return Array.isArray(e)&&io(e[0])&&io(e[1])?e.join(" ~ "):e}var Bu={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Dz=e=>{var{separator:t=Bu.separator,contentStyle:r,itemStyle:n,labelStyle:a=Bu.labelStyle,payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:m=Bu.accessibilityLayer}=e,h=()=>{if(i&&i.length){var k={padding:0,margin:0},I=(l?Qp(i,l):i).map((T,M)=>{if(T.type==="none")return null;var O=T.formatter||o||Oz,{value:U,name:P}=T,C=U,F=P;if(O){var V=O(U,P,T,M,i);if(Array.isArray(V))[C,F]=V;else if(V!=null)C=V;else return null}var te=Nf(Nf({},Bu.itemStyle),{},{color:T.color||Bu.itemStyle.color},n);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:te},io(F)?w.createElement("span",{className:"recharts-tooltip-item-name"},F):null,io(F)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},C),w.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:k},I)}return null},g=Nf(Nf({},Bu.contentStyle),r),p=Nf({margin:0},a),v=!nn(d),b=v?d:"",j=ir("recharts-default-tooltip",c),A=ir("recharts-tooltip-label",u);v&&f&&i!==void 0&&i!==null&&(b=f(d,i));var _=m?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",r2({className:j,style:g},_),w.createElement("p",{className:A,style:p},w.isValidElement(b)?b:"".concat(b)),h())},jf="recharts-tooltip-wrapper",Iz={visibility:"hidden"};function Mz(e){var{coordinate:t,translateX:r,translateY:n}=e;return ir(jf,{["".concat(jf,"-right")]:ht(r)&&t&&ht(t.x)&&r>=t.x,["".concat(jf,"-left")]:ht(r)&&t&&ht(t.x)&&r<t.x,["".concat(jf,"-bottom")]:ht(n)&&t&&ht(t.y)&&n>=t.y,["".concat(jf,"-top")]:ht(n)&&t&&ht(t.y)&&n<t.y})}function f3(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&ht(i[n]))return i[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?d:f;var m=c[n];if(m==null)return 0;if(o[n]){var h=d,g=m;return h<g?Math.max(f,m):Math.max(d,m)}if(u==null)return 0;var p=f+l,v=m+u;return p>v?Math.max(d,m):Math.max(f,m)}function Fz(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Lz(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:a,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:c,viewBox:u}=e,d,f,m;return l.height>0&&l.width>0&&r?(f=f3({allowEscapeViewBox:t,coordinate:r,key:"x",offset:a,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),m=f3({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),d=Fz({translateX:f,translateY:m,useTranslate3d:c})):d=Iz,{cssProperties:d,cssClasses:Mz({translateX:f,translateY:m,coordinate:r})}}function h3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h3(Object(r),!0).forEach(function(n){n2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n2(e,t,r){return(t=Rz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rz(e){var t=Bz(e,"string");return typeof t=="symbol"?t:t+""}function Bz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class qz extends w.PureComponent{constructor(){super(...arguments),n2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),n2(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:m,viewBox:h,wrapperStyle:g,lastBoundingBox:p,innerRef:v,hasPortalFromProps:b}=this.props,j=typeof u=="number"?u:u.x,A=typeof u=="number"?u:u.y,{cssClasses:_,cssProperties:k}=Lz({allowEscapeViewBox:r,coordinate:o,offsetLeft:j,offsetTop:A,position:d,reverseDirection:f,tooltipBox:{height:p.height,width:p.width},useTranslate3d:m,viewBox:h}),I=b?{}:U0(U0({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),T=U0(U0({},I),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:T,ref:v},i)}}var dP=()=>{var e;return(e=gt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function a2(){return a2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a2.apply(null,arguments)}function m3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m3(Object(r),!0).forEach(function(n){zz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zz(e,t,r){return(t=$z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $z(e){var t=Uz(e,"string");return typeof t=="symbol"?t:t+""}function Uz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x3={curveBasisClosed:BR,curveBasisOpen:qR,curveBasis:RR,curveBumpX:_R,curveBumpY:AR,curveLinearClosed:zR,curveLinear:Zp,curveMonotoneX:$R,curveMonotoneY:UR,curveNatural:WR,curveStep:HR,curveStepAfter:GR,curveStepBefore:VR},zm=e=>nr(e.x)&&nr(e.y),g3=e=>e.base!=null&&zm(e.base)&&zm(e),_f=e=>e.x,Af=e=>e.y,Wz=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Eh(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=x3["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return x3[r]||Zp},v3={connectNulls:!1,type:"linear"},Hz=e=>{var{type:t=v3.type,points:r=[],baseLine:n,layout:a,connectNulls:i=v3.connectNulls}=e,o=Wz(t,a),l=i?r.filter(zm):r;if(Array.isArray(n)){var c,u=r.map((g,p)=>p3(p3({},g),{},{base:n[p]}));a==="vertical"?c=q0().y(Af).x1(_f).x0(g=>g.base.x):c=q0().x(_f).y1(Af).y0(g=>g.base.y);var d=c.defined(g3).curve(o),f=i?u.filter(g3):u;return d(f)}var m;a==="vertical"&&ht(n)?m=q0().y(Af).x1(_f).x0(n):ht(n)?m=q0().x(_f).y1(Af).y0(n):m=bC().x(_f).y(Af);var h=m.defined(zm).curve(o);return h(l)},Lb=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=hu();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},l=r&&r.length?Hz(o):n;return w.createElement("path",a2({},Ri(e),Pb(e),{className:ir("recharts-curve",t),d:l===null?void 0:l,ref:a}))},Vz=["x","y","top","left","width","height","className"];function i2(){return i2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i2.apply(null,arguments)}function b3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b3(Object(r),!0).forEach(function(n){Kz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kz(e,t,r){return(t=Yz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yz(e){var t=Xz(e,"string");return typeof t=="symbol"?t:t+""}function Xz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zz(e,t){if(e==null)return{};var r,n,a=Jz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Qz=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),e$=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,c=Zz(e,Vz),u=Gz({x:t,y:r,top:n,left:a,width:i,height:o},c);return!ht(t)||!ht(r)||!ht(i)||!ht(o)||!ht(n)||!ht(a)?null:w.createElement("path",i2({},ri(u),{className:ir("recharts-cross",l),d:Qz(t,r,i,o,n,a)}))};function t$(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function y3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y3(Object(r),!0).forEach(function(n){r$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r$(e,t,r){return(t=n$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n$(e){var t=a$(e,"string");return typeof t=="symbol"?t:t+""}function a$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i$=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),fP=(e,t,r)=>e.map(n=>"".concat(i$(n)," ").concat(t,"ms ").concat(r)).join(","),s$=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),rh=(e,t)=>Object.keys(t).reduce((r,n)=>w3(w3({},r),{},{[n]:e(n,t[n])}),{});function N3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N3(Object(r),!0).forEach(function(n){o$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o$(e,t,r){return(t=l$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l$(e){var t=c$(e,"string");return typeof t=="symbol"?t:t+""}function c$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $m=(e,t,r)=>e+(t-e)*r,s2=e=>{var{from:t,to:r}=e;return t!==r},hP=(e,t,r)=>{var n=rh((a,i)=>{if(s2(i)){var[o,l]=e(i.from,i.to,i.velocity);return Xn(Xn({},i),{},{from:o,velocity:l})}return i},t);return r<1?rh((a,i)=>s2(i)&&n[a]!=null?Xn(Xn({},i),{},{velocity:$m(i.velocity,n[a].velocity,r),from:$m(i.from,n[a].from,r)}):i,t):hP(e,n,r-1)};function u$(e,t,r,n,a,i){var o,l=n.reduce((m,h)=>Xn(Xn({},m),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),c=()=>rh((m,h)=>h.from,l),u=()=>!Object.values(l).filter(s2).length,d=null,f=m=>{o||(o=m);var h=m-o,g=h/r.dt;l=hP(r,l,g),a(Xn(Xn(Xn({},e),t),c())),o=m,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var m;(m=d)===null||m===void 0||m()})}function d$(e,t,r,n,a,i,o){var l=null,c=a.reduce((f,m)=>{var h=e[m],g=t[m];return h==null||g==null?f:Xn(Xn({},f),{},{[m]:[h,g]})},{}),u,d=f=>{u||(u=f);var m=(f-u)/n,h=rh((p,v)=>$m(...v,r(m)),c);if(i(Xn(Xn(Xn({},e),t),h)),m<1)l=o.setTimeout(d);else{var g=rh((p,v)=>$m(...v,r(1)),c);i(Xn(Xn(Xn({},e),t),g))}};return()=>(l=o.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const f$=(e,t,r,n,a,i)=>{var o=s$(e,t);return r==null?()=>(a(Xn(Xn({},e),t)),()=>{}):r.isStepper===!0?u$(e,t,r,o,a,i):d$(e,t,r,n,o,a,i)};var Um=1e-4,mP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],pP=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),j3=(e,t)=>r=>{var n=mP(e,t);return pP(n,r)},h$=(e,t)=>r=>{var n=mP(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return pP(a,r)},m$=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},p$=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=m$(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},x$=(e,t,r,n)=>{var a=j3(e,r),i=j3(t,n),o=h$(e,r),l=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,m=0;m<8;++m){var h=a(f)-d,g=o(f);if(Math.abs(h-d)<Um||g<Um)return i(f);f=l(f-h/g)}return i(f)};return c.isStepper=!1,c},_3=function(){return x$(...p$(...arguments))},g$=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,l,c)=>{var u=-(o-l)*r,d=c*n,f=c+(u-d)*a/1e3,m=c*a/1e3+o;return Math.abs(m-l)<Um&&Math.abs(f)<Um?[l,0]:[m,f]};return i.isStepper=!0,i.dt=a,i},v$=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _3(e);case"spring":return g$();default:if(e.split("(")[0]==="cubic-bezier")return _3(e)}return typeof e=="function"?e:null};function b$(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class y${setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function w$(){return b$(new y$)}var N$=w.createContext(w$);function j$(e,t){var r=w.useContext(N$);return w.useMemo(()=>t??r(e),[e,t,r])}var _$=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),i1={isSsr:_$()},A$={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},A3={t:0},_g={t:1};function Dh(e){var t=zn(e,A$),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=r==="auto"?!i1.isSsr:r,f=j$(t.animationId,t.animationManager),[m,h]=w.useState(d?A3:_g),g=w.useRef(null);return w.useEffect(()=>{d||h(_g)},[d]),w.useEffect(()=>{if(!d||!n)return fu;var p=f$(A3,_g,v$(i),a,h,f.getTimeoutController()),v=()=>{g.current=p()};return f.start([c,o,v,a,l]),()=>{f.stop(),g.current&&g.current(),l()}},[d,n,a,i,o,c,l,f]),u(m.t)}function Ih(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(th(t)),n=w.useRef(e);return n.current!==e&&(r.current=th(t),n.current=e),r.current}var S$=["radius"],C$=["radius"],S3,C3,P3,E3,k3,T3,O3,D3,I3,M3;function F3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F3(Object(r),!0).forEach(function(n){P$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P$(e,t,r){return(t=E$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E$(e){var t=k$(e,"string");return typeof t=="symbol"?t:t+""}function k$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wm(){return Wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wm.apply(null,arguments)}function R3(e,t){if(e==null)return{};var r,n,a=T$(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function T$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Rs(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var B3=(e,t,r,n,a)=>{var i=zl(r),o=zl(n),l=Math.min(Math.abs(i)/2,Math.abs(o)/2),c=o>=0?1:-1,u=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(l>0&&Array.isArray(a)){for(var m=[0,0,0,0],h=0,g=4;h<g;h++){var p,v=(p=a[h])!==null&&p!==void 0?p:0;m[h]=v>l?l:v}f=hn(S3||(S3=Rs(["M",",",""])),e,t+c*m[0]),m[0]>0&&(f+=hn(C3||(C3=Rs(["A ",",",",0,0,",",",",",""])),m[0],m[0],d,e+u*m[0],t)),f+=hn(P3||(P3=Rs(["L ",",",""])),e+r-u*m[1],t),m[1]>0&&(f+=hn(E3||(E3=Rs(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],d,e+r,t+c*m[1])),f+=hn(k3||(k3=Rs(["L ",",",""])),e+r,t+n-c*m[2]),m[2]>0&&(f+=hn(T3||(T3=Rs(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],d,e+r-u*m[2],t+n)),f+=hn(O3||(O3=Rs(["L ",",",""])),e+u*m[3],t+n),m[3]>0&&(f+=hn(D3||(D3=Rs(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],d,e,t+n-c*m[3])),f+="Z"}else if(l>0&&a===+a&&a>0){var b=Math.min(l,a);f=hn(I3||(I3=Rs(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*b,b,b,d,e+u*b,t,e+r-u*b,t,b,b,d,e+r,t+c*b,e+r,t+n-c*b,b,b,d,e+r-u*b,t+n,e+u*b,t+n,b,b,d,e,t+n-c*b)}else f=hn(M3||(M3=Rs(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},q3={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xP=e=>{var t=zn(e,q3),r=w.useRef(null),[n,a]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var me=r.current.getTotalLength();me&&a(me)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isAnimationActive:g,isUpdateAnimationActive:p}=t,v=w.useRef(l),b=w.useRef(c),j=w.useRef(i),A=w.useRef(o),_=w.useMemo(()=>({x:i,y:o,width:l,height:c,radius:u}),[i,o,l,c,u]),k=Ih(_,"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var I=ir("recharts-rectangle",d);if(!p){var T=ri(t),{radius:M}=T,O=R3(T,S$);return w.createElement("path",Wm({},O,{x:zl(i),y:zl(o),width:zl(l),height:zl(c),radius:typeof u=="number"?u:void 0,className:I,d:B3(i,o,l,c,u)}))}var U=v.current,P=b.current,C=j.current,F=A.current,V="0px ".concat(n===-1?1:n,"px"),te="".concat(n,"px 0px"),de=fP(["strokeDasharray"],m,typeof f=="string"?f:q3.animationEasing);return w.createElement(Dh,{animationId:k,key:k,canBegin:n>0,duration:m,easing:f,isActive:p,begin:h},me=>{var ue=Zr(U,l,me),he=Zr(P,c,me),Ne=Zr(C,i,me),Ee=Zr(F,o,me);r.current&&(v.current=ue,b.current=he,j.current=Ne,A.current=Ee);var E;g?me>0?E={transition:de,strokeDasharray:te}:E={strokeDasharray:V}:E={strokeDasharray:te};var R=ri(t),{radius:L}=R,z=R3(R,C$);return w.createElement("path",Wm({},z,{radius:typeof u=="number"?u:void 0,className:I,d:B3(Ne,Ee,ue,he,u),ref:r,style:L3(L3({},E),t.style)}))})};function z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z3(Object(r),!0).forEach(function(n){O$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O$(e,t,r){return(t=D$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D$(e){var t=I$(e,"string");return typeof t=="symbol"?t:t+""}function I$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hm=Math.PI/180,M$=e=>e*180/Math.PI,Fn=(e,t,r,n)=>({x:e+Math.cos(-Hm*n)*r,y:t+Math.sin(-Hm*n)*r}),gP=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},F$=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},L$=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=F$({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:M$(c),angleInRadian:c}},R$=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},B$=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},q$=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=L$({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:c,endAngle:u}=R$(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?$3($3({},t),{},{radius:a,angle:B$(d,t)}):null};function vP(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=Fn(t,r,n,a),l=Fn(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var U3,W3,H3,V3,G3,K3,Y3;function o2(){return o2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o2.apply(null,arguments)}function Bc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var z$=(e,t)=>{var r=oa(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},W0=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+n,d=Math.asin(l/u)/Hm,f=c?a:a+i*d,m=Fn(t,r,u,f),h=Fn(t,r,n,f),g=c?a-i*d:a,p=Fn(t,r,u*Math.cos(d*Hm),g);return{center:m,circleTangency:h,lineTangency:p,theta:d}},bP=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,l=z$(i,o),c=i+l,u=Fn(t,r,a,i),d=Fn(t,r,a,c),f=hn(U3||(U3=Bc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(l)>180),+(i>c),d.x,d.y);if(n>0){var m=Fn(t,r,n,i),h=Fn(t,r,n,c);f+=hn(W3||(W3=Bc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),h.x,h.y,n,n,+(Math.abs(l)>180),+(i<=c),m.x,m.y)}else f+=hn(H3||(H3=Bc(["L ",","," Z"])),t,r);return f},$$=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=oa(u-c),{circleTangency:f,lineTangency:m,theta:h}=W0({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:g,lineTangency:p,theta:v}=W0({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),b=l?Math.abs(c-u):Math.abs(c-u)-h-v;if(b<0)return o?hn(V3||(V3=Bc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,i,i,i*2,i,i,-i*2):bP({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var j=hn(G3||(G3=Bc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,i,i,+(d<0),f.x,f.y,a,a,+(b>180),+(d<0),g.x,g.y,i,i,+(d<0),p.x,p.y);if(n>0){var{circleTangency:A,lineTangency:_,theta:k}=W0({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:I,lineTangency:T,theta:M}=W0({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),O=l?Math.abs(c-u):Math.abs(c-u)-k-M;if(O<0&&i===0)return"".concat(j,"L").concat(t,",").concat(r,"Z");j+=hn(K3||(K3=Bc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),T.x,T.y,i,i,+(d<0),I.x,I.y,n,n,+(O>180),+(d>0),A.x,A.y,i,i,+(d<0),_.x,_.y)}else j+=hn(Y3||(Y3=Bc(["L",",","Z"])),t,r);return j},U$={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yP=e=>{var t=zn(e,U$),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var m=ir("recharts-sector",f),h=i-a,g=qa(o,h,0,!0),p;return g>0&&Math.abs(u-d)<360?p=$$({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,h/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):p=bP({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),w.createElement("path",o2({},ri(t),{className:m,d:p}))};function W$(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(IC(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:o,angle:l}=t,c=Fn(n,a,i,l),u=Fn(n,a,o,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return vP(t)}}var Ag={},Sg={},Cg={},X3;function H$(){return X3||(X3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WC();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Cg)),Cg}var Z3;function V$(){return Z3||(Z3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H$();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Sg)),Sg}var J3;function G$(){return J3||(J3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HC(),r=V$();function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=o;return c}e.range=n})(Ag)),Ag}var Pg,Q3;function K$(){return Q3||(Q3=1,Pg=G$().range),Pg}var Y$=K$();const wP=dc(Y$);function Vl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function X$(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Rb(e){let t,r,n;e.length!==2?(t=Vl,r=(l,c)=>Vl(e(l),c),n=(l,c)=>e(l)-c):(t=e===Vl||e===X$?e:Z$,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function Z$(){return 0}function NP(e){return e===null?NaN:+e}function*J$(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Q$=Rb(Vl),Mh=Q$.right;Rb(NP).center;class eN extends Map{constructor(t,r=rU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(tN(this,t))}has(t){return super.has(tN(this,t))}set(t,r){return super.set(eU(this,t),r)}delete(t){return super.delete(tU(this,t))}}function tN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function eU({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function tU({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function rU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function nU(e=Vl){if(e===Vl)return jP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function jP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const aU=Math.sqrt(50),iU=Math.sqrt(10),sU=Math.sqrt(2);function Vm(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=aU?10:i>=iU?5:i>=sU?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Vm(e,t,r*2):[l,c,u]}function l2(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Vm(t,e,r):Vm(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function c2(e,t,r){return t=+t,e=+e,r=+r,Vm(e,t,r)[2]}function u2(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?c2(t,e,r):c2(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function rN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function nN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function _P(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?jP:nU(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(t-u*f/c+m)),g=Math.min(n,Math.floor(t+(c-u)*f/c+m));_P(e,t,h,g,a)}const i=e[t];let o=r,l=n;for(Sf(e,r,t),a(e[n],i)>0&&Sf(e,r,n);o<l;){for(Sf(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Sf(e,r,l):(++l,Sf(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Sf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function oU(e,t,r){if(e=Float64Array.from(J$(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return nN(e);if(t>=1)return rN(e);var n,a=(n-1)*t,i=Math.floor(a),o=rN(_P(e,i).subarray(0,i+1)),l=nN(e.subarray(i+1));return o+(l-o)*(a-i)}}function lU(e,t,r=NP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function cU(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ss(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function fl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const d2=Symbol("implicit");function Bb(){var e=new eN,t=[],r=[],n=d2;function a(i){let o=e.get(i);if(o===void 0){if(n!==d2)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new eN;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Bb(t,r).unknown(n)},ss.apply(a,arguments),a}function qb(){var e=Bb().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,h=a<n,g=h?a:n,p=h?n:a;i=(p-g)/Math.max(1,m-c+u*2),l&&(i=Math.floor(i)),g+=(p-g-i*(m-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=cU(m).map(function(b){return g+i*b});return r(h?v.reverse():v)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return qb(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},ss.apply(f(),arguments)}function AP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return AP(t())},e}function uU(){return AP(qb.apply(null,arguments).paddingInner(1))}function zb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function SP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Fh(){}var nh=.7,Gm=1/nh,ad="\\s*([+-]?\\d+)\\s*",ah="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dU=/^#([0-9a-f]{3,8})$/,fU=new RegExp(`^rgb\\(${ad},${ad},${ad}\\)$`),hU=new RegExp(`^rgb\\(${eo},${eo},${eo}\\)$`),mU=new RegExp(`^rgba\\(${ad},${ad},${ad},${ah}\\)$`),pU=new RegExp(`^rgba\\(${eo},${eo},${eo},${ah}\\)$`),xU=new RegExp(`^hsl\\(${ah},${eo},${eo}\\)$`),gU=new RegExp(`^hsla\\(${ah},${eo},${eo},${ah}\\)$`),aN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zb(Fh,ih,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:iN,formatHex:iN,formatHex8:vU,formatHsl:bU,formatRgb:sN,toString:sN});function iN(){return this.rgb().formatHex()}function vU(){return this.rgb().formatHex8()}function bU(){return CP(this).formatHsl()}function sN(){return this.rgb().formatRgb()}function ih(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=dU.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?oN(t):r===3?new ui(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?H0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?H0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=fU.exec(e))?new ui(t[1],t[2],t[3],1):(t=hU.exec(e))?new ui(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=mU.exec(e))?H0(t[1],t[2],t[3],t[4]):(t=pU.exec(e))?H0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xU.exec(e))?uN(t[1],t[2]/100,t[3]/100,1):(t=gU.exec(e))?uN(t[1],t[2]/100,t[3]/100,t[4]):aN.hasOwnProperty(e)?oN(aN[e]):e==="transparent"?new ui(NaN,NaN,NaN,0):null}function oN(e){return new ui(e>>16&255,e>>8&255,e&255,1)}function H0(e,t,r,n){return n<=0&&(e=t=r=NaN),new ui(e,t,r,n)}function yU(e){return e instanceof Fh||(e=ih(e)),e?(e=e.rgb(),new ui(e.r,e.g,e.b,e.opacity)):new ui}function f2(e,t,r,n){return arguments.length===1?yU(e):new ui(e,t,r,n??1)}function ui(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}zb(ui,f2,SP(Fh,{brighter(e){return e=e==null?Gm:Math.pow(Gm,e),new ui(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?nh:Math.pow(nh,e),new ui(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ui(Vc(this.r),Vc(this.g),Vc(this.b),Km(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lN,formatHex:lN,formatHex8:wU,formatRgb:cN,toString:cN}));function lN(){return`#${qc(this.r)}${qc(this.g)}${qc(this.b)}`}function wU(){return`#${qc(this.r)}${qc(this.g)}${qc(this.b)}${qc((isNaN(this.opacity)?1:this.opacity)*255)}`}function cN(){const e=Km(this.opacity);return`${e===1?"rgb(":"rgba("}${Vc(this.r)}, ${Vc(this.g)}, ${Vc(this.b)}${e===1?")":`, ${e})`}`}function Km(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qc(e){return e=Vc(e),(e<16?"0":"")+e.toString(16)}function uN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ws(e,t,r,n)}function CP(e){if(e instanceof ws)return new ws(e.h,e.s,e.l,e.opacity);if(e instanceof Fh||(e=ih(e)),!e)return new ws;if(e instanceof ws)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new ws(o,l,c,e.opacity)}function NU(e,t,r,n){return arguments.length===1?CP(e):new ws(e,t,r,n??1)}function ws(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}zb(ws,NU,SP(Fh,{brighter(e){return e=e==null?Gm:Math.pow(Gm,e),new ws(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?nh:Math.pow(nh,e),new ws(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ui(Eg(e>=240?e-240:e+120,a,n),Eg(e,a,n),Eg(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ws(dN(this.h),V0(this.s),V0(this.l),Km(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Km(this.opacity);return`${e===1?"hsl(":"hsla("}${dN(this.h)}, ${V0(this.s)*100}%, ${V0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function dN(e){return e=(e||0)%360,e<0?e+360:e}function V0(e){return Math.max(0,Math.min(1,e||0))}function Eg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const $b=e=>()=>e;function jU(e,t){return function(r){return e+r*t}}function _U(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function AU(e){return(e=+e)==1?PP:function(t,r){return r-t?_U(t,r,e):$b(isNaN(t)?r:t)}}function PP(e,t){var r=t-e;return r?jU(e,r):$b(isNaN(e)?t:e)}const fN=(function e(t){var r=AU(t);function n(a,i){var o=r((a=f2(a)).r,(i=f2(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=PP(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n})(1);function SU(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function CU(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function PU(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Od(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function EU(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ym(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function kU(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Od(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var h2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kg=new RegExp(h2.source,"g");function TU(e){return function(){return e}}function OU(e){return function(t){return e(t)+""}}function DU(e,t){var r=h2.lastIndex=kg.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=h2.exec(e))&&(a=kg.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Ym(n,a)})),r=kg.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?OU(c[0].x):TU(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Od(e,t){var r=typeof t,n;return t==null||r==="boolean"?$b(t):(r==="number"?Ym:r==="string"?(n=ih(t))?(t=n,fN):DU:t instanceof ih?fN:t instanceof Date?EU:CU(t)?SU:Array.isArray(t)?PU:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kU:Ym)(e,t)}function Ub(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function IU(e,t){t===void 0&&(t=e,e=Od);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function MU(e){return function(){return e}}function Xm(e){return+e}var hN=[0,1];function Qa(e){return e}function m2(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:MU(isNaN(t)?NaN:.5)}function FU(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function LU(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=m2(a,n),i=r(o,i)):(n=m2(n,a),i=r(i,o)),function(l){return i(n(l))}}function RU(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=m2(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Mh(e,l,1,n)-1;return i[c](a[c](l))}}function Lh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function s1(){var e=hN,t=hN,r=Od,n,a,i,o=Qa,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==Qa&&(o=FU(e[0],e[m-1])),l=m>2?RU:LU,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(n),t,r)))(n(o(m)))}return f.invert=function(m){return o(a((u||(u=l(t,e.map(n),Ym)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,Xm),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=Ub,d()},f.clamp=function(m){return arguments.length?(o=m?!0:Qa,d()):o!==Qa},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,h){return n=m,a=h,d()}}function Wb(){return s1()(Qa,Qa)}function BU(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Zm(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function yd(e){return e=Zm(Math.abs(e)),e?e[1]:NaN}function qU(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function zU(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var $U=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sh(e){if(!(t=$U.exec(e)))throw new Error("invalid format: "+e);var t;return new Hb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}sh.prototype=Hb.prototype;function Hb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Hb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function UU(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Jm;function WU(e,t){var r=Zm(e,t);if(!r)return Jm=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(Jm=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Zm(e,Math.max(0,t+i-1))[0]}function mN(e,t){var r=Zm(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const pN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:BU,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>mN(e*100,t),r:mN,s:WU,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xN(e){return e}var gN=Array.prototype.map,vN=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function HU(e){var t=e.grouping===void 0||e.thousands===void 0?xN:qU(gN.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?xN:zU(gN.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,m){f=sh(f);var h=f.fill,g=f.align,p=f.sign,v=f.symbol,b=f.zero,j=f.width,A=f.comma,_=f.precision,k=f.trim,I=f.type;I==="n"?(A=!0,I="g"):pN[I]||(_===void 0&&(_=12),k=!0,I="g"),(b||h==="0"&&g==="=")&&(b=!0,h="0",g="=");var T=(m&&m.prefix!==void 0?m.prefix:"")+(v==="$"?r:v==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():""),M=(v==="$"?n:/[%p]/.test(I)?o:"")+(m&&m.suffix!==void 0?m.suffix:""),O=pN[I],U=/[defgprs%]/.test(I);_=_===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function P(C){var F=T,V=M,te,de,me;if(I==="c")V=O(C)+V,C="";else{C=+C;var ue=C<0||1/C<0;if(C=isNaN(C)?c:O(Math.abs(C),_),k&&(C=UU(C)),ue&&+C==0&&p!=="+"&&(ue=!1),F=(ue?p==="("?p:l:p==="-"||p==="("?"":p)+F,V=(I==="s"&&!isNaN(C)&&Jm!==void 0?vN[8+Jm/3]:"")+V+(ue&&p==="("?")":""),U){for(te=-1,de=C.length;++te<de;)if(me=C.charCodeAt(te),48>me||me>57){V=(me===46?a+C.slice(te+1):C.slice(te))+V,C=C.slice(0,te);break}}}A&&!b&&(C=t(C,1/0));var he=F.length+C.length+V.length,Ne=he<j?new Array(j-he+1).join(h):"";switch(A&&b&&(C=t(Ne+C,Ne.length?j-V.length:1/0),Ne=""),g){case"<":C=F+C+V+Ne;break;case"=":C=F+Ne+C+V;break;case"^":C=Ne.slice(0,he=Ne.length>>1)+F+C+V+Ne.slice(he);break;default:C=Ne+F+C+V;break}return i(C)}return P.toString=function(){return f+""},P}function d(f,m){var h=Math.max(-8,Math.min(8,Math.floor(yd(m)/3)))*3,g=Math.pow(10,-h),p=u((f=sh(f),f.type="f",f),{suffix:vN[8+h/3]});return function(v){return p(g*v)}}return{format:u,formatPrefix:d}}var G0,Vb,EP;VU({thousands:",",grouping:[3],currency:["$",""]});function VU(e){return G0=HU(e),Vb=G0.format,EP=G0.formatPrefix,G0}function GU(e){return Math.max(0,-yd(Math.abs(e)))}function KU(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yd(t)/3)))*3-yd(Math.abs(e)))}function YU(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,yd(t)-yd(e))+1}function kP(e,t,r,n){var a=u2(e,t,r),i;switch(n=sh(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=KU(a,o))&&(n.precision=i),EP(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=YU(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=GU(a))&&(n.precision=i-(n.type==="%")*2);break}}return Vb(n)}function fc(e){var t=e.domain;return e.ticks=function(r){var n=t();return l2(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return kP(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=c2(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function TP(){var e=Wb();return e.copy=function(){return Lh(e,TP())},ss.apply(e,arguments),fc(e)}function OP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Xm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return OP(e).unknown(t)},e=arguments.length?Array.from(e,Xm):[0,1],fc(r)}function DP(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function bN(e){return Math.log(e)}function yN(e){return Math.exp(e)}function XU(e){return-Math.log(-e)}function ZU(e){return-Math.exp(-e)}function JU(e){return isFinite(e)?+("1e"+e):e<0?0:e}function QU(e){return e===10?JU:e===Math.E?Math.exp:t=>Math.pow(e,t)}function eW(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function wN(e){return(t,r)=>-e(-t,r)}function Gb(e){const t=e(bN,yN),r=t.domain;let n=10,a,i;function o(){return a=eW(n),i=QU(n),r()[0]<0?(a=wN(a),i=wN(i),e(XU,ZU)):e(bN,yN),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),h=a(d),g,p;const v=l==null?10:+l;let b=[];if(!(n%1)&&h-m<v){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(g=1;g<n;++g)if(p=m<0?g/i(-m):g*i(m),!(p<u)){if(p>d)break;b.push(p)}}else for(;m<=h;++m)for(g=n-1;g>=1;--g)if(p=m>0?g/i(-m):g*i(m),!(p<u)){if(p>d)break;b.push(p)}b.length*2<v&&(b=l2(u,d,v))}else b=l2(m,h,Math.min(h-m,v)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=sh(c)).precision==null&&(c.trim=!0),c=Vb(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(DP(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function IP(){const e=Gb(s1()).domain([1,10]);return e.copy=()=>Lh(e,IP()).base(e.base()),ss.apply(e,arguments),e}function NN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function jN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Kb(e){var t=1,r=e(NN(t),jN(t));return r.constant=function(n){return arguments.length?e(NN(t=+n),jN(t)):t},fc(r)}function MP(){var e=Kb(s1());return e.copy=function(){return Lh(e,MP()).constant(e.constant())},ss.apply(e,arguments)}function _N(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function tW(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function rW(e){return e<0?-e*e:e*e}function Yb(e){var t=e(Qa,Qa),r=1;function n(){return r===1?e(Qa,Qa):r===.5?e(tW,rW):e(_N(r),_N(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},fc(t)}function Xb(){var e=Yb(s1());return e.copy=function(){return Lh(e,Xb()).exponent(e.exponent())},ss.apply(e,arguments),e}function nW(){return Xb.apply(null,arguments).exponent(.5)}function AN(e){return Math.sign(e)*e*e}function aW(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function FP(){var e=Wb(),t=[0,1],r=!1,n;function a(i){var o=aW(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(AN(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Xm)).map(AN)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return FP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ss.apply(a,arguments),fc(a)}function LP(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=lU(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Mh(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Vl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return LP().domain(e).range(t).unknown(n)},ss.apply(i,arguments)}function RP(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Mh(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return RP().domain([e,t]).range(a).unknown(i)},ss.apply(fc(o),arguments)}function BP(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Mh(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return BP().domain(e).range(t).unknown(r)},ss.apply(a,arguments)}const Tg=new Date,Og=new Date;function ea(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>ea(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Tg.setTime(+i),Og.setTime(+o),e(Tg),e(Og),Math.floor(r(Tg,Og))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Qm=ea(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Qm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ea(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Qm);Qm.range;const zo=1e3,rs=zo*60,$o=rs*60,el=$o*24,Zb=el*7,SN=el*30,Dg=el*365,zc=ea(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*zo)},(e,t)=>(t-e)/zo,e=>e.getUTCSeconds());zc.range;const Jb=ea(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zo)},(e,t)=>{e.setTime(+e+t*rs)},(e,t)=>(t-e)/rs,e=>e.getMinutes());Jb.range;const Qb=ea(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*rs)},(e,t)=>(t-e)/rs,e=>e.getUTCMinutes());Qb.range;const e5=ea(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zo-e.getMinutes()*rs)},(e,t)=>{e.setTime(+e+t*$o)},(e,t)=>(t-e)/$o,e=>e.getHours());e5.range;const t5=ea(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*$o)},(e,t)=>(t-e)/$o,e=>e.getUTCHours());t5.range;const Rh=ea(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*rs)/el,e=>e.getDate()-1);Rh.range;const o1=ea(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/el,e=>e.getUTCDate()-1);o1.range;const qP=ea(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/el,e=>Math.floor(e/el));qP.range;function mu(e){return ea(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*rs)/Zb)}const l1=mu(0),ep=mu(1),iW=mu(2),sW=mu(3),wd=mu(4),oW=mu(5),lW=mu(6);l1.range;ep.range;iW.range;sW.range;wd.range;oW.range;lW.range;function pu(e){return ea(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Zb)}const c1=pu(0),tp=pu(1),cW=pu(2),uW=pu(3),Nd=pu(4),dW=pu(5),fW=pu(6);c1.range;tp.range;cW.range;uW.range;Nd.range;dW.range;fW.range;const r5=ea(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());r5.range;const n5=ea(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());n5.range;const tl=ea(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());tl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ea(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});tl.range;const rl=ea(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());rl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ea(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});rl.range;function zP(e,t,r,n,a,i){const o=[[zc,1,zo],[zc,5,5*zo],[zc,15,15*zo],[zc,30,30*zo],[i,1,rs],[i,5,5*rs],[i,15,15*rs],[i,30,30*rs],[a,1,$o],[a,3,3*$o],[a,6,6*$o],[a,12,12*$o],[n,1,el],[n,2,2*el],[r,1,Zb],[t,1,SN],[t,3,3*SN],[e,1,Dg]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),g=h?h.range(u,+d+1):[];return m?g.reverse():g}function c(u,d,f){const m=Math.abs(d-u)/f,h=Rb(([,,v])=>v).right(o,m);if(h===o.length)return e.every(u2(u/Dg,d/Dg,f));if(h===0)return Qm.every(Math.max(u2(u,d,f),1));const[g,p]=o[m/o[h-1][2]<o[h][2]/m?h-1:h];return g.every(p)}return[l,c]}const[hW,mW]=zP(rl,n5,c1,qP,t5,Qb),[pW,xW]=zP(tl,r5,l1,Rh,e5,Jb);function Ig(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Mg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function gW(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Pf(a),d=Ef(a),f=Pf(i),m=Ef(i),h=Pf(o),g=Ef(o),p=Pf(l),v=Ef(l),b=Pf(c),j=Ef(c),A={a:me,A:ue,b:he,B:Ne,c:null,d:ON,e:ON,f:qW,g:XW,G:JW,H:LW,I:RW,j:BW,L:$P,m:zW,M:$W,p:Ee,q:E,Q:MN,s:FN,S:UW,u:WW,U:HW,V:VW,w:GW,W:KW,x:null,X:null,y:YW,Y:ZW,Z:QW,"%":IN},_={a:R,A:L,b:z,B:J,c:null,d:DN,e:DN,f:nH,g:hH,G:pH,H:eH,I:tH,j:rH,L:WP,m:aH,M:iH,p:le,q:xe,Q:MN,s:FN,S:sH,u:oH,U:lH,V:cH,w:uH,W:dH,x:null,X:null,y:fH,Y:mH,Z:xH,"%":IN},k={a:U,A:P,b:C,B:F,c:V,d:kN,e:kN,f:DW,g:EN,G:PN,H:TN,I:TN,j:EW,L:OW,m:PW,M:kW,p:O,q:CW,Q:MW,s:FW,S:TW,u:NW,U:jW,V:_W,w:wW,W:AW,x:te,X:de,y:EN,Y:PN,Z:SW,"%":IW};A.x=I(r,A),A.X=I(n,A),A.c=I(t,A),_.x=I(r,_),_.X=I(n,_),_.c=I(t,_);function I(Q,ce){return function(je){var pe=[],ze=-1,Te=0,Y=Q.length,qe,Oe,et;for(je instanceof Date||(je=new Date(+je));++ze<Y;)Q.charCodeAt(ze)===37&&(pe.push(Q.slice(Te,ze)),(Oe=CN[qe=Q.charAt(++ze)])!=null?qe=Q.charAt(++ze):Oe=qe==="e"?" ":"0",(et=ce[qe])&&(qe=et(je,Oe)),pe.push(qe),Te=ze+1);return pe.push(Q.slice(Te,ze)),pe.join("")}}function T(Q,ce){return function(je){var pe=Cf(1900,void 0,1),ze=M(pe,Q,je+="",0),Te,Y;if(ze!=je.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(ce&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(Te=Mg(Cf(pe.y,0,1)),Y=Te.getUTCDay(),Te=Y>4||Y===0?tp.ceil(Te):tp(Te),Te=o1.offset(Te,(pe.V-1)*7),pe.y=Te.getUTCFullYear(),pe.m=Te.getUTCMonth(),pe.d=Te.getUTCDate()+(pe.w+6)%7):(Te=Ig(Cf(pe.y,0,1)),Y=Te.getDay(),Te=Y>4||Y===0?ep.ceil(Te):ep(Te),Te=Rh.offset(Te,(pe.V-1)*7),pe.y=Te.getFullYear(),pe.m=Te.getMonth(),pe.d=Te.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),Y="Z"in pe?Mg(Cf(pe.y,0,1)).getUTCDay():Ig(Cf(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(Y+5)%7:pe.w+pe.U*7-(Y+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,Mg(pe)):Ig(pe)}}function M(Q,ce,je,pe){for(var ze=0,Te=ce.length,Y=je.length,qe,Oe;ze<Te;){if(pe>=Y)return-1;if(qe=ce.charCodeAt(ze++),qe===37){if(qe=ce.charAt(ze++),Oe=k[qe in CN?ce.charAt(ze++):qe],!Oe||(pe=Oe(Q,je,pe))<0)return-1}else if(qe!=je.charCodeAt(pe++))return-1}return pe}function O(Q,ce,je){var pe=u.exec(ce.slice(je));return pe?(Q.p=d.get(pe[0].toLowerCase()),je+pe[0].length):-1}function U(Q,ce,je){var pe=h.exec(ce.slice(je));return pe?(Q.w=g.get(pe[0].toLowerCase()),je+pe[0].length):-1}function P(Q,ce,je){var pe=f.exec(ce.slice(je));return pe?(Q.w=m.get(pe[0].toLowerCase()),je+pe[0].length):-1}function C(Q,ce,je){var pe=b.exec(ce.slice(je));return pe?(Q.m=j.get(pe[0].toLowerCase()),je+pe[0].length):-1}function F(Q,ce,je){var pe=p.exec(ce.slice(je));return pe?(Q.m=v.get(pe[0].toLowerCase()),je+pe[0].length):-1}function V(Q,ce,je){return M(Q,t,ce,je)}function te(Q,ce,je){return M(Q,r,ce,je)}function de(Q,ce,je){return M(Q,n,ce,je)}function me(Q){return o[Q.getDay()]}function ue(Q){return i[Q.getDay()]}function he(Q){return c[Q.getMonth()]}function Ne(Q){return l[Q.getMonth()]}function Ee(Q){return a[+(Q.getHours()>=12)]}function E(Q){return 1+~~(Q.getMonth()/3)}function R(Q){return o[Q.getUTCDay()]}function L(Q){return i[Q.getUTCDay()]}function z(Q){return c[Q.getUTCMonth()]}function J(Q){return l[Q.getUTCMonth()]}function le(Q){return a[+(Q.getUTCHours()>=12)]}function xe(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var ce=I(Q+="",A);return ce.toString=function(){return Q},ce},parse:function(Q){var ce=T(Q+="",!1);return ce.toString=function(){return Q},ce},utcFormat:function(Q){var ce=I(Q+="",_);return ce.toString=function(){return Q},ce},utcParse:function(Q){var ce=T(Q+="",!0);return ce.toString=function(){return Q},ce}}}var CN={"-":"",_:" ",0:"0"},ha=/^\s*\d+/,vW=/^%/,bW=/[\\^$*+?|[\]().{}]/g;function ur(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function yW(e){return e.replace(bW,"\\$&")}function Pf(e){return new RegExp("^(?:"+e.map(yW).join("|")+")","i")}function Ef(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function wW(e,t,r){var n=ha.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function NW(e,t,r){var n=ha.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function jW(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function _W(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function AW(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function PN(e,t,r){var n=ha.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function EN(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function SW(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function CW(e,t,r){var n=ha.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function PW(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function kN(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function EW(e,t,r){var n=ha.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function TN(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function kW(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function TW(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function OW(e,t,r){var n=ha.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function DW(e,t,r){var n=ha.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function IW(e,t,r){var n=vW.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function MW(e,t,r){var n=ha.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function FW(e,t,r){var n=ha.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function ON(e,t){return ur(e.getDate(),t,2)}function LW(e,t){return ur(e.getHours(),t,2)}function RW(e,t){return ur(e.getHours()%12||12,t,2)}function BW(e,t){return ur(1+Rh.count(tl(e),e),t,3)}function $P(e,t){return ur(e.getMilliseconds(),t,3)}function qW(e,t){return $P(e,t)+"000"}function zW(e,t){return ur(e.getMonth()+1,t,2)}function $W(e,t){return ur(e.getMinutes(),t,2)}function UW(e,t){return ur(e.getSeconds(),t,2)}function WW(e){var t=e.getDay();return t===0?7:t}function HW(e,t){return ur(l1.count(tl(e)-1,e),t,2)}function UP(e){var t=e.getDay();return t>=4||t===0?wd(e):wd.ceil(e)}function VW(e,t){return e=UP(e),ur(wd.count(tl(e),e)+(tl(e).getDay()===4),t,2)}function GW(e){return e.getDay()}function KW(e,t){return ur(ep.count(tl(e)-1,e),t,2)}function YW(e,t){return ur(e.getFullYear()%100,t,2)}function XW(e,t){return e=UP(e),ur(e.getFullYear()%100,t,2)}function ZW(e,t){return ur(e.getFullYear()%1e4,t,4)}function JW(e,t){var r=e.getDay();return e=r>=4||r===0?wd(e):wd.ceil(e),ur(e.getFullYear()%1e4,t,4)}function QW(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ur(t/60|0,"0",2)+ur(t%60,"0",2)}function DN(e,t){return ur(e.getUTCDate(),t,2)}function eH(e,t){return ur(e.getUTCHours(),t,2)}function tH(e,t){return ur(e.getUTCHours()%12||12,t,2)}function rH(e,t){return ur(1+o1.count(rl(e),e),t,3)}function WP(e,t){return ur(e.getUTCMilliseconds(),t,3)}function nH(e,t){return WP(e,t)+"000"}function aH(e,t){return ur(e.getUTCMonth()+1,t,2)}function iH(e,t){return ur(e.getUTCMinutes(),t,2)}function sH(e,t){return ur(e.getUTCSeconds(),t,2)}function oH(e){var t=e.getUTCDay();return t===0?7:t}function lH(e,t){return ur(c1.count(rl(e)-1,e),t,2)}function HP(e){var t=e.getUTCDay();return t>=4||t===0?Nd(e):Nd.ceil(e)}function cH(e,t){return e=HP(e),ur(Nd.count(rl(e),e)+(rl(e).getUTCDay()===4),t,2)}function uH(e){return e.getUTCDay()}function dH(e,t){return ur(tp.count(rl(e)-1,e),t,2)}function fH(e,t){return ur(e.getUTCFullYear()%100,t,2)}function hH(e,t){return e=HP(e),ur(e.getUTCFullYear()%100,t,2)}function mH(e,t){return ur(e.getUTCFullYear()%1e4,t,4)}function pH(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Nd(e):Nd.ceil(e),ur(e.getUTCFullYear()%1e4,t,4)}function xH(){return"+0000"}function IN(){return"%"}function MN(e){return+e}function FN(e){return Math.floor(+e/1e3)}var qu,VP,GP;gH({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gH(e){return qu=gW(e),VP=qu.format,qu.parse,GP=qu.utcFormat,qu.utcParse,qu}function vH(e){return new Date(e)}function bH(e){return e instanceof Date?+e:+new Date(+e)}function a5(e,t,r,n,a,i,o,l,c,u){var d=Wb(),f=d.invert,m=d.domain,h=u(".%L"),g=u(":%S"),p=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),j=u("%b %d"),A=u("%B"),_=u("%Y");function k(I){return(c(I)<I?h:l(I)<I?g:o(I)<I?p:i(I)<I?v:n(I)<I?a(I)<I?b:j:r(I)<I?A:_)(I)}return d.invert=function(I){return new Date(f(I))},d.domain=function(I){return arguments.length?m(Array.from(I,bH)):m().map(vH)},d.ticks=function(I){var T=m();return e(T[0],T[T.length-1],I??10)},d.tickFormat=function(I,T){return T==null?k:u(T)},d.nice=function(I){var T=m();return(!I||typeof I.range!="function")&&(I=t(T[0],T[T.length-1],I??10)),I?m(DP(T,I)):d},d.copy=function(){return Lh(d,a5(e,t,r,n,a,i,o,l,c,u))},d}function yH(){return ss.apply(a5(pW,xW,tl,r5,l1,Rh,e5,Jb,zc,VP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wH(){return ss.apply(a5(hW,mW,rl,n5,c1,o1,t5,Qb,zc,GP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function u1(){var e=0,t=1,r,n,a,i,o=Qa,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var h,g;return arguments.length?([h,g]=m,o=f(h,g),u):[o(0),o(1)]}}return u.range=d(Od),u.rangeRound=d(Ub),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function hc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function KP(){var e=fc(u1()(Qa));return e.copy=function(){return hc(e,KP())},fl.apply(e,arguments)}function YP(){var e=Gb(u1()).domain([1,10]);return e.copy=function(){return hc(e,YP()).base(e.base())},fl.apply(e,arguments)}function XP(){var e=Kb(u1());return e.copy=function(){return hc(e,XP()).constant(e.constant())},fl.apply(e,arguments)}function i5(){var e=Yb(u1());return e.copy=function(){return hc(e,i5()).exponent(e.exponent())},fl.apply(e,arguments)}function NH(){return i5.apply(null,arguments).exponent(.5)}function ZP(){var e=[],t=Qa;function r(n){if(n!=null&&!isNaN(n=+n))return t((Mh(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Vl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>oU(e,i/n))},r.copy=function(){return ZP(t).domain(e)},fl.apply(r,arguments)}function d1(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Qa,d,f=!1,m;function h(p){return isNaN(p=+p)?m:(p=.5+((p=+d(p))-i)*(n*p<n*i?l:c),u(f?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,h):[e,t,r]},h.clamp=function(p){return arguments.length?(f=!!p,h):f},h.interpolator=function(p){return arguments.length?(u=p,h):u};function g(p){return function(v){var b,j,A;return arguments.length?([b,j,A]=v,u=IU(p,[b,j,A]),h):[u(0),u(.5),u(1)]}}return h.range=g(Od),h.rangeRound=g(Ub),h.unknown=function(p){return arguments.length?(m=p,h):m},function(p){return d=p,a=p(e),i=p(t),o=p(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,h}}function JP(){var e=fc(d1()(Qa));return e.copy=function(){return hc(e,JP())},fl.apply(e,arguments)}function QP(){var e=Gb(d1()).domain([.1,1,10]);return e.copy=function(){return hc(e,QP()).base(e.base())},fl.apply(e,arguments)}function e8(){var e=Kb(d1());return e.copy=function(){return hc(e,e8()).constant(e.constant())},fl.apply(e,arguments)}function s5(){var e=Yb(d1());return e.copy=function(){return hc(e,s5()).exponent(e.exponent())},fl.apply(e,arguments)}function jH(){return s5.apply(null,arguments).exponent(.5)}const Rf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:qb,scaleDiverging:JP,scaleDivergingLog:QP,scaleDivergingPow:s5,scaleDivergingSqrt:jH,scaleDivergingSymlog:e8,scaleIdentity:OP,scaleImplicit:d2,scaleLinear:TP,scaleLog:IP,scaleOrdinal:Bb,scalePoint:uU,scalePow:Xb,scaleQuantile:LP,scaleQuantize:RP,scaleRadial:FP,scaleSequential:KP,scaleSequentialLog:YP,scaleSequentialPow:i5,scaleSequentialQuantile:ZP,scaleSequentialSqrt:NH,scaleSequentialSymlog:XP,scaleSqrt:nW,scaleSymlog:MP,scaleThreshold:BP,scaleTime:yH,scaleUtc:wH,tickFormat:kP},Symbol.toStringTag,{value:"Module"}));var hl=e=>e.chartData,f1=Ae([hl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),o5=(e,t,r,n)=>n?f1(e):hl(e),_H=(e,t,r)=>r?f1(e):hl(e);function nl(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(nr(t)&&nr(r))return!0}return!1}function LN(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function t8(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(nr(r))a=r;else if(typeof r=="function")return;if(nr(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(nl(o))return o}}function AH(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(nl(n))return LN(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(ht(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t?.[0]))}catch{}else if(typeof a=="string"&&Q4.test(a)){var c=Q4.exec(a);if(c==null||c[1]==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t?.[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(ht(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t?.[1]))}catch{}else if(typeof i=="string"&&e3.test(i)){var d=e3.exec(i);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t?.[1];var m=[o,l];if(nl(m))return t==null?m:LN(m,t,r)}}}var Dd=1e9,SH={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},c5,Qr=!0,as="[DecimalError] ",Gc=as+"Invalid argument: ",l5=as+"Exponent out of range: ",Id=Math.floor,Ic=Math.pow,CH=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ii,aa=1e7,Hr=7,r8=9007199254740991,rp=Id(r8/Hr),mt={};mt.absoluteValue=mt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};mt.comparedTo=mt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};mt.decimalPlaces=mt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Hr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};mt.dividedBy=mt.div=function(e){return Ho(this,new this.constructor(e))};mt.dividedToIntegerBy=mt.idiv=function(e){var t=this,r=t.constructor;return Lr(Ho(t,new r(e),0,1),r.precision)};mt.equals=mt.eq=function(e){return!this.cmp(e)};mt.exponent=function(){return Rn(this)};mt.greaterThan=mt.gt=function(e){return this.cmp(e)>0};mt.greaterThanOrEqualTo=mt.gte=function(e){return this.cmp(e)>=0};mt.isInteger=mt.isint=function(){return this.e>this.d.length-2};mt.isNegative=mt.isneg=function(){return this.s<0};mt.isPositive=mt.ispos=function(){return this.s>0};mt.isZero=function(){return this.s===0};mt.lessThan=mt.lt=function(e){return this.cmp(e)<0};mt.lessThanOrEqualTo=mt.lte=function(e){return this.cmp(e)<1};mt.logarithm=mt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ii))throw Error(as+"NaN");if(r.s<1)throw Error(as+(r.s?"NaN":"-Infinity"));return r.eq(Ii)?new n(0):(Qr=!1,t=Ho(oh(r,i),oh(e,i),i),Qr=!0,Lr(t,a))};mt.minus=mt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?i8(t,e):n8(t,(e.s=-e.s,e))};mt.modulo=mt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(as+"NaN");return r.s?(Qr=!1,t=Ho(r,e,0,1).times(e),Qr=!0,r.minus(t)):Lr(new n(r),a)};mt.naturalExponential=mt.exp=function(){return a8(this)};mt.naturalLogarithm=mt.ln=function(){return oh(this)};mt.negated=mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};mt.plus=mt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?n8(t,e):i8(t,(e.s=-e.s,e))};mt.precision=mt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Gc+e);if(t=Rn(a)+1,n=a.d.length-1,r=n*Hr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};mt.squareRoot=mt.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(as+"NaN")}for(e=Rn(l),Qr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Ys(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Id((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Ho(l,i,o+2)).times(.5),Ys(i.d).slice(0,o)===(t=Ys(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Lr(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Qr=!0,Lr(n,r)};mt.times=mt.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,m=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=h.length,c<u&&(i=m,m=h,h=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+h[n]*m[a-n-1]+t,i[a--]=l%aa|0,t=l/aa|0;i[a]=(i[a]+t)%aa|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Qr?Lr(e,f.precision):e};mt.toDecimalPlaces=mt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(oo(e,0,Dd),t===void 0?t=n.rounding:oo(t,0,8),Lr(r,e+Rn(r)+1,t))};mt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=tu(n,!0):(oo(e,0,Dd),t===void 0?t=a.rounding:oo(t,0,8),n=Lr(new a(n),e+1,t),r=tu(n,!0,e+1)),r};mt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?tu(a):(oo(e,0,Dd),t===void 0?t=i.rounding:oo(t,0,8),n=Lr(new i(a),e+Rn(a)+1,t),r=tu(n.abs(),!1,e+Rn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};mt.toInteger=mt.toint=function(){var e=this,t=e.constructor;return Lr(new t(e),Rn(e)+1,t.rounding)};mt.toNumber=function(){return+this};mt.toPower=mt.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Ii);if(l=new c(l),!l.s){if(e.s<1)throw Error(as+"Infinity");return l}if(l.eq(Ii))return l;if(n=c.precision,e.eq(Ii))return Lr(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=r8){for(a=new c(Ii),t=Math.ceil(n/Hr+4),Qr=!1;r%2&&(a=a.times(l),BN(a.d,t)),r=Id(r/2),r!==0;)l=l.times(l),BN(l.d,t);return Qr=!0,e.s<0?new c(Ii).div(a):Lr(a,n)}}else if(i<0)throw Error(as+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Qr=!1,a=e.times(oh(l,n+u)),Qr=!0,a=a8(a),a.s=i,a};mt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Rn(a),n=tu(a,r<=i.toExpNeg||r>=i.toExpPos)):(oo(e,1,Dd),t===void 0?t=i.rounding:oo(t,0,8),a=Lr(new i(a),e,t),r=Rn(a),n=tu(a,e<=r||r<=i.toExpNeg,e)),n};mt.toSignificantDigits=mt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(oo(e,1,Dd),t===void 0?t=n.rounding:oo(t,0,8)),Lr(new n(r),e,t)};mt.toString=mt.valueOf=mt.val=mt.toJSON=mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Rn(e),r=e.constructor;return tu(e,t<=r.toExpNeg||t>=r.toExpPos)};function n8(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Qr?Lr(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Hr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/aa|0,c[i]%=aa;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Qr?Lr(t,f):t}function oo(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Gc+e)}function Ys(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Hr-n.length,r&&(i+=Rl(r)),i+=n;o=e[t],n=o+"",r=Hr-n.length,r&&(i+=Rl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ho=(function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%aa|0,o=i/aa|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*aa+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,m,h,g,p,v,b,j,A,_,k,I,T,M,O=n.constructor,U=n.s==a.s?1:-1,P=n.d,C=a.d;if(!n.s)return new O(n);if(!a.s)throw Error(as+"Division by zero");for(c=n.e-a.e,T=C.length,k=P.length,h=new O(U),g=h.d=[],u=0;C[u]==(P[u]||0);)++u;if(C[u]>(P[u]||0)&&--c,i==null?j=i=O.precision:o?j=i+(Rn(n)-Rn(a))+1:j=i,j<0)return new O(0);if(j=j/Hr+2|0,u=0,T==1)for(d=0,C=C[0],j++;(u<k||d)&&j--;u++)A=d*aa+(P[u]||0),g[u]=A/C|0,d=A%C|0;else{for(d=aa/(C[0]+1)|0,d>1&&(C=e(C,d),P=e(P,d),T=C.length,k=P.length),_=T,p=P.slice(0,T),v=p.length;v<T;)p[v++]=0;M=C.slice(),M.unshift(0),I=C[0],C[1]>=aa/2&&++I;do d=0,l=t(C,p,T,v),l<0?(b=p[0],T!=v&&(b=b*aa+(p[1]||0)),d=b/I|0,d>1?(d>=aa&&(d=aa-1),f=e(C,d),m=f.length,v=p.length,l=t(f,p,m,v),l==1&&(d--,r(f,T<m?M:C,m))):(d==0&&(l=d=1),f=C.slice()),m=f.length,m<v&&f.unshift(0),r(p,f,v),l==-1&&(v=p.length,l=t(C,p,T,v),l<1&&(d++,r(p,T<v?M:C,v))),v=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[v++]=P[_]||0:(p=[P[_]],v=1);while((_++<k||p[0]!==void 0)&&j--)}return g[0]||g.shift(),h.e=c,Lr(h,o?i+Rn(h)+1:i)}})();function a8(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Rn(e)>16)throw Error(l5+Rn(e));if(!e.s)return new d(Ii);for(Qr=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Ic(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Ii),d.precision=l;;){if(a=Lr(a.times(e),l),r=r.times(++c),o=i.plus(Ho(a,r,l)),Ys(o.d).slice(0,l)===Ys(i.d).slice(0,l)){for(;u--;)i=Lr(i.times(i),l);return d.precision=f,t==null?(Qr=!0,Lr(i,f)):i}i=o}}function Rn(e){for(var t=e.e*Hr,r=e.d[0];r>=10;r/=10)t++;return t}function Fg(e,t,r){if(t>e.LN10.sd())throw Qr=!0,r&&(e.precision=r),Error(as+"LN10 precision limit exceeded");return Lr(new e(e.LN10),t)}function Rl(e){for(var t="";e--;)t+="0";return t}function oh(e,t){var r,n,a,i,o,l,c,u,d,f=1,m=10,h=e,g=h.d,p=h.constructor,v=p.precision;if(h.s<1)throw Error(as+(h.s?"NaN":"-Infinity"));if(h.eq(Ii))return new p(0);if(t==null?(Qr=!1,u=v):u=t,h.eq(10))return t==null&&(Qr=!0),Fg(p,u);if(u+=m,p.precision=u,r=Ys(g),n=r.charAt(0),i=Rn(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Ys(h.d),n=r.charAt(0),f++;i=Rn(h),n>1?(h=new p("0."+r),i++):h=new p(n+"."+r.slice(1))}else return c=Fg(p,u+2,v).times(i+""),h=oh(new p(n+"."+r.slice(1)),u-m).plus(c),p.precision=v,t==null?(Qr=!0,Lr(h,v)):h;for(l=o=h=Ho(h.minus(Ii),h.plus(Ii),u),d=Lr(h.times(h),u),a=3;;){if(o=Lr(o.times(d),u),c=l.plus(Ho(o,new p(a),u)),Ys(c.d).slice(0,u)===Ys(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Fg(p,u+2,v).times(i+""))),l=Ho(l,new p(f),u),p.precision=v,t==null?(Qr=!0,Lr(l,v)):l;l=c,a+=2}}function RN(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Id(r/Hr),e.d=[],n=(r+1)%Hr,r<0&&(n+=Hr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Hr;n<a;)e.d.push(+t.slice(n,n+=Hr));t=t.slice(n),n=Hr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Qr&&(e.e>rp||e.e<-rp))throw Error(l5+r)}else e.s=0,e.e=0,e.d=[0];return e}function Lr(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Hr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Hr),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Hr,a=n-Hr+o}if(r!==void 0&&(i=Ic(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Ic(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Rn(e),f.length=1,t=t-i-1,f[0]=Ic(10,(Hr-t%Hr)%Hr),e.e=Id(-t/Hr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ic(10,Hr-n),f[d]=a>0?(u/Ic(10,o-a)%Ic(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==aa&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=aa)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Qr&&(e.e>rp||e.e<-rp))throw Error(l5+Rn(e));return e}function i8(e,t){var r,n,a,i,o,l,c,u,d,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Qr?Lr(t,h):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(h/Hr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=aa-1;--c[i],c[a]+=aa}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Qr?Lr(t,h):t):new m(0)}function tu(e,t,r){var n,a=Rn(e),i=Ys(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Rl(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Rl(-a-1)+i,r&&(n=r-o)>0&&(i+=Rl(n))):a>=o?(i+=Rl(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Rl(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Rl(n))),e.s<0?"-"+i:i}function BN(e,t){if(e.length>t)return e.length=t,!0}function s8(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Gc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return RN(o,i.toString())}else if(typeof i!="string")throw Error(Gc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,CH.test(i))RN(o,i);else throw Error(Gc+i)}if(a.prototype=mt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=s8,a.config=a.set=PH,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function PH(e){if(!e||typeof e!="object")throw Error(as+"Object expected");var t,r,n,a=["precision",1,Dd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Id(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Gc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Gc+r+": "+n);return this}var c5=s8(SH);Ii=new c5(1);const wr=c5;function o8(e){var t;return e===0?t=1:t=Math.floor(new wr(e).abs().log(10).toNumber())+1,t}function l8(e,t,r){for(var n=new wr(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var c8=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},u8=(e,t,r)=>{if(e.lte(0))return new wr(0);var n=o8(e.toNumber()),a=new wr(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new wr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?new wr(c.toNumber()):new wr(Math.ceil(c.toNumber()))},EH=(e,t,r)=>{var n=new wr(1),a=new wr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new wr(10).pow(o8(e)-1),a=new wr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new wr(Math.floor(e)))}else e===0?a=new wr(Math.floor((t-1)/2)):r||(a=new wr(Math.floor(e)));for(var o=Math.floor((t-1)/2),l=[],c=0;c<t;c++)l.push(a.add(new wr(c-o).mul(n)).toNumber());return l},d8=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new wr(0),tickMin:new wr(0),tickMax:new wr(0)};var o=u8(new wr(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new wr(0):(l=new wr(t).add(r).div(2),l=l.sub(new wr(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new wr(r).sub(l).div(o).toNumber()),d=c+u+1;return d>n?d8(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:l.sub(new wr(c).mul(o)),tickMax:l.add(new wr(u).mul(o))})},kH=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[l,c]=c8([r,n]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),c];return r>n?u.reverse():u}if(l===c)return EH(l,a,i);var{step:d,tickMin:f,tickMax:m}=d8(l,c,o,i,0),h=l8(f,m.add(new wr(.1).mul(d)),d);return r>n?h.reverse():h},TH=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=c8([n,a]);if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var c=Math.max(r,2),u=u8(new wr(l).sub(o).div(c-1),i,0),d=[...l8(new wr(o),new wr(l),u),l];return i===!1&&(d=d.map(f=>Math.round(f))),n>a?d.reverse():d},f8=e=>e.rootProps.maxBarSize,OH=e=>e.rootProps.barGap,h8=e=>e.rootProps.barCategoryGap,DH=e=>e.rootProps.barSize,Bh=e=>e.rootProps.stackOffset,m8=e=>e.rootProps.reverseStackOrder,u5=e=>e.options.chartName,d5=e=>e.rootProps.syncId,p8=e=>e.rootProps.syncMethod,f5=e=>e.options.eventEmitter,Ln={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},kc={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Bs={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},h1=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function m1(e,t,r){if(r!=="auto")return r;if(e!=null)return cl(e,t)?"category":"number"}function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function np(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(n){IH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IH(e,t,r){return(t=MH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MH(e){var t=FH(e,"string");return typeof t=="symbol"?t:t+""}function FH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zN={allowDataOverflow:kc.allowDataOverflow,allowDecimals:kc.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:kc.angleAxisId,includeHidden:!1,name:void 0,reversed:kc.reversed,scale:kc.scale,tick:kc.tick,tickCount:void 0,ticks:void 0,type:kc.type,unit:void 0},$N={allowDataOverflow:Bs.allowDataOverflow,allowDecimals:Bs.allowDecimals,allowDuplicatedCategory:Bs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bs.radiusAxisId,includeHidden:Bs.includeHidden,name:void 0,reversed:Bs.reversed,scale:Bs.scale,tick:Bs.tick,tickCount:Bs.tickCount,ticks:void 0,type:Bs.type,unit:void 0},LH=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},h5=Ae([LH,sP],(e,t)=>{var r;if(e!=null)return e;var n=(r=m1(t,"angleAxis",zN.type))!==null&&r!==void 0?r:"category";return np(np({},zN),{},{type:n})}),RH=(e,t)=>e.polarAxis.radiusAxis[t],m5=Ae([RH,sP],(e,t)=>{var r;if(e!=null)return e;var n=(r=m1(t,"radiusAxis",$N.type))!==null&&r!==void 0?r:"category";return np(np({},$N),{},{type:n})}),p1=e=>e.polarOptions,p5=Ae([ul,dl,Qn],gP),x8=Ae([p1,p5],(e,t)=>{if(e!=null)return qa(e.innerRadius,t,0)}),g8=Ae([p1,p5],(e,t)=>{if(e!=null)return qa(e.outerRadius,t,t*.8)}),BH=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},v8=Ae([p1],BH);Ae([h5,v8],h1);var b8=Ae([p5,x8,g8],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Ae([m5,b8],h1);var y8=Ae([fr,p1,x8,g8,ul,dl],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:qa(o,a,a/2),cy:qa(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),on=(e,t)=>t,qh=(e,t,r)=>r;function x5(e){return e?.id}function w8(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=x5(l);u.forEach((f,m)=>{var h=i==null||a?m:String(Or(f,i,null)),g=Or(f,l.dataKey,0),p;o.has(h)?p=o.get(h):p={},Object.assign(p,{[d]:g}),o.set(h,p)})}}),Array.from(o.values())}function x1(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var g1=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function v1(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function qH(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var ma=e=>{var t=fr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Md=e=>e.tooltip.settings.axisId;function zH(e){if(e in Rf)return Rf[e]();var t="scale".concat(Eh(e));if(t in Rf)return Rf[t]()}function UN(e){var t=e.ticks,r=e.bandwidth,n=e.range(),a=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(i){function o(){return i.apply(this,arguments)}return o.toString=function(){return i.toString()},o})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(i){var o=a[0],l=a[1];return o<=l?i>=o&&i<=l:i>=l&&i<=o},bandwidth:r?()=>r.call(e):void 0,ticks:t?i=>t.call(e,i):void 0,map:(i,o)=>{var l=e(i);if(l!=null){if(e.bandwidth&&o!==null&&o!==void 0&&o.position){var c=e.bandwidth();switch(o.position){case"middle":l+=c/2;break;case"end":l+=c;break}}return l}}}}function WN(e,t,r){if(typeof e=="function")return UN(e.copy().domain(t).range(r));if(e!=null){var n=zH(e);if(n!=null)return n.domain(t).range(r),UN(n)}}var N8=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!nl(t)){for(var r,n,a=0;a<t.length;a++){var i=t[a];nr(i)&&((r===void 0||i<r)&&(r=i),(n===void 0||i>n)&&(n=i))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function HN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ap(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(r),!0).forEach(function(n){$H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $H(e,t,r){return(t=UH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UH(e){var t=WH(e,"string");return typeof t=="symbol"?t:t+""}function WH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p2=[0,"auto"],ra={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},j8=(e,t)=>e.cartesianAxis.xAxis[t],ml=(e,t)=>{var r=j8(e,t);return r??ra},na={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:p2,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Th},_8=(e,t)=>e.cartesianAxis.yAxis[t],pl=(e,t)=>{var r=_8(e,t);return r??na},HH={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},g5=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??HH},gn=(e,t,r)=>{switch(t){case"xAxis":return ml(e,r);case"yAxis":return pl(e,r);case"zAxis":return g5(e,r);case"angleAxis":return h5(e,r);case"radiusAxis":return m5(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},VH=(e,t,r)=>{switch(t){case"xAxis":return ml(e,r);case"yAxis":return pl(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Fd=(e,t,r)=>{switch(t){case"xAxis":return ml(e,r);case"yAxis":return pl(e,r);case"angleAxis":return h5(e,r);case"radiusAxis":return m5(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},A8=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function v5(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var b1=e=>e.graphicalItems.cartesianItems,GH=Ae([on,qh],v5),b5=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),zh=Ae([b1,gn,GH],b5,{memoizeOptions:{resultEqualityCheck:v1}}),S8=Ae([zh],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(x1)),C8=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),KH=Ae([zh],C8),y5=e=>e.map(t=>t.data).filter(Boolean).flat(1),YH=Ae([zh],y5,{memoizeOptions:{resultEqualityCheck:v1}}),w5=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},N5=Ae([YH,o5],w5),j5=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Or(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Or(a,n)}))):e.map(n=>({value:n})),y1=Ae([N5,gn,zh],j5);function P8(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ym(e){if(io(e)||e instanceof Date){var t=Number(e);if(nr(t))return t}}function VN(e){if(Array.isArray(e)){var t=[ym(e[0]),ym(e[1])];return nl(t)?t:void 0}var r=ym(e);if(r!=null)return[r,r]}function al(e){return e.map(ym).filter(ci)}function XH(e,t,r){return!r||typeof t!="number"||ao(t)?[]:r.length?al(r.flatMap(n=>{var a=Or(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!nr(i)||!nr(o)))return[t-i,t+o]})):[]}var ta=e=>{var t=ma(e),r=Md(e);return Fd(e,t,r)},$h=Ae([ta],e=>e?.dataKey),ZH=Ae([S8,o5,ta],w8),E8=(e,t,r,n)=>{var a={},i=t.reduce((o,l)=>{if(l.stackId==null)return o;var c=o[l.stackId];return c==null&&(c=[]),c.push(l),o[l.stackId]=c,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[l,c]=o,u=n?[...c].reverse():c,d=u.map(x5);return[l,{stackedData:Pq(e,d,r),graphicalItems:u}]}))},x2=Ae([ZH,S8,Bh,m8],E8),k8=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=Dq(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},JH=Ae([gn],e=>e.allowDataOverflow),_5=e=>{var t;if(e==null||!("domain"in e))return p2;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=al(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:p2},A5=Ae([gn],_5),S5=Ae([A5,JH],t8),QH=Ae([x2,hl,on,S5],k8,{memoizeOptions:{resultEqualityCheck:g1}}),w1=e=>e.errorBars,eV=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>P8(r,n)),ip=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},C5=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(b=>P8(a,b)),m=Or(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),h=XH(l,m,f);if(h.length>=2){var g=Math.min(...h),p=Math.max(...h);(i==null||g<i)&&(i=g),(o==null||p>o)&&(o=p)}var v=VN(m);v!=null&&(i=i==null?v[0]:Math.min(i,v[0]),o=o==null?v[1]:Math.max(o,v[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var c=VN(Or(l,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),nr(i)&&nr(o))return[i,o]},tV=Ae([N5,gn,KH,w1,on],C5,{memoizeOptions:{resultEqualityCheck:g1}});function rV(e){var{value:t}=e;if(io(t)||t instanceof Date)return t}var nV=(e,t,r)=>{var n=e.map(rV).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&TC(n))?wP(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},T8=e=>e.referenceElements.dots,Ld=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),aV=Ae([T8,on,qh],Ld),O8=e=>e.referenceElements.areas,iV=Ae([O8,on,qh],Ld),D8=e=>e.referenceElements.lines,sV=Ae([D8,on,qh],Ld),I8=(e,t)=>{if(e!=null){var r=al(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},oV=Ae(aV,on,I8),M8=(e,t)=>{if(e!=null){var r=al(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},lV=Ae([iV,on],M8);function cV(e){var t;if(e.x!=null)return al([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:al(r)}function uV(e){var t;if(e.y!=null)return al([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:al(r)}var F8=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?cV(n):uV(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},dV=Ae([sV,on],F8),fV=Ae(oV,dV,lV,(e,t,r)=>ip(e,r,t)),P5=(e,t,r,n,a,i,o,l)=>{if(r!=null)return r;var c=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=c?ip(n,i,a):ip(i,a);return AH(t,u,e.allowDataOverflow)},hV=Ae([gn,A5,S5,QH,tV,fV,fr,on],P5,{memoizeOptions:{resultEqualityCheck:g1}}),mV=[0,1],E5=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=cl(t,i);if(u&&l==null){var d;return wP(0,(d=r?.length)!==null&&d!==void 0?d:0)}return c==="category"?nV(n,e,u):a==="expand"?mV:o}},k5=Ae([gn,fr,N5,y1,Bh,on,hV],E5);function pV(e){return e in Rf}var L8=(e,t,r)=>{if(e!=null){var{scale:n,type:a}=e;if(n==="auto")return a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof n=="string"){var i="scale".concat(Eh(n));return pV(i)?i:"point"}}},mc=Ae([gn,A8,u5],L8);function T5(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?WN(e.scale,r,n):WN(t,r,n)}var O5=(e,t,r)=>{var n=_5(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&nl(e))return kH(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&nl(e))return TH(e,t.tickCount,t.allowDecimals)}},D5=Ae([k5,Fd,mc],O5),I5=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&nl(t)&&Array.isArray(r)&&r.length>0){var a,i,o=t[0],l=(a=r[0])!==null&&a!==void 0?a:0,c=t[1],u=(i=r[r.length-1])!==null&&i!==void 0?i:0;return[Math.min(o,l),Math.max(c,u)]}return t},xV=Ae([gn,k5,D5,on],I5),gV=Ae(y1,gn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(al(e.map(f=>f.value))).sort((f,m)=>f-m),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var l=0;l<n.length-1;l++){var c=n[l],u=n[l+1];if(!(c==null||u==null)){var d=u-c;r=Math.min(r,d)}}return r/o}}),R8=Ae(gV,fr,h8,Qn,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!nr(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=qa(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),vV=(e,t,r)=>{var n=ml(e,t);return n==null||typeof n.padding!="string"?0:R8(e,"xAxis",t,r,n.padding)},bV=(e,t,r)=>{var n=pl(e,t);return n==null||typeof n.padding!="string"?0:R8(e,"yAxis",t,r,n.padding)},yV=Ae(ml,vV,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),wV=Ae(pl,bV,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),NV=Ae([Qn,yV,n1,r1,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),jV=Ae([Qn,fr,wV,n1,r1,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Uh=(e,t,r,n)=>{var a;switch(t){case"xAxis":return NV(e,r,n);case"yAxis":return jV(e,r,n);case"zAxis":return(a=g5(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return v8(e);case"radiusAxis":return b8(e,r);default:return}},B8=Ae([gn,Uh],h1),_V=Ae([mc,xV],N8),N1=Ae([gn,mc,_V,B8],T5);Ae([zh,w1,on],eV);function q8(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var j1=(e,t)=>t,_1=(e,t,r)=>r,AV=Ae(e1,j1,_1,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(q8)),SV=Ae(t1,j1,_1,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(q8)),z8=(e,t)=>({width:e.width,height:t.height}),CV=(e,t)=>{var r=typeof t.width=="number"?t.width:Th;return{width:r,height:e.height}},$8=Ae(Qn,ml,z8),PV=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},EV=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},kV=Ae(dl,Qn,AV,j1,_1,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=z8(t,l);o==null&&(o=PV(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),i}),TV=Ae(ul,Qn,SV,j1,_1,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=CV(t,l);o==null&&(o=EV(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),i}),OV=(e,t)=>{var r=ml(e,t);if(r!=null)return kV(e,r.orientation,r.mirror)},DV=Ae([Qn,ml,OV,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),IV=(e,t)=>{var r=pl(e,t);if(r!=null)return TV(e,r.orientation,r.mirror)},MV=Ae([Qn,pl,IV,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),U8=Ae(Qn,pl,(e,t)=>{var r=typeof t.width=="number"?t.width:Th;return{width:r,height:e.height}}),GN=(e,t,r)=>{switch(t){case"xAxis":return $8(e,r).width;case"yAxis":return U8(e,r).height;default:return}},W8=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=cl(e,n),c=t.map(u=>u.value);if(o&&l&&i==="category"&&a&&TC(c))return c}},M5=Ae([fr,y1,gn,on],W8),H8=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=cl(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},F5=Ae([fr,y1,Fd,on],H8),KN=Ae([fr,VH,mc,N1,M5,F5,Uh,D5,on],(e,t,r,n,a,i,o,l,c)=>{if(t!=null){var u=cl(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:n}}}),FV=(e,t,r,n,a,i,o,l,c)=>{if(!(t==null||n==null)){var u=cl(e,c),{type:d,ticks:f,tickCount:m}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/h:0;g=c==="angleAxis"&&i!=null&&i.length>=2?oa(i[0]-i[1])*2*g:g;var p=f||a;return p?p.map((v,b)=>{var j=o?o.indexOf(v):v,A=n.map(j);return nr(A)?{index:b,coordinate:A+g,value:v,offset:g}:null}).filter(ci):u&&l?l.map((v,b)=>{var j=n.map(v);return nr(j)?{coordinate:j+g,value:v,index:b,offset:g}:null}).filter(ci):n.ticks?n.ticks(m).map((v,b)=>{var j=n.map(v);return nr(j)?{coordinate:j+g,value:v,index:b,offset:g}:null}).filter(ci):n.domain().map((v,b)=>{var j=n.map(v);return nr(j)?{coordinate:j+g,value:o?o[v]:v,index:b,offset:g}:null}).filter(ci)}},V8=Ae([fr,Fd,mc,N1,D5,Uh,M5,F5,on],FV),LV=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=cl(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&n?.length>=2?oa(n[0]-n[1])*2*u:u,l&&i?i.map((d,f)=>{var m=r.map(d);return nr(m)?{coordinate:m+u,value:d,index:f,offset:u}:null}).filter(ci):r.ticks?r.ticks(c).map((d,f)=>{var m=r.map(d);return nr(m)?{coordinate:m+u,value:d,index:f,offset:u}:null}).filter(ci):r.domain().map((d,f)=>{var m=r.map(d);return nr(m)?{coordinate:m+u,value:a?a[d]:d,index:f,offset:u}:null}).filter(ci)}},tc=Ae([fr,Fd,N1,Uh,M5,F5,on],LV),rc=Ae(gn,N1,(e,t)=>{if(!(e==null||t==null))return ap(ap({},e),{},{scale:t})}),RV=Ae([gn,mc,k5,B8],T5);Ae((e,t,r)=>g5(e,r),RV,(e,t)=>{if(!(e==null||t==null))return ap(ap({},e),{},{scale:t})});var BV=Ae([fr,e1,t1],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),G8=e=>e.options.defaultTooltipEventType,K8=e=>e.options.validateTooltipEventTypes;function Y8(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function L5(e,t){var r=G8(e),n=K8(e);return Y8(t,r,n)}function qV(e){return gt(t=>L5(t,e))}var X8=(e,t)=>{var r,n=Number(t);if(!(ao(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},zV=e=>e.tooltip.settings,ql={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},$V={itemInteraction:{click:ql,hover:ql},axisInteraction:{click:ql,hover:ql},keyboardInteraction:ql,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Z8=xi({name:"tooltip",initialState:$V,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(Er(t.payload))},prepare:Xr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Js(e).tooltipItemPayloads.indexOf(Er(r));a>-1&&(e.tooltipItemPayloads[a]=Er(n))},prepare:Xr()},removeTooltipEntrySettings:{reducer(e,t){var r=Js(e).tooltipItemPayloads.indexOf(Er(t.payload));r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Xr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:UV,replaceTooltipEntrySettings:WV,removeTooltipEntrySettings:HV,setTooltipSettingsState:VV,setActiveMouseOverItemIndex:J8,mouseLeaveItem:GV,mouseLeaveChart:Q8,setActiveClickItemIndex:KV,setMouseOverAxisIndex:eE,setMouseClickAxisIndex:YV,setSyncInteraction:g2,setKeyboardInteraction:v2}=Z8.actions,XV=Z8.reducer;function YN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(r),!0).forEach(function(n){ZV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZV(e,t,r){return(t=JV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JV(e){var t=QV(e,"string");return typeof t=="symbol"?t:t+""}function QV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eG(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function tG(e){return e.index!=null}var tE=(e,t,r,n)=>{if(t==null)return ql;var a=eG(e,t,r);if(a==null)return ql;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(tG(a)){if(i)return K0(K0({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return K0(K0({},ql),{},{coordinate:a.coordinate})};function rG(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function nG(e,t){var r=rG(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),o=Math.max(n,a);return r>=i&&r<=o}function aG(e,t,r){if(r==null||t==null)return!0;var n=Or(e,t);return n==null||!nl(r)?!0:nG(n,r)}var R5=(e,t,r,n)=>{var a=e?.index;if(a==null)return null;var i=Number(a);if(!nr(i))return a;var o=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(o,Math.min(i,l)),u=t[c];return u==null||aG(u,r,n)?String(c):null},rE=(e,t,r,n,a,i,o)=>{if(i!=null){var l=o[0],c=l?.getPosition(i);if(c!=null)return c;var u=a?.[Number(i)];if(u)return r==="horizontal"?{x:u.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:u.coordinate}}},nE=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.graphicalItemId)===a})},aE=e=>e.options.tooltipPayloadSearcher,Rd=e=>e.tooltip;function XN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(r),!0).forEach(function(n){iG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iG(e,t,r){return(t=sG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sG(e){var t=oG(e,"string");return typeof t=="symbol"?t:t+""}function oG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lG(e,t){return e??t}var iE=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((m,h)=>{var g,{dataDefinedOnItem:p,settings:v}=h,b=lG(p,l),j=Array.isArray(b)?YC(b,u,d):b,A=(g=v?.dataKey)!==null&&g!==void 0?g:n,_=v?.nameKey,k;if(n&&Array.isArray(j)&&!Array.isArray(j[0])&&o==="axis"?k=OC(j,n,a):k=i(j,t,c,_),Array.isArray(k))k.forEach(T=>{var M=ZN(ZN({},v),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});m.push(t3({tooltipEntrySettings:M,dataKey:T.dataKey,payload:T.payload,value:Or(T.payload,T.dataKey),name:T.name}))});else{var I;m.push(t3({tooltipEntrySettings:v,dataKey:A,payload:k,value:Or(k,A),name:(I=Or(k,_))!==null&&I!==void 0?I:v?.name}))}return m},f)}},B5=Ae([ta,A8,u5],L8),cG=Ae([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),uG=Ae([ma,Md],v5),Bd=Ae([cG,ta,uG],b5,{memoizeOptions:{resultEqualityCheck:v1}}),dG=Ae([Bd],e=>e.filter(x1)),fG=Ae([Bd],y5,{memoizeOptions:{resultEqualityCheck:v1}}),qd=Ae([fG,hl],w5),hG=Ae([dG,hl,ta],w8),q5=Ae([qd,ta,Bd],j5),sE=Ae([ta],_5),mG=Ae([ta],e=>e.allowDataOverflow),oE=Ae([sE,mG],t8),pG=Ae([Bd],e=>e.filter(x1)),xG=Ae([hG,pG,Bh,m8],E8),gG=Ae([xG,hl,ma,oE],k8),vG=Ae([Bd],C8),bG=Ae([qd,ta,vG,w1,ma],C5,{memoizeOptions:{resultEqualityCheck:g1}}),yG=Ae([T8,ma,Md],Ld),wG=Ae([yG,ma],I8),NG=Ae([O8,ma,Md],Ld),jG=Ae([NG,ma],M8),_G=Ae([D8,ma,Md],Ld),AG=Ae([_G,ma],F8),SG=Ae([wG,AG,jG],ip),CG=Ae([ta,sE,oE,gG,bG,SG,fr,ma],P5),Wh=Ae([ta,fr,qd,q5,Bh,ma,CG],E5),PG=Ae([Wh,ta,B5],O5),EG=Ae([ta,Wh,PG,ma],I5),lE=e=>{var t=ma(e),r=Md(e),n=!1;return Uh(e,t,r,n)},cE=Ae([ta,lE],h1),uE=Ae([ta,B5,EG,cE],T5),kG=Ae([fr,q5,ta,ma],W8),TG=Ae([fr,q5,ta,ma],H8),OG=(e,t,r,n,a,i,o,l)=>{if(t){var{type:c}=t,u=cl(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&a?.length>=2?oa(a[0]-a[1])*2*f:f,u&&o?o.map((m,h)=>{var g=n.map(m);return nr(g)?{coordinate:g+f,value:m,index:h,offset:f}:null}).filter(ci):n.domain().map((m,h)=>{var g=n.map(m);return nr(g)?{coordinate:g+f,value:i?i[m]:m,index:h,offset:f}:null}).filter(ci)}}},xl=Ae([fr,ta,B5,uE,lE,kG,TG,ma],OG),z5=Ae([G8,K8,zV],(e,t,r)=>Y8(r.shared,e,t)),dE=e=>e.tooltip.settings.trigger,$5=e=>e.tooltip.settings.defaultIndex,Hh=Ae([Rd,z5,dE,$5],tE),nc=Ae([Hh,qd,$h,Wh],R5),fE=Ae([xl,nc],X8),U5=Ae([Hh],e=>{if(e)return e.dataKey}),DG=Ae([Hh],e=>{if(e)return e.graphicalItemId}),hE=Ae([Rd,z5,dE,$5],nE),IG=Ae([ul,dl,fr,Qn,xl,$5,hE],rE),MG=Ae([Hh,IG],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),FG=Ae([Hh],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),LG=Ae([hE,nc,hl,$h,fE,aE,z5],iE),RG=Ae([LG],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function JN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JN(Object(r),!0).forEach(function(n){BG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BG(e,t,r){return(t=qG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qG(e){var t=zG(e,"string");return typeof t=="symbol"?t:t+""}function zG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $G=()=>gt(ta),UG=()=>{var e=$G(),t=gt(xl),r=gt(uE);return vd(!e||!r?void 0:QN(QN({},e),{},{scale:r}),t)};function ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ej(Object(r),!0).forEach(function(n){WG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WG(e,t,r){return(t=HG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HG(e){var t=VG(e,"string");return typeof t=="symbol"?t:t+""}function VG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GG=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},KG=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=n;return zu(zu(zu({},n),Fn(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:c}=n;return zu(zu(zu({},n),Fn(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function YG(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var mE=(e,t,r,n,a)=>{var i,o=(i=t?.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var c,u,d,f,m,h=l>0?(c=r[l-1])===null||c===void 0?void 0:c.coordinate:(u=r[o-1])===null||u===void 0?void 0:u.coordinate,g=(d=r[l])===null||d===void 0?void 0:d.coordinate,p=l>=o-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(m=r[l+1])===null||m===void 0?void 0:m.coordinate,v=void 0;if(!(h==null||g==null||p==null))if(oa(g-h)!==oa(p-g)){var b=[];if(oa(p-g)===oa(a[1]-a[0])){v=p;var j=g+a[1]-a[0];b[0]=Math.min(j,(j+h)/2),b[1]=Math.max(j,(j+h)/2)}else{v=h;var A=p+a[1]-a[0];b[0]=Math.min(g,(A+g)/2),b[1]=Math.max(g,(A+g)/2)}var _=[Math.min(g,(v+g)/2),Math.max(g,(v+g)/2)];if(e>_[0]&&e<=_[1]||e>=b[0]&&e<=b[1]){var k;return(k=r[l])===null||k===void 0?void 0:k.index}}else{var I=Math.min(h,p),T=Math.max(h,p);if(e>(I+g)/2&&e<=(T+g)/2){var M;return(M=r[l])===null||M===void 0?void 0:M.index}}}else if(t)for(var O=0;O<o;O++){var U=t[O];if(U!=null){var P=t[O+1],C=t[O-1];if(O===0&&P!=null&&e<=(U.coordinate+P.coordinate)/2||O===o-1&&C!=null&&e>(U.coordinate+C.coordinate)/2||O>0&&O<o-1&&C!=null&&P!=null&&e>(U.coordinate+C.coordinate)/2&&e<=(U.coordinate+P.coordinate)/2)return U.index}}return-1},XG=()=>gt(u5),W5=(e,t)=>t,pE=(e,t,r)=>r,H5=(e,t,r,n)=>n,ZG=Ae(xl,e=>Qp(e,t=>t.coordinate)),V5=Ae([Rd,W5,pE,H5],tE),G5=Ae([V5,qd,$h,Wh],R5),JG=(e,t,r)=>{if(t!=null){var n=Rd(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},xE=Ae([Rd,W5,pE,H5],nE),sp=Ae([ul,dl,fr,Qn,xl,H5,xE],rE),QG=Ae([V5,sp],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),gE=Ae([xl,G5],X8),eK=Ae([xE,G5,hl,$h,gE,aE,W5],iE),tK=Ae([V5,G5],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),rK=(e,t,r,n,a,i,o)=>{if(!(!e||!r||!n||!a)&&YG(e,o)){var l=Iq(e,t),c=mE(l,i,a,r,n),u=GG(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},nK=(e,t,r,n,a,i,o)=>{if(!(!e||!n||!a||!i||!r)){var l=q$(e,r);if(l){var c=Mq(l,t),u=mE(c,o,i,n,a),d=KG(t,i,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},aK=(e,t,r,n,a,i,o,l)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?rK(e,t,n,a,i,o,l):nK(e,t,r,n,a,i,o)},iK=Ae(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),sK=Ae(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Ln)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:qH}});function tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tj(Object(r),!0).forEach(function(n){oK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oK(e,t,r){return(t=lK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lK(e){var t=cK(e,"string");return typeof t=="symbol"?t:t+""}function cK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uK={},dK={zIndexMap:Object.values(Ln).reduce((e,t)=>rj(rj({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),uK)},fK=new Set(Object.values(Ln));function hK(e){return fK.has(e)}var vE=xi({name:"zIndex",initialState:dK,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Xr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!hK(r)&&delete e.zIndexMap[r])},prepare:Xr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=Er(n):e.zIndexMap[r].element=Er(n):e.zIndexMap[r]={consumers:0,element:a?void 0:Er(n),panoramaElement:a?Er(n):void 0}},prepare:Xr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Xr()}}}),{registerZIndexPortal:mK,unregisterZIndexPortal:pK,registerZIndexPortalElement:xK,unregisterZIndexPortalElement:gK}=vE.actions,vK=vE.reducer;function gi(e){var{zIndex:t,children:r}=e,n=fz(),a=n&&t!==void 0&&t!==0,i=Ua(),o=Ur();w.useLayoutEffect(()=>a?(o(mK({zIndex:t})),()=>{o(pK({zIndex:t}))}):fu,[o,t,a]);var l=gt(c=>iK(c,t,i));return a?l?eb.createPortal(r,l):null:r}function b2(){return b2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b2.apply(null,arguments)}function nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(r),!0).forEach(function(n){bK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bK(e,t,r){return(t=yK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yK(e){var t=wK(e,"string");return typeof t=="symbol"?t:t+""}function wK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NK(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return w.isValidElement(t)?w.cloneElement(t,n):w.createElement(r,n)}function jK(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,m=n,h=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var g,p,v;if(d==="ScatterChart")g=f,p=e$,v=Ln.cursorLine;else if(d==="BarChart")g=t$(l,f,i,o),p=xP,v=Ln.cursorRectangle;else if(l==="radial"&&IC(f)){var{cx:b,cy:j,radius:A,startAngle:_,endAngle:k}=vP(f);g={cx:b,cy:j,startAngle:_,endAngle:k,innerRadius:A,outerRadius:A},p=yP,v=Ln.cursorLine}else g={points:W$(l,f,i)},p=Lb,v=Ln.cursorLine;var I=typeof c=="object"&&"className"in c?c.className:void 0,T=Y0(Y0(Y0(Y0({stroke:"#ccc",pointerEvents:"none"},i),g),Zc(c)),{},{payload:m,payloadIndex:h,className:ir("recharts-tooltip-cursor",I)});return w.createElement(gi,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},w.createElement(NK,{cursor:c,cursorComp:p,cursorProps:T}))}function _K(e){var t=UG(),r=aP(),n=hu(),a=XG();return t==null||r==null||n==null||a==null?null:w.createElement(jK,b2({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var bE=w.createContext(null),AK=()=>w.useContext(bE),Lg={exports:{}},aj;function SK(){return aj||(aj=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,m),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],h]:c._events[g].push(h):(c._events[g]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,g=new Array(h);m<h;m++)g[m]=f[m].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,g){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],b=arguments.length,j,A;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,m),!0;case 5:return v.fn.call(v.context,d,f,m,h),!0;case 6:return v.fn.call(v.context,d,f,m,h,g),!0}for(A=1,j=new Array(b-1);A<b;A++)j[A-1]=arguments[A];v.fn.apply(v.context,j)}else{var _=v.length,k;for(A=0;A<_;A++)switch(v[A].once&&this.removeListener(u,v[A].fn,void 0,!0),b){case 1:v[A].fn.call(v[A].context);break;case 2:v[A].fn.call(v[A].context,d);break;case 3:v[A].fn.call(v[A].context,d,f);break;case 4:v[A].fn.call(v[A].context,d,f,m);break;default:if(!j)for(k=1,j=new Array(b-1);k<b;k++)j[k-1]=arguments[k];v[A].fn.apply(v[A].context,j)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var g=this._events[h];if(g.fn)g.fn===d&&(!m||g.once)&&(!f||g.context===f)&&o(this,h);else{for(var p=0,v=[],b=g.length;p<b;p++)(g[p].fn!==d||m&&!g[p].once||f&&g[p].context!==f)&&v.push(g[p]);v.length?this._events[h]=v.length===1?v[0]:v:o(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Lg)),Lg.exports}var CK=SK();const PK=dc(CK);var lh=new PK,y2="recharts.syncEvent.tooltip",ij="recharts.syncEvent.brush",K5=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!ao(r))return e[r]}},EK={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},yE=xi({name:"options",initialState:EK,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),kK=yE.reducer,{createEventEmitter:TK}=yE.actions;function OK(e){return e.tooltip.syncInteraction}var DK={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},wE=xi({name:"chartData",initialState:DK,reducers:{setChartData(e,t){if(e.chartData=Er(t.payload),t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:sj,setDataStartEndIndexes:IK,setComputedData:Oge}=wE.actions,MK=wE.reducer,FK=["x","y"];function oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(r),!0).forEach(function(n){LK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LK(e,t,r){return(t=RK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RK(e){var t=BK(e,"string");return typeof t=="symbol"?t:t+""}function BK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qK(e,t){if(e==null)return{};var r,n,a=zK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $K(){var e=gt(d5),t=gt(f5),r=Ur(),n=gt(p8),a=gt(xl),i=hu(),o=a1(),l=gt(c=>c.rootProps.className);w.useEffect(()=>{if(e==null)return fu;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var m;if(o&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate&&d.payload.sourceViewBox){var h=d.payload.coordinate,{x:g,y:p}=h,v=qK(h,FK),{x:b,y:j,width:A,height:_}=d.payload.sourceViewBox,k=$u($u({},v),{},{x:o.x+(A?(g-b)/A:0)*o.width,y:o.y+(_?(p-j)/_:0)*o.height});r($u($u({},d),{},{payload:$u($u({},d.payload),{},{coordinate:k})}))}else r(d);return}if(a!=null){var I;if(typeof n=="function"){var T={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},M=n(a,T);I=a[M]}else n==="value"&&(I=a.find(de=>String(de.value)===d.payload.label));var{coordinate:O}=d.payload;if(I==null||d.payload.active===!1||O==null||o==null){r(g2({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:U,y:P}=O,C=Math.min(U,o.x+o.width),F=Math.min(P,o.y+o.height),V={x:i==="horizontal"?I.coordinate:C,y:i==="horizontal"?F:I.coordinate},te=g2({active:d.payload.active,coordinate:V,dataKey:d.payload.dataKey,index:String(I.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(te)}}};return lh.on(y2,c),()=>{lh.off(y2,c)}},[l,r,t,e,n,a,i,o])}function UK(){var e=gt(d5),t=gt(f5),r=Ur();w.useEffect(()=>{if(e==null)return fu;var n=(a,i,o)=>{t!==o&&e===a&&r(IK(i))};return lh.on(ij,n),()=>{lh.off(ij,n)}},[r,t,e])}function WK(){var e=Ur();w.useEffect(()=>{e(TK())},[e]),$K(),UK()}function HK(e,t,r,n,a,i){var o=gt(h=>JG(h,e,t)),l=gt(f5),c=gt(d5),u=gt(p8),d=gt(OK),f=d?.active,m=a1();w.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=g2({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:m,graphicalItemId:void 0});lh.emit(y2,c,h,l)}},[f,r,o,a,n,l,c,u,i,m])}function lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(r),!0).forEach(function(n){VK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VK(e,t,r){return(t=GK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GK(e){var t=KK(e,"string");return typeof t=="symbol"?t:t+""}function KK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YK(e){return e.dataKey}function XK(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(Dz,t)}var uj=[],ZK={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ai(e){var t,r,n=zn(e,ZK),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:m,position:h,reverseDirection:g,useTranslate3d:p,wrapperStyle:v,cursor:b,shared:j,trigger:A,defaultIndex:_,portal:k,axisId:I}=n,T=Ur(),M=typeof _=="number"?String(_):_;w.useEffect(()=>{T(VV({shared:j,trigger:A,axisId:I,active:a,defaultIndex:M}))},[T,j,A,I,a,M]);var O=a1(),U=dP(),P=qV(j),{activeIndex:C,isActive:F}=(t=gt(le=>tK(le,P,A,M)))!==null&&t!==void 0?t:{},V=gt(le=>eK(le,P,A,M)),te=gt(le=>gE(le,P,A,M)),de=gt(le=>QG(le,P,A,M)),me=V,ue=AK(),he=(r=a??F)!==null&&r!==void 0?r:!1,[Ne,Ee]=GC([me,he]),E=P==="axis"?te:void 0;HK(P,A,de,E,C,he);var R=k??ue;if(R==null||O==null||P==null)return null;var L=me??uj;he||(L=uj),u&&L.length&&(L=UC(L.filter(le=>le.value!=null&&(le.hide!==!0||n.includeHidden)),m,YK));var z=L.length>0,J=w.createElement(qz,{allowEscapeViewBox:i,animationDuration:o,animationEasing:l,isAnimationActive:d,active:he,coordinate:de,hasPayload:z,offset:f,position:h,reverseDirection:g,useTranslate3d:p,viewBox:O,wrapperStyle:v,lastBoundingBox:Ne,innerRef:Ee,hasPortalFromProps:!!k},XK(c,cj(cj({},n),{},{payload:L,label:E,active:he,activeIndex:C,coordinate:de,accessibilityLayer:U})));return w.createElement(w.Fragment,null,eb.createPortal(J,R),he&&w.createElement(_K,{cursor:b,tooltipEventType:P,coordinate:de,payload:L,index:C}))}var xu=e=>null;xu.displayName="Cell";function JK(e,t,r){return(t=QK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QK(e){var t=eY(e,"string");return typeof t=="symbol"?t:t+""}function eY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class tY{constructor(t){JK(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dj(Object(r),!0).forEach(function(n){nY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nY(e,t,r){return(t=aY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aY(e){var t=iY(e,"string");return typeof t=="symbol"?t:t+""}function iY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sY={cacheSize:2e3,enableCache:!0},NE=rY({},sY),fj=new tY(NE.cacheSize),oY={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hj="recharts_measurement_span";function lY(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var mj=(e,t)=>{try{var r=document.getElementById(hj);r||(r=document.createElement("span"),r.setAttribute("id",hj),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,oY,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},$f=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||i1.isSsr)return{width:0,height:0};if(!NE.enableCache)return mj(t,r);var n=lY(t,r),a=fj.get(n);if(a)return a;var i=mj(t,r);return fj.set(n,i),i},jE;function cY(e,t,r){return(t=uY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uY(e){var t=dY(e,"string");return typeof t=="symbol"?t:t+""}function dY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fY=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hY=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},pY=["cm","mm","pt","pc","in","Q","px"];function xY(e){return pY.includes(e)}var ed="NaN";function gY(e,t){return e*mY[t]}class wa{static parse(t){var r,[,n,a]=(r=hY.exec(t))!==null&&r!==void 0?r:[];return n==null?wa.NaN:new wa(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ao(t)&&(this.unit=""),r!==""&&!fY.test(r)&&(this.num=NaN,this.unit=""),xY(r)&&(this.num=gY(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new wa(NaN,""):new wa(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wa(NaN,""):new wa(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wa(NaN,""):new wa(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wa(NaN,""):new wa(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ao(this.num)}}jE=wa;cY(wa,"NaN",new jE(NaN,""));function _E(e){if(e==null||e.includes(ed))return ed;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=pj.exec(t))!==null&&r!==void 0?r:[],o=wa.parse(n??""),l=wa.parse(i??""),c=a==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return ed;t=t.replace(pj,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,m]=(u=xj.exec(t))!==null&&u!==void 0?u:[],h=wa.parse(d??""),g=wa.parse(m??""),p=f==="+"?h.add(g):h.subtract(g);if(p.isNaN())return ed;t=t.replace(xj,p.toString())}return t}var gj=/\(([^()]*)\)/;function vY(e){for(var t=e,r;(r=gj.exec(t))!=null;){var[,n]=r;t=t.replace(gj,_E(n))}return t}function bY(e){var t=e.replace(/\s+/g,"");return t=vY(t),t=_E(t),t}function yY(e){try{return bY(e)}catch{return ed}}function Rg(e){var t=yY(e.slice(5,-1));return t===ed?"":t}var wY=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],NY=["dx","dy","angle","className","breakAll"];function w2(){return w2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w2.apply(null,arguments)}function vj(e,t){if(e==null)return{};var r,n,a=jY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AE=/[ \f\n\r\t\v\u2028\u2029]+/,SE=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];nn(t)||(r?a=t.toString().split(""):a=t.toString().split(AE));var i=a.map(l=>({word:l,width:$f(l,n).width})),o=r?0:$f(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function _Y(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var CE=(e,t,r,n)=>e.reduce((a,i)=>{var{word:o,width:l}=i,c=a[a.length-1];if(c&&l!=null&&(t==null||n||c.width+l+r<Number(t)))c.words.push(o),c.width+=l+r;else{var u={words:[o],width:l};a.push(u)}return a},[]),PE=e=>e.reduce((t,r)=>t.width>r.width?t:r),AY="…",bj=(e,t,r,n,a,i,o,l)=>{var c=e.slice(0,t),u=SE({breakAll:r,style:n,children:c+AY});if(!u)return[!1,[]];var d=CE(u.wordsWithComputedWidth,i,o,l),f=d.length>a||PE(d).width>Number(i);return[f,d]},SY=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,u=ht(i),d=String(o),f=CE(t,n,r,a);if(!u||a)return f;var m=f.length>i||PE(f).width>Number(n);if(!m)return f;for(var h=0,g=d.length-1,p=0,v;h<=g&&p<=d.length-1;){var b=Math.floor((h+g)/2),j=b-1,[A,_]=bj(d,j,c,l,i,n,r,a),[k]=bj(d,b,c,l,i,n,r,a);if(!A&&!k&&(h=b+1),A&&k&&(g=b-1),!A&&k){v=_;break}p++}return v||f},yj=e=>{var t=nn(e)?[]:e.toString().split(AE);return[{words:t,width:void 0}]},CY=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!i1.isSsr){var l,c,u=SE({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return yj(n);return SY({breakAll:i,children:n,maxLines:o,style:a},l,c,t,!!r)}return yj(n)},EE="#808080",PY={angle:0,breakAll:!1,capHeight:"0.71em",fill:EE,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},A1=w.forwardRef((e,t)=>{var r=zn(e,PY),{x:n,y:a,lineHeight:i,capHeight:o,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=vj(r,wY),m=w.useMemo(()=>CY({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:h,dy:g,angle:p,className:v,breakAll:b}=f,j=vj(f,NY);if(!io(n)||!io(a)||m.length===0)return null;var A=Number(n)+(ht(h)?h:0),_=Number(a)+(ht(g)?g:0);if(!nr(A)||!nr(_))return null;var k;switch(d){case"start":k=Rg("calc(".concat(o,")"));break;case"middle":k=Rg("calc(".concat((m.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:k=Rg("calc(".concat(m.length-1," * -").concat(i,")"));break}var I=[],T=m[0];if(c&&T!=null){var M=T.width,{width:O}=f;I.push("scale(".concat(ht(O)&&ht(M)?O/M:1,")"))}return p&&I.push("rotate(".concat(p,", ").concat(A,", ").concat(_,")")),I.length&&(j.transform=I.join(" ")),w.createElement("text",w2({},ri(j),{ref:t,x:A,y:_,className:ir("recharts-text",v),textAnchor:u,fill:l.includes("url")?EE:l}),m.map((U,P)=>{var C=U.words.join(b?"":" ");return w.createElement("tspan",{x:A,dy:P===0?k:i,key:"".concat(C,"-").concat(P)},C)}))});A1.displayName="Text";function wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wj(Object(r),!0).forEach(function(n){EY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EY(e,t,r){return(t=kY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kY(e){var t=TY(e,"string");return typeof t=="symbol"?t:t+""}function TY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OY=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:a}=e,{x:i,y:o,height:l,upperWidth:c,lowerWidth:u}=Ib(t),d=i,f=i+(c-u)/2,m=(d+f)/2,h=(c+u)/2,g=d+c/2,p=l>=0?1:-1,v=p*n,b=p>0?"end":"start",j=p>0?"start":"end",A=c>=0?1:-1,_=A*n,k=A>0?"end":"start",I=A>0?"start":"end",T=a;if(r==="top"){var M={x:d+c/2,y:o-v,horizontalAnchor:"middle",verticalAnchor:b};return T&&(M.height=Math.max(o-T.y,0),M.width=c),M}if(r==="bottom"){var O={x:f+u/2,y:o+l+v,horizontalAnchor:"middle",verticalAnchor:j};return T&&(O.height=Math.max(T.y+T.height-(o+l),0),O.width=u),O}if(r==="left"){var U={x:m-_,y:o+l/2,horizontalAnchor:k,verticalAnchor:"middle"};return T&&(U.width=Math.max(U.x-T.x,0),U.height=l),U}if(r==="right"){var P={x:m+h+_,y:o+l/2,horizontalAnchor:I,verticalAnchor:"middle"};return T&&(P.width=Math.max(T.x+T.width-P.x,0),P.height=l),P}var C=T?{width:h,height:l}:{};return r==="insideLeft"?qs({x:m+_,y:o+l/2,horizontalAnchor:I,verticalAnchor:"middle"},C):r==="insideRight"?qs({x:m+h-_,y:o+l/2,horizontalAnchor:k,verticalAnchor:"middle"},C):r==="insideTop"?qs({x:d+c/2,y:o+v,horizontalAnchor:"middle",verticalAnchor:j},C):r==="insideBottom"?qs({x:f+u/2,y:o+l-v,horizontalAnchor:"middle",verticalAnchor:b},C):r==="insideTopLeft"?qs({x:d+_,y:o+v,horizontalAnchor:I,verticalAnchor:j},C):r==="insideTopRight"?qs({x:d+c-_,y:o+v,horizontalAnchor:k,verticalAnchor:j},C):r==="insideBottomLeft"?qs({x:f+_,y:o+l-v,horizontalAnchor:I,verticalAnchor:b},C):r==="insideBottomRight"?qs({x:f+u-_,y:o+l-v,horizontalAnchor:k,verticalAnchor:b},C):r&&typeof r=="object"&&(ht(r.x)||eu(r.x))&&(ht(r.y)||eu(r.y))?qs({x:i+qa(r.x,h),y:o+qa(r.y,l),horizontalAnchor:"end",verticalAnchor:"end"},C):qs({x:g,y:o+l/2,horizontalAnchor:"middle",verticalAnchor:"middle"},C)},DY=["labelRef"],IY=["content"];function Nj(e,t){if(e==null)return{};var r,n,a=MY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function MY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(n){FY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FY(e,t,r){return(t=LY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LY(e){var t=RY(e,"string");return typeof t=="symbol"?t:t+""}function RY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fo.apply(null,arguments)}var kE=w.createContext(null),BY=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o,children:l}=e,c=w.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o}),[t,r,n,a,i,o]);return w.createElement(kE.Provider,{value:c},l)},TE=()=>{var e=w.useContext(kE),t=a1();return e||(t?Ib(t):void 0)},qY=w.createContext(null),zY=()=>{var e=w.useContext(qY),t=gt(y8);return e||t},$Y=e=>{var{value:t,formatter:r}=e,n=nn(e.children)?t:e.children;return typeof r=="function"?r(n):n},Y5=e=>e!=null&&typeof e=="function",UY=(e,t)=>{var r=oa(t-e),n=Math.min(Math.abs(t-e),360);return r*n},WY=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:m,clockWise:h}=a,g=(u+d)/2,p=UY(f,m),v=p>=0?1:-1,b,j;switch(t){case"insideStart":b=f+v*i,j=h;break;case"insideEnd":b=m-v*i,j=!h;break;case"end":b=m+v*i,j=h;break;default:throw new Error("Unsupported position ".concat(t))}j=p<=0?j:!j;var A=Fn(l,c,g,b),_=Fn(l,c,g,b+(j?1:-1)*359),k="M".concat(A.x,",").concat(A.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(j?0:1,`,
    `).concat(_.x,",").concat(_.y),I=nn(e.id)?th("recharts-radial-line-"):e.id;return w.createElement("text",Fo({},n,{dominantBaseline:"central",className:ir("recharts-radial-bar-label",o)}),w.createElement("defs",null,w.createElement("path",{id:I,d:k})),w.createElement("textPath",{xlinkHref:"#".concat(I)},r))},HY=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=Fn(n,a,o+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(i+o)/2,{x:h,y:g}=Fn(n,a,m,u);return{x:h,y:g,textAnchor:"middle",verticalAnchor:"middle"}},wm=e=>e!=null&&"cx"in e&&ht(e.cx),VY={angle:0,offset:5,zIndex:Ln.label,position:"middle",textBreakAll:!1};function GY(e){if(!wm(e))return e;var{cx:t,cy:r,outerRadius:n}=e,a=n*2;return{x:t-n,y:r-n,width:a,upperWidth:a,lowerWidth:a,height:a}}function Bl(e){var t=zn(e,VY),{viewBox:r,parentViewBox:n,position:a,value:i,children:o,content:l,className:c="",textBreakAll:u,labelRef:d}=t,f=zY(),m=TE(),h=a==="center"?m:f??m,g,p,v;r==null?g=h:wm(r)?g=r:g=Ib(r);var b=GY(g);if(!g||nn(i)&&nn(o)&&!w.isValidElement(l)&&typeof l!="function")return null;var j=Bf(Bf({},t),{},{viewBox:g});if(w.isValidElement(l)){var{labelRef:A}=j,_=Nj(j,DY);return w.cloneElement(l,_)}if(typeof l=="function"){var{content:k}=j,I=Nj(j,IY);if(p=w.createElement(l,I),w.isValidElement(p))return p}else p=$Y(t);var T=ri(t);if(wm(g)){if(a==="insideStart"||a==="insideEnd"||a==="end")return WY(t,a,p,T,g);v=HY(g,t.offset,t.position)}else{if(!b)return null;var M=OY({viewBox:b,position:a,offset:t.offset,parentViewBox:wm(n)?void 0:n});v=Bf(Bf({x:M.x,y:M.y,textAnchor:M.horizontalAnchor,verticalAnchor:M.verticalAnchor},M.width!==void 0?{width:M.width}:{}),M.height!==void 0?{height:M.height}:{})}return w.createElement(gi,{zIndex:t.zIndex},w.createElement(A1,Fo({ref:d,className:ir("recharts-label",c)},T,v,{textAnchor:_Y(T.textAnchor)?T.textAnchor:v.textAnchor,breakAll:u}),p))}Bl.displayName="Label";var KY=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?w.createElement(Bl,Fo({key:"label-implicit"},n)):io(e)?w.createElement(Bl,Fo({key:"label-implicit",value:e},n)):w.isValidElement(e)?e.type===Bl?w.cloneElement(e,Bf({key:"label-implicit"},n)):w.createElement(Bl,Fo({key:"label-implicit",content:e},n)):Y5(e)?w.createElement(Bl,Fo({key:"label-implicit",content:e},n)):e&&typeof e=="object"?w.createElement(Bl,Fo({},e,{key:"label-implicit"},n)):null};function YY(e){var{label:t,labelRef:r}=e,n=TE();return KY(t,n,r)||null}var Bg={},qg={},_j;function XY(){return _j||(_j=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(qg)),qg}var zg={},Aj;function ZY(){return Aj||(Aj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(zg)),zg}var Sj;function JY(){return Sj||(Sj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XY(),r=ZY(),n=Eb();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(Bg)),Bg}var $g,Cj;function QY(){return Cj||(Cj=1,$g=JY().last),$g}var eX=QY();const tX=dc(eX);var rX=["valueAccessor"],nX=["dataKey","clockWise","id","textBreakAll","zIndex"];function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},op.apply(null,arguments)}function Pj(e,t){if(e==null)return{};var r,n,a=aX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var iX=e=>Array.isArray(e.value)?tX(e.value):e.value,OE=w.createContext(void 0),DE=OE.Provider,IE=w.createContext(void 0),sX=IE.Provider;function oX(){return w.useContext(OE)}function lX(){return w.useContext(IE)}function Nm(e){var{valueAccessor:t=iX}=e,r=Pj(e,rX),{dataKey:n,clockWise:a,id:i,textBreakAll:o,zIndex:l}=r,c=Pj(r,nX),u=oX(),d=lX(),f=u||d;return!f||!f.length?null:w.createElement(gi,{zIndex:l??Ln.label},w.createElement(fa,{className:"recharts-label-list"},f.map((m,h)=>{var g,p=nn(n)?t(m,h):Or(m.payload,n),v=nn(i)?{}:{id:"".concat(i,"-").concat(h)};return w.createElement(Bl,op({key:"label-".concat(h)},ri(m),c,v,{fill:(g=r.fill)!==null&&g!==void 0?g:m.fill,parentViewBox:m.parentViewBox,value:p,textBreakAll:o,viewBox:m.viewBox,index:h,zIndex:0}))})))}Nm.displayName="LabelList";function X5(e){var{label:t}=e;return t?t===!0?w.createElement(Nm,{key:"labelList-implicit"}):w.isValidElement(t)||Y5(t)?w.createElement(Nm,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(Nm,op({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function N2(){return N2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N2.apply(null,arguments)}var ME=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=ir("recharts-dot",a);return ht(t)&&ht(r)&&ht(n)?w.createElement("circle",N2({},Ri(e),Pb(e),{className:i,cx:t,cy:r,r:n})):null},FE=e=>e.graphicalItems.polarItems,cX=Ae([on,qh],v5),S1=Ae([FE,gn,cX],b5),uX=Ae([S1],y5),C1=Ae([uX,f1],w5),dX=Ae([C1,gn,S1],j5);Ae([C1,gn,S1],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,o=Or(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:Or(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var Ej=()=>{},fX=Ae([C1,gn,S1,w1,on],C5),hX=Ae([gn,A5,S5,Ej,fX,Ej,fr,on],P5),LE=Ae([gn,fr,C1,dX,Bh,on,hX],E5),mX=Ae([LE,Fd,mc],O5),pX=Ae([gn,LE,mX,on],I5);Ae([mc,pX],N8);var xX={radiusAxis:{},angleAxis:{}},RE=xi({name:"polarAxis",initialState:xX,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=Er(t.payload)},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=Er(t.payload)},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Dge,removeRadiusAxis:Ige,addAngleAxis:Mge,removeAngleAxis:Fge}=RE.actions,gX=RE.reducer;function BE(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(n){vX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vX(e,t,r){return(t=bX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bX(e){var t=yX(e,"string");return typeof t=="symbol"?t:t+""}function yX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wX=(e,t)=>t,Z5=Ae([FE,wX],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),NX=[],J5=(e,t,r)=>r?.length===0?NX:r,qE=Ae([f1,Z5,J5],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>Tj(Tj({},t.presentationProps),i.props))),a!=null)return a}}),jX=Ae([qE,Z5,J5],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,o=Or(n,t.nameKey,t.name),l;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:Td(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),_X=Ae([qE,Z5,J5,Qn],(e,t,r,n)=>{if(!(t==null||e==null))return AZ({offset:n,pieSettings:t,displayedData:e,cells:r})}),Ug={exports:{}},Cr={};var Oj;function AX(){if(Oj)return Cr;Oj=1;var e=60103,t=60106,r=60107,n=60108,a=60114,i=60109,o=60110,l=60112,c=60113,u=60120,d=60115,f=60116,m=60121,h=60122,g=60117,p=60129,v=60131;if(typeof Symbol=="function"&&Symbol.for){var b=Symbol.for;e=b("react.element"),t=b("react.portal"),r=b("react.fragment"),n=b("react.strict_mode"),a=b("react.profiler"),i=b("react.provider"),o=b("react.context"),l=b("react.forward_ref"),c=b("react.suspense"),u=b("react.suspense_list"),d=b("react.memo"),f=b("react.lazy"),m=b("react.block"),h=b("react.server.block"),g=b("react.fundamental"),p=b("react.debug_trace_mode"),v=b("react.legacy_hidden")}function j(F){if(typeof F=="object"&&F!==null){var V=F.$$typeof;switch(V){case e:switch(F=F.type,F){case r:case a:case n:case c:case u:return F;default:switch(F=F&&F.$$typeof,F){case o:case l:case f:case d:case i:return F;default:return V}}case t:return V}}}var A=i,_=e,k=l,I=r,T=f,M=d,O=t,U=a,P=n,C=c;return Cr.ContextConsumer=o,Cr.ContextProvider=A,Cr.Element=_,Cr.ForwardRef=k,Cr.Fragment=I,Cr.Lazy=T,Cr.Memo=M,Cr.Portal=O,Cr.Profiler=U,Cr.StrictMode=P,Cr.Suspense=C,Cr.isAsyncMode=function(){return!1},Cr.isConcurrentMode=function(){return!1},Cr.isContextConsumer=function(F){return j(F)===o},Cr.isContextProvider=function(F){return j(F)===i},Cr.isElement=function(F){return typeof F=="object"&&F!==null&&F.$$typeof===e},Cr.isForwardRef=function(F){return j(F)===l},Cr.isFragment=function(F){return j(F)===r},Cr.isLazy=function(F){return j(F)===f},Cr.isMemo=function(F){return j(F)===d},Cr.isPortal=function(F){return j(F)===t},Cr.isProfiler=function(F){return j(F)===a},Cr.isStrictMode=function(F){return j(F)===n},Cr.isSuspense=function(F){return j(F)===c},Cr.isValidElementType=function(F){return typeof F=="string"||typeof F=="function"||F===r||F===a||F===p||F===n||F===c||F===u||F===v||typeof F=="object"&&F!==null&&(F.$$typeof===f||F.$$typeof===d||F.$$typeof===i||F.$$typeof===o||F.$$typeof===l||F.$$typeof===g||F.$$typeof===m||F[0]===h)},Cr.typeOf=j,Cr}var Dj;function SX(){return Dj||(Dj=1,Ug.exports=AX()),Ug.exports}var CX=SX(),Ij=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Mj=null,Wg=null,zE=e=>{if(e===Mj&&Array.isArray(Wg))return Wg;var t=[];return w.Children.forEach(e,r=>{nn(r)||(CX.isFragment(r)?t=t.concat(zE(r.props.children)):t.push(r))}),Wg=t,Mj=e,t};function Q5(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>Ij(a)):n=[Ij(t)],zE(e).forEach(a=>{var i=Qc(a,"type.displayName")||Qc(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var $E=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Hg={},Fj;function PX(){return Fj||(Fj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Hg)),Hg}var Vg,Lj;function EX(){return Lj||(Lj=1,Vg=PX().isPlainObject),Vg}var kX=EX();const TX=dc(kX);var Rj,Bj,qj,zj,$j;function Uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(r),!0).forEach(function(n){OX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OX(e,t,r){return(t=DX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DX(e){var t=IX(e,"string");return typeof t=="symbol"?t:t+""}function IX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lp.apply(null,arguments)}function kf(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Hj=(e,t,r,n,a)=>{var i=r-n,o;return o=hn(Rj||(Rj=kf(["M ",",",""])),e,t),o+=hn(Bj||(Bj=kf(["L ",",",""])),e+r,t),o+=hn(qj||(qj=kf(["L ",",",""])),e+r-i/2,t+a),o+=hn(zj||(zj=kf(["L ",",",""])),e+r-i/2-n,t+a),o+=hn($j||($j=kf(["L ",","," Z"])),e,t),o},MX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FX=e=>{var t=zn(e,MX),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,m=w.useRef(null),[h,g]=w.useState(-1),p=w.useRef(a),v=w.useRef(i),b=w.useRef(o),j=w.useRef(r),A=w.useRef(n),_=Ih(e,"trapezoid-");if(w.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var V=m.current.getTotalLength();V&&g(V)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var k=ir("recharts-trapezoid",l);if(!f)return w.createElement("g",null,w.createElement("path",lp({},ri(t),{className:k,d:Hj(r,n,a,i,o)})));var I=p.current,T=v.current,M=b.current,O=j.current,U=A.current,P="0px ".concat(h===-1?1:h,"px"),C="".concat(h,"px 0px"),F=fP(["strokeDasharray"],u,c);return w.createElement(Dh,{animationId:_,key:_,canBegin:h>0,duration:u,easing:c,isActive:f,begin:d},V=>{var te=Zr(I,a,V),de=Zr(T,i,V),me=Zr(M,o,V),ue=Zr(O,r,V),he=Zr(U,n,V);m.current&&(p.current=te,v.current=de,b.current=me,j.current=ue,A.current=he);var Ne=V>0?{transition:F,strokeDasharray:C}:{strokeDasharray:P};return w.createElement("path",lp({},ri(t),{className:k,d:Hj(ue,he,te,de,me),ref:m,style:Wj(Wj({},Ne),t.style)}))})},LX=["option","shapeType","activeClassName"];function RX(e,t){if(e==null)return{};var r,n,a=BX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function BX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(r),!0).forEach(function(n){qX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qX(e,t,r){return(t=zX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zX(e){var t=$X(e,"string");return typeof t=="symbol"?t:t+""}function $X(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UX(e,t){return cp(cp({},t),e)}function WX(e,t){return e==="symbols"}function Gj(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return w.createElement(xP,r);case"trapezoid":return w.createElement(FX,r);case"sector":return w.createElement(yP,r);case"symbols":if(WX(t))return w.createElement(Cb,r);break;case"curve":return w.createElement(Lb,r);default:return null}}function HX(e){return w.isValidElement(e)?e.props:e}function ey(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=RX(e,LX),i;if(w.isValidElement(t))i=w.cloneElement(t,cp(cp({},a),HX(t)));else if(typeof t=="function")i=t(a,a.index);else if(TX(t)&&typeof t!="boolean"){var o=UX(t,a);i=w.createElement(Gj,{shapeType:r,elementProps:o})}else{var l=a;i=w.createElement(Gj,{shapeType:r,elementProps:l})}return a.isActive?w.createElement(fa,{className:n},i):i}var ty=(e,t,r)=>{var n=Ur();return(a,i)=>o=>{e?.(a,i,o),n(J8({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},ry=e=>{var t=Ur();return(r,n)=>a=>{e?.(r,n,a),t(GV())}},ny=(e,t,r)=>{var n=Ur();return(a,i)=>o=>{e?.(a,i,o),n(KV({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function ay(e){var{tooltipEntrySettings:t}=e,r=Ur(),n=Ua(),a=w.useRef(null);return w.useLayoutEffect(()=>{n||(a.current===null?r(UV(t)):a.current!==t&&r(WV({prev:a.current,next:t})),a.current=t)},[t,r,n]),w.useLayoutEffect(()=>()=>{a.current&&(r(HV(a.current)),a.current=null)},[r]),null}function UE(e){var{legendPayload:t}=e,r=Ur(),n=Ua(),a=w.useRef(null);return w.useLayoutEffect(()=>{n||(a.current===null?r(lP(t)):a.current!==t&&r(cP({prev:a.current,next:t})),a.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{a.current&&(r(uP(a.current)),a.current=null)},[r]),null}function VX(e){var{legendPayload:t}=e,r=Ur(),n=gt(fr),a=w.useRef(null);return w.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(lP(t)):a.current!==t&&r(cP({prev:a.current,next:t})),a.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{a.current&&(r(uP(a.current)),a.current=null)},[r]),null}var Gg,GX=()=>{var[e]=w.useState(()=>th("uid-"));return e},KX=(Gg=O9.useId)!==null&&Gg!==void 0?Gg:GX;function YX(e,t){var r=KX();return t||(e?"".concat(e,"-").concat(r):r)}var XX=w.createContext(void 0),iy=e=>{var{id:t,type:r,children:n}=e,a=YX("recharts-".concat(r),t);return w.createElement(XX.Provider,{value:a},n(a))},ZX={cartesianItems:[],polarItems:[]},WE=xi({name:"graphicalItems",initialState:ZX,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(Er(t.payload))},prepare:Xr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Js(e).cartesianItems.indexOf(Er(r));a>-1&&(e.cartesianItems[a]=Er(n))},prepare:Xr()},removeCartesianGraphicalItem:{reducer(e,t){var r=Js(e).cartesianItems.indexOf(Er(t.payload));r>-1&&e.cartesianItems.splice(r,1)},prepare:Xr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(Er(t.payload))},prepare:Xr()},removePolarGraphicalItem:{reducer(e,t){var r=Js(e).polarItems.indexOf(Er(t.payload));r>-1&&e.polarItems.splice(r,1)},prepare:Xr()}}}),{addCartesianGraphicalItem:JX,replaceCartesianGraphicalItem:QX,removeCartesianGraphicalItem:eZ,addPolarGraphicalItem:tZ,removePolarGraphicalItem:rZ}=WE.actions,nZ=WE.reducer,aZ=e=>{var t=Ur(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(JX(e)):r.current!==e&&t(QX({prev:r.current,next:e})),r.current=e},[t,e]),w.useLayoutEffect(()=>()=>{r.current&&(t(eZ(r.current)),r.current=null)},[t]),null},HE=w.memo(aZ);function iZ(e){var t=Ur();return w.useLayoutEffect(()=>(t(tZ(e)),()=>{t(rZ(e))}),[t,e]),null}var sZ=["key"],oZ=["onMouseEnter","onClick","onMouseLeave"],lZ=["id"],cZ=["id"];function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(r),!0).forEach(function(n){uZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uZ(e,t,r){return(t=dZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dZ(e){var t=fZ(e,"string");return typeof t=="symbol"?t:t+""}function fZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ac.apply(null,arguments)}function P1(e,t){if(e==null)return{};var r,n,a=hZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mZ(e){var t=w.useMemo(()=>Q5(e.children,xu),[e.children]),r=gt(n=>jX(n,e.id,t));return r==null?null:w.createElement(VX,{legendPayload:r})}var pZ=w.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:u,id:d}=e,f={dataDefinedOnItem:n.map(m=>m.tooltipPayload),getPosition:m=>{var h;return(h=n[Number(m)])===null||h===void 0?void 0:h.tooltipPosition},settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:Td(l,t),hide:c,type:u,color:o,unit:"",graphicalItemId:d}};return w.createElement(ay,{tooltipEntrySettings:f})}),xZ=(e,t)=>e>t?"start":e<t?"end":"middle",gZ=(e,t,r)=>qa(typeof t=="function"?t(e):t,r,r*.8),vZ=(e,t,r)=>{var{top:n,left:a,width:i,height:o}=t,l=gP(i,o),c=a+qa(e.cx,i,i/2),u=n+qa(e.cy,o,o/2),d=qa(e.innerRadius,l,0),f=gZ(r,e.outerRadius,l),m=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:m}},bZ=(e,t)=>{var r=oa(t-e),n=Math.min(Math.abs(t-e),360);return r*n},yZ=(e,t)=>{if(w.isValidElement(e))return w.cloneElement(e,t);if(typeof e=="function")return e(t);var r=ir("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=P1(t,sZ);return w.createElement(Lb,ac({},a,{type:"linear",className:r}))},wZ=(e,t,r)=>{if(w.isValidElement(e))return w.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),w.isValidElement(n)))return n;var a=ir("recharts-pie-label-text",BE(e));return w.createElement(A1,ac({},t,{alignmentBaseline:"middle",className:a}),n)};function NZ(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:o}=r;if(!n||!a||!t)return null;var l=Ri(r),c=Zc(a),u=Zc(i),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((m,h)=>{var g=(m.startAngle+m.endAngle)/2,p=Fn(m.cx,m.cy,m.outerRadius+d,g),v=mn(mn(mn(mn({},l),m),{},{stroke:"none"},c),{},{index:h,textAnchor:xZ(p.x,m.cx)},p),b=mn(mn(mn(mn({},l),m),{},{fill:"none",stroke:m.fill},u),{},{index:h,points:[Fn(m.cx,m.cy,m.outerRadius,g),p],key:"line"});return w.createElement(gi,{zIndex:Ln.label,key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(h)},w.createElement(fa,null,i&&yZ(i,b),wZ(a,v,Or(m,o))))});return w.createElement(fa,{className:"recharts-pie-labels"},f)}function jZ(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?w.createElement(X5,{label:a}):w.createElement(NZ,{sectors:t,props:r,showLabels:n})}function _Z(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:i,id:o}=e,l=gt(nc),c=gt(U5),u=gt(DG),{onMouseEnter:d,onClick:f,onMouseLeave:m}=a,h=P1(a,oZ),g=ty(d,a.dataKey,o),p=ry(m),v=ny(f,a.dataKey,o);return t==null||t.length===0?null:w.createElement(w.Fragment,null,t.map((b,j)=>{if(b?.startAngle===0&&b?.endAngle===0&&t.length!==1)return null;var A=u==null||u===o,_=String(j)===l&&(c==null||a.dataKey===c)&&A,k=l?n:null,I=r&&_?r:k,T=mn(mn({},b),{},{stroke:b.stroke,tabIndex:-1,[QC]:j,[eP]:o});return w.createElement(fa,ac({key:"sector-".concat(b?.startAngle,"-").concat(b?.endAngle,"-").concat(b.midAngle,"-").concat(j),tabIndex:-1,className:"recharts-pie-sector"},kh(h,b,j),{onMouseEnter:g(b,j),onMouseLeave:p(b,j),onClick:v(b,j)}),w.createElement(ey,ac({option:i??I,index:j,shapeType:"sector",isActive:_},T)))}))}function AZ(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,m=Math.abs(r.minAngle),h=bZ(l,c),g=Math.abs(h),p=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,v=n.filter(I=>Or(I,u,0)!==0).length,b=(g>=360?v:v-1)*p,j=g-v*m-b,A=n.reduce((I,T)=>{var M=Or(T,u,0);return I+(ht(M)?M:0)},0),_;if(A>0){var k;_=n.map((I,T)=>{var M=Or(I,u,0),O=Or(I,d,T),U=vZ(r,i,I),P=(ht(M)?M:0)/A,C,F=mn(mn({},I),a&&a[T]&&a[T].props);T?C=k.endAngle+oa(h)*p*(M!==0?1:0):C=l;var V=C+oa(h)*((M!==0?m:0)+P*j),te=(C+V)/2,de=(U.innerRadius+U.outerRadius)/2,me=[{name:O,value:M,payload:F,dataKey:u,type:f,graphicalItemId:r.id}],ue=Fn(U.cx,U.cy,de,te);return k=mn(mn(mn(mn({},r.presentationProps),{},{percent:P,cornerRadius:typeof o=="string"?parseFloat(o):o,name:O,tooltipPayload:me,midAngle:te,middleRadius:de,tooltipPosition:ue},F),U),{},{value:M,dataKey:u,startAngle:C,endAngle:V,payload:F,paddingAngle:oa(h)*p}),k})}return _}function SZ(e){var{showLabels:t,sectors:r,children:n}=e,a=w.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return w.createElement(sX,{value:t?a:void 0},n)}function CZ(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,activeShape:u,inactiveShape:d,onAnimationStart:f,onAnimationEnd:m}=t,h=Ih(t,"recharts-pie-"),g=r.current,[p,v]=w.useState(!1),b=w.useCallback(()=>{typeof m=="function"&&m(),v(!1)},[m]),j=w.useCallback(()=>{typeof f=="function"&&f(),v(!0)},[f]);return w.createElement(SZ,{showLabels:!p,sectors:a},w.createElement(Dh,{animationId:h,begin:o,duration:l,isActive:i,easing:c,onAnimationStart:j,onAnimationEnd:b,key:h},A=>{var _,k=[],I=a&&a[0],T=(_=I?.startAngle)!==null&&_!==void 0?_:0;return a?.forEach((M,O)=>{var U=g&&g[O],P=O>0?Qc(M,"paddingAngle",0):0;if(U){var C=Zr(U.endAngle-U.startAngle,M.endAngle-M.startAngle,A),F=mn(mn({},M),{},{startAngle:T+P,endAngle:T+C+P});k.push(F),T=F.endAngle}else{var{endAngle:V,startAngle:te}=M,de=Zr(0,V-te,A),me=mn(mn({},M),{},{startAngle:T+P,endAngle:T+de+P});k.push(me),T=me.endAngle}}),r.current=k,w.createElement(fa,null,w.createElement(_Z,{sectors:k,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:n}))}),w.createElement(jZ,{showLabels:!p,sectors:a,props:t}),t.children)}var PZ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Ln.area};function EZ(e){var{id:t}=e,r=P1(e,lZ),{hide:n,className:a,rootTabIndex:i}=e,o=w.useMemo(()=>Q5(e.children,xu),[e.children]),l=gt(d=>_X(d,t,o)),c=w.useRef(null),u=ir("recharts-pie",a);return n||l==null?(c.current=null,w.createElement(fa,{tabIndex:i,className:u})):w.createElement(gi,{zIndex:e.zIndex},w.createElement(pZ,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),w.createElement(fa,{tabIndex:i,className:u},w.createElement(CZ,{props:mn(mn({},r),{},{sectors:l}),previousSectorsRef:c,id:t})))}function E1(e){var t=zn(e,PZ),{id:r}=t,n=P1(t,cZ),a=Ri(n);return w.createElement(iy,{id:r,type:"pie"},i=>w.createElement(w.Fragment,null,w.createElement(iZ,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),w.createElement(mZ,ac({},n,{id:i})),w.createElement(EZ,ac({},n,{id:i}))))}E1.displayName="Pie";var kZ=["points"];function Yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(r),!0).forEach(function(n){TZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TZ(e,t,r){return(t=OZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OZ(e){var t=DZ(e,"string");return typeof t=="symbol"?t:t+""}function DZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(null,arguments)}function IZ(e,t){if(e==null)return{};var r,n,a=MZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function MZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function FZ(e){var{option:t,dotProps:r,className:n}=e;if(w.isValidElement(t))return w.cloneElement(t,r);if(typeof t=="function")return t(r);var a=ir(n,typeof t!="boolean"?t.className:""),i=r??{},{points:o}=i,l=IZ(i,kZ);return w.createElement(ME,up({},l,{className:a}))}function LZ(e,t){return e==null?!1:t?!0:e.length===1}function RZ(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:i,baseProps:o,needClip:l,clipPathId:c,zIndex:u=Ln.scatter}=e;if(!LZ(t,r))return null;var d=$E(r),f=hR(r),m=t.map((g,p)=>{var v,b,j=Kg(Kg(Kg({r:3},o),f),{},{index:p,cx:(v=g.x)!==null&&v!==void 0?v:void 0,cy:(b=g.y)!==null&&b!==void 0?b:void 0,dataKey:i,value:g.value,payload:g.payload,points:t});return w.createElement(FZ,{key:"dot-".concat(p),option:r,dotProps:j,className:a})}),h={};return l&&c!=null&&(h.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),w.createElement(gi,{zIndex:u},w.createElement(fa,up({className:n},h),m))}function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){BZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BZ(e,t,r){return(t=qZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qZ(e){var t=zZ(e,"string");return typeof t=="symbol"?t:t+""}function zZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VE=0,$Z={xAxis:{},yAxis:{},zAxis:{}},GE=xi({name:"cartesianAxis",initialState:$Z,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=Er(t.payload)},prepare:Xr()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=Er(n))},prepare:Xr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Xr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=Er(t.payload)},prepare:Xr()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=Er(n))},prepare:Xr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Xr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=Er(t.payload)},prepare:Xr()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=Er(n))},prepare:Xr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Xr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i,o=a.widthHistory||[];if(o.length===3&&o[0]===o[2]&&n===o[1]&&n!==a.width&&Math.abs(n-((i=o[0])!==null&&i!==void 0?i:0))<=1)return;var l=[...o,n].slice(-3);e.yAxis[r]=Zj(Zj({},a),{},{width:n,widthHistory:l})}}}}),{addXAxis:UZ,replaceXAxis:WZ,removeXAxis:HZ,addYAxis:VZ,replaceYAxis:GZ,removeYAxis:KZ,addZAxis:Lge,replaceZAxis:Rge,removeZAxis:Bge,updateYAxisWidth:YZ}=GE.actions,XZ=GE.reducer,ZZ=Ae([Qn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),JZ=Ae([ZZ,ul,dl],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),sy=()=>gt(JZ),QZ=()=>gt(RG);function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){eJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eJ(e,t,r){return(t=tJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tJ(e){var t=rJ(e,"string");return typeof t=="symbol"?t:t+""}function rJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nJ=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=Yg(Yg(Yg({},l),Zc(a)),Pb(a)),u;return w.isValidElement(a)?u=w.cloneElement(a,c):typeof a=="function"?u=a(c):u=w.createElement(ME,c),w.createElement(fa,{className:"recharts-active-dot",clipPath:o},u)};function aJ(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:i,zIndex:o=Ln.activeDot}=e,l=gt(nc),c=QZ();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return nn(u)?null:w.createElement(gi,{zIndex:o},w.createElement(nJ,{point:u,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:n,clipPath:i}))}var Qj=(e,t,r)=>{var n=r??e;if(!nn(n))return qa(n,t,0)},iJ=(e,t,r)=>{var n={},a=e.filter(x1),i=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>{var f=u[d.stackId];return f==null&&(f=[]),f.push(d),u[d.stackId]=f,u},n),l=Object.entries(o).map(u=>{var d,[f,m]=u,h=m.map(p=>p.dataKey),g=Qj(t,r,(d=m[0])===null||d===void 0?void 0:d.barSize);return{stackId:f,dataKeys:h,barSize:g}}),c=i.map(u=>{var d=[u.dataKey].filter(m=>m!=null),f=Qj(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]};function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function X0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(n){sJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sJ(e,t,r){return(t=oJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oJ(e){var t=lJ(e,"string");return typeof t=="symbol"?t:t+""}function lJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cJ(e,t,r,n,a){var i,o=n.length;if(!(o<1)){var l=qa(e,r,0,!0),c,u=[];if(nr((i=n[0])===null||i===void 0?void 0:i.barSize)){var d=!1,f=r/o,m=n.reduce((j,A)=>j+(A.barSize||0),0);m+=(o-1)*l,m>=r&&(m-=(o-1)*l,l=0),m>=r&&f>0&&(d=!0,f*=.9,m=o*f);var h=(r-m)/2>>0,g={offset:h-l,size:0};c=n.reduce((j,A)=>{var _,k={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:g.offset+g.size+l,size:d?f:(_=A.barSize)!==null&&_!==void 0?_:0}},I=[...j,k];return g=k.position,I},u)}else{var p=qa(t,r,0,!0);r-2*p-(o-1)*l<=0&&(l=0);var v=(r-2*p-(o-1)*l)/o;v>1&&(v>>=0);var b=nr(a)?Math.min(v,a):v;c=n.reduce((j,A,_)=>[...j,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:p+(v+l)*_+(v-b)/2,size:b}}],u)}return c}}var uJ=(e,t,r,n,a,i,o)=>{var l=nn(o)?t:o,c=cJ(r,n,a!==i?a:i,e,l);return a!==i&&c!=null&&(c=c.map(u=>X0(X0({},u),{},{position:X0(X0({},u.position),{},{offset:u.position.offset-a/2})}))),c},dJ=(e,t)=>{var r=x5(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}},fJ=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function hJ(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&nr(e.zIndex)?e.zIndex:t}var KE=e=>{var{chartData:t}=e,r=Ur(),n=Ua();return w.useEffect(()=>n?()=>{}:(r(sj(t)),()=>{r(sj(void 0))}),[t,r,n]),null},t_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},YE=xi({name:"brush",initialState:t_,reducers:{setBrushSettings(e,t){return t.payload==null?t_:t.payload}}}),{setBrushSettings:qge}=YE.actions,mJ=YE.reducer;function pJ(e){return(e%180+180)%180}var xJ=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=pJ(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},gJ={dots:[],areas:[],lines:[]},XE=xi({name:"referenceElements",initialState:gJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Js(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Js(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(Er(t.payload))},removeLine:(e,t)=>{var r=Js(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:zge,removeDot:$ge,addArea:Uge,removeArea:Wge,addLine:Hge,removeLine:Vge}=XE.actions,vJ=XE.reducer,bJ=w.createContext(void 0),yJ=e=>{var{children:t}=e,[r]=w.useState("".concat(th("recharts"),"-clip")),n=sy();if(n==null)return null;var{x:a,y:i,width:o,height:l}=n;return w.createElement(bJ.Provider,{value:r},w.createElement("defs",null,w.createElement("clipPath",{id:r},w.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function ZE(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function wJ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return xJ(n,r)}function NJ(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function ch(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function jJ(e,t){return ZE(e,t+1)}function _J(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,f=function(){var g=n?.[c];if(g===void 0)return{v:ZE(n,u)};var p=c,v,b=()=>(v===void 0&&(v=r(g,p)),v),j=g.coordinate,A=c===0||ch(e,j,b,d,l);A||(c=0,d=o,u+=1),A&&(d=j+e*(b()/2+a),c+=u)},m;u<=i.length;)if(m=f(),m)return m.v;return[]}function AJ(e,t,r,n,a){var i=(n||[]).slice(),o=i.length;if(o===0)return[];for(var{start:l,end:c}=t,u=1;u<=o;u++){for(var d=(o-1)%u,f=l,m=!0,h=function(){var _=n[p];if(_==null)return 0;var k=p,I,T=()=>(I===void 0&&(I=r(_,k)),I),M=_.coordinate,O=p===d||ch(e,M,T,f,c);if(!O)return m=!1,1;O&&(f=M+e*(T()/2+a))},g,p=d;p<o&&(g=h(),!(g!==0&&g===1));p+=u);if(m){for(var v=[],b=d;b<o;b+=u){var j=n[b];j!=null&&v.push(j)}return v}}return[]}function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(n){SJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SJ(e,t,r){return(t=CJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CJ(e){var t=PJ(e,"string");return typeof t=="symbol"?t:t+""}function PJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EJ(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,u=function(m){var h=i[m];if(h==null)return 1;var g=h,p,v=()=>(p===void 0&&(p=r(h,m)),p);if(m===o-1){var b=e*(g.coordinate+e*v()/2-c);i[m]=g=Fa(Fa({},g),{},{tickCoord:b>0?g.coordinate-b*e:g.coordinate})}else i[m]=g=Fa(Fa({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var j=ch(e,g.tickCoord,v,l,c);j&&(c=g.tickCoord-e*(v()/2+a),i[m]=Fa(Fa({},g),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return i}function kJ(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,{start:c,end:u}=t;if(i){var d=n[l-1];if(d!=null){var f=r(d,l-1),m=e*(d.coordinate+e*f/2-u);if(o[l-1]=d=Fa(Fa({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),d.tickCoord!=null){var h=ch(e,d.tickCoord,()=>f,c,u);h&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Fa(Fa({},d),{},{isShow:!0}))}}}for(var g=i?l-1:l,p=function(j){var A=o[j];if(A==null)return 1;var _=A,k,I=()=>(k===void 0&&(k=r(A,j)),k);if(j===0){var T=e*(_.coordinate-e*I()/2-c);o[j]=_=Fa(Fa({},_),{},{tickCoord:T<0?_.coordinate-T*e:_.coordinate})}else o[j]=_=Fa(Fa({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var M=ch(e,_.tickCoord,I,c,u);M&&(c=_.tickCoord+e*(I()/2+a),o[j]=Fa(Fa({},_),{},{isShow:!0}))}},v=0;v<g;v++)p(v);return o}function oy(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(ht(c)||i1.isSsr){var m;return(m=jJ(a,ht(c)?c:0))!==null&&m!==void 0?m:[]}var h=[],g=l==="top"||l==="bottom"?"width":"height",p=d&&g==="width"?$f(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(k,I)=>{var T=typeof u=="function"?u(k.value,I):k.value;return g==="width"?wJ($f(T,{fontSize:t,letterSpacing:r}),p,f):$f(T,{fontSize:t,letterSpacing:r})[g]},b=a[0],j=a[1],A=a.length>=2&&b!=null&&j!=null?oa(j.coordinate-b.coordinate):1,_=NJ(i,A,g);return c==="equidistantPreserveStart"?_J(A,_,v,a,o):c==="equidistantPreserveEnd"?AJ(A,_,v,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=kJ(A,_,v,a,o,c==="preserveStartEnd"):h=EJ(A,_,v,a,o),h.filter(k=>k.isShow))}var TJ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+i,u=o+c+l+(r?n:0);return Math.round(u)}return 0},OJ=["axisLine","width","height","className","hide","ticks","axisType"];function DJ(e,t){if(e==null)return{};var r,n,a=IJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function IJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ru.apply(null,arguments)}function n_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(r),!0).forEach(function(n){MJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MJ(e,t,r){return(t=FJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FJ(e){var t=LJ(e,"string");return typeof t=="symbol"?t:t+""}function LJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ln.axis};function RJ(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=fn(fn(fn({},c),Ri(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=fn(fn({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=fn(fn({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return w.createElement("line",ru({},u,{className:ir("recharts-cartesian-axis-line",Qc(l,"className"))}))}function BJ(e,t,r,n,a,i,o,l,c){var u,d,f,m,h,g,p=l?-1:1,v=e.tickSize||o,b=ht(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,m=r+ +!l*a,f=m-p*v,g=f-p*c,h=b;break;case"left":f=m=e.coordinate,d=t+ +!l*n,u=d-p*v,h=u-p*c,g=b;break;case"right":f=m=e.coordinate,d=t+ +l*n,u=d+p*v,h=u+p*c,g=b;break;default:u=d=e.coordinate,m=r+ +l*a,f=m+p*v,g=f+p*c,h=b;break}return{line:{x1:u,y1:f,x2:d,y2:m},tick:{x:h,y:g}}}function qJ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function zJ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function $J(e){var{option:t,tickProps:r,value:n}=e,a,i=ir(r.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))a=w.cloneElement(t,fn(fn({},r),{},{className:i}));else if(typeof t=="function")a=t(fn(fn({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=ir(o,BE(t))),a=w.createElement(A1,ru({},r,{className:o}),n)}return a}var UJ=w.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:o,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:f,x:m,y:h,width:g,height:p,tickSize:v,tickMargin:b,fontSize:j,letterSpacing:A,getTicksConfig:_,events:k,axisType:I}=e,T=oy(fn(fn({},_),{},{ticks:r}),j,A),M=qJ(d,f),O=zJ(d,f),U=Ri(_),P=Zc(n),C={};typeof a=="object"&&(C=a);var F=fn(fn({},U),{},{fill:"none"},C),V=T.map(me=>fn({entry:me},BJ(me,m,h,g,p,d,v,f,b))),te=V.map(me=>{var{entry:ue,line:he}=me;return w.createElement(fa,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},a&&w.createElement("line",ru({},F,he,{className:ir("recharts-cartesian-axis-tick-line",Qc(a,"className"))})))}),de=V.map((me,ue)=>{var he,Ne,{entry:Ee,tick:E}=me,R=fn(fn(fn(fn({verticalAnchor:O},U),{},{textAnchor:M,stroke:"none",fill:i},E),{},{index:ue,payload:Ee,visibleTicksCount:T.length,tickFormatter:o,padding:c},u),{},{angle:(he=(Ne=u?.angle)!==null&&Ne!==void 0?Ne:U.angle)!==null&&he!==void 0?he:0}),L=fn(fn({},R),P);return w.createElement(fa,ru({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Ee.value,"-").concat(Ee.coordinate,"-").concat(Ee.tickCoord)},kh(k,Ee,ue)),n&&w.createElement($J,{option:n,tickProps:L,value:"".concat(typeof o=="function"?o(Ee.value,ue):Ee.value).concat(l||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(I,"-ticks")},de.length>0&&w.createElement(gi,{zIndex:Ln.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(I,"-tick-labels"),ref:t},de)),te.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(I,"-tick-lines")},te))}),WJ=w.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:l,axisType:c}=e,u=DJ(e,OJ),[d,f]=w.useState(""),[m,h]=w.useState(""),g=w.useRef(null);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return TJ({ticks:g.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var p=w.useCallback(v=>{if(v){var b=v.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=b;var j=b[0];if(j){var A=window.getComputedStyle(j),_=A.fontSize,k=A.letterSpacing;(_!==d||k!==m)&&(f(_),h(k))}}},[d,m]);return o||n!=null&&n<=0||a!=null&&a<=0?null:w.createElement(gi,{zIndex:e.zIndex},w.createElement(fa,{className:ir("recharts-cartesian-axis",i)},w.createElement(RJ,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Ri(e)}),w.createElement(UJ,{ref:p,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),w.createElement(BY,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},w.createElement(YY,{label:e.label,labelRef:e.labelRef}),e.children)))}),ly=w.forwardRef((e,t)=>{var r=zn(e,Vo);return w.createElement(WJ,ru({},r,{ref:t}))});ly.displayName="CartesianAxis";var HJ=["x1","y1","x2","y2","key"],VJ=["offset"],GJ=["xAxisId","yAxisId"],KJ=["xAxisId","yAxisId"];function a_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(r),!0).forEach(function(n){YJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YJ(e,t,r){return(t=XJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XJ(e){var t=ZJ(e,"string");return typeof t=="symbol"?t:t+""}function ZJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$c.apply(null,arguments)}function dp(e,t){if(e==null)return{};var r,n,a=JJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var QJ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:l}=e;return w.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function JE(e){var{option:t,lineItemProps:r}=e,n;if(w.isValidElement(t))n=w.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:o,x2:l,y2:c,key:u}=r,d=dp(r,HJ),f=(a=Ri(d))!==null&&a!==void 0?a:{},{offset:m}=f,h=dp(f,VJ);n=w.createElement("line",$c({},h,{x1:i,y1:o,x2:l,y2:c,fill:"none",key:u}))}return n}function eQ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=dp(e,GJ),c=a.map((u,d)=>{var f=Ra(Ra({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return w.createElement(JE,{key:"line-".concat(d),option:n,lineItemProps:f})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function tQ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=dp(e,KJ),c=a.map((u,d)=>{var f=Ra(Ra({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return w.createElement(JE,{option:n,lineItemProps:f,key:"line-".concat(d)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function rQ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var h=u[m+1],g=h==null,p=g?a+o-f:h-f;if(p<=0)return null;var v=m%t.length;return w.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:p,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function nQ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var h=u[m+1],g=h==null,p=g?a+o-f:h-f;if(p<=0)return null;var v=m%r.length;return w.createElement("rect",{key:"react-".concat(m),x:f,y:i,width:p,height:l,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var aQ=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return XC(oy(Ra(Ra(Ra({},Vo),r),{},{ticks:ZC(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},iQ=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return XC(oy(Ra(Ra(Ra({},Vo),r),{},{ticks:ZC(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},sQ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ln.grid};function Bi(e){var t=Mb(),r=Fb(),n=aP(),a=Ra(Ra({},zn(e,sQ)),{},{x:ht(e.x)?e.x:n.left,y:ht(e.y)?e.y:n.top,width:ht(e.width)?e.width:n.width,height:ht(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:m,verticalValues:h}=a,g=Ua(),p=gt(O=>KN(O,"xAxis",i,g)),v=gt(O=>KN(O,"yAxis",o,g));if(!so(u)||!so(d)||!ht(l)||!ht(c))return null;var b=a.verticalCoordinatesGenerator||aQ,j=a.horizontalCoordinatesGenerator||iQ,{horizontalPoints:A,verticalPoints:_}=a;if((!A||!A.length)&&typeof j=="function"){var k=m&&m.length,I=j({yAxis:v?Ra(Ra({},v),{},{ticks:k?m:v.ticks}):void 0,width:t??u,height:r??d,offset:n},k?!0:f);qm(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(A=I)}if((!_||!_.length)&&typeof b=="function"){var T=h&&h.length,M=b({xAxis:p?Ra(Ra({},p),{},{ticks:T?h:p.ticks}):void 0,width:t??u,height:r??d,offset:n},T?!0:f);qm(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(_=M)}return w.createElement(gi,{zIndex:a.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(QJ,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),w.createElement(rQ,$c({},a,{horizontalPoints:A})),w.createElement(nQ,$c({},a,{verticalPoints:_})),w.createElement(eQ,$c({},a,{offset:n,horizontalPoints:A,xAxis:p,yAxis:v})),w.createElement(tQ,$c({},a,{offset:n,verticalPoints:_,xAxis:p,yAxis:v}))))}Bi.displayName="CartesianGrid";var oQ={},QE=xi({name:"errorBars",initialState:oQ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Gge,replaceErrorBar:Kge,removeErrorBar:Yge}=QE.actions,lQ=QE.reducer,cQ=["children"];function uQ(e,t){if(e==null)return{};var r,n,a=dQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},hQ=w.createContext(fQ);function ek(e){var{children:t}=e,r=uQ(e,cQ);return w.createElement(hQ.Provider,{value:r},t)}function cy(e,t){var r,n,a=gt(u=>ml(u,e)),i=gt(u=>pl(u,t)),o=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:ra.allowDataOverflow,l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:na.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function tk(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=sy(),{needClipX:i,needClipY:o,needClip:l}=cy(t,r);if(!l||!a)return null;var{x:c,y:u,width:d,height:f}=a;return w.createElement("clipPath",{id:"clipPath-".concat(n)},w.createElement("rect",{x:i?c:c-d/2,y:o?u:u-f/2,width:i?d:d*2,height:o?f:f*2}))}var rk=(e,t,r,n)=>rc(e,"xAxis",t,n),nk=(e,t,r,n)=>tc(e,"xAxis",t,n),ak=(e,t,r,n)=>rc(e,"yAxis",r,n),ik=(e,t,r,n)=>tc(e,"yAxis",r,n),mQ=Ae([fr,rk,ak,nk,ik],(e,t,r,n,a)=>cl(e,"xAxis")?vd(t,n,!1):vd(r,a,!1)),pQ=(e,t,r,n,a)=>a;function xQ(e){return e.type==="line"}var gQ=Ae([b1,pQ],(e,t)=>e.filter(xQ).find(r=>r.id===t)),vQ=Ae([fr,rk,ak,nk,ik,gQ,mQ,o5],(e,t,r,n,a,i,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:m}=i,h;if(m!=null&&m.length>0?h=m:h=c?.slice(u,d+1),h!=null)return zQ({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:h})}});function bQ(e){var t=Zc(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),l=Number(i);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var yQ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function wQ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function k1(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(yQ.has(n)){if(e[n]==null&&t[n]==null)continue;if(!D9(e[n],t[n]))return!1}else if(!wQ(e[n],t[n]))return!1;return!0}var NQ=["id"],jQ=["type","layout","connectNulls","needClip","shape"],_Q=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function uh(){return uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uh.apply(null,arguments)}function i_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(r),!0).forEach(function(n){AQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AQ(e,t,r){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SQ(e){var t=CQ(e,"string");return typeof t=="symbol"?t:t+""}function CQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uy(e,t){if(e==null)return{};var r,n,a=PQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function PQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EQ=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Td(r,t),payload:e}]},kQ=w.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,unit:c,tooltipType:u,id:d}=e,f={dataDefinedOnItem:r,getPosition:fu,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Td(o,t),hide:l,type:u,color:n,unit:c,graphicalItemId:d}};return w.createElement(ay,{tooltipEntrySettings:f})}),sk=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function TQ(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var OQ=(e,t,r)=>{var n=r.reduce((h,g)=>h+g);if(!n)return sk(t,e);for(var a=Math.floor(e/n),i=e%n,o=t-e,l=[],c=0,u=0;c<r.length;u+=(d=r[c])!==null&&d!==void 0?d:0,++c){var d,f=r[c];if(f!=null&&u+f>i){l=[...r.slice(0,c),i-u];break}}var m=l.length%2===0?[0,o]:[o];return[...TQ(r,a),...l,...m].map(h=>"".concat(h,"px")).join(", ")};function DQ(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:o}=n,{id:l}=n,c=uy(n,NQ),u=Ri(c);return w.createElement(RZ,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:u,needClip:o,clipPathId:t})}function IQ(e){var{showLabels:t,children:r,points:n}=e,a=w.useMemo(()=>n?.map(i=>{var o,l,c={x:(o=i.x)!==null&&o!==void 0?o:0,y:(l=i.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Vs(Vs({},c),{},{value:i.value,payload:i.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return w.createElement(DE,{value:t?a:void 0},r)}function s_(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:o,layout:l,connectNulls:c,needClip:u,shape:d}=i,f=uy(i,jQ),m=Vs(Vs({},ri(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:a??i.strokeDasharray});return w.createElement(w.Fragment,null,n?.length>1&&w.createElement(ey,uh({shapeType:"curve",option:d},m,{pathRef:r})),w.createElement(DQ,{points:n,clipPathId:t,props:i}))}function MQ(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function FQ(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:m,width:h,height:g,onAnimationEnd:p,onAnimationStart:v}=r,b=a.current,j=Ih(o,"recharts-line-"),A=w.useRef(j),[_,k]=w.useState(!1),I=!_,T=w.useCallback(()=>{typeof p=="function"&&p(),k(!1)},[p]),M=w.useCallback(()=>{typeof v=="function"&&v(),k(!0)},[v]),O=MQ(n.current),U=w.useRef(0);A.current!==j&&(U.current=i.current,A.current=j);var P=U.current;return w.createElement(IQ,{points:o,showLabels:I},r.children,w.createElement(Dh,{animationId:j,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:T,onAnimationStart:M,key:j},C=>{var F=Zr(P,O+P,C),V=Math.min(F,O),te;if(c)if(l){var de="".concat(l).split(/[,\s]+/gim).map(he=>parseFloat(he));te=OQ(V,O,de)}else te=sk(O,V);else te=l==null?void 0:String(l);if(C>0&&O>0&&(a.current=o,i.current=Math.max(i.current,V)),b){var me=b.length/o.length,ue=C===1?o:o.map((he,Ne)=>{var Ee=Math.floor(Ne*me);if(b[Ee]){var E=b[Ee];return Vs(Vs({},he),{},{x:Zr(E.x,he.x,C),y:Zr(E.y,he.y,C)})}return m?Vs(Vs({},he),{},{x:Zr(h*2,he.x,C),y:Zr(g/2,he.y,C)}):Vs(Vs({},he),{},{x:he.x,y:he.y})});return a.current=ue,w.createElement(s_,{props:r,points:ue,clipPathId:t,pathRef:n,strokeDasharray:te})}return w.createElement(s_,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:te})}),w.createElement(X5,{label:r.label}))}function LQ(e){var{clipPathId:t,props:r}=e,n=w.useRef(null),a=w.useRef(0),i=w.useRef(null);return w.createElement(FQ,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var RQ=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Or(e.payload,t)}};class BQ extends w.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:o,top:l,left:c,width:u,height:d,id:f,needClip:m,zIndex:h}=this.props;if(t)return null;var g=ir("recharts-line",a),p=f,{r:v,strokeWidth:b}=bQ(r),j=$E(r),A=v*2+b,_=m?"url(#clipPath-".concat(j?"":"dots-").concat(p,")"):void 0;return w.createElement(gi,{zIndex:h},w.createElement(fa,{className:g},m&&w.createElement("defs",null,w.createElement(tk,{clipPathId:p,xAxisId:i,yAxisId:o}),!j&&w.createElement("clipPath",{id:"clipPath-dots-".concat(p)},w.createElement("rect",{x:c-A/2,y:l-A/2,width:u+A,height:d+A}))),w.createElement(ek,{xAxisId:i,yAxisId:o,data:n,dataPointFormatter:RQ,errorBarOffset:0},w.createElement(LQ,{props:this.props,clipPathId:p}))),w.createElement(aJ,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:_}))}}var ok={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Ln.line,type:"linear"};function qQ(e){var t=zn(e,ok),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:m,xAxisId:h,yAxisId:g,id:p}=t,v=uy(t,_Q),{needClip:b}=cy(h,g),j=sy(),A=hu(),_=Ua(),k=gt(U=>vQ(U,h,g,_,p));if(A!=="horizontal"&&A!=="vertical"||k==null||j==null)return null;var{height:I,width:T,x:M,y:O}=j;return w.createElement(BQ,uh({},v,{id:p,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:u,label:f,legendType:m,xAxisId:h,yAxisId:g,points:k,layout:A,height:I,width:T,left:M,top:O,needClip:b}))}function zQ(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var f=Or(u,o);if(t==="horizontal"){var m=Z4({axis:r,ticks:a,bandSize:l,entry:u,index:d}),h=nn(f)?null:n.scale.map(f);return{x:m,y:h??null,value:f,payload:u}}var g=nn(f)?null:r.scale.map(f),p=Z4({axis:n,ticks:i,bandSize:l,entry:u,index:d});return g==null||p==null?null:{x:g,y:p,value:f,payload:u}}).filter(Boolean)}function $Q(e){var t=zn(e,ok),r=Ua();return w.createElement(iy,{id:t.id,type:"line"},n=>w.createElement(w.Fragment,null,w.createElement(UE,{legendPayload:EQ(t)}),w.createElement(kQ,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),w.createElement(HE,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),w.createElement(qQ,uh({},t,{id:n}))))}var zd=w.memo($Q,k1);zd.displayName="Line";function gu(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:VE}function vu(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:VE}var UQ="Invariant failed";function WQ(e,t){throw new Error(UQ)}function j2(){return j2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j2.apply(null,arguments)}function fp(e){return w.createElement(ey,j2({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var HQ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(ht(t))return t;var i=ht(n)||nn(n);return i?t(n,a):(i||WQ(),r)}},VQ=(e,t,r)=>r,GQ=(e,t)=>t,Vh=Ae([b1,GQ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),KQ=Ae([Vh],e=>e?.maxBarSize),YQ=(e,t,r,n)=>n,XQ=Ae([fr,b1,gu,vu,VQ],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),ZQ=(e,t,r)=>{var n=fr(e),a=gu(e,t),i=vu(e,t);if(!(a==null||i==null))return n==="horizontal"?x2(e,"yAxis",i,r):x2(e,"xAxis",a,r)},JQ=(e,t)=>{var r=fr(e),n=gu(e,t),a=vu(e,t);if(!(n==null||a==null))return r==="horizontal"?GN(e,"xAxis",n):GN(e,"yAxis",a)},QQ=Ae([XQ,DH,JQ],iJ),eee=(e,t,r)=>{var n,a,i=Vh(e,t);if(i==null)return 0;var o=gu(e,t),l=vu(e,t);if(o==null||l==null)return 0;var c=fr(e),u=f8(e),{maxBarSize:d}=i,f=nn(d)?u:d,m,h;return c==="horizontal"?(m=rc(e,"xAxis",o,r),h=tc(e,"xAxis",o,r)):(m=rc(e,"yAxis",l,r),h=tc(e,"yAxis",l,r)),(n=(a=vd(m,h,!0))!==null&&a!==void 0?a:f)!==null&&n!==void 0?n:0},lk=(e,t,r)=>{var n=fr(e),a=gu(e,t),i=vu(e,t);if(!(a==null||i==null)){var o,l;return n==="horizontal"?(o=rc(e,"xAxis",a,r),l=tc(e,"xAxis",a,r)):(o=rc(e,"yAxis",i,r),l=tc(e,"yAxis",i,r)),vd(o,l)}},tee=Ae([QQ,f8,OH,h8,eee,lk,KQ],uJ),ree=(e,t,r)=>{var n=gu(e,t);if(n!=null)return rc(e,"xAxis",n,r)},nee=(e,t,r)=>{var n=vu(e,t);if(n!=null)return rc(e,"yAxis",n,r)},aee=(e,t,r)=>{var n=gu(e,t);if(n!=null)return tc(e,"xAxis",n,r)},iee=(e,t,r)=>{var n=vu(e,t);if(n!=null)return tc(e,"yAxis",n,r)},see=Ae([tee,Vh],fJ),oee=Ae([ZQ,Vh],dJ),lee=Ae([Qn,Ob,ree,nee,aee,iee,see,fr,_H,lk,oee,Vh,YQ],(e,t,r,n,a,i,o,l,c,u,d,f,m)=>{var{chartData:h,dataStartIndex:g,dataEndIndex:p}=c;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:v}=f,b;if(v!=null&&v.length>0?b=v:b=h?.slice(g,p+1),b!=null)return Fee({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:b,offset:e,cells:m,dataStartIndex:g})}}),cee=["index"];function _2(){return _2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_2.apply(null,arguments)}function uee(e,t){if(e==null)return{};var r,n,a=dee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ck=w.createContext(void 0),fee=e=>{var t=w.useContext(ck);if(t!=null)return t.stackId;if(e!=null)return Eq(e)},hee=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),mee=e=>{var t=w.useContext(ck);if(t!=null){var{stackId:r}=t;return"url(#".concat(hee(r,e),")")}},uk=e=>{var{index:t}=e,r=uee(e,cee),n=mee(t);return w.createElement(fa,_2({className:"recharts-bar-stack-layer",clipPath:n},r))},pee=["onMouseEnter","onMouseLeave","onClick"],xee=["value","background","tooltipPosition"],gee=["id"],vee=["onMouseEnter","onClick","onMouseLeave"];function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},il.apply(null,arguments)}function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(n){bee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bee(e,t,r){return(t=yee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yee(e){var t=wee(e,"string");return typeof t=="symbol"?t:t+""}function wee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hp(e,t){if(e==null)return{};var r,n,a=Nee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jee=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Td(r,t),payload:e}]},_ee=w.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:l,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,getPosition:fu,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Td(i,t),hide:o,type:c,color:a,unit:l,graphicalItemId:u}};return w.createElement(ay,{tooltipEntrySettings:d})});function Aee(e){var t=gt(nc),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,u=hp(i,pee),d=ty(o,n,i.id),f=ry(l),m=ny(c,n,i.id);if(!a||r==null)return null;var h=Zc(a);return w.createElement(gi,{zIndex:hJ(a,Ln.barBackground)},r.map((g,p)=>{var{value:v,background:b,tooltipPosition:j}=g,A=hp(g,xee);if(!b)return null;var _=d(g,p),k=f(g,p),I=m(g,p),T=Za(Za(Za(Za(Za({option:a,isActive:String(p)===t},A),{},{fill:"#eee"},b),h),kh(u,g,p)),{},{onMouseEnter:_,onMouseLeave:k,onClick:I,dataKey:n,index:p,className:"recharts-bar-background-rectangle"});return w.createElement(fp,il({key:"background-bar-".concat(p)},T))}))}function See(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Za(Za({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return w.createElement(DE,{value:t?a:void 0},r)}function Cee(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,l=gt(nc),c=gt(U5),u=r&&String(i)===l&&(c==null||o===c),d=u?r:t;return u?w.createElement(gi,{zIndex:Ln.activeBar},w.createElement(uk,{index:i},w.createElement(fp,il({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o})))):w.createElement(fp,il({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))}function Pee(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return w.createElement(fp,il({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function Eee(e){var t,{data:r,props:n}=e,a=(t=Ri(n))!==null&&t!==void 0?t:{},{id:i}=a,o=hp(a,gee),{shape:l,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:m}=n,h=hp(n,vee),g=ty(d,c,i),p=ry(m),v=ny(f,c,i);return r?w.createElement(w.Fragment,null,r.map((b,j)=>w.createElement(uk,il({index:j,key:"rectangle-".concat(b?.x,"-").concat(b?.y,"-").concat(b?.value,"-").concat(j),className:"recharts-bar-rectangle"},kh(h,b,j),{onMouseEnter:g(b,j),onMouseLeave:p(b,j),onClick:v(b,j)}),u?w.createElement(Cee,{shape:l,activeBar:u,baseProps:o,entry:b,index:j,dataKey:c}):w.createElement(Pee,{shape:l,baseProps:o,entry:b,index:j,dataKey:c})))):null}function kee(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,m=Ih(t,"recharts-bar-"),[h,g]=w.useState(!1),p=!h,v=w.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),b=w.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return w.createElement(See,{showLabels:p,rects:n},w.createElement(Dh,{animationId:m,begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:v,onAnimationStart:b,key:m},j=>{var A=j===1?n:n?.map((_,k)=>{var I=f&&f[k];if(I)return Za(Za({},_),{},{x:Zr(I.x,_.x,j),y:Zr(I.y,_.y,j),width:Zr(I.width,_.width,j),height:Zr(I.height,_.height,j)});if(a==="horizontal"){var T=Zr(0,_.height,j),M=Zr(_.stackedBarStart,_.y,j);return Za(Za({},_),{},{y:M,height:T})}var O=Zr(0,_.width,j),U=Zr(_.stackedBarStart,_.x,j);return Za(Za({},_),{},{width:O,x:U})});return j>0&&(r.current=A??null),A==null?null:w.createElement(fa,null,w.createElement(Eee,{props:t,data:A}))}),w.createElement(X5,{label:t.label}),t.children)}function Tee(e){var t=w.useRef(null);return w.createElement(kee,{previousRectanglesRef:t,props:e})}var dk=0,Oee=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Or(e,t)}};class Dee extends w.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=ir("recharts-bar",a),f=u;return w.createElement(fa,{className:d,id:u},l&&w.createElement("defs",null,w.createElement(tk,{clipPathId:f,xAxisId:i,yAxisId:o})),w.createElement(fa,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},w.createElement(Aee,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),w.createElement(Tee,this.props)))}}var Iee={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:dk,xAxisId:0,yAxisId:0,zIndex:Ln.bar};function Mee(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=cy(t,r),m=hu(),h=Ua(),g=Q5(e.children,xu),p=gt(j=>lee(j,e.id,h,g));if(m!=="vertical"&&m!=="horizontal")return null;var v,b=p?.[0];return b==null||b.height==null||b.width==null?v=0:v=m==="vertical"?b.height/2:b.width/2,w.createElement(ek,{xAxisId:t,yAxisId:r,data:p,dataPointFormatter:Oee,errorBarOffset:v},w.createElement(Dee,il({},e,{layout:m,needClip:f,data:p,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function Fee(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:m,cells:h,parentViewBox:g,dataStartIndex:p}=e,v=t==="horizontal"?l:o,b=d?v.scale.domain():null,j=kq({numericAxis:v}),A=v.scale.map(j);return f.map((_,k)=>{var I,T,M,O,U,P;if(d){var C=d[k+p];if(C==null)return null;I=_q(C,b)}else I=Or(_,r),Array.isArray(I)||(I=[j,I]);var F=HQ(n,dk)(I[1],k);if(t==="horizontal"){var V,te=l.scale.map(I[0]),de=l.scale.map(I[1]);if(te==null||de==null)return null;T=J4({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:_,index:k}),M=(V=de??te)!==null&&V!==void 0?V:void 0,O=a.size;var me=te-de;if(U=ao(me)?0:me,P={x:T,y:m.top,width:O,height:m.height},Math.abs(F)>0&&Math.abs(U)<Math.abs(F)){var ue=oa(U||F)*(Math.abs(F)-Math.abs(U));M-=ue,U+=ue}}else{var he=o.scale.map(I[0]),Ne=o.scale.map(I[1]);if(he==null||Ne==null)return null;if(T=he,M=J4({axis:l,ticks:u,bandSize:i,offset:a.offset,entry:_,index:k}),O=Ne-he,U=a.size,P={x:m.left,y:M,width:m.width,height:U},Math.abs(F)>0&&Math.abs(O)<Math.abs(F)){var Ee=oa(O||F)*(Math.abs(F)-Math.abs(O));O+=Ee}}if(T==null||M==null||O==null||U==null)return null;var E=Za(Za({},_),{},{stackedBarStart:A,x:T,y:M,width:O,height:U,value:d?I:I[1],payload:_,background:P,tooltipPosition:{x:T+O/2,y:M+U/2},parentViewBox:g},h&&h[k]&&h[k].props);return E}).filter(Boolean)}function Lee(e){var t=zn(e,Iee),r=fee(t.stackId),n=Ua();return w.createElement(iy,{id:t.id,type:"bar"},a=>w.createElement(w.Fragment,null,w.createElement(UE,{legendPayload:jee(t)}),w.createElement(_ee,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),w.createElement(HE,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),w.createElement(gi,{zIndex:t.zIndex},w.createElement(Mee,il({},t,{id:a})))))}var ic=w.memo(Lee,k1);ic.displayName="Bar";var Ree=["domain","range"],Bee=["domain","range"];function l_(e,t){if(e==null)return{};var r,n,a=qee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function c_(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function fk(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=l_(e,Ree),{domain:i,range:o}=t,l=l_(t,Bee);return!c_(r,i)||!c_(n,o)?!1:k1(a,l)}var zee=["type"],$ee=["dangerouslySetInnerHTML","ticks","scale"],Uee=["id","scale"];function A2(){return A2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A2.apply(null,arguments)}function u_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(r),!0).forEach(function(n){Wee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wee(e,t,r){return(t=Hee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hee(e){var t=Vee(e,"string");return typeof t=="symbol"?t:t+""}function Vee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S2(e,t){if(e==null)return{};var r,n,a=Gee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Gee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Kee(e){var t=Ur(),r=w.useRef(null),n=iP(),{type:a}=e,i=S2(e,zee),o=m1(n,"xAxis",a),l=w.useMemo(()=>{if(o!=null)return d_(d_({},i),{},{type:o})},[i,o]);return w.useLayoutEffect(()=>{l!=null&&(r.current===null?t(UZ(l)):r.current!==l&&t(WZ({prev:r.current,next:l})),r.current=l)},[l,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(HZ(r.current)),r.current=null)},[t]),null}var Yee=e=>{var{xAxisId:t,className:r}=e,n=gt(Ob),a=Ua(),i="xAxis",o=gt(b=>V8(b,i,t,a)),l=gt(b=>$8(b,t)),c=gt(b=>DV(b,t)),u=gt(b=>j8(b,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:m}=e,h=S2(e,$ee),{id:g,scale:p}=u,v=S2(u,Uee);return w.createElement(ly,A2({},h,v,{x:c.x,y:c.y,width:l.width,height:l.height,className:ir("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o,axisType:i}))},Xee={allowDataOverflow:ra.allowDataOverflow,allowDecimals:ra.allowDecimals,allowDuplicatedCategory:ra.allowDuplicatedCategory,angle:ra.angle,axisLine:Vo.axisLine,height:ra.height,hide:!1,includeHidden:ra.includeHidden,interval:ra.interval,label:!1,minTickGap:ra.minTickGap,mirror:ra.mirror,orientation:ra.orientation,padding:ra.padding,reversed:ra.reversed,scale:ra.scale,tick:ra.tick,tickCount:ra.tickCount,tickLine:Vo.tickLine,tickSize:Vo.tickSize,type:ra.type,xAxisId:0},Zee=e=>{var t=zn(e,Xee);return w.createElement(w.Fragment,null,w.createElement(Kee,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),w.createElement(Yee,t))},qi=w.memo(Zee,fk);qi.displayName="XAxis";var Jee=["type"],Qee=["dangerouslySetInnerHTML","ticks","scale"],ete=["id","scale"];function C2(){return C2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C2.apply(null,arguments)}function f_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function h_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(r),!0).forEach(function(n){tte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tte(e,t,r){return(t=rte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rte(e){var t=nte(e,"string");return typeof t=="symbol"?t:t+""}function nte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P2(e,t){if(e==null)return{};var r,n,a=ate(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ate(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ite(e){var t=Ur(),r=w.useRef(null),n=iP(),{type:a}=e,i=P2(e,Jee),o=m1(n,"yAxis",a),l=w.useMemo(()=>{if(o!=null)return h_(h_({},i),{},{type:o})},[o,i]);return w.useLayoutEffect(()=>{l!=null&&(r.current===null?t(VZ(l)):r.current!==l&&t(GZ({prev:r.current,next:l})),r.current=l)},[l,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(KZ(r.current)),r.current=null)},[t]),null}function ste(e){var{yAxisId:t,className:r,width:n,label:a}=e,i=w.useRef(null),o=w.useRef(null),l=gt(Ob),c=Ua(),u=Ur(),d="yAxis",f=gt(I=>U8(I,t)),m=gt(I=>MV(I,t)),h=gt(I=>V8(I,d,t,c)),g=gt(I=>_8(I,t));if(w.useLayoutEffect(()=>{if(!(n!=="auto"||!f||Y5(a)||w.isValidElement(a)||g==null)){var I=i.current;if(I){var T=I.getCalculatedWidth();Math.round(f.width)!==Math.round(T)&&u(YZ({id:t,width:T}))}}},[h,f,u,a,t,n,g]),f==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:p,ticks:v,scale:b}=e,j=P2(e,Qee),{id:A,scale:_}=g,k=P2(g,ete);return w.createElement(ly,C2({},j,k,{ref:i,labelRef:o,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:ir("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:h,axisType:d}))}var ote={allowDataOverflow:na.allowDataOverflow,allowDecimals:na.allowDecimals,allowDuplicatedCategory:na.allowDuplicatedCategory,angle:na.angle,axisLine:Vo.axisLine,hide:!1,includeHidden:na.includeHidden,interval:na.interval,label:!1,minTickGap:na.minTickGap,mirror:na.mirror,orientation:na.orientation,padding:na.padding,reversed:na.reversed,scale:na.scale,tick:na.tick,tickCount:na.tickCount,tickLine:Vo.tickLine,tickSize:Vo.tickSize,type:na.type,width:na.width,yAxisId:0},lte=e=>{var t=zn(e,ote);return w.createElement(w.Fragment,null,w.createElement(ite,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),w.createElement(ste,t))},zi=w.memo(lte,fk);zi.displayName="YAxis";var cte=(e,t)=>t,dy=Ae([cte,fr,y8,ma,cE,xl,ZG,Qn],aK),fy=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},hk=Ad("mouseClick"),mk=Nh();mk.startListening({actionCreator:hk,effect:(e,t)=>{var r=e.payload,n=dy(t.getState(),fy(r));n?.activeIndex!=null&&t.dispatch(YV({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var E2=Ad("mouseMove"),pk=Nh(),Z0=null;pk.startListening({actionCreator:E2,effect:(e,t)=>{var r=e.payload;Z0!==null&&cancelAnimationFrame(Z0);var n=fy(r);Z0=requestAnimationFrame(()=>{var a=t.getState(),i=L5(a,a.tooltip.settings.shared);if(i==="axis"){var o=dy(a,n);o?.activeIndex!=null?t.dispatch(eE({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(Q8())}Z0=null})}});function ute(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var m_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},xk=xi({name:"rootProps",initialState:m_,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:m_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),dte=xk.reducer,{updateOptions:fte}=xk.actions,hte=null,mte={updatePolarOptions:(e,t)=>t.payload},gk=xi({name:"polarOptions",initialState:hte,reducers:mte}),{updatePolarOptions:pte}=gk.actions,xte=gk.reducer,vk=Ad("keyDown"),bk=Ad("focus"),hy=Nh();hy.startListening({actionCreator:vk,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=R5(a,qd(r),$h(r),Wh(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var c=xl(r);if(i==="Enter"){var u=sp(r,"axis","hover",String(a.index));t.dispatch(v2({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=BV(r),f=d==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,h=l+m*f;if(!(c==null||h>=c.length||h<0)){var g=sp(r,"axis","hover",String(h));t.dispatch(v2({active:!0,activeIndex:h.toString(),activeCoordinate:g}))}}}}}});hy.startListening({actionCreator:bk,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=sp(r,"axis","hover",String(i));t.dispatch(v2({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Ji=Ad("externalEvent"),yk=Nh(),Xg=new Map;yk.startListening({actionCreator:Ji,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=Xg.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:MG(l),activeDataKey:U5(l),activeIndex:nc(l),activeLabel:fE(l),activeTooltipIndex:nc(l),isTooltipActive:FG(l)};r(c,n)}finally{Xg.delete(a)}});Xg.set(a,o)}}});var gte=Ae([Rd],e=>e.tooltipItemPayloads),vte=Ae([gte,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(i=>i.settings.graphicalItemId===r);if(n!=null){var{getPosition:a}=n;if(a!=null)return a(t)}}}),wk=Ad("touchMove"),Nk=Nh();Nk.startListening({actionCreator:wk,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=L5(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var o=dy(n,fy({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));o?.activeIndex!=null&&t.dispatch(eE({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(QC),f=(l=u.getAttribute(eP))!==null&&l!==void 0?l:void 0,m=Bd(n).find(p=>p.id===f);if(d==null||m==null||f==null)return;var{dataKey:h}=m,g=vte(n,d,f);t.dispatch(J8({activeDataKey:h,activeIndex:d,activeCoordinate:g,activeGraphicalItemId:f}))}}}});var bte=M9({brush:mJ,cartesianAxis:XZ,chartData:MK,errorBars:lQ,graphicalItems:nZ,layout:bq,legend:pz,options:kK,polarAxis:gX,polarOptions:xte,referenceElements:vJ,rootProps:dte,tooltip:XV,zIndex:vK}),yte=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return I9({reducer:bte,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([mk.middleware,pk.middleware,hy.middleware,yk.middleware,Nk.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(F9({type:"raf"}))},devTools:{serialize:{replacer:ute},name:"recharts-".concat(r)}})};function jk(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Ua(),i=w.useRef(null);if(a)return r;i.current==null&&(i.current=yte(t,n));var o=Tb;return w.createElement(L9,{context:o,store:i.current},r)}function wte(e){var{layout:t,margin:r}=e,n=Ur(),a=Ua();return w.useEffect(()=>{a||(n(xq(t)),n(pq(r)))},[n,a,t,r]),null}var _k=w.memo(wte,k1);function Ak(e){var t=Ur();return w.useEffect(()=>{t(fte(e))},[t,e]),null}function p_(e){var{zIndex:t,isPanorama:r}=e,n=w.useRef(null),a=Ur();return w.useLayoutEffect(()=>(n.current&&a(xK({zIndex:t,element:n.current,isPanorama:r})),()=>{a(gK({zIndex:t,isPanorama:r}))}),[a,t,r]),w.createElement("g",{tabIndex:-1,ref:n})}function x_(e){var{children:t,isPanorama:r}=e,n=gt(sK);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),i=n.filter(o=>o>0);return w.createElement(w.Fragment,null,a.map(o=>w.createElement(p_,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>w.createElement(p_,{key:o,zIndex:o,isPanorama:r})))}var Nte=["children"];function jte(e,t){if(e==null)return{};var r,n,a=_te(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _te(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mp.apply(null,arguments)}var Ate={width:"100%",height:"100%",display:"block"},Ste=w.forwardRef((e,t)=>{var r=Mb(),n=Fb(),a=dP();if(!so(r)||!so(n))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),w.createElement(yb,mp({},o,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:Ate,ref:t}),i)}),Cte=e=>{var{children:t}=e,r=gt(n1);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return w.createElement(yb,{width:n,height:a,x:o,y:i},t)},g_=w.forwardRef((e,t)=>{var{children:r}=e,n=jte(e,Nte),a=Ua();return a?w.createElement(Cte,null,w.createElement(x_,{isPanorama:!0},r)):w.createElement(Ste,mp({ref:t},n),w.createElement(x_,{isPanorama:!1},r))});function Pte(){var e=Ur(),[t,r]=w.useState(null),n=gt(Fq);return w.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;nr(i)&&i!==n&&e(vq(i))}},[t,e,n]),r}function v_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ete(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(r),!0).forEach(function(n){kte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kte(e,t,r){return(t=Tte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tte(e){var t=Ote(e,"string");return typeof t=="symbol"?t:t+""}function Ote(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gl.apply(null,arguments)}var Dte=()=>(WK(),null);function pp(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Ite=w.forwardRef((e,t)=>{var r,n,a=w.useRef(null),[i,o]=w.useState({containerWidth:pp((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:pp((n=e.style)===null||n===void 0?void 0:n.height)}),l=w.useCallback((u,d)=>{o(f=>{var m=Math.round(u),h=Math.round(d);return f.containerWidth===m&&f.containerHeight===h?f:{containerWidth:m,containerHeight:h}})},[]),c=w.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();l(d,f);var m=g=>{var p=g[0];if(p!=null){var{width:v,height:b}=p.contentRect;l(v,b)}},h=new ResizeObserver(m);h.observe(u),a.current=h}},[t,l]);return w.useEffect(()=>()=>{var u=a.current;u?.disconnect()},[l]),w.createElement(w.Fragment,null,w.createElement(Oh,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",Gl({ref:c},e)))}),Mte=w.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=w.useState({containerWidth:pp(r),containerHeight:pp(n)}),o=w.useCallback((c,u)=>{i(d=>{var f=Math.round(c),m=Math.round(u);return d.containerWidth===f&&d.containerHeight===m?d:{containerWidth:f,containerHeight:m}})},[]),l=w.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();o(u,d)}},[t,o]);return w.createElement(w.Fragment,null,w.createElement(Oh,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",Gl({ref:l},e)))}),Fte=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return w.createElement(w.Fragment,null,w.createElement(Oh,{width:r,height:n}),w.createElement("div",Gl({ref:t},e)))}),Lte=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?w.createElement(Mte,Gl({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?w.createElement(Fte,Gl({},e,{width:r,height:n,ref:t})):w.createElement(w.Fragment,null,w.createElement(Oh,{width:r,height:n}),w.createElement("div",Gl({ref:t},e)))});function Rte(e){return e?Ite:Lte}var Bte=w.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:m,onTouchEnd:h,onTouchMove:g,onTouchStart:p,style:v,width:b,responsive:j,dispatchTouchEvents:A=!0}=e,_=w.useRef(null),k=Ur(),[I,T]=w.useState(null),[M,O]=w.useState(null),U=Pte(),P=Db(),C=P?.width>0?P.width:b,F=P?.height>0?P.height:a,V=w.useCallback(Q=>{U(Q),typeof t=="function"&&t(Q),T(Q),O(Q),Q!=null&&(_.current=Q)},[U,t,T,O]),te=w.useCallback(Q=>{k(hk(Q)),k(Ji({handler:i,reactEvent:Q}))},[k,i]),de=w.useCallback(Q=>{k(E2(Q)),k(Ji({handler:u,reactEvent:Q}))},[k,u]),me=w.useCallback(Q=>{k(Q8()),k(Ji({handler:d,reactEvent:Q}))},[k,d]),ue=w.useCallback(Q=>{k(E2(Q)),k(Ji({handler:f,reactEvent:Q}))},[k,f]),he=w.useCallback(()=>{k(bk())},[k]),Ne=w.useCallback(Q=>{k(vk(Q.key))},[k]),Ee=w.useCallback(Q=>{k(Ji({handler:o,reactEvent:Q}))},[k,o]),E=w.useCallback(Q=>{k(Ji({handler:l,reactEvent:Q}))},[k,l]),R=w.useCallback(Q=>{k(Ji({handler:c,reactEvent:Q}))},[k,c]),L=w.useCallback(Q=>{k(Ji({handler:m,reactEvent:Q}))},[k,m]),z=w.useCallback(Q=>{k(Ji({handler:p,reactEvent:Q}))},[k,p]),J=w.useCallback(Q=>{A&&k(wk(Q)),k(Ji({handler:g,reactEvent:Q}))},[k,A,g]),le=w.useCallback(Q=>{k(Ji({handler:h,reactEvent:Q}))},[k,h]),xe=Rte(j);return w.createElement(bE.Provider,{value:I},w.createElement(hC.Provider,{value:M},w.createElement(xe,{width:C??v?.width,height:F??v?.height,className:ir("recharts-wrapper",n),style:Ete({position:"relative",cursor:"default",width:C,height:F},v),onClick:te,onContextMenu:Ee,onDoubleClick:E,onFocus:he,onKeyDown:Ne,onMouseDown:R,onMouseEnter:de,onMouseLeave:me,onMouseMove:ue,onMouseUp:L,onTouchEnd:le,onTouchMove:J,onTouchStart:z,ref:V},w.createElement(Dte,null),r)))}),qte=["width","height","responsive","children","className","style","compact","title","desc"];function zte(e,t){if(e==null)return{};var r,n,a=$te(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $te(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Sk=w.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:l,compact:c,title:u,desc:d}=e,f=zte(e,qte),m=Ri(f);return c?w.createElement(w.Fragment,null,w.createElement(Oh,{width:r,height:n}),w.createElement(g_,{otherAttributes:m,title:u,desc:d},i)):w.createElement(Bte,{className:o,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(g_,{otherAttributes:m,title:u,desc:d,ref:t},w.createElement(yJ,null,i)))});function k2(){return k2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k2.apply(null,arguments)}var Ute={top:5,right:5,bottom:5,left:5},Wte={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Ute,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Ck=w.forwardRef(function(t,r){var n,a=zn(t.categoricalChartProps,Wte),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return w.createElement(jk,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},w.createElement(KE,{chartData:u.data}),w.createElement(_k,{layout:a.layout,margin:a.margin}),w.createElement(Ak,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(Sk,k2({},a,{ref:r})))}),Hte=["axis"],Gh=w.forwardRef((e,t)=>w.createElement(Ck,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Hte,tooltipPayloadSearcher:K5,categoricalChartProps:e,ref:t})),Vte=["axis","item"],nu=w.forwardRef((e,t)=>w.createElement(Ck,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Vte,tooltipPayloadSearcher:K5,categoricalChartProps:e,ref:t}));function Gte(e){var t=Ur();return w.useEffect(()=>{t(pte(e))},[t,e]),null}var Kte=["layout"];function T2(){return T2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T2.apply(null,arguments)}function Yte(e,t){if(e==null)return{};var r,n,a=Xte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zte={top:5,right:5,bottom:5,left:5},Pk={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Zte,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Jte=w.forwardRef(function(t,r){var n,a=zn(t.categoricalChartProps,Pk),{layout:i}=a,o=Yte(a,Kte),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return w.createElement(jk,{preloadedState:{options:f},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:l},w.createElement(KE,{chartData:a.data}),w.createElement(_k,{layout:i,margin:a.margin}),w.createElement(Ak,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(Gte,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),w.createElement(Sk,T2({},o,{ref:r})))});function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(n){Qte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qte(e,t,r){return(t=ere(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ere(e){var t=tre(e,"string");return typeof t=="symbol"?t:t+""}function tre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rre=["item"],nre=y_(y_({},Pk),{},{layout:"centric",startAngle:0,endAngle:360}),my=w.forwardRef((e,t)=>{var r=zn(e,nre);return w.createElement(Jte,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:rre,tooltipPayloadSearcher:K5,categoricalChartProps:r,ref:t})});const are=({graficaAsistencias:e,graficaIngresos:t})=>{const r=o=>!o||!o.labels||!o.datasets[0]?[]:o.labels.map((l,c)=>({dia:l,alumnos:o.datasets[0].data[c]})),n=o=>!o||!o.labels||!o.datasets[0]?[]:o.labels.map((l,c)=>({mes:l,ingresos:o.datasets[0].data[c]})),a=r(e),i=n(t);return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 md:mb-10",children:[s.jsxs(Ye,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-[#f9fafb] text-xl font-bold mb-1",children:"Asistencias de la Semana"}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Tendencia semanal de asistencia"})]}),s.jsx("div",{className:"p-2 rounded-lg bg-[rgba(52,211,153,0.15)] border border-[rgba(52,211,153,0.3)]",children:s.jsx(Bv,{className:"w-5 h-5 text-[#34d399]"})})]}),a.length>0?s.jsx(ni,{width:"100%",height:250,children:s.jsxs(Gh,{data:a,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorAsistencias",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#34d399",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"#34d399",stopOpacity:0})]})}),s.jsx(Bi,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.05)"}),s.jsx(qi,{dataKey:"dia",stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(zi,{stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(ai,{contentStyle:{backgroundColor:"rgba(26, 26, 32, 0.9)",border:"1px solid rgba(255,255,255,0.15)",borderRadius:"12px",backdropFilter:"blur(20px)",color:"#f9fafb"}}),s.jsx(zd,{type:"monotone",dataKey:"alumnos",stroke:"#34d399",strokeWidth:3,fill:"url(#colorAsistencias)",dot:{fill:"#34d399",r:5},activeDot:{r:7}})]})}):s.jsx("div",{className:"h-[250px] flex items-center justify-center text-[#6b7280]",children:"No hay datos de asistencias disponibles"})]}),s.jsxs(Ye,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-[#f9fafb] text-xl font-bold mb-1",children:"Ingresos Últimos 6 Meses"}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Evolución mensual de ingresos"})]}),s.jsx("div",{className:"p-2 rounded-lg bg-[rgba(201,52,72,0.15)] border border-[rgba(201,52,72,0.3)]",children:s.jsx(Fi,{className:"w-5 h-5 text-[#c93448]"})})]}),i.length>0?s.jsx(ni,{width:"100%",height:250,children:s.jsxs(nu,{data:i,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorIngresos",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#c93448",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#a8243a",stopOpacity:.6})]})}),s.jsx(Bi,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.05)"}),s.jsx(qi,{dataKey:"mes",stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(zi,{stroke:"#6b7280",style:{fontSize:"12px"},tickFormatter:o=>`$${(o/1e6).toFixed(1)}M`}),s.jsx(ai,{contentStyle:{backgroundColor:"rgba(26, 26, 32, 0.9)",border:"1px solid rgba(255,255,255,0.15)",borderRadius:"12px",backdropFilter:"blur(20px)",color:"#f9fafb"},formatter:o=>o?[`$${Number(o).toLocaleString("es-CL")}`,"Ingresos"]:["$0","Ingresos"]}),s.jsx(ic,{dataKey:"ingresos",fill:"url(#colorIngresos)",radius:[8,8,0,0]})]})}):s.jsx("div",{className:"h-[250px] flex items-center justify-center text-[#6b7280]",children:"No hay datos de ingresos disponibles"})]})]})},ire=({userName:e="Administrador",userRole:t="Administrador",academyName:r="Academia Chetango"})=>{const n=new Date,a=()=>{const o=n.getHours();return o<12?"Buenos días":o<19?"Buenas tardes":"Buenas noches"},i=()=>n.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"});return s.jsx("header",{className:"mb-10 md:mb-12",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-[#34d399] shadow-[0_0_8px_rgba(52,211,153,0.6)] animate-pulse"}),s.jsx("p",{className:"text-[#9ca3af] tracking-[0.2em] uppercase text-sm",children:"Sistema Activo"})]}),s.jsxs("h1",{className:"text-[#f9fafb] text-3xl md:text-4xl font-bold mb-3",children:[a(),", ",e]}),s.jsxs("p",{className:"text-[#d1d5db] text-lg",children:["Este es el estado de Chetango hoy – ",i()]})]}),s.jsxs(Ye,{className:"p-5 md:min-w-[280px]",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-[#c93448] to-[#a8243a] flex items-center justify-center shadow-[0_4px_16px_rgba(201,52,72,0.4)]",children:s.jsx(Jn,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-[#f9fafb] font-medium mb-0.5",children:e}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:t})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-[rgba(255,255,255,0.1)]",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cS,{className:"w-4 h-4 text-[#9ca3af]"}),s.jsx("p",{className:"text-[#d1d5db] text-sm",children:r})]})})]})]})})},sre=()=>{const e=new Date().getHours();return e<12?"Buenos días":e<19?"Buenas tardes":"Buenas noches"},Ek=e=>({activo:{bg:"rgba(52, 211, 153, 0.15)",border:"rgba(52, 211, 153, 0.3)",text:"#6ee7b7",label:"Activo"},agotado:{bg:"rgba(239, 68, 68, 0.15)",border:"rgba(239, 68, 68, 0.3)",text:"#fca5a5",label:"Agotado"},congelado:{bg:"rgba(59, 130, 246, 0.15)",border:"rgba(59, 130, 246, 0.3)",text:"#93c5fd",label:"Congelado"},vencido:{bg:"rgba(156, 163, 175, 0.15)",border:"rgba(156, 163, 175, 0.3)",text:"#d1d5db",label:"Vencido"}})[e],ore=e=>e>=80?{color:"#34d399",label:"🟢 Excelente",bg:"rgba(52, 211, 153, 0.15)"}:e>=60?{color:"#f59e0b",label:"🟡 Regular",bg:"rgba(245, 158, 11, 0.15)"}:{color:"#ef4444",label:"🔴 Mejorable",bg:"rgba(239, 68, 68, 0.15)"},lre=e=>{if(e<60)return`Empieza en ${e} min`;const t=Math.floor(e/60);if(t<24){const n=e%60;return`Empieza en ${t}h ${n}min`}const r=Math.floor(t/24);return`En ${r} día${r>1?"s":""}`},kk=e=>{const t=new Date(e),r={weekday:"short",day:"numeric",month:"short"};return t.toLocaleDateString("es-ES",r).replace(/\./g,"").split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")},cre=e=>e.substring(0,5),ure=e=>e===null||e===0?"Gratis":`$${e.toLocaleString("es-AR")}`,Tk=e=>{const t=e.split(" ");return t.length>=2?(t[0][0]+t[1][0]).toUpperCase():e.substring(0,2).toUpperCase()},Ok=({eventos:e})=>{const[t,r]=w.useState(0),[n,a]=w.useState(!1);if(w.useEffect(()=>{if(e.length<=1||n)return;const c=setInterval(()=>{r(u=>(u+1)%e.length)},5e3);return()=>clearInterval(c)},[e.length,n]),e.length===0)return s.jsxs("div",{className:"mb-8 md:mb-10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Hc,{className:"w-5 h-5 text-[#7c5af8]"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"NotiChetango"}),s.jsx("div",{className:"flex-1 h-[2px] bg-gradient-to-r from-[rgba(255,255,255,0.08)] to-transparent"})]}),s.jsxs(Ye,{className:"p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-[rgba(124,90,248,0.15)] flex items-center justify-center",children:s.jsx(Hc,{className:"w-8 h-8 text-[#7c5af8]"})}),s.jsx("h4",{className:"text-[#f9fafb] text-lg font-semibold mb-2",children:"Contenido en camino"}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Estamos preparando talleres y milongas increíbles para ti. ¡Vuelve pronto!"})]})]});const i=()=>{r(c=>(c+1)%e.length)},o=()=>{r(c=>(c-1+e.length)%e.length)},l=e[t];return s.jsxs("div",{className:"mb-8 md:mb-10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Hc,{className:"w-5 h-5 text-[#7c5af8]"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"NotiChetango"}),s.jsx("div",{className:"flex-1 h-[2px] bg-gradient-to-r from-[rgba(255,255,255,0.08)] to-transparent"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[e.length>1&&s.jsx("button",{onClick:o,className:"shrink-0 p-2 rounded-full bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] transition-all duration-300",children:s.jsx(ab,{className:"w-5 h-5"})}),s.jsx("div",{className:"flex-1",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:s.jsxs(Ye,{className:"overflow-hidden group cursor-pointer",children:[s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:l.imagenUrl,alt:l.titulo,className:"w-full h-full object-cover object-[center_35%] transition-transform duration-500 group-hover:scale-110"}),l.destacado&&s.jsx("div",{className:"absolute top-3 right-3 px-3 py-1 rounded-full bg-[#c93448] text-white text-xs font-medium",children:"Destacado"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h4",{className:"text-[#f9fafb] text-lg font-semibold mb-2",children:l.titulo}),s.jsx("p",{className:"text-[#9ca3af] text-sm mb-4 line-clamp-3",children:l.descripcion}),l.precio!==null&&l.precio>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[#9ca3af] text-sm",children:[s.jsx(St,{className:"w-4 h-4"}),s.jsx("span",{children:kk(l.fecha)})]}),s.jsx("span",{className:"text-[#34d399] font-semibold",children:ure(l.precio)})]}),s.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-[#7c5af8] to-[#6938ef] text-white text-sm font-medium hover:shadow-lg transition-all",children:["Reservar Cupo",s.jsx(X6,{className:"w-4 h-4"})]})]})]})]})}),e.length>1&&s.jsx("button",{onClick:i,className:"shrink-0 p-2 rounded-full bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] transition-all duration-300",children:s.jsx(ec,{className:"w-5 h-5"})})]}),e.length>1&&s.jsx("div",{className:"flex items-center justify-center gap-2 mt-4",children:e.map((c,u)=>s.jsx("button",{onClick:()=>r(u),className:`w-2 h-2 rounded-full transition-all ${u===t?"w-8 bg-[#7c5af8]":"bg-[rgba(255,255,255,0.2)] hover:bg-[rgba(255,255,255,0.3)]"}`},u))})]})]})},dre=({title:e,value:t,change:r,comparison:n,icon:a,color:i,bgColor:o,glowColor:l})=>s.jsxs(Ye,{className:"p-6 group hover:scale-[1.03] transition-all duration-300 cursor-pointer relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 opacity-[0.08] blur-[60px] rounded-full group-hover:opacity-[0.15] transition-opacity duration-300",style:{background:l}}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"inline-flex p-3 backdrop-blur-md rounded-xl mb-4",style:{background:o,color:i,boxShadow:`0 4px 12px ${l}, inset 0 1px 2px rgba(255,255,255,0.1)`},children:s.jsx(a,{className:"w-5 h-5"})}),s.jsx("h3",{className:"text-[#f9fafb] text-3xl font-bold mb-1",children:t}),s.jsx("p",{className:"text-[#9ca3af] text-sm mb-3",children:e}),s.jsxs("div",{className:"flex items-center gap-2",children:[r!==void 0&&r!==0&&s.jsxs(s.Fragment,{children:[r>0?s.jsx(ua,{className:"w-4 h-4 text-[#34d399]"}):s.jsx(dS,{className:"w-4 h-4 text-[#fca5a5]"}),s.jsxs("span",{className:"text-sm font-medium",style:{color:r>0?"#34d399":"#fca5a5"},children:[r>0?"+":"",r,"%"]})]}),s.jsx("span",{className:"text-[#6b7280] text-sm",children:n})]})]})]}),fre=({kpis:e})=>{const t=[{id:"asistencias",title:"Asistencias Hoy",value:e.asistenciasHoy,change:e.comparativaAsistenciasMesAnterior,comparison:"vs mes anterior",icon:da,color:"#34d399",bgColor:"rgba(52, 211, 153, 0.15)",glowColor:"rgba(52, 211, 153, 0.1)"},{id:"ingresos",title:"Ingresos del Mes",value:`$${e.ingresosEsteMes.toLocaleString("es-CL")}`,change:e.crecimientoIngresosMesAnterior,comparison:"vs mes anterior",icon:Fi,color:"#c93448",bgColor:"rgba(201, 52, 72, 0.15)",glowColor:"rgba(201, 52, 72, 0.1)"},{id:"clases",title:"Clases Próximos 7 Días",value:e.clasesProximos7Dias,change:0,comparison:`${e.asistenciasMes} asistencias este mes`,icon:St,color:"#7c5af8",bgColor:"rgba(124, 90, 248, 0.15)",glowColor:"rgba(124, 90, 248, 0.1)"},{id:"paquetes",title:"Paquetes por Vencer",value:e.paquetesPorVencer,change:e.comparativaPaquetesVendidosMesAnterior,comparison:"próximos 7 días",icon:Tr,color:"#f59e0b",bgColor:"rgba(245, 158, 11, 0.15)",glowColor:"rgba(245, 158, 11, 0.1)"}];return s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8 md:mb-10",children:t.map(r=>s.jsx(dre,{...r},r.id))})},hre=({title:e,description:t,icon:r,color:n,path:a})=>{const i=ii(),o=()=>{i(a)},l=(c,u)=>{const d=parseInt(c.slice(1,3),16),f=parseInt(c.slice(3,5),16),m=parseInt(c.slice(5,7),16);return`rgba(${d}, ${f}, ${m}, ${u})`};return s.jsx("div",{className:"p-5 group hover:scale-[1.02] transition-all duration-300 cursor-pointer backdrop-blur-2xl bg-gradient-to-br from-[rgba(42,42,48,0.7)] to-[rgba(26,26,32,0.8)] border border-[rgba(255,255,255,0.15)] rounded-2xl shadow-[0_20px_40px_rgba(0,0,0,0.5),inset_0_1px_2px_rgba(255,255,255,0.15),inset_0_-1px_2px_rgba(0,0,0,0.3)]",onClick:o,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl flex-shrink-0 transition-transform duration-300 group-hover:scale-110",style:{background:l(n,.15),color:n},children:s.jsx(r,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-[#f9fafb] font-medium mb-1",children:e}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:t})]}),s.jsx(Pd,{className:"w-4 h-4 text-[#6b7280] opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex-shrink-0"})]})})},mre=()=>{const e=[{id:"asistencia",title:"Registrar Asistencia",description:"Marcar alumno presente",icon:da,color:"#34d399",path:"/admin/attendance"},{id:"pago",title:"Registrar Pago",description:"Nuevo pago de alumno",icon:Fi,color:"#c93448",path:"/admin/payments"},{id:"paquete",title:"Crear Paquete",description:"Asignar paquete a alumno",icon:Tr,color:"#f59e0b",path:"/admin/packages"},{id:"clase",title:"Crear Clase",description:"Programar nueva clase",icon:St,color:"#7c5af8",path:"/admin/classes"}];return s.jsxs("div",{className:"mb-8 md:mb-10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("h2",{className:"text-[#f9fafb] text-2xl font-bold",children:"Acciones Rápidas"}),s.jsx("div",{className:"flex-1 h-[2px] bg-gradient-to-r from-[rgba(255,255,255,0.08)] to-transparent"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map(t=>s.jsx(hre,{...t},t.id))})]})};function pre(){const e=an();return sn({mutationFn:async t=>(await Dt.post("/api/solicitudes/renovar-paquete",t)).data,onSuccess:()=>{Jt.success("Solicitud enviada",{description:"Tu solicitud de renovación fue recibida. Te contactaremos pronto."}),e.invalidateQueries({queryKey:["alumno-dashboard"]})},onError:t=>{const r=t.response?.data?.error||t.response?.data?.message||"No se pudo enviar la solicitud. Intenta de nuevo.";Jt.error("Error al solicitar renovación",{description:r})}})}function xre(){const e=an();return sn({mutationFn:async t=>(await Dt.post("/api/solicitudes/clase-privada",t)).data,onSuccess:()=>{Jt.success("Solicitud enviada",{description:"Tu solicitud de clase privada fue recibida. Te contactaremos para coordinar."}),e.invalidateQueries({queryKey:["alumno-dashboard"]})},onError:t=>{const r=t.response?.data?.error||t.response?.data?.message||"No se pudo enviar la solicitud. Intenta de nuevo.";Jt.error("Error al solicitar clase privada",{description:r})}})}const gre=()=>{const{session:e}=fo(),{data:t,isLoading:r,isError:n,error:a,refetch:i}=iR(),{data:o=[],isLoading:l}=nS(),{data:c=[],isLoading:u}=aS(),d=sS(),[f,m]=w.useState(!1),[h,g]=w.useState(!1),[p,v]=w.useState(null),[b,j]=w.useState(null),A=l||u,_=w.useMemo(()=>{if(!p)return;const P=[`Renovación solicitada por ${p.nombreAlumno}`];return p.tipoPaqueteDeseado&&P.push(`Desea: ${p.tipoPaqueteDeseado}`),p.mensajeAlumno&&P.push(`Mensaje: ${p.mensajeAlumno}`),P.join(" | ")},[p]),k=w.useMemo(()=>{if(!b)return;const P=b.tipoClaseDeseado?.toLowerCase(),C=P?o.find(de=>de.nombre.toLowerCase()===P||de.nombre.toLowerCase().includes(P)):void 0,F=b.fechaPreferida?eI(b.fechaPreferida):"",V=b.horaPreferida?tI(b.horaPreferida):"",te=[`Solicitud clase privada - ${b.nombreAlumno}`];return b.observacionesAlumno&&te.push(b.observacionesAlumno),{fecha:F,horaInicio:V,horaFin:"",idTipoClase:C?.id||"",observaciones:te.join(" | ")}},[b,o]),I=P=>{v(P),m(!0)},T=()=>{m(!1),v(null)},M=P=>{j(P),g(!0)},O=()=>{g(!1),j(null)},U=async P=>{const C={profesores:P.profesores.map(F=>({idProfesor:F.idProfesor,rolEnClase:F.rolEnClase})),idTipoClase:P.idTipoClase,fecha:Rv(P.fecha,"00:00"),horaInicio:Em(P.horaInicio),horaFin:Em(P.horaFin),cupoMaximo:P.cupoMaximo,observaciones:P.observaciones||void 0};await d.mutateAsync(C)};return r?s.jsxs("div",{className:"relative overflow-hidden min-h-screen",children:[s.jsx(Mn,{variant:"default"}),s.jsx("div",{className:"relative z-10",children:s.jsx("div",{className:"max-w-[1600px] mx-auto px-6 md:px-8 lg:px-12 py-8 md:py-12",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-[#7c5af8] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-[#9ca3af] text-lg",children:"Cargando dashboard..."})]})})})})]}):n?s.jsxs("div",{className:"relative overflow-hidden min-h-screen",children:[s.jsx(Mn,{variant:"default"}),s.jsx("div",{className:"relative z-10",children:s.jsx("div",{className:"max-w-[1600px] mx-auto px-6 md:px-8 lg:px-12 py-8 md:py-12",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-[rgba(239,68,68,0.15)] border-2 border-[#ef4444] flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-[#ef4444] text-2xl",children:"⚠"})}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-bold mb-2",children:"Error al cargar el dashboard"}),s.jsx("p",{className:"text-[#9ca3af] mb-4",children:a instanceof Error?a.message:"Ha ocurrido un error inesperado"}),s.jsx("button",{onClick:()=>i(),className:"px-4 py-2 bg-[#7c5af8] text-white rounded-lg hover:bg-[#6845e8] transition-colors",children:"Reintentar"})]})})})})]}):t?s.jsxs("div",{className:"relative overflow-hidden min-h-screen",children:[s.jsx(Mn,{variant:"default"}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 md:px-8 lg:px-12 py-8 md:py-12",children:[s.jsx(ire,{userName:e?.user?.name||e?.user?.email||"Usuario",userRole:"Administrador",academyName:"Academia Chetango"}),t.kpIs&&s.jsx(fre,{kpis:t.kpIs}),s.jsx(mre,{}),s.jsx(gI,{maxItems:5,onOpenRenovacion:I,onOpenClasePrivada:M}),(t.graficaAsistencias||t.graficaIngresos)&&s.jsx(are,{graficaAsistencias:t.graficaAsistencias,graficaIngresos:t.graficaIngresos}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.alertas&&s.jsx(cR,{alertas:t.alertas}),t.ultimosPagos&&s.jsx(oR,{ultimosPagos:t.ultimosPagos,onRefresh:()=>i()})]}),s.jsx(lS,{isOpen:f,onClose:T,onSuccess:T,initialAlumno:p?{idAlumno:p.idAlumno,nombre:p.nombreAlumno,correo:p.correoAlumno}:null,initialNota:_}),s.jsx(oS,{isOpen:h,onClose:O,onSubmit:U,tiposClase:o,profesores:c,isCatalogsLoading:A,isSubmitting:d.isPending,mode:"create",initialData:null,prefillData:k})]})})]}):s.jsxs("div",{className:"relative overflow-hidden min-h-screen",children:[s.jsx(Mn,{variant:"default"}),s.jsx("div",{className:"relative z-10",children:s.jsx("div",{className:"max-w-[1600px] mx-auto px-6 md:px-8 lg:px-12 py-8 md:py-12",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-[#9ca3af] text-lg",children:"No hay datos disponibles"})})})})})]})};function vre(e){return!e||typeof e!="string"?!1:e.startsWith("/")&&!e.startsWith("//")}function bre(){const e=ii(),t=Z6(),{session:r}=fo(),n=t.state?.returnUrl,a=()=>vre(n)?n:r.user?.roles?R9.getDefaultRoute(r.user.roles):Lo.DASHBOARD;w.useEffect(()=>{if(r.isAuthenticated){const o=a();e(o,{replace:!0})}},[r.isAuthenticated,e]);const i=()=>{const o=a();e(o,{replace:!0})};return s.jsx(E7,{onSuccess:i})}const yre=()=>s.jsxs("div",{className:Jr["page-container"],children:[s.jsx("h1",{className:Jr["page-title"],children:"404 - Página no encontrada"}),s.jsx("p",{className:Jr["page-description"],children:"La página que buscas no existe"})]}),wre=()=>s.jsxs("div",{className:Jr["page-container"],children:[s.jsx("h1",{className:Jr["page-title"],children:"Pagos - Chetango"}),s.jsx("p",{className:Jr["page-description"],children:"Gestión de pagos y paquetes"})]});function Nre(e,t){return dr({queryKey:["reports","alumnos","detailed",e],queryFn:async()=>{const r=new URLSearchParams;return e.fechaDesde&&r.append("fechaInscripcionDesde",e.fechaDesde),e.fechaHasta&&r.append("fechaInscripcionHasta",e.fechaHasta),(await Dt.get(`/api/reportes/alumnos?${r.toString()}`)).data},staleTime:300*1e3,...t})}function Dk(e,t){return dr({queryKey:["reports","clases","detailed",e],queryFn:async()=>{const r=new URLSearchParams,n=ho(),a=new Date;a.setDate(a.getDate()-30);const i=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`,o=e.fechaDesde||i,l=e.fechaHasta||n;return r.append("fechaDesde",o),r.append("fechaHasta",l),(await Dt.get(`/api/reportes/clases?${r.toString()}`)).data},staleTime:300*1e3,...t})}function jre(e,t){return dr({queryKey:["reports","asistencias","detailed",e],queryFn:async()=>{const r=new URLSearchParams,n=ho(),a=new Date;a.setDate(a.getDate()-30);const i=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`,o=e.fechaDesde||i,l=e.fechaHasta||n;return r.append("fechaDesde",o),r.append("fechaHasta",l),(await Dt.get(`/api/reportes/asistencias?${r.toString()}`)).data},staleTime:300*1e3,...t})}function _re(e,t){return dr({queryKey:["reports","paquetes","detailed",e],queryFn:async()=>{const r=new URLSearchParams,n=ho(),a=new Date;a.setDate(a.getDate()-30);const i=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`,o=e.fechaDesde||i,l=e.fechaHasta||n;return r.append("fechaDesde",o),r.append("fechaHasta",l),(await Dt.get(`/api/reportes/paquetes?${r.toString()}`)).data},staleTime:300*1e3,...t})}function Are(e,t){return dr({queryKey:["reports","ingresos","detailed",e],queryFn:async()=>{const r=new URLSearchParams,n=ho(),a=new Date;a.setDate(a.getDate()-30);const i=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`,o=e.fechaDesde||i,l=e.fechaHasta||n;return r.append("fechaDesde",o),r.append("fechaHasta",l),(await Dt.get(`/api/reportes/ingresos?${r.toString()}`)).data},staleTime:300*1e3,...t})}function lo({title:e,description:t,children:r,height:n=300}){return s.jsxs(Ye,{className:"p-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:e}),t&&s.jsx("p",{className:"text-sm text-gray-400",children:t})]}),s.jsx("div",{className:"w-full",style:{height:typeof n=="number"?`${n}px`:n},children:r})]})}function dh({columns:e,data:t,keyExtractor:r,emptyMessage:n="No hay datos disponibles",maxHeight:a="400px"}){const i=o=>{switch(o){case"center":return"text-center";case"right":return"text-right";default:return"text-left"}};return!t||t.length===0?s.jsx(Ye,{className:"p-8 text-center",children:s.jsx("p",{className:"text-gray-400",children:n})}):s.jsx("div",{className:"w-full overflow-hidden rounded-xl border border-white/10",children:s.jsx("div",{className:"overflow-x-auto overflow-y-auto custom-scrollbar",style:{maxHeight:a},children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:`\r
            sticky top-0 z-10\r
            bg-black/40 backdrop-blur-md\r
            border-b border-white/10\r
          `,children:s.jsx("tr",{children:e.map(o=>s.jsx("th",{className:`
                    px-4 py-3
                    text-sm font-semibold text-gray-300 uppercase tracking-wider
                    ${i(o.align)}
                  `,style:{width:o.width},children:o.label},o.key))})}),s.jsx("tbody",{className:"bg-black/20 divide-y divide-white/5",children:t.map((o,l)=>s.jsx("tr",{className:`\r
                  hover:bg-white/5\r
                  transition-colors duration-150\r
                `,children:e.map(c=>s.jsx("td",{className:`
                      px-4 py-3
                      text-sm text-gray-300
                      ${i(c.align)}
                    `,children:c.render?c.render(o):o[c.key]},c.key))},r(o,l)))})]})})})}function Kh({metrics:e,columns:t=4}){const r={2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",5:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5"}[t]||"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",n=a=>a?a.startsWith("+")?s.jsx(ua,{className:"w-4 h-4"}):s.jsx(dS,{className:"w-4 h-4"}):void 0;return s.jsx("div",{className:`grid ${r} gap-4 mb-6`,children:e.map((a,i)=>{const o=a.icon;return s.jsx(Ja,{label:a.label,value:a.value,trend:a.trend?.startsWith("+")?"up":a.trend?.startsWith("-")?"down":void 0,icon:o?s.jsx(o,{className:"w-5 h-5"}):n(a.trend)},i)})})}function Yh({isOpen:e,onClose:t,title:r,children:n,onExportPDF:a,onExportExcel:i,isExporting:o=!1}){const l=Cd(e);return e?s.jsxs("div",{ref:l,className:"absolute inset-0 z-[100] flex items-start justify-center pt-20 px-4 pb-8 overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md -z-10",onClick:t}),s.jsxs(Ye,{className:`\r
        relative z-10 \r
        w-full max-w-6xl \r
        max-h-[90vh]\r
        flex flex-col\r
        overflow-hidden\r
      `,children:[s.jsxs("div",{className:`\r
          flex-shrink-0\r
          flex items-center justify-between\r
          p-6 pb-4\r
          border-b border-white/10\r
        `,children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:r}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Reporte detallado con métricas y estadísticas"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[a&&s.jsxs(nt,{variant:"secondary",onClick:a,disabled:o,className:"!px-3 !py-2",children:[s.jsx(GI,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"PDF"})]}),i&&s.jsxs(nt,{variant:"secondary",onClick:i,disabled:o,className:"!px-3 !py-2",children:[s.jsx(km,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Excel"})]}),s.jsx(nt,{variant:"icon",onClick:t,disabled:o,className:"!p-2",children:s.jsx($r,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n}),s.jsxs("div",{className:`\r
          flex-shrink-0\r
          flex items-center justify-between\r
          p-6 pt-4\r
          border-t border-white/10\r
          bg-black/20\r
        `,children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"💡 Usa los filtros para ajustar los datos mostrados"}),s.jsx("div",{className:"flex items-center gap-2",children:(a||i)&&s.jsxs(nt,{variant:"primary",onClick:()=>{a?a():i&&i()},disabled:o,children:[s.jsx(Qs,{className:"w-4 h-4"}),s.jsx("span",{children:"Exportar Reporte"})]})})]}),o&&s.jsx("div",{className:`\r
            absolute inset-0\r
            bg-black/60 backdrop-blur-sm\r
            flex items-center justify-center\r
            rounded-xl\r
          `,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`\r
                animate-spin rounded-full \r
                h-12 w-12 \r
                border-2 border-white/20 border-t-white\r
                mx-auto mb-4\r
              `}),s.jsx("p",{className:"text-white font-medium",children:"Generando reporte..."})]})})]})]}):null}const J0=["#10b981","#ef4444"];function Sre({isOpen:e,onClose:t,data:r,isLoading:n,onExportPDF:a,onExportExcel:i,isExporting:o}){if(!r)return null;const l=[{label:"Total Asistencias",value:r.totalAsistencias||0,icon:St,variant:"primary"},{label:"Presentes",value:r.presentes||0,icon:As,variant:"success"},{label:"Ausentes",value:r.ausentes||0,icon:ns,variant:"danger"},{label:"Porcentaje Asistencia",value:`${(r.porcentajeAsistencia||0).toFixed(1)}%`,icon:ua,variant:"accent",trend:(r.porcentajeAsistencia||0)>=85?"Excelente":(r.porcentajeAsistencia||0)>=70?"Bueno":"Mejorar"}],c=r.graficaAsistenciasPorDia,u=c?.labels?.map((m,h)=>{const g=c.datasets[0];return{dia:m,asistencias:g?.data[h]||0}})||[],d=[{name:"Presentes",value:r.presentes||0},{name:"Ausentes",value:r.ausentes||0}],f=[{key:"fecha",label:"Fecha",render:m=>new Date(m.fecha).toLocaleDateString("es-CO")},{key:"nombreAlumno",label:"Alumno"},{key:"nombreClase",label:"Clase"},{key:"estado",label:"Estado",align:"center",render:m=>s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${m.estado==="Presente"?"bg-green-500/20 text-green-400":m.estado==="Ausente"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:m.estado})}];return s.jsx(Yh,{isOpen:e,onClose:t,reportType:"asistencias",title:"Reporte de Asistencias",onExportPDF:a,onExportExcel:i,isExporting:o,children:n?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-white/20 border-t-white"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(Kh,{metrics:l,columns:4}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(lo,{title:"Asistencias por Día",description:"Registro de asistencias diarias",height:300,children:s.jsx(ni,{width:"100%",height:"100%",children:s.jsxs(Gh,{data:u,children:[s.jsx(Bi,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),s.jsx(qi,{dataKey:"dia",stroke:"#9ca3af",style:{fontSize:"12px"}}),s.jsx(zi,{stroke:"#9ca3af",style:{fontSize:"12px"}}),s.jsx(ai,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff"}}),s.jsx(Qo,{}),s.jsx(zd,{type:"monotone",dataKey:"asistencias",stroke:J0[0],strokeWidth:2,name:"Asistencias",dot:{fill:J0[0],r:4}})]})})}),s.jsx(lo,{title:"Distribución General",description:"Porcentaje de presentes vs ausentes",height:300,children:s.jsx(ni,{width:"100%",height:"100%",children:s.jsxs(my,{children:[s.jsx(E1,{data:d,cx:"50%",cy:"50%",labelLine:!1,label:({name:m,value:h,percent:g})=>`${m}: ${h} (${((g||0)*100).toFixed(0)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:d.map((m,h)=>s.jsx(xu,{fill:J0[h%J0.length]},`cell-${h}`))}),s.jsx(ai,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff"}})]})})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Detalle de Asistencias"}),s.jsx(dh,{columns:f,data:r.listaDetallada||[],keyExtractor:(m,h)=>`${m.fecha}-${m.nombreAlumno}-${h}`,maxHeight:"300px"})]})]})})}const w_=["#8b5cf6","#06b6d4","#10b981","#f59e0b"];function Cre({isOpen:e,onClose:t,data:r,isLoading:n,onExportPDF:a,onExportExcel:i,isExporting:o}){if(!r)return null;const l=[{label:"Total Clases",value:r.totalClases||0,icon:St,variant:"primary"},{label:"Promedio Asistencia",value:`${(r.promedioAsistencia||0).toFixed(1)}%`,icon:As,variant:"success"},{label:"Ocupación Promedio",value:`${(r.ocupacionPromedio||0).toFixed(1)}%`,icon:ua,variant:"accent"},{label:"Clases Populares",value:(r.clasesMasPopulares||[]).length,icon:ns,variant:"warning"}],c=r.graficaAsistenciaPorDia,u=c?.labels?.map((m,h)=>({dia:m,asistencia:c.datasets[0]?.data[h]||0}))||[],d=(r.desgloseporTipo||[]).map(m=>({tipo:m.nombreTipoClase,clases:m.cantidadClases,promedio:m.promedioAsistencia})),f=[{key:"nombreTipoClase",label:"Tipo de Clase"},{key:"cantidadClases",label:"Total Clases",align:"center"},{key:"promedioAsistencia",label:"Promedio Asistencia",align:"center",render:m=>`${m.promedioAsistencia.toFixed(1)}%`}];return s.jsx(Yh,{isOpen:e,onClose:t,reportType:"clases",title:"Reporte de Clases",onExportPDF:a,onExportExcel:i,isExporting:o,children:n?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-white/20 border-t-white"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(Kh,{metrics:l,columns:4}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(lo,{title:"Asistencia por Día",description:"Promedio de asistencia diaria",height:300,children:s.jsx(ni,{width:"100%",height:"100%",children:s.jsxs(nu,{data:u,children:[s.jsx(Bi,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),s.jsx(qi,{dataKey:"dia",stroke:"#9ca3af",style:{fontSize:"12px"}}),s.jsx(zi,{stroke:"#9ca3af",style:{fontSize:"12px"}}),s.jsx(ai,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff"}}),s.jsx(Qo,{}),s.jsx(ic,{dataKey:"asistencia",name:"Asistencia (%)",fill:w_[2],radius:[4,4,0,0]})]})})}),s.jsx(lo,{title:"Clases por Tipo",description:"Distribución de clases según tipo",height:300,children:s.jsx(ni,{width:"100%",height:"100%",children:s.jsxs(nu,{data:d,layout:"vertical",children:[s.jsx(Bi,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),s.jsx(qi,{type:"number",stroke:"#9ca3af",style:{fontSize:"12px"}}),s.jsx(zi,{type:"category",dataKey:"tipo",stroke:"#9ca3af",style:{fontSize:"12px"},width:100}),s.jsx(ai,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff"}}),s.jsx(ic,{dataKey:"clases",name:"Clases",fill:w_[0],radius:[0,4,4,0]})]})})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Detalle por Tipo de Clase"}),s.jsx(dh,{columns:f,data:r.desgloseporTipo||[],keyExtractor:m=>m.nombreTipoClase,maxHeight:"300px"})]})]})})}function Ik({value:e,onChange:t,showLabel:r=!0}){const n=i=>{const o=fI(i);t({preset:i,...o})},a=(i,o)=>{t({...e,[i]:o})};return s.jsxs("div",{className:"space-y-3",children:[r&&s.jsx("label",{className:"block text-gray-300 text-sm font-medium",children:"Período"}),s.jsxs(Yl,{value:e.preset,onValueChange:i=>n(i),children:[s.jsxs(Xl,{children:[s.jsx(St,{className:"w-4 h-4"}),s.jsx(Zl,{placeholder:"Seleccionar período"})]}),s.jsxs(Jl,{children:[s.jsx(Xa,{value:"today",children:"Hoy"}),s.jsx(Xa,{value:"week",children:"Esta Semana"}),s.jsx(Xa,{value:"month",children:"Este Mes"}),s.jsx(Xa,{value:"quarter",children:"Últimos 3 Meses"}),s.jsx(Xa,{value:"year",children:"Este Año"}),s.jsx(Xa,{value:"custom",children:"Personalizado"})]})]}),e.preset==="custom"&&s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-400 text-xs mb-1.5",children:"Desde"}),s.jsx(Nn,{type:"date",value:e.fechaDesde||"",onChange:i=>a("fechaDesde",i.target.value),icon:s.jsx(St,{className:"w-4 h-4"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-400 text-xs mb-1.5",children:"Hasta"}),s.jsx(Nn,{type:"date",value:e.fechaHasta||"",onChange:i=>a("fechaHasta",i.target.value),icon:s.jsx(St,{className:"w-4 h-4"})})]})]})]})}const Zg=["#8b5cf6","#06b6d4","#10b981","#f59e0b"];function Pre({isOpen:e,onClose:t,data:r,isLoading:n,onExportPDF:a,onExportExcel:i,isExporting:o}){if(!r)return null;const l=[{label:"Total Recaudado",value:Mo(r.totalRecaudado||0),icon:Fi,variant:"primary"},{label:"Cantidad Pagos",value:r.cantidad||0,icon:LI,variant:"success"},{label:"Promedio por Pago",value:Mo(r.promedio||0),icon:J6,variant:"accent"},{label:"Comparativa Mes Anterior",value:r.comparativaMesAnterior?`${r.comparativaMesAnterior>0?"+":""}${r.comparativaMesAnterior.toFixed(1)}%`:"N/A",icon:ua,variant:(r.comparativaMesAnterior||0)>=0?"success":"danger"}],c=r.graficaIngresosMensuales,u=c?.labels?.map((m,h)=>({mes:m,total:c.datasets[0]?.data[h]||0}))||[],d=(r.desgloseMetodosPago||[]).map(m=>({metodo:m.metodoPago,total:m.totalRecaudado,cantidad:m.cantidadPagos,porcentaje:m.porcentajeDelTotal})),f=[{key:"metodoPago",label:"Método de Pago"},{key:"cantidadPagos",label:"Cantidad",align:"center"},{key:"totalRecaudado",label:"Total Recaudado",align:"right",render:m=>Mo(m.totalRecaudado)},{key:"porcentajeDelTotal",label:"% del Total",align:"center",render:m=>s.jsxs("span",{className:"font-semibold text-green-400",children:[m.porcentajeDelTotal.toFixed(1),"%"]})}];return s.jsx(Yh,{isOpen:e,onClose:t,reportType:"ingresos",title:"Reporte de Ingresos",onExportPDF:a,onExportExcel:i,isExporting:o,children:n?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-white/20 border-t-white"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(Kh,{metrics:l,columns:4}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(lo,{title:"Tendencia de Ingresos Mensuales",description:"Total recaudado por mes",height:350,children:s.jsx(ni,{width:"100%",height:"100%",children:s.jsxs(Gh,{data:u,children:[s.jsx(Bi,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),s.jsx(qi,{dataKey:"mes",stroke:"#9ca3af",style:{fontSize:"12px"}}),s.jsx(zi,{stroke:"#9ca3af",style:{fontSize:"12px"},tickFormatter:m=>`$${(m/1e3).toFixed(0)}k`}),s.jsx(ai,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff"},formatter:m=>m?Mo(m):"$0"}),s.jsx(Qo,{}),s.jsx(zd,{type:"monotone",dataKey:"total",name:"Total Ingresos",stroke:Zg[0],strokeWidth:3,dot:{fill:Zg[0],r:5}})]})})}),s.jsx(lo,{title:"Ingresos por Método de Pago",description:"Distribución según forma de pago",height:350,children:s.jsx(ni,{width:"100%",height:"100%",children:s.jsxs(nu,{data:d,children:[s.jsx(Bi,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),s.jsx(qi,{dataKey:"metodo",stroke:"#9ca3af",style:{fontSize:"12px"}}),s.jsx(zi,{stroke:"#9ca3af",style:{fontSize:"12px"},tickFormatter:m=>`$${(m/1e3).toFixed(0)}k`}),s.jsx(ai,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff"},formatter:m=>m?Mo(m):"$0"}),s.jsx(Qo,{}),s.jsx(ic,{dataKey:"total",name:"Total Recaudado",fill:Zg[2],radius:[4,4,0,0]})]})})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Desglose por Método de Pago"}),s.jsx(dh,{columns:f,data:r.desgloseMetodosPago||[],keyExtractor:m=>m.metodoPago,maxHeight:"300px"})]})]})})}const Tc=["#8b5cf6","#06b6d4","#10b981","#f59e0b","#ef4444"];function Ere({isOpen:e,onClose:t,data:r,isLoading:n,onExportPDF:a,onExportExcel:i,isExporting:o}){if(!r)return null;const l=[{label:"Total Activos",value:r.totalActivos||0,icon:Tr,variant:"primary"},{label:"Por Vencer",value:r.totalPorVencer||0,icon:As,variant:"warning"},{label:"Vencidos",value:r.totalVencidos||0,icon:ns,variant:"danger"},{label:"Agotados",value:r.totalAgotados||0,icon:Fi,variant:"accent"}],c=r.graficaPaquetesPorTipo,u=c?.labels?.map((f,m)=>({tipo:f,cantidad:c.datasets[0]?.data[m]||0}))||[],d=(r.desgloseEstados||[]).map(f=>({name:f.estado,value:f.cantidad,porcentaje:f.porcentajeDelTotal}));return s.jsx(Yh,{isOpen:e,onClose:t,reportType:"paquetes",title:"Reporte de Paquetes",onExportPDF:a,onExportExcel:i,isExporting:o,children:n?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-white/20 border-t-white"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(Kh,{metrics:l,columns:4}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(lo,{title:"Paquetes por Tipo",description:"Distribución de paquetes según tipo",height:300,children:s.jsx(ni,{width:"100%",height:"100%",children:s.jsxs(nu,{data:u,children:[s.jsx(Bi,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),s.jsx(qi,{dataKey:"tipo",stroke:"#9ca3af",style:{fontSize:"12px"}}),s.jsx(zi,{stroke:"#9ca3af",style:{fontSize:"12px"}}),s.jsx(ai,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff"}}),s.jsx(Qo,{}),s.jsx(ic,{dataKey:"cantidad",name:"Cantidad",fill:Tc[0],radius:[4,4,0,0]})]})})}),s.jsx(lo,{title:"Distribución por Estado",description:"Estados de paquetes",height:300,children:s.jsx(ni,{width:"100%",height:"100%",children:s.jsxs(my,{children:[s.jsx(E1,{data:d,cx:"50%",cy:"50%",labelLine:!1,label:({name:f,value:m})=>{const h=d.find(g=>g.name===f);return`${f}: ${m} (${(h?.porcentaje||0).toFixed(1)}%)`},outerRadius:80,fill:"#8884d8",dataKey:"value",children:d.map((f,m)=>{const h={Activo:Tc[2],Vencido:Tc[4],PorVencer:Tc[3],Agotado:Tc[1]};return s.jsx(xu,{fill:h[f.name]||Tc[m%Tc.length]},`cell-${m}`)})}),s.jsx(ai,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff"}})]})})})]}),(r.alertasPorVencer||[]).length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Alertas - Paquetes por Vencer"}),s.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4",children:s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.alertasPorVencer.map((f,m)=>s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-yellow-500/20 last:border-0",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:f.nombreAlumno}),s.jsx("p",{className:"text-sm text-gray-400",children:f.nombreTipoPaquete})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-yellow-400 font-semibold",children:[f.diasRestantes," días"]}),s.jsxs("p",{className:"text-sm text-gray-400",children:[f.clasesRestantes," clases restantes"]})]})]},m))})})]})]})})}function kre({id:e,title:t,description:r,icon:n,color:a,stats:i=[],onView:o,isLoading:l=!1}){return s.jsxs(Ye,{className:`\r
        report-card\r
        relative\r
        p-6\r
        transition-all\r
        duration-300\r
        hover:translate-y-[-4px]\r
        hover:shadow-[0_8px_32px_rgba(201,52,72,0.2)]\r
        group\r
      `,children:[s.jsx("div",{className:`\r
          w-12 h-12\r
          mb-4\r
          flex items-center justify-center\r
          rounded-xl\r
          transition-all\r
          duration-300\r
          group-hover:scale-110\r
        `,style:{background:`${a}15`,color:a},children:s.jsx(n,{className:"w-6 h-6"})}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:t}),s.jsx("p",{className:"text-gray-400 text-sm mb-4 line-clamp-2",children:r}),i.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:i.map((c,u)=>s.jsxs("div",{className:`\r
                px-3 py-1.5\r
                rounded-lg\r
                bg-white/5\r
                text-gray-300\r
                text-xs\r
                border border-white/10\r
              `,children:[s.jsxs("span",{className:"text-gray-500",children:[c.label,":"]})," ",s.jsx("span",{className:"font-semibold text-white",children:c.value})]},u))}),s.jsxs(nt,{variant:"primary",onClick:()=>o(e),disabled:l,className:`\r
          w-full\r
          !bg-transparent\r
          !border-white/20\r
          hover:!border-[color]\r
          hover:!bg-white/5\r
          transition-all\r
          duration-300\r
          group-hover:!border-[color]\r
        `,style:{"--color":a},children:[s.jsx("span",{children:"Ver Reporte"}),s.jsx(Pd,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]}),l&&s.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm rounded-xl flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-white/20 border-t-white"})})]})}const Q0=["#8b5cf6","#06b6d4","#10b981","#f59e0b","#ef4444"];function Tre({isOpen:e,onClose:t,data:r,isLoading:n,onExportPDF:a,onExportExcel:i,isExporting:o}){const l=r?r.totalActivos+r.totalInactivos:0,c=r?[{label:"Total Alumnos",value:l,icon:Zn,variant:"primary"},{label:"Alumnos Activos",value:r.totalActivos||0,icon:bS,variant:"success",trend:l>0?`${Math.round((r.totalActivos||0)/l*100)}%`:"0%"},{label:"Alumnos Inactivos",value:r.totalInactivos||0,icon:qv,variant:"warning",trend:l>0?`${Math.round((r.totalInactivos||0)/l*100)}%`:"0%"},{label:"Nuevos Este Mes",value:r.nuevosEsteMes||0,icon:ua,variant:"accent"}]:[],u=r?[{name:"Activos",value:r.totalActivos||0},{name:"Inactivos",value:r.totalInactivos||0}]:[],d=r?.graficaAlumnosPorMes?r.graficaAlumnosPorMes.labels.map((h,g)=>({mes:h,nuevos:r.graficaAlumnosPorMes?.datasets[0]?.data[g]||0})):[],f=[{key:"nombreAlumno",label:"Alumno"},{key:"correo",label:"Correo"},{key:"diasInactivo",label:"Días Inactivo",align:"center",render:h=>s.jsx("span",{className:`px-2 py-1 rounded ${h.diasInactivo>60?"bg-red-500/20 text-red-300":h.diasInactivo>30?"bg-yellow-500/20 text-yellow-300":"bg-gray-500/20 text-gray-300"}`,children:h.diasInactivo})},{key:"ultimaAsistencia",label:"Última Asistencia",render:h=>h.ultimaAsistencia?new Date(h.ultimaAsistencia).toLocaleDateString("es-CO",{day:"2-digit",month:"short",year:"numeric"}):"Nunca"}],m=[{key:"nombreAlumno",label:"Alumno"},{key:"correo",label:"Correo"},{key:"diasRestantes",label:"Días Restantes",align:"center",render:h=>s.jsx("span",{className:`px-2 py-1 rounded ${h.diasRestantes<=3?"bg-red-500/20 text-red-300":h.diasRestantes<=7?"bg-yellow-500/20 text-yellow-300":"bg-green-500/20 text-green-300"}`,children:h.diasRestantes})},{key:"fechaVencimiento",label:"Vencimiento",render:h=>new Date(h.fechaVencimiento).toLocaleDateString("es-CO",{day:"2-digit",month:"short",year:"numeric"})}];return s.jsx(Yh,{isOpen:e,onClose:t,reportType:"alumnos",title:"Reporte de Alumnos",onExportPDF:a,onExportExcel:i,isExporting:o,children:n?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-white/20 border-t-white"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(Kh,{metrics:c,columns:4}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(lo,{title:"Estado de Alumnos",description:"Distribución entre activos e inactivos",height:300,children:s.jsx(ni,{width:"100%",height:"100%",children:s.jsxs(my,{children:[s.jsx(E1,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:h=>{const{name:g,percent:p}=h;return`${g||""} ${p?(p*100).toFixed(0):0}%`},outerRadius:80,fill:"#8884d8",dataKey:"value",children:u.map((h,g)=>s.jsx(xu,{fill:Q0[g%Q0.length]},`cell-${g}`))}),s.jsx(ai,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff"}})]})})}),s.jsx(lo,{title:"Tendencia Mensual",description:"Nuevos alumnos por mes",height:300,children:s.jsx(ni,{width:"100%",height:"100%",children:s.jsxs(Gh,{data:d,children:[s.jsx(Bi,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),s.jsx(qi,{dataKey:"mes",stroke:"#9ca3af",style:{fontSize:"12px"}}),s.jsx(zi,{stroke:"#9ca3af",style:{fontSize:"12px"}}),s.jsx(ai,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff"}}),s.jsx(Qo,{}),s.jsx(zd,{type:"monotone",dataKey:"nuevos",name:"Nuevos",stroke:Q0[0],strokeWidth:2,dot:{fill:Q0[0]}})]})})})]}),r&&r.alumnosInactivos&&r.alumnosInactivos.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4",children:[s.jsx(qv,{className:"w-5 h-5 inline mr-2 text-yellow-400"}),"Alumnos Inactivos (sin asistencias +30 días)"]}),s.jsx(dh,{columns:f,data:r.alumnosInactivos,keyExtractor:h=>h.idAlumno,maxHeight:"300px"})]}),r&&r.alumnosPorVencer&&r.alumnosPorVencer.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4",children:[s.jsx(St,{className:"w-5 h-5 inline mr-2 text-red-400"}),"Paquetes Próximos a Vencer (7 días)"]}),s.jsx(dh,{columns:m,data:r.alumnosPorVencer,keyExtractor:h=>h.idAlumno,maxHeight:"300px"})]})]})})}const Ore={alumnos:{id:"alumnos",title:"Reporte de Alumnos",description:"Estadísticas de alumnos activos, nuevos ingresos y retención",icon:"Users",color:"#3b82f6",available:!0},clases:{id:"clases",title:"Reporte de Clases",description:"Clases programadas, completadas y tasa de ocupación",icon:"BarChart3",color:"#8b5cf6",available:!0},asistencias:{id:"asistencias",title:"Reporte de Asistencias",description:"Asistencias, ausencias y tendencias de participación",icon:"CheckSquare",color:"#10b981",available:!0},paquetes:{id:"paquetes",title:"Reporte de Paquetes",description:"Paquetes vendidos, activos y tipos más populares",icon:"Package",color:"#f59e0b",available:!0},ingresos:{id:"ingresos",title:"Reporte de Ingresos",description:"Ingresos totales, métodos de pago y evolución mensual",icon:"DollarSign",color:"#c93448",available:!0}},Dre={Users:Zn,BarChart3:Uc,CheckSquare:x7,Package:Tr,DollarSign:Fi};function Ire(){return Object.values(Ore).filter(e=>e.available)}var xp={};xp.version="0.18.5";var Mk=1252,Mre=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Fk=function(e){Mre.indexOf(e)!=-1&&(Mk=e)};function Fre(){Fk(1252)}var fh=function(e){Fk(e)};function Lre(){fh(1200),Fre()}var em=function(t){return String.fromCharCode(t)},N_=function(t){return String.fromCharCode(t)},gp,$l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function hh(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=$l.charAt(i)+$l.charAt(o)+$l.charAt(l)+$l.charAt(c);return t}function sl(e){var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=$l.indexOf(e.charAt(u++)),o=$l.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=$l.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=$l.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var mr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),gl=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function au(e){return mr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function j_(e){return mr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ns=function(t){return mr?gl(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function T1(e){if(typeof ArrayBuffer>"u")return Ns(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Xh(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Rre(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var _a=mr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:gl(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Bre(e){for(var t=[],r=0,n=e.length+250,a=au(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=au(65535),n=65530)}return t.push(a.slice(0,r)),_a(t)}var Uf=/\u0000/g,tm=/[\u0001-\u0006]/g;function id(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function _s(e,t){var r=""+e;return r.length>=t?r:pn("0",t-r.length)+r}function py(e,t){var r=""+e;return r.length>=t?r:pn(" ",t-r.length)+r}function vp(e,t){var r=""+e;return r.length>=t?r:r+pn(" ",t-r.length)}function qre(e,t){var r=""+Math.round(e);return r.length>=t?r:pn("0",t-r.length)+r}function zre(e,t){var r=""+e;return r.length>=t?r:pn("0",t-r.length)+r}var __=Math.pow(2,32);function Uu(e,t){if(e>__||e<-__)return qre(e,t);var r=Math.round(e);return zre(r,t)}function bp(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var A_=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Jg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function $re(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var xn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},S_={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Ure={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function yp(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=i):(d=u,l=o)),!r)return[0,n*l,d];var m=Math.floor(n*l/d);return[m,n*l-m*d,d]}function rm(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=Xre(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var Lk=new Date(1899,11,31,0,0,0),Wre=Lk.getTime(),Hre=new Date(1900,2,1,0,0,0);function Rk(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Hre&&(r+=1440*60*1e3),(r-(Wre+(e.getTimezoneOffset()-Lk.getTimezoneOffset())*6e4))/(1440*60*1e3)}function xy(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Vre(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Gre(e){var t=e<0?12:11,r=xy(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Kre(e){var t=xy(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Yre(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Gre(e):t===10?r=e.toFixed(10).substr(0,12):r=Kre(e),xy(Vre(r.toUpperCase()))}function O2(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Yre(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return sc(14,Rk(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Xre(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Zre(e,t,r,n){var a="",i=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return Jg[r.m-1][1];case 5:return Jg[r.m-1][0];default:return Jg[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return A_[r.q][0];default:return A_[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?_s(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=_s(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?_s(c,u):"";return d}function Ul(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var Bk=/%/g;function Jre(e,t,r){var n=t.replace(Bk,""),a=t.length-n.length;return Go(e,n,r*Math.pow(10,2*a))+pn("%",a)}function Qre(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Go(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function qk(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+qk(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var zk=/# (\?+)( ?)\/( ?)(\d+)/;function ene(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?pn(" ",e[1].length+1+e[4].length):py(o,e[1].length)+e[2]+"/"+e[3]+_s(l,e[4].length))}function tne(e,t,r){return r+(t===0?"":""+t)+pn(" ",e[1].length+2+e[4].length)}var $k=/^#*0*\.([0#]+)/,Uk=/\).*[0#]/,Wk=/\(###\) ###\\?-####/;function Ka(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function C_(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function P_(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function rne(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function nne(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Qi(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Uk)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Qi("n",n,r):"("+Qi("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Qre(e,t,r);if(t.indexOf("%")!==-1)return Jre(e,t,r);if(t.indexOf("E")!==-1)return qk(t,r);if(t.charCodeAt(0)===36)return"$"+Qi(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Uu(c,t.length);if(t.match(/^[#?]+$/))return a=Uu(r,0),a==="0"&&(a=""),a.length>t.length?a:Ka(t.substr(0,t.length-a.length))+a;if(i=t.match(zk))return ene(i,c,u);if(t.match(/^#+0+$/))return u+Uu(c,t.length-t.indexOf("0"));if(i=t.match($k))return a=C_(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Ka(i[1])).replace(/\.$/,"."+Ka(i[1])).replace(/\.(\d*)$/,function(g,p){return"."+p+pn("0",Ka(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+C_(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Ul(Uu(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Qi(e,t,-r):Ul(""+(Math.floor(r)+rne(r,i[1].length)))+"."+_s(P_(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Qi(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=id(Qi(e,t.replace(/[\\-]/g,""),r)),o=0,id(id(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<a.length?a.charAt(o++):g==="0"?"0":""}));if(t.match(Wk))return a=Qi(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=yp(c,Math.pow(10,o)-1,!1),a=""+u,d=Go("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=vp(l[2],o),d.length<i[4].length&&(d=Ka(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=yp(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?py(l[1],o)+i[2]+"/"+i[3]+vp(l[2],o):pn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Uu(r,0),t.length<=a.length?a:Ka(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return Ka(t.substr(0,f)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=P_(r,i[1].length),r<0?"-"+Qi(e,t,-r):Ul(nne(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?_s(0,3-g.length):"")+g})+"."+_s(o,i[1].length);switch(t){case"###,##0.00":return Qi(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=Ul(Uu(c,0));return h!=="0"?u+h:"";case"###,###.00":return Qi(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Qi(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function ane(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Go(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function ine(e,t,r){var n=t.replace(Bk,""),a=t.length-n.length;return Go(e,n,r*Math.pow(10,2*a))+pn("%",a)}function Hk(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Hk(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function $s(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Uk)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?$s("n",n,r):"("+$s("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return ane(e,t,r);if(t.indexOf("%")!==-1)return ine(e,t,r);if(t.indexOf("E")!==-1)return Hk(t,r);if(t.charCodeAt(0)===36)return"$"+$s(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+_s(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Ka(t.substr(0,t.length-a.length))+a;if(i=t.match(zk))return tne(i,c,u);if(t.match(/^#+0+$/))return u+_s(c,t.length-t.indexOf("0"));if(i=t.match($k))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Ka(i[1])).replace(/\.$/,"."+Ka(i[1])),a=a.replace(/\.(\d*)$/,function(g,p){return"."+p+pn("0",Ka(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Ul(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+$s(e,t,-r):Ul(""+r)+"."+pn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return $s(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=id($s(e,t.replace(/[\\-]/g,""),r)),o=0,id(id(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<a.length?a.charAt(o++):g==="0"?"0":""}));if(t.match(Wk))return a=$s(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=yp(c,Math.pow(10,o)-1,!1),a=""+u,d=Go("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=vp(l[2],o),d.length<i[4].length&&(d=Ka(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=yp(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?py(l[1],o)+i[2]+"/"+i[3]+vp(l[2],o):pn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Ka(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return Ka(t.substr(0,f)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+$s(e,t,-r):Ul(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?_s(0,3-g.length):"")+g})+"."+_s(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=Ul(""+c);return h!=="0"?u+h:"";default:if(t.match(/\.[0#?]*$/))return $s(e,t.slice(0,t.lastIndexOf(".")),r)+Ka(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Go(e,t,r){return(r|0)===r?$s(e,t,r):Qi(e,t,r)}function sne(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Vk=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Gk(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":bp(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(Vk))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function one(e,t,r,n){for(var a=[],i="",o=0,l="",c="t",u,d,f,m="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!bp(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var h=e.charAt(++o),g=h==="("||h===")"?h:"t";a[a.length]={t:g,v:h},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=rm(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=rm(t,r),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"上":var p={t:l,v:l};if(u==null&&(u=rm(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(p.v=u.H>=12?"P":"A"),p.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(p.v=u.H>=12?"PM":"AM"),p.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="上午/下午"?(u!=null&&(p.v=u.H>=12?"下午":"上午"),p.t="T",o+=5,m="h"):(p.t="t",++o),u==null&&p.t==="T")return"";a[a.length]=p,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Vk)){if(u==null&&(u=rm(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Gk(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var v=0,b=0,j;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=m,c="h",v<1&&(v=1);break;case"s":(j=a[o].v.match(/\.0+$/))&&(b=Math.max(b,j[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[o].v.match(/[Hh]/)&&(v=1),v<2&&a[o].v.match(/[Mm]/)&&(v=2),v<3&&a[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var A="",_;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=Zre(a[o].t.charCodeAt(0),a[o].v,u,b),a[o].t="t";break;case"n":case"?":for(_=o+1;a[_]!=null&&((l=a[_].t)==="?"||l==="D"||(l===" "||l==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[o].v+=a[_].v,a[_]={v:"",t:";"},++_;A+=a[o].v,o=_-1;break;case"G":a[o].t="t",a[o].v=O2(t,r);break}var k="",I,T;if(A.length>0){A.charCodeAt(0)==40?(I=t<0&&A.charCodeAt(0)===45?-t:t,T=Go("n",A,I)):(I=t<0&&n>1?-t:t,T=Go("n",A,I),I<0&&a[0]&&a[0].t=="t"&&(T=T.substr(1),a[0].v="-"+a[0].v)),_=T.length-1;var M=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){M=o;break}var O=a.length;if(M===a.length&&T.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(_>=a[o].v.length-1?(_-=a[o].v.length,a[o].v=T.substr(_+1,a[o].v.length)):_<0?a[o].v="":(a[o].v=T.substr(0,_+1),_=-1),a[o].t="t",O=o);_>=0&&O<a.length&&(a[O].v=T.substr(0,_+1)+a[O].v)}else if(M!==a.length&&T.indexOf("E")===-1){for(_=T.indexOf(".")-1,o=M;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===M?a[o].v.indexOf(".")-1:a[o].v.length-1,k=a[o].v.substr(d+1);d>=0;--d)_>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(k=T.charAt(_--)+k);a[o].v=k,a[o].t="t",O=o}for(_>=0&&O<a.length&&(a[O].v=T.substr(0,_+1)+a[O].v),_=T.indexOf(".")+1,o=M;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==M)){for(d=a[o].v.indexOf(".")>-1&&o===M?a[o].v.indexOf(".")+1:0,k=a[o].v.substr(0,d);d<a[o].v.length;++d)_<T.length&&(k+=T.charAt(_++));a[o].v=k,a[o].t="t",O=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(I=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Go(a[o].t,a[o].v,I),a[o].t="t");var U="";for(o=0;o!==a.length;++o)a[o]!=null&&(U+=a[o].v);return U}var E_=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function k_(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function lne(e,t){var r=sne(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(E_),l=r[1].match(E_);return k_(t,o)?[n,r[0]]:k_(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function sc(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:xn)[e],n==null&&(n=r.table&&r.table[S_[e]]||xn[S_[e]]),n==null&&(n=Ure[e]||"General");break}if(bp(n,0))return O2(t,r);t instanceof Date&&(t=Rk(t,r.date1904));var a=lne(n,t);if(bp(a[1]))return O2(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return one(a[1],t,r,a[0])}function Kk(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(xn[r]==null){t<0&&(t=r);continue}if(xn[r]==e){t=r;break}}t<0&&(t=391)}return xn[t]=e,t}function O1(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Kk(e[t],t)}function D1(){xn=$re()}var Yk=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function cne(e){var t=typeof e=="number"?xn[e]:e;return t=t.replace(Yk,"(\\d+)"),new RegExp("^"+t+"$")}function une(e,t,r){var n=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(Yk)||[]).forEach(function(f,m){var h=parseInt(r[m+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=h;break;case"d":i=h;break;case"h":o=h;break;case"s":c=h;break;case"m":o>=0?l=h:a=h;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var dne=(function(){var e={};e.version="1.2.0";function t(){for(var T=0,M=new Array(256),O=0;O!=256;++O)T=O,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,M[O]=T;return typeof Int32Array<"u"?new Int32Array(M):M}var r=t();function n(T){var M=0,O=0,U=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(U=0;U!=256;++U)P[U]=T[U];for(U=0;U!=256;++U)for(O=T[U],M=256+U;M<4096;M+=256)O=P[M]=O>>>8^T[O&255];var C=[];for(U=1;U!=16;++U)C[U-1]=typeof Int32Array<"u"?P.subarray(U*256,U*256+256):P.slice(U*256,U*256+256);return C}var a=n(r),i=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],m=a[7],h=a[8],g=a[9],p=a[10],v=a[11],b=a[12],j=a[13],A=a[14];function _(T,M){for(var O=M^-1,U=0,P=T.length;U<P;)O=O>>>8^r[(O^T.charCodeAt(U++))&255];return~O}function k(T,M){for(var O=M^-1,U=T.length-15,P=0;P<U;)O=A[T[P++]^O&255]^j[T[P++]^O>>8&255]^b[T[P++]^O>>16&255]^v[T[P++]^O>>>24]^p[T[P++]]^g[T[P++]]^h[T[P++]]^m[T[P++]]^f[T[P++]]^d[T[P++]]^u[T[P++]]^c[T[P++]]^l[T[P++]]^o[T[P++]]^i[T[P++]]^r[T[P++]];for(U+=15;P<U;)O=O>>>8^r[(O^T[P++])&255];return~O}function I(T,M){for(var O=M^-1,U=0,P=T.length,C=0,F=0;U<P;)C=T.charCodeAt(U++),C<128?O=O>>>8^r[(O^C)&255]:C<2048?(O=O>>>8^r[(O^(192|C>>6&31))&255],O=O>>>8^r[(O^(128|C&63))&255]):C>=55296&&C<57344?(C=(C&1023)+64,F=T.charCodeAt(U++)&1023,O=O>>>8^r[(O^(240|C>>8&7))&255],O=O>>>8^r[(O^(128|C>>2&63))&255],O=O>>>8^r[(O^(128|F>>6&15|(C&3)<<4))&255],O=O>>>8^r[(O^(128|F&63))&255]):(O=O>>>8^r[(O^(224|C>>12&15))&255],O=O>>>8^r[(O^(128|C>>6&63))&255],O=O>>>8^r[(O^(128|C&63))&255]);return~O}return e.table=r,e.bstr=_,e.buf=k,e.str=I,e})(),Pr=(function(){var t={};t.version="1.2.1";function r(W,ae){for(var X=W.split("/"),ee=ae.split("/"),ie=0,oe=0,we=Math.min(X.length,ee.length);ie<we;++ie){if(oe=X[ie].length-ee[ie].length)return oe;if(X[ie]!=ee[ie])return X[ie]<ee[ie]?-1:1}return X.length-ee.length}function n(W){if(W.charAt(W.length-1)=="/")return W.slice(0,-1).indexOf("/")===-1?W:n(W.slice(0,-1));var ae=W.lastIndexOf("/");return ae===-1?W:W.slice(0,ae+1)}function a(W){if(W.charAt(W.length-1)=="/")return a(W.slice(0,-1));var ae=W.lastIndexOf("/");return ae===-1?W:W.slice(ae+1)}function i(W,ae){typeof ae=="string"&&(ae=new Date(ae));var X=ae.getHours();X=X<<6|ae.getMinutes(),X=X<<5|ae.getSeconds()>>>1,W.write_shift(2,X);var ee=ae.getFullYear()-1980;ee=ee<<4|ae.getMonth()+1,ee=ee<<5|ae.getDate(),W.write_shift(2,ee)}function o(W){var ae=W.read_shift(2)&65535,X=W.read_shift(2)&65535,ee=new Date,ie=X&31;X>>>=5;var oe=X&15;X>>>=4,ee.setMilliseconds(0),ee.setFullYear(X+1980),ee.setMonth(oe-1),ee.setDate(ie);var we=ae&31;ae>>>=5;var De=ae&63;return ae>>>=6,ee.setHours(ae),ee.setMinutes(De),ee.setSeconds(we<<1),ee}function l(W){Ti(W,0);for(var ae={},X=0;W.l<=W.length-4;){var ee=W.read_shift(2),ie=W.read_shift(2),oe=W.l+ie,we={};ee===21589&&(X=W.read_shift(1),X&1&&(we.mtime=W.read_shift(4)),ie>5&&(X&2&&(we.atime=W.read_shift(4)),X&4&&(we.ctime=W.read_shift(4))),we.mtime&&(we.mt=new Date(we.mtime*1e3))),W.l=oe,ae[ee]=we}return ae}var c;function u(){return c||(c={})}function d(W,ae){if(W[0]==80&&W[1]==75)return at(W,ae);if((W[0]|32)==109&&(W[1]|32)==105)return Tt(W,ae);if(W.length<512)throw new Error("CFB file size "+W.length+" < 512");var X=3,ee=512,ie=0,oe=0,we=0,De=0,_e=0,Se=[],ke=W.slice(0,512);Ti(ke,0);var He=f(ke);switch(X=He[0],X){case 3:ee=512;break;case 4:ee=4096;break;case 0:if(He[1]==0)return at(W,ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+X)}ee!==512&&(ke=W.slice(0,ee),Ti(ke,28));var Je=W.slice(0,ee);m(ke,X);var st=ke.read_shift(4,"i");if(X===3&&st!==0)throw new Error("# Directory Sectors: Expected 0 saw "+st);ke.l+=4,we=ke.read_shift(4,"i"),ke.l+=4,ke.chk("00100000","Mini Stream Cutoff Size: "),De=ke.read_shift(4,"i"),ie=ke.read_shift(4,"i"),_e=ke.read_shift(4,"i"),oe=ke.read_shift(4,"i");for(var Xe=-1,it=0;it<109&&(Xe=ke.read_shift(4,"i"),!(Xe<0));++it)Se[it]=Xe;var Mt=h(W,ee);v(_e,oe,Mt,ee,Se);var Sr=j(Mt,we,Se,ee);Sr[we].name="!Directory",ie>0&&De!==F&&(Sr[De].name="!MiniFAT"),Sr[Se[0]].name="!FAT",Sr.fat_addrs=Se,Sr.ssz=ee;var tr={},ln=[],Ts=[],ds=[];A(we,Sr,Mt,ln,ie,tr,Ts,De),g(Ts,ds,ln),ln.shift();var Os={FileIndex:Ts,FullPaths:ds};return ae&&ae.raw&&(Os.raw={header:Je,sectors:Mt}),Os}function f(W){if(W[W.l]==80&&W[W.l+1]==75)return[0,0];W.chk(V,"Header Signature: "),W.l+=16;var ae=W.read_shift(2,"u");return[W.read_shift(2,"u"),ae]}function m(W,ae){var X=9;switch(W.l+=2,X=W.read_shift(2)){case 9:if(ae!=3)throw new Error("Sector Shift: Expected 9 saw "+X);break;case 12:if(ae!=4)throw new Error("Sector Shift: Expected 12 saw "+X);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+X)}W.chk("0600","Mini Sector Shift: "),W.chk("000000000000","Reserved: ")}function h(W,ae){for(var X=Math.ceil(W.length/ae)-1,ee=[],ie=1;ie<X;++ie)ee[ie-1]=W.slice(ie*ae,(ie+1)*ae);return ee[X-1]=W.slice(X*ae),ee}function g(W,ae,X){for(var ee=0,ie=0,oe=0,we=0,De=0,_e=X.length,Se=[],ke=[];ee<_e;++ee)Se[ee]=ke[ee]=ee,ae[ee]=X[ee];for(;De<ke.length;++De)ee=ke[De],ie=W[ee].L,oe=W[ee].R,we=W[ee].C,Se[ee]===ee&&(ie!==-1&&Se[ie]!==ie&&(Se[ee]=Se[ie]),oe!==-1&&Se[oe]!==oe&&(Se[ee]=Se[oe])),we!==-1&&(Se[we]=ee),ie!==-1&&ee!=Se[ee]&&(Se[ie]=Se[ee],ke.lastIndexOf(ie)<De&&ke.push(ie)),oe!==-1&&ee!=Se[ee]&&(Se[oe]=Se[ee],ke.lastIndexOf(oe)<De&&ke.push(oe));for(ee=1;ee<_e;++ee)Se[ee]===ee&&(oe!==-1&&Se[oe]!==oe?Se[ee]=Se[oe]:ie!==-1&&Se[ie]!==ie&&(Se[ee]=Se[ie]));for(ee=1;ee<_e;++ee)if(W[ee].type!==0){if(De=ee,De!=Se[De])do De=Se[De],ae[ee]=ae[De]+"/"+ae[ee];while(De!==0&&Se[De]!==-1&&De!=Se[De]);Se[ee]=-1}for(ae[0]+="/",ee=1;ee<_e;++ee)W[ee].type!==2&&(ae[ee]+="/")}function p(W,ae,X){for(var ee=W.start,ie=W.size,oe=[],we=ee;X&&ie>0&&we>=0;)oe.push(ae.slice(we*C,we*C+C)),ie-=C,we=Fc(X,we*4);return oe.length===0?Ie(0):_a(oe).slice(0,W.size)}function v(W,ae,X,ee,ie){var oe=F;if(W===F){if(ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(W!==-1){var we=X[W],De=(ee>>>2)-1;if(!we)return;for(var _e=0;_e<De&&(oe=Fc(we,_e*4))!==F;++_e)ie.push(oe);v(Fc(we,ee-4),ae-1,X,ee,ie)}}function b(W,ae,X,ee,ie){var oe=[],we=[];ie||(ie=[]);var De=ee-1,_e=0,Se=0;for(_e=ae;_e>=0;){ie[_e]=!0,oe[oe.length]=_e,we.push(W[_e]);var ke=X[Math.floor(_e*4/ee)];if(Se=_e*4&De,ee<4+Se)throw new Error("FAT boundary crossed: "+_e+" 4 "+ee);if(!W[ke])break;_e=Fc(W[ke],Se)}return{nodes:oe,data:R_([we])}}function j(W,ae,X,ee){var ie=W.length,oe=[],we=[],De=[],_e=[],Se=ee-1,ke=0,He=0,Je=0,st=0;for(ke=0;ke<ie;++ke)if(De=[],Je=ke+ae,Je>=ie&&(Je-=ie),!we[Je]){_e=[];var Xe=[];for(He=Je;He>=0;){Xe[He]=!0,we[He]=!0,De[De.length]=He,_e.push(W[He]);var it=X[Math.floor(He*4/ee)];if(st=He*4&Se,ee<4+st)throw new Error("FAT boundary crossed: "+He+" 4 "+ee);if(!W[it]||(He=Fc(W[it],st),Xe[He]))break}oe[Je]={nodes:De,data:R_([_e])}}return oe}function A(W,ae,X,ee,ie,oe,we,De){for(var _e=0,Se=ee.length?2:0,ke=ae[W].data,He=0,Je=0,st;He<ke.length;He+=128){var Xe=ke.slice(He,He+128);Ti(Xe,64),Je=Xe.read_shift(2),st=wy(Xe,0,Je-Se),ee.push(st);var it={name:st,type:Xe.read_shift(1),color:Xe.read_shift(1),L:Xe.read_shift(4,"i"),R:Xe.read_shift(4,"i"),C:Xe.read_shift(4,"i"),clsid:Xe.read_shift(16),state:Xe.read_shift(4,"i"),start:0,size:0},Mt=Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2);Mt!==0&&(it.ct=_(Xe,Xe.l-8));var Sr=Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2);Sr!==0&&(it.mt=_(Xe,Xe.l-8)),it.start=Xe.read_shift(4,"i"),it.size=Xe.read_shift(4,"i"),it.size<0&&it.start<0&&(it.size=it.type=0,it.start=F,it.name=""),it.type===5?(_e=it.start,ie>0&&_e!==F&&(ae[_e].name="!StreamData")):it.size>=4096?(it.storage="fat",ae[it.start]===void 0&&(ae[it.start]=b(X,it.start,ae.fat_addrs,ae.ssz)),ae[it.start].name=it.name,it.content=ae[it.start].data.slice(0,it.size)):(it.storage="minifat",it.size<0?it.size=0:_e!==F&&it.start!==F&&ae[_e]&&(it.content=p(it,ae[_e].data,(ae[De]||{}).data))),it.content&&Ti(it.content,0),oe[st]=it,we.push(it)}}function _(W,ae){return new Date((Di(W,ae+4)/1e7*Math.pow(2,32)+Di(W,ae)/1e7-11644473600)*1e3)}function k(W,ae){return u(),d(c.readFileSync(W),ae)}function I(W,ae){var X=ae&&ae.type;switch(X||mr&&Buffer.isBuffer(W)&&(X="buffer"),X||"base64"){case"file":return k(W,ae);case"base64":return d(Ns(sl(W)),ae);case"binary":return d(Ns(W),ae)}return d(W,ae)}function T(W,ae){var X=ae||{},ee=X.root||"Root Entry";if(W.FullPaths||(W.FullPaths=[]),W.FileIndex||(W.FileIndex=[]),W.FullPaths.length!==W.FileIndex.length)throw new Error("inconsistent CFB structure");W.FullPaths.length===0&&(W.FullPaths[0]=ee+"/",W.FileIndex[0]={name:ee,type:5}),X.CLSID&&(W.FileIndex[0].clsid=X.CLSID),M(W)}function M(W){var ae="Sh33tJ5";if(!Pr.find(W,"/"+ae)){var X=Ie(4);X[0]=55,X[1]=X[3]=50,X[2]=54,W.FileIndex.push({name:ae,type:2,content:X,size:4,L:69,R:69,C:69}),W.FullPaths.push(W.FullPaths[0]+ae),O(W)}}function O(W,ae){T(W);for(var X=!1,ee=!1,ie=W.FullPaths.length-1;ie>=0;--ie){var oe=W.FileIndex[ie];switch(oe.type){case 0:ee?X=!0:(W.FileIndex.pop(),W.FullPaths.pop());break;case 1:case 2:case 5:ee=!0,isNaN(oe.R*oe.L*oe.C)&&(X=!0),oe.R>-1&&oe.L>-1&&oe.R==oe.L&&(X=!0);break;default:X=!0;break}}if(!(!X&&!ae)){var we=new Date(1987,1,19),De=0,_e=Object.create?Object.create(null):{},Se=[];for(ie=0;ie<W.FullPaths.length;++ie)_e[W.FullPaths[ie]]=!0,W.FileIndex[ie].type!==0&&Se.push([W.FullPaths[ie],W.FileIndex[ie]]);for(ie=0;ie<Se.length;++ie){var ke=n(Se[ie][0]);ee=_e[ke],ee||(Se.push([ke,{name:a(ke).replace("/",""),type:1,clsid:de,ct:we,mt:we,content:null}]),_e[ke]=!0)}for(Se.sort(function(st,Xe){return r(st[0],Xe[0])}),W.FullPaths=[],W.FileIndex=[],ie=0;ie<Se.length;++ie)W.FullPaths[ie]=Se[ie][0],W.FileIndex[ie]=Se[ie][1];for(ie=0;ie<Se.length;++ie){var He=W.FileIndex[ie],Je=W.FullPaths[ie];if(He.name=a(Je).replace("/",""),He.L=He.R=He.C=-(He.color=1),He.size=He.content?He.content.length:0,He.start=0,He.clsid=He.clsid||de,ie===0)He.C=Se.length>1?1:-1,He.size=0,He.type=5;else if(Je.slice(-1)=="/"){for(De=ie+1;De<Se.length&&n(W.FullPaths[De])!=Je;++De);for(He.C=De>=Se.length?-1:De,De=ie+1;De<Se.length&&n(W.FullPaths[De])!=n(Je);++De);He.R=De>=Se.length?-1:De,He.type=1}else n(W.FullPaths[ie+1]||"")==n(Je)&&(He.R=ie+1),He.type=2}}}function U(W,ae){var X=ae||{};if(X.fileType=="mad")return cs(W,X);if(O(W),X.fileType==="zip")return ct(W,X);var ee=(function(st){for(var Xe=0,it=0,Mt=0;Mt<st.FileIndex.length;++Mt){var Sr=st.FileIndex[Mt];if(Sr.content){var tr=Sr.content.length;tr>0&&(tr<4096?Xe+=tr+63>>6:it+=tr+511>>9)}}for(var ln=st.FullPaths.length+3>>2,Ts=Xe+7>>3,ds=Xe+127>>7,Os=Ts+it+ln+ds,Ui=Os+127>>7,vl=Ui<=109?0:Math.ceil((Ui-109)/127);Os+Ui+vl+127>>7>Ui;)vl=++Ui<=109?0:Math.ceil((Ui-109)/127);var En=[1,vl,Ui,ds,ln,it,Xe,0];return st.FileIndex[0].size=Xe<<6,En[7]=(st.FileIndex[0].start=En[0]+En[1]+En[2]+En[3]+En[4]+En[5])+(En[6]+7>>3),En})(W),ie=Ie(ee[7]<<9),oe=0,we=0;{for(oe=0;oe<8;++oe)ie.write_shift(1,te[oe]);for(oe=0;oe<8;++oe)ie.write_shift(2,0);for(ie.write_shift(2,62),ie.write_shift(2,3),ie.write_shift(2,65534),ie.write_shift(2,9),ie.write_shift(2,6),oe=0;oe<3;++oe)ie.write_shift(2,0);for(ie.write_shift(4,0),ie.write_shift(4,ee[2]),ie.write_shift(4,ee[0]+ee[1]+ee[2]+ee[3]-1),ie.write_shift(4,0),ie.write_shift(4,4096),ie.write_shift(4,ee[3]?ee[0]+ee[1]+ee[2]-1:F),ie.write_shift(4,ee[3]),ie.write_shift(-4,ee[1]?ee[0]-1:F),ie.write_shift(4,ee[1]),oe=0;oe<109;++oe)ie.write_shift(-4,oe<ee[2]?ee[1]+oe:-1)}if(ee[1])for(we=0;we<ee[1];++we){for(;oe<236+we*127;++oe)ie.write_shift(-4,oe<ee[2]?ee[1]+oe:-1);ie.write_shift(-4,we===ee[1]-1?F:we+1)}var De=function(st){for(we+=st;oe<we-1;++oe)ie.write_shift(-4,oe+1);st&&(++oe,ie.write_shift(-4,F))};for(we=oe=0,we+=ee[1];oe<we;++oe)ie.write_shift(-4,me.DIFSECT);for(we+=ee[2];oe<we;++oe)ie.write_shift(-4,me.FATSECT);De(ee[3]),De(ee[4]);for(var _e=0,Se=0,ke=W.FileIndex[0];_e<W.FileIndex.length;++_e)ke=W.FileIndex[_e],ke.content&&(Se=ke.content.length,!(Se<4096)&&(ke.start=we,De(Se+511>>9)));for(De(ee[6]+7>>3);ie.l&511;)ie.write_shift(-4,me.ENDOFCHAIN);for(we=oe=0,_e=0;_e<W.FileIndex.length;++_e)ke=W.FileIndex[_e],ke.content&&(Se=ke.content.length,!(!Se||Se>=4096)&&(ke.start=we,De(Se+63>>6)));for(;ie.l&511;)ie.write_shift(-4,me.ENDOFCHAIN);for(oe=0;oe<ee[4]<<2;++oe){var He=W.FullPaths[oe];if(!He||He.length===0){for(_e=0;_e<17;++_e)ie.write_shift(4,0);for(_e=0;_e<3;++_e)ie.write_shift(4,-1);for(_e=0;_e<12;++_e)ie.write_shift(4,0);continue}ke=W.FileIndex[oe],oe===0&&(ke.start=ke.size?ke.start-1:F);var Je=oe===0&&X.root||ke.name;if(Se=2*(Je.length+1),ie.write_shift(64,Je,"utf16le"),ie.write_shift(2,Se),ie.write_shift(1,ke.type),ie.write_shift(1,ke.color),ie.write_shift(-4,ke.L),ie.write_shift(-4,ke.R),ie.write_shift(-4,ke.C),ke.clsid)ie.write_shift(16,ke.clsid,"hex");else for(_e=0;_e<4;++_e)ie.write_shift(4,0);ie.write_shift(4,ke.state||0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,ke.start),ie.write_shift(4,ke.size),ie.write_shift(4,0)}for(oe=1;oe<W.FileIndex.length;++oe)if(ke=W.FileIndex[oe],ke.size>=4096)if(ie.l=ke.start+1<<9,mr&&Buffer.isBuffer(ke.content))ke.content.copy(ie,ie.l,0,ke.size),ie.l+=ke.size+511&-512;else{for(_e=0;_e<ke.size;++_e)ie.write_shift(1,ke.content[_e]);for(;_e&511;++_e)ie.write_shift(1,0)}for(oe=1;oe<W.FileIndex.length;++oe)if(ke=W.FileIndex[oe],ke.size>0&&ke.size<4096)if(mr&&Buffer.isBuffer(ke.content))ke.content.copy(ie,ie.l,0,ke.size),ie.l+=ke.size+63&-64;else{for(_e=0;_e<ke.size;++_e)ie.write_shift(1,ke.content[_e]);for(;_e&63;++_e)ie.write_shift(1,0)}if(mr)ie.l=ie.length;else for(;ie.l<ie.length;)ie.write_shift(1,0);return ie}function P(W,ae){var X=W.FullPaths.map(function(_e){return _e.toUpperCase()}),ee=X.map(function(_e){var Se=_e.split("/");return Se[Se.length-(_e.slice(-1)=="/"?2:1)]}),ie=!1;ae.charCodeAt(0)===47?(ie=!0,ae=X[0].slice(0,-1)+ae):ie=ae.indexOf("/")!==-1;var oe=ae.toUpperCase(),we=ie===!0?X.indexOf(oe):ee.indexOf(oe);if(we!==-1)return W.FileIndex[we];var De=!oe.match(tm);for(oe=oe.replace(Uf,""),De&&(oe=oe.replace(tm,"!")),we=0;we<X.length;++we)if((De?X[we].replace(tm,"!"):X[we]).replace(Uf,"")==oe||(De?ee[we].replace(tm,"!"):ee[we]).replace(Uf,"")==oe)return W.FileIndex[we];return null}var C=64,F=-2,V="d0cf11e0a1b11ae1",te=[208,207,17,224,161,177,26,225],de="00000000000000000000000000000000",me={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:F,FREESECT:-1,HEADER_SIGNATURE:V,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:de,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ue(W,ae,X){u();var ee=U(W,X);c.writeFileSync(ae,ee)}function he(W){for(var ae=new Array(W.length),X=0;X<W.length;++X)ae[X]=String.fromCharCode(W[X]);return ae.join("")}function Ne(W,ae){var X=U(W,ae);switch(ae&&ae.type||"buffer"){case"file":return u(),c.writeFileSync(ae.filename,X),X;case"binary":return typeof X=="string"?X:he(X);case"base64":return hh(typeof X=="string"?X:he(X));case"buffer":if(mr)return Buffer.isBuffer(X)?X:gl(X);case"array":return typeof X=="string"?Ns(X):X}return X}var Ee;function E(W){try{var ae=W.InflateRaw,X=new ae;if(X._processChunk(new Uint8Array([3,0]),X._finishFlushFlag),X.bytesRead)Ee=W;else throw new Error("zlib does not expose bytesRead")}catch(ee){console.error("cannot use native zlib: "+(ee.message||ee))}}function R(W,ae){if(!Ee)return hr(W,ae);var X=Ee.InflateRaw,ee=new X,ie=ee._processChunk(W.slice(W.l),ee._finishFlushFlag);return W.l+=ee.bytesRead,ie}function L(W){return Ee?Ee.deflateRawSync(W):Ft(W)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],le=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function xe(W){var ae=(W<<1|W<<11)&139536|(W<<5|W<<15)&558144;return(ae>>16|ae>>8|ae)&255}for(var Q=typeof Uint8Array<"u",ce=Q?new Uint8Array(256):[],je=0;je<256;++je)ce[je]=xe(je);function pe(W,ae){var X=ce[W&255];return ae<=8?X>>>8-ae:(X=X<<8|ce[W>>8&255],ae<=16?X>>>16-ae:(X=X<<8|ce[W>>16&255],X>>>24-ae))}function ze(W,ae){var X=ae&7,ee=ae>>>3;return(W[ee]|(X<=6?0:W[ee+1]<<8))>>>X&3}function Te(W,ae){var X=ae&7,ee=ae>>>3;return(W[ee]|(X<=5?0:W[ee+1]<<8))>>>X&7}function Y(W,ae){var X=ae&7,ee=ae>>>3;return(W[ee]|(X<=4?0:W[ee+1]<<8))>>>X&15}function qe(W,ae){var X=ae&7,ee=ae>>>3;return(W[ee]|(X<=3?0:W[ee+1]<<8))>>>X&31}function Oe(W,ae){var X=ae&7,ee=ae>>>3;return(W[ee]|(X<=1?0:W[ee+1]<<8))>>>X&127}function et(W,ae,X){var ee=ae&7,ie=ae>>>3,oe=(1<<X)-1,we=W[ie]>>>ee;return X<8-ee||(we|=W[ie+1]<<8-ee,X<16-ee)||(we|=W[ie+2]<<16-ee,X<24-ee)||(we|=W[ie+3]<<24-ee),we&oe}function Re(W,ae,X){var ee=ae&7,ie=ae>>>3;return ee<=5?W[ie]|=(X&7)<<ee:(W[ie]|=X<<ee&255,W[ie+1]=(X&7)>>8-ee),ae+3}function Nt(W,ae,X){var ee=ae&7,ie=ae>>>3;return X=(X&1)<<ee,W[ie]|=X,ae+1}function ot(W,ae,X){var ee=ae&7,ie=ae>>>3;return X<<=ee,W[ie]|=X&255,X>>>=8,W[ie+1]=X,ae+8}function kt(W,ae,X){var ee=ae&7,ie=ae>>>3;return X<<=ee,W[ie]|=X&255,X>>>=8,W[ie+1]=X&255,W[ie+2]=X>>>8,ae+16}function jt(W,ae){var X=W.length,ee=2*X>ae?2*X:ae+5,ie=0;if(X>=ae)return W;if(mr){var oe=j_(ee);if(W.copy)W.copy(oe);else for(;ie<W.length;++ie)oe[ie]=W[ie];return oe}else if(Q){var we=new Uint8Array(ee);if(we.set)we.set(W);else for(;ie<X;++ie)we[ie]=W[ie];return we}return W.length=ee,W}function qt(W){for(var ae=new Array(W),X=0;X<W;++X)ae[X]=0;return ae}function zt(W,ae,X){var ee=1,ie=0,oe=0,we=0,De=0,_e=W.length,Se=Q?new Uint16Array(32):qt(32);for(oe=0;oe<32;++oe)Se[oe]=0;for(oe=_e;oe<X;++oe)W[oe]=0;_e=W.length;var ke=Q?new Uint16Array(_e):qt(_e);for(oe=0;oe<_e;++oe)Se[ie=W[oe]]++,ee<ie&&(ee=ie),ke[oe]=0;for(Se[0]=0,oe=1;oe<=ee;++oe)Se[oe+16]=De=De+Se[oe-1]<<1;for(oe=0;oe<_e;++oe)De=W[oe],De!=0&&(ke[oe]=Se[De+16]++);var He=0;for(oe=0;oe<_e;++oe)if(He=W[oe],He!=0)for(De=pe(ke[oe],ee)>>ee-He,we=(1<<ee+4-He)-1;we>=0;--we)ae[De|we<<He]=He&15|oe<<4;return ee}var It=Q?new Uint16Array(512):qt(512),Kt=Q?new Uint16Array(32):qt(32);if(!Q){for(var Rt=0;Rt<512;++Rt)It[Rt]=0;for(Rt=0;Rt<32;++Rt)Kt[Rt]=0}(function(){for(var W=[],ae=0;ae<32;ae++)W.push(5);zt(W,Kt,32);var X=[];for(ae=0;ae<=143;ae++)X.push(8);for(;ae<=255;ae++)X.push(9);for(;ae<=279;ae++)X.push(7);for(;ae<=287;ae++)X.push(8);zt(X,It,288)})();var vt=(function(){for(var ae=Q?new Uint8Array(32768):[],X=0,ee=0;X<le.length-1;++X)for(;ee<le[X+1];++ee)ae[ee]=X;for(;ee<32768;++ee)ae[ee]=29;var ie=Q?new Uint8Array(259):[];for(X=0,ee=0;X<J.length-1;++X)for(;ee<J[X+1];++ee)ie[ee]=X;function oe(De,_e){for(var Se=0;Se<De.length;){var ke=Math.min(65535,De.length-Se),He=Se+ke==De.length;for(_e.write_shift(1,+He),_e.write_shift(2,ke),_e.write_shift(2,~ke&65535);ke-- >0;)_e[_e.l++]=De[Se++]}return _e.l}function we(De,_e){for(var Se=0,ke=0,He=Q?new Uint16Array(32768):[];ke<De.length;){var Je=Math.min(65535,De.length-ke);if(Je<10){for(Se=Re(_e,Se,+(ke+Je==De.length)),Se&7&&(Se+=8-(Se&7)),_e.l=Se/8|0,_e.write_shift(2,Je),_e.write_shift(2,~Je&65535);Je-- >0;)_e[_e.l++]=De[ke++];Se=_e.l*8;continue}Se=Re(_e,Se,+(ke+Je==De.length)+2);for(var st=0;Je-- >0;){var Xe=De[ke];st=(st<<5^Xe)&32767;var it=-1,Mt=0;if((it=He[st])&&(it|=ke&-32768,it>ke&&(it-=32768),it<ke))for(;De[it+Mt]==De[ke+Mt]&&Mt<250;)++Mt;if(Mt>2){Xe=ie[Mt],Xe<=22?Se=ot(_e,Se,ce[Xe+1]>>1)-1:(ot(_e,Se,3),Se+=5,ot(_e,Se,ce[Xe-23]>>5),Se+=3);var Sr=Xe<8?0:Xe-4>>2;Sr>0&&(kt(_e,Se,Mt-J[Xe]),Se+=Sr),Xe=ae[ke-it],Se=ot(_e,Se,ce[Xe]>>3),Se-=3;var tr=Xe<4?0:Xe-2>>1;tr>0&&(kt(_e,Se,ke-it-le[Xe]),Se+=tr);for(var ln=0;ln<Mt;++ln)He[st]=ke&32767,st=(st<<5^De[ke])&32767,++ke;Je-=Mt-1}else Xe<=143?Xe=Xe+48:Se=Nt(_e,Se,1),Se=ot(_e,Se,ce[Xe]),He[st]=ke&32767,++ke}Se=ot(_e,Se,0)-1}return _e.l=(Se+7)/8|0,_e.l}return function(_e,Se){return _e.length<8?oe(_e,Se):we(_e,Se)}})();function Ft(W){var ae=Ie(50+Math.floor(W.length*1.1)),X=vt(W,ae);return ae.slice(0,X)}var wt=Q?new Uint16Array(32768):qt(32768),Rr=Q?new Uint16Array(32768):qt(32768),Qt=Q?new Uint16Array(128):qt(128),Ut=1,Wt=1;function Ar(W,ae){var X=qe(W,ae)+257;ae+=5;var ee=qe(W,ae)+1;ae+=5;var ie=Y(W,ae)+4;ae+=4;for(var oe=0,we=Q?new Uint8Array(19):qt(19),De=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_e=1,Se=Q?new Uint8Array(8):qt(8),ke=Q?new Uint8Array(8):qt(8),He=we.length,Je=0;Je<ie;++Je)we[z[Je]]=oe=Te(W,ae),_e<oe&&(_e=oe),Se[oe]++,ae+=3;var st=0;for(Se[0]=0,Je=1;Je<=_e;++Je)ke[Je]=st=st+Se[Je-1]<<1;for(Je=0;Je<He;++Je)(st=we[Je])!=0&&(De[Je]=ke[st]++);var Xe=0;for(Je=0;Je<He;++Je)if(Xe=we[Je],Xe!=0){st=ce[De[Je]]>>8-Xe;for(var it=(1<<7-Xe)-1;it>=0;--it)Qt[st|it<<Xe]=Xe&7|Je<<3}var Mt=[];for(_e=1;Mt.length<X+ee;)switch(st=Qt[Oe(W,ae)],ae+=st&7,st>>>=3){case 16:for(oe=3+ze(W,ae),ae+=2,st=Mt[Mt.length-1];oe-- >0;)Mt.push(st);break;case 17:for(oe=3+Te(W,ae),ae+=3;oe-- >0;)Mt.push(0);break;case 18:for(oe=11+Oe(W,ae),ae+=7;oe-- >0;)Mt.push(0);break;default:Mt.push(st),_e<st&&(_e=st);break}var Sr=Mt.slice(0,X),tr=Mt.slice(X);for(Je=X;Je<286;++Je)Sr[Je]=0;for(Je=ee;Je<30;++Je)tr[Je]=0;return Ut=zt(Sr,wt,286),Wt=zt(tr,Rr,30),ae}function Pt(W,ae){if(W[0]==3&&!(W[1]&3))return[au(ae),2];for(var X=0,ee=0,ie=j_(ae||1<<18),oe=0,we=ie.length>>>0,De=0,_e=0;(ee&1)==0;){if(ee=Te(W,X),X+=3,ee>>>1)ee>>1==1?(De=9,_e=5):(X=Ar(W,X),De=Ut,_e=Wt);else{X&7&&(X+=8-(X&7));var Se=W[X>>>3]|W[(X>>>3)+1]<<8;if(X+=32,Se>0)for(!ae&&we<oe+Se&&(ie=jt(ie,oe+Se),we=ie.length);Se-- >0;)ie[oe++]=W[X>>>3],X+=8;continue}for(;;){!ae&&we<oe+32767&&(ie=jt(ie,oe+32767),we=ie.length);var ke=et(W,X,De),He=ee>>>1==1?It[ke]:wt[ke];if(X+=He&15,He>>>=4,(He>>>8&255)===0)ie[oe++]=He;else{if(He==256)break;He-=257;var Je=He<8?0:He-4>>2;Je>5&&(Je=0);var st=oe+J[He];Je>0&&(st+=et(W,X,Je),X+=Je),ke=et(W,X,_e),He=ee>>>1==1?Kt[ke]:Rr[ke],X+=He&15,He>>>=4;var Xe=He<4?0:He-2>>1,it=le[He];for(Xe>0&&(it+=et(W,X,Xe),X+=Xe),!ae&&we<st&&(ie=jt(ie,st+100),we=ie.length);oe<st;)ie[oe]=ie[oe-it],++oe}}}return ae?[ie,X+7>>>3]:[ie.slice(0,oe),X+7>>>3]}function hr(W,ae){var X=W.slice(W.l||0),ee=Pt(X,ae);return W.l+=ee[1],ee[0]}function Ke(W,ae){if(W)typeof console<"u"&&console.error(ae);else throw new Error(ae)}function at(W,ae){var X=W;Ti(X,0);var ee=[],ie=[],oe={FileIndex:ee,FullPaths:ie};T(oe,{root:ae.root});for(var we=X.length-4;(X[we]!=80||X[we+1]!=75||X[we+2]!=5||X[we+3]!=6)&&we>=0;)--we;X.l=we+4,X.l+=4;var De=X.read_shift(2);X.l+=6;var _e=X.read_shift(4);for(X.l=_e,we=0;we<De;++we){X.l+=20;var Se=X.read_shift(4),ke=X.read_shift(4),He=X.read_shift(2),Je=X.read_shift(2),st=X.read_shift(2);X.l+=8;var Xe=X.read_shift(4),it=l(X.slice(X.l+He,X.l+He+Je));X.l+=He+Je+st;var Mt=X.l;X.l=Xe+4,ut(X,Se,ke,oe,it),X.l=Mt}return oe}function ut(W,ae,X,ee,ie){W.l+=2;var oe=W.read_shift(2),we=W.read_shift(2),De=o(W);if(oe&8257)throw new Error("Unsupported ZIP encryption");for(var _e=W.read_shift(4),Se=W.read_shift(4),ke=W.read_shift(4),He=W.read_shift(2),Je=W.read_shift(2),st="",Xe=0;Xe<He;++Xe)st+=String.fromCharCode(W[W.l++]);if(Je){var it=l(W.slice(W.l,W.l+Je));(it[21589]||{}).mt&&(De=it[21589].mt),((ie||{})[21589]||{}).mt&&(De=ie[21589].mt)}W.l+=Je;var Mt=W.slice(W.l,W.l+Se);switch(we){case 8:Mt=R(W,ke);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+we)}var Sr=!1;oe&8&&(_e=W.read_shift(4),_e==134695760&&(_e=W.read_shift(4),Sr=!0),Se=W.read_shift(4),ke=W.read_shift(4)),Se!=ae&&Ke(Sr,"Bad compressed size: "+ae+" != "+Se),ke!=X&&Ke(Sr,"Bad uncompressed size: "+X+" != "+ke),Ea(ee,st,Mt,{unsafe:!0,mt:De})}function ct(W,ae){var X=ae||{},ee=[],ie=[],oe=Ie(1),we=X.compression?8:0,De=0,_e=0,Se=0,ke=0,He=0,Je=W.FullPaths[0],st=Je,Xe=W.FileIndex[0],it=[],Mt=0;for(_e=1;_e<W.FullPaths.length;++_e)if(st=W.FullPaths[_e].slice(Je.length),Xe=W.FileIndex[_e],!(!Xe.size||!Xe.content||st=="Sh33tJ5")){var Sr=ke,tr=Ie(st.length);for(Se=0;Se<st.length;++Se)tr.write_shift(1,st.charCodeAt(Se)&127);tr=tr.slice(0,tr.l),it[He]=dne.buf(Xe.content,0);var ln=Xe.content;we==8&&(ln=L(ln)),oe=Ie(30),oe.write_shift(4,67324752),oe.write_shift(2,20),oe.write_shift(2,De),oe.write_shift(2,we),Xe.mt?i(oe,Xe.mt):oe.write_shift(4,0),oe.write_shift(-4,it[He]),oe.write_shift(4,ln.length),oe.write_shift(4,Xe.content.length),oe.write_shift(2,tr.length),oe.write_shift(2,0),ke+=oe.length,ee.push(oe),ke+=tr.length,ee.push(tr),ke+=ln.length,ee.push(ln),oe=Ie(46),oe.write_shift(4,33639248),oe.write_shift(2,0),oe.write_shift(2,20),oe.write_shift(2,De),oe.write_shift(2,we),oe.write_shift(4,0),oe.write_shift(-4,it[He]),oe.write_shift(4,ln.length),oe.write_shift(4,Xe.content.length),oe.write_shift(2,tr.length),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(4,0),oe.write_shift(4,Sr),Mt+=oe.l,ie.push(oe),Mt+=tr.length,ie.push(tr),++He}return oe=Ie(22),oe.write_shift(4,101010256),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,He),oe.write_shift(2,He),oe.write_shift(4,Mt),oe.write_shift(4,ke),oe.write_shift(2,0),_a([_a(ee),_a(ie),oe])}var ft={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function dt(W,ae){if(W.ctype)return W.ctype;var X=W.name||"",ee=X.match(/\.([^\.]+)$/);return ee&&ft[ee[1]]||ae&&(ee=(X=ae).match(/[\.\\]([^\.\\])+$/),ee&&ft[ee[1]])?ft[ee[1]]:"application/octet-stream"}function ls(W){for(var ae=hh(W),X=[],ee=0;ee<ae.length;ee+=76)X.push(ae.slice(ee,ee+76));return X.join(`\r
`)+`\r
`}function Cn(W){var ae=W.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Se){var ke=Se.charCodeAt(0).toString(16).toUpperCase();return"="+(ke.length==1?"0"+ke:ke)});ae=ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ae.charAt(0)==`
`&&(ae="=0D"+ae.slice(1)),ae=ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var X=[],ee=ae.split(`\r
`),ie=0;ie<ee.length;++ie){var oe=ee[ie];if(oe.length==0){X.push("");continue}for(var we=0;we<oe.length;){var De=76,_e=oe.slice(we,we+De);_e.charAt(De-1)=="="?De--:_e.charAt(De-2)=="="?De-=2:_e.charAt(De-3)=="="&&(De-=3),_e=oe.slice(we,we+De),we+=De,we<oe.length&&(_e+="="),X.push(_e)}}return X.join(`\r
`)}function bi(W){for(var ae=[],X=0;X<W.length;++X){for(var ee=W[X];X<=W.length&&ee.charAt(ee.length-1)=="=";)ee=ee.slice(0,ee.length-1)+W[++X];ae.push(ee)}for(var ie=0;ie<ae.length;++ie)ae[ie]=ae[ie].replace(/[=][0-9A-Fa-f]{2}/g,function(oe){return String.fromCharCode(parseInt(oe.slice(1),16))});return Ns(ae.join(`\r
`))}function Pa(W,ae,X){for(var ee="",ie="",oe="",we,De=0;De<10;++De){var _e=ae[De];if(!_e||_e.match(/^\s*$/))break;var Se=_e.match(/^(.*?):\s*([^\s].*)$/);if(Se)switch(Se[1].toLowerCase()){case"content-location":ee=Se[2].trim();break;case"content-type":oe=Se[2].trim();break;case"content-transfer-encoding":ie=Se[2].trim();break}}switch(++De,ie.toLowerCase()){case"base64":we=Ns(sl(ae.slice(De).join("")));break;case"quoted-printable":we=bi(ae.slice(De));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ie)}var ke=Ea(W,ee.slice(X.length),we,{unsafe:!0});oe&&(ke.ctype=oe)}function Tt(W,ae){if(he(W.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var X=ae&&ae.root||"",ee=(mr&&Buffer.isBuffer(W)?W.toString("binary"):he(W)).split(`\r
`),ie=0,oe="";for(ie=0;ie<ee.length;++ie)if(oe=ee[ie],!!/^Content-Location:/i.test(oe)&&(oe=oe.slice(oe.indexOf("file")),X||(X=oe.slice(0,oe.lastIndexOf("/")+1)),oe.slice(0,X.length)!=X))for(;X.length>0&&(X=X.slice(0,X.length-1),X=X.slice(0,X.lastIndexOf("/")+1),oe.slice(0,X.length)!=X););var we=(ee[1]||"").match(/boundary="(.*?)"/);if(!we)throw new Error("MAD cannot find boundary");var De="--"+(we[1]||""),_e=[],Se=[],ke={FileIndex:_e,FullPaths:Se};T(ke);var He,Je=0;for(ie=0;ie<ee.length;++ie){var st=ee[ie];st!==De&&st!==De+"--"||(Je++&&Pa(ke,ee.slice(He,ie),X),He=ie)}return ke}function cs(W,ae){var X=ae||{},ee=X.boundary||"SheetJS";ee="------="+ee;for(var ie=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ee.slice(2)+'"',"","",""],oe=W.FullPaths[0],we=oe,De=W.FileIndex[0],_e=1;_e<W.FullPaths.length;++_e)if(we=W.FullPaths[_e].slice(oe.length),De=W.FileIndex[_e],!(!De.size||!De.content||we=="Sh33tJ5")){we=we.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Mt){return"_x"+Mt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Mt){return"_u"+Mt.charCodeAt(0).toString(16)+"_"});for(var Se=De.content,ke=mr&&Buffer.isBuffer(Se)?Se.toString("binary"):he(Se),He=0,Je=Math.min(1024,ke.length),st=0,Xe=0;Xe<=Je;++Xe)(st=ke.charCodeAt(Xe))>=32&&st<128&&++He;var it=He>=Je*4/5;ie.push(ee),ie.push("Content-Location: "+(X.root||"file:///C:/SheetJS/")+we),ie.push("Content-Transfer-Encoding: "+(it?"quoted-printable":"base64")),ie.push("Content-Type: "+dt(De,we)),ie.push(""),ie.push(it?Cn(ke):ls(ke))}return ie.push(ee+`--\r
`),ie.join(`\r
`)}function us(W){var ae={};return T(ae,W),ae}function Ea(W,ae,X,ee){var ie=ee&&ee.unsafe;ie||T(W);var oe=!ie&&Pr.find(W,ae);if(!oe){var we=W.FullPaths[0];ae.slice(0,we.length)==we?we=ae:(we.slice(-1)!="/"&&(we+="/"),we=(we+ae).replace("//","/")),oe={name:a(ae),type:2},W.FileIndex.push(oe),W.FullPaths.push(we),ie||Pr.utils.cfb_gc(W)}return oe.content=X,oe.size=X?X.length:0,ee&&(ee.CLSID&&(oe.clsid=ee.CLSID),ee.mt&&(oe.mt=ee.mt),ee.ct&&(oe.ct=ee.ct)),oe}function si(W,ae){T(W);var X=Pr.find(W,ae);if(X){for(var ee=0;ee<W.FileIndex.length;++ee)if(W.FileIndex[ee]==X)return W.FileIndex.splice(ee,1),W.FullPaths.splice(ee,1),!0}return!1}function Kr(W,ae,X){T(W);var ee=Pr.find(W,ae);if(ee){for(var ie=0;ie<W.FileIndex.length;++ie)if(W.FileIndex[ie]==ee)return W.FileIndex[ie].name=a(X),W.FullPaths[ie]=X,!0}return!1}function Pn(W){O(W,!0)}return t.find=P,t.read=I,t.parse=d,t.write=Ne,t.writeFile=ue,t.utils={cfb_new:us,cfb_add:Ea,cfb_del:si,cfb_mov:Kr,cfb_gc:Pn,ReadShift:Hf,CheckField:hT,prep_blob:Ti,bconcat:_a,use_zlib:E,_deflateRaw:Ft,_inflateRaw:hr,consts:me},t})();function fne(e){return typeof e=="string"?T1(e):Array.isArray(e)?Rre(e):e}function Zh(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=T1(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?ph(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([fne(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Xh(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Ca(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function T_(e,t){for(var r=[],n=Ca(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function gy(e){for(var t=[],r=Ca(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function I1(e){for(var t=[],r=Ca(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function hne(e){for(var t=[],r=Ca(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var wp=new Date(1899,11,30,0,0,0);function mi(e,t){var r=e.getTime(),n=wp.getTime()+(e.getTimezoneOffset()-wp.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var Xk=new Date,mne=wp.getTime()+(Xk.getTimezoneOffset()-wp.getTimezoneOffset())*6e4,O_=Xk.getTimezoneOffset();function Zk(e){var t=new Date;return t.setTime(e*24*60*60*1e3+mne),t.getTimezoneOffset()!==O_&&t.setTime(t.getTime()+(t.getTimezoneOffset()-O_)*6e4),t}var D_=new Date("2017-02-19T19:06:09.000Z"),Jk=isNaN(D_.getFullYear())?new Date("2/19/17"):D_,pne=Jk.getFullYear()==2017;function ti(e,t){var r=new Date(e);if(pne)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(Jk.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function M1(e,t){if(mr&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function pi(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=pi(e[r]));return t}function pn(e,t){for(var r="";r.length<t;)r+=e;return r}function Ko(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var xne=["january","february","march","april","may","june","july","august","september","october","november","december"];function mh(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&xne.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Zt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return mr?n=gl(r):n=Bre(r),Pr.utils.cfb_add(e,t,n)}Pr.utils.cfb_add(e,t,r)}else e.file(t,r)}function vy(){return Pr.utils.cfb_new()}var $n=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,gne={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},by=gy(gne),yy=/[&<>'"]/g,vne=/[\u0000-\u0008\u000b-\u001f]/g;function jr(e){var t=e+"";return t.replace(yy,function(r){return by[r]}).replace(vne,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function I_(e){return jr(e).replace(/ /g,"_x0020_")}var Qk=/[\u0000-\u001f]/g;function bne(e){var t=e+"";return t.replace(yy,function(r){return by[r]}).replace(/\n/g,"<br/>").replace(Qk,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function yne(e){var t=e+"";return t.replace(yy,function(r){return by[r]}).replace(Qk,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function wne(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Nne(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Qg(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function M_(e){var t=au(2*e.length),r,n,a=1,i=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function F_(e){return gl(e,"binary").toString("utf8")}var nm="foo bar bazâð£",Wf=mr&&(F_(nm)==Qg(nm)&&F_||M_(nm)==Qg(nm)&&M_)||Qg,ph=mr?function(e){return gl(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},jne=(function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}})(),eT=/(^\s|\s$|\n)/;function Aa(e,t){return"<"+e+(t.match(eT)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function xh(e){return Ca(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Qe(e,t,r){return"<"+e+(r!=null?xh(r):"")+(t!=null?(t.match(eT)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function D2(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function _ne(e,t){switch(typeof e){case"string":var r=Qe("vt:lpwstr",jr(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Qe((e|0)==e?"vt:i4":"vt:r8",jr(String(e)));case"boolean":return Qe("vt:bool",e?"true":"false")}if(e instanceof Date)return Qe("vt:filetime",D2(e));throw new Error("Unable to serialize "+e)}var sa={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},$d=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Oi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Ane(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function Sne(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var L_=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},R_=mr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:gl(t)})):L_(e)}:L_,B_=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(qf(e,a)));return n.join("").replace(Uf,"")},wy=mr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Uf,""):B_(e,t,r)}:B_,q_=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},tT=mr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):q_(e,t,r)}:q_,z_=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Xu(e,a)));return n.join("")},Jh=mr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):z_(t,r,n)}:z_,rT=function(e,t){var r=Di(e,t);return r>0?Jh(e,t+4,t+4+r-1):""},nT=rT,aT=function(e,t){var r=Di(e,t);return r>0?Jh(e,t+4,t+4+r-1):""},iT=aT,sT=function(e,t){var r=2*Di(e,t);return r>0?Jh(e,t+4,t+4+r-1):""},oT=sT,lT=function(t,r){var n=Di(t,r);return n>0?wy(t,r+4,r+4+n):""},cT=lT,uT=function(e,t){var r=Di(e,t);return r>0?Jh(e,t+4,t+4+r):""},dT=uT,fT=function(e,t){return Ane(e,t)},Np=fT,Ny=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};mr&&(nT=function(t,r){if(!Buffer.isBuffer(t))return rT(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},iT=function(t,r){if(!Buffer.isBuffer(t))return aT(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},oT=function(t,r){if(!Buffer.isBuffer(t))return sT(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},cT=function(t,r){if(!Buffer.isBuffer(t))return lT(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},dT=function(t,r){if(!Buffer.isBuffer(t))return uT(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Np=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):fT(t,r)},Ny=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Xu=function(e,t){return e[t]},qf=function(e,t){return e[t+1]*256+e[t]},Cne=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Di=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Fc=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Pne=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Hf(e,t){var r="",n,a,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,mr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(qf(this,u)),u+=2;e*=2;break;case"utf8":r=Jh(this,this.l,this.l+e);break;case"utf16le":e*=2,r=wy(this,this.l,this.l+e);break;case"wstr":return Hf.call(this,e,"dbcs");case"lpstr-ansi":r=nT(this,this.l),e=4+Di(this,this.l);break;case"lpstr-cp":r=iT(this,this.l),e=4+Di(this,this.l);break;case"lpwstr":r=oT(this,this.l),e=4+2*Di(this,this.l);break;case"lpp4":e=4+Di(this,this.l),r=cT(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Di(this,this.l),r=dT(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Xu(this,this.l+e++))!==0;)i.push(em(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=qf(this,this.l+e))!==0;)i.push(em(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Xu(this,u),this.l=u+1,l=Hf.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(em(qf(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Xu(this,u),this.l=u+1,l=Hf.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(em(Xu(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=Xu(this,this.l),this.l++,n;case 2:return n=(t==="i"?Cne:qf)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?Fc:Pne)(this,this.l),this.l+=4,n):(a=Di(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Np(this,this.l):a=Np([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=tT(this,this.l,e);break}}return this.l+=e,r}var Ene=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},kne=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Tne=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function One(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)Tne(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Ene(this,t,this.l);break;case 8:if(n=8,r==="f"){Sne(this,t,this.l);break}case 16:break;case-4:n=4,kne(this,t,this.l);break}return this.l+=n,this}function hT(e,t){var r=tT(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ti(e,t){e.l=t,e.read_shift=Hf,e.chk=hT,e.write_shift=One}function co(e,t){e.l+=t}function Ie(e){var t=au(e);return Ti(t,0),t}function fi(){var e=[],t=mr?256:2048,r=function(u){var d=Ie(u);return Ti(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),_a(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function $e(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=Ace[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&Ny(r)&&e.push(r)}}function Vf(e,t,r){var n=pi(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function $_(e,t,r){var n=pi(e);return n.s=Vf(n.s,t.s,r),n.e=Vf(n.e,t.s,r),n}function Gf(e,t){if(e.cRel&&e.c<0)for(e=pi(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=pi(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=_r(e);return!e.cRel&&e.cRel!=null&&(r=Mne(r)),!e.rRel&&e.rRel!=null&&(r=Dne(r)),r}function ev(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+za(e.s.c)+":"+(e.e.cRel?"":"$")+za(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Sa(e.s.r)+":"+(e.e.rRel?"":"$")+Sa(e.e.r):Gf(e.s,t.biff)+":"+Gf(e.e,t.biff)}function jy(e){return parseInt(Ine(e),10)-1}function Sa(e){return""+(e+1)}function Dne(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Ine(e){return e.replace(/\$(\d+)$/,"$1")}function _y(e){for(var t=Fne(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function za(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Mne(e){return e.replace(/^([A-Z])/,"$$$1")}function Fne(e){return e.replace(/^\$([A-Z])/,"$1")}function Lne(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function la(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function _r(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function $i(e){var t=e.indexOf(":");return t==-1?{s:la(e),e:la(e)}:{s:la(e.slice(0,t)),e:la(e.slice(t+1))}}function Bn(e,t){return typeof t>"u"||typeof t=="number"?Bn(e.s,e.e):(typeof e!="string"&&(e=_r(e)),typeof t!="string"&&(t=_r(t)),e==t?e:e+":"+t)}function Gr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function U_(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=sc(e.z,r?mi(t):t)}catch{}try{return e.w=sc((e.XF||{}).numFmtId||(r?14:0),r?mi(t):t)}catch{return""+t}}function ol(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Qh[e.v]||e.v:t==null?U_(e,e.v):U_(e,t))}function bu(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function mT(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?la(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Gr(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[f].length;++m)if(!(typeof t[f][m]>"u")){var h={v:t[f][m]},g=o+f,p=l+m;if(u.s.r>g&&(u.s.r=g),u.s.c>p&&(u.s.c=p),u.e.r<g&&(u.e.r=g),u.e.c<p&&(u.e.c=p),t[f][m]&&typeof t[f][m]=="object"&&!Array.isArray(t[f][m])&&!(t[f][m]instanceof Date))h=t[f][m];else if(Array.isArray(h.v)&&(h.f=t[f][m][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(n.nullError)h.t="e",h.v=0;else if(n.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=n.dateNF||xn[14],n.cellDates?(h.t="d",h.w=sc(h.z,mi(h.v))):(h.t="n",h.v=mi(h.v),h.w=sc(h.z,h.v))):h.t="s";if(a)i[g]||(i[g]=[]),i[g][p]&&i[g][p].z&&(h.z=i[g][p].z),i[g][p]=h;else{var v=_r({c:p,r:g});i[v]&&i[v].z&&(h.z=i[v].z),i[v]=h}}}return u.s.c<1e7&&(i["!ref"]=Bn(u)),i}function Ud(e,t){return mT(null,e,t)}function Rne(e){return e.read_shift(4,"i")}function Ss(e,t){return t||(t=Ie(4)),t.write_shift(4,e),t}function $a(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function ca(e,t){var r=!1;return t==null&&(r=!0,t=Ie(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Bne(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function qne(e,t){return t||(t=Ie(4)),t.write_shift(2,0),t.write_shift(2,0),t}function Ay(e,t){var r=e.l,n=e.read_shift(1),a=$a(e),i=[],o={t:a,h:a};if((n&1)!==0){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(Bne(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function zne(e,t){var r=!1;return t==null&&(r=!0,t=Ie(15+4*e.t.length)),t.write_shift(1,0),ca(e.t,t),r?t.slice(0,t.l):t}var $ne=Ay;function Une(e,t){var r=!1;return t==null&&(r=!0,t=Ie(23+4*e.t.length)),t.write_shift(1,1),ca(e.t,t),t.write_shift(4,1),qne({},t),r?t.slice(0,t.l):t}function os(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function yu(e,t){return t==null&&(t=Ie(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function wu(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Nu(e,t){return t==null&&(t=Ie(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Wne=$a,pT=ca;function Sy(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function jp(e,t){var r=!1;return t==null&&(r=!0,t=Ie(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Hne=$a,I2=Sy,Cy=jp;function xT(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Np([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Fc(t,0)>>2;return r?a/100:a}function gT(e,t){t==null&&(t=Ie(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function vT(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Vne(e,t){return t||(t=Ie(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var ju=vT,Wd=Vne;function Hd(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function iu(e,t){return(t||Ie(8)).write_shift(8,e,"f")}function Gne(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=rae[a];u&&(t.rgb=eA(u));break;case 2:t.rgb=eA([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function _p(e,t){if(t||(t=Ie(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function Kne(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Yne(e,t){t||(t=Ie(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var bT=2,Ei=3,am=11,Ap=19,im=64,Xne=65,Zne=71,Jne=4108,Qne=4126,ja=80,W_={1:{n:"CodePage",t:bT},2:{n:"Category",t:ja},3:{n:"PresentationFormat",t:ja},4:{n:"ByteCount",t:Ei},5:{n:"LineCount",t:Ei},6:{n:"ParagraphCount",t:Ei},7:{n:"SlideCount",t:Ei},8:{n:"NoteCount",t:Ei},9:{n:"HiddenCount",t:Ei},10:{n:"MultimediaClipCount",t:Ei},11:{n:"ScaleCrop",t:am},12:{n:"HeadingPairs",t:Jne},13:{n:"TitlesOfParts",t:Qne},14:{n:"Manager",t:ja},15:{n:"Company",t:ja},16:{n:"LinksUpToDate",t:am},17:{n:"CharacterCount",t:Ei},19:{n:"SharedDoc",t:am},22:{n:"HyperlinksChanged",t:am},23:{n:"AppVersion",t:Ei,p:"version"},24:{n:"DigSig",t:Xne},26:{n:"ContentType",t:ja},27:{n:"ContentStatus",t:ja},28:{n:"Language",t:ja},29:{n:"Version",t:ja},255:{},2147483648:{n:"Locale",t:Ap},2147483651:{n:"Behavior",t:Ap},1919054434:{}},H_={1:{n:"CodePage",t:bT},2:{n:"Title",t:ja},3:{n:"Subject",t:ja},4:{n:"Author",t:ja},5:{n:"Keywords",t:ja},6:{n:"Comments",t:ja},7:{n:"Template",t:ja},8:{n:"LastAuthor",t:ja},9:{n:"RevNumber",t:ja},10:{n:"EditTime",t:im},11:{n:"LastPrinted",t:im},12:{n:"CreatedDate",t:im},13:{n:"ModifiedDate",t:im},14:{n:"PageCount",t:Ei},15:{n:"WordCount",t:Ei},16:{n:"CharCount",t:Ei},17:{n:"Thumbnail",t:Zne},18:{n:"Application",t:ja},19:{n:"DocSecurity",t:Ei},255:{},2147483648:{n:"Locale",t:Ap},2147483651:{n:"Behavior",t:Ap},1919054434:{}};function eae(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var tae=eae([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rae=pi(tae),Qh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},nae={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},sm={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function yT(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function wT(e,t){var r=hne(nae),n=[],a;n[n.length]=$n,n[n.length]=Qe("Types",null,{xmlns:sa.CT,"xmlns:xsd":sa.xsd,"xmlns:xsi":sa.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Qe("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=Qe("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:sm[c][t.bookType]||sm[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Qe("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:sm[c][t.bookType]||sm[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Qe("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var cr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function NT(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function sd(e){var t=[$n,Qe("Relationships",null,{xmlns:sa.RELS})];return Ca(e["!id"]).forEach(function(r){t[t.length]=Qe("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function yr(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[cr.HLINK,cr.XPATH,cr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function aae(e){var t=[$n];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function V_(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function iae(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function sae(e){var t=[$n];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(V_(e[r][0],e[r][1])),t.push(iae("",e[r][0]));return t.push(V_("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function jT(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+xp.version+"</meta:generator></office:meta></office:document-meta>"}var Kc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function tv(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=jr(t),n[n.length]=r?Qe(e,t,r):Aa(e,t))}function _T(e,t){var r=t||{},n=[$n,Qe("cp:coreProperties",null,{"xmlns:cp":sa.CORE_PROPS,"xmlns:dc":sa.dc,"xmlns:dcterms":sa.dcterms,"xmlns:dcmitype":sa.dcmitype,"xmlns:xsi":sa.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&tv("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:D2(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&tv("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:D2(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Kc.length;++i){var o=Kc[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&tv(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var od=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],AT=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function ST(e){var t=[],r=Qe;return e||(e={}),e.Application="SheetJS",t[t.length]=$n,t[t.length]=Qe("Properties",null,{xmlns:sa.EXT_PROPS,"xmlns:vt":sa.vt}),od.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=jr(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+jr(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function CT(e){var t=[$n,Qe("Properties",null,{xmlns:sa.CUST_PROPS,"xmlns:vt":sa.vt})];if(!e)return t.join("");var r=1;return Ca(e).forEach(function(a){++r,t[t.length]=Qe("property",_ne(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:jr(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var G_={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function oae(e,t){var r=[];return Ca(G_).map(function(n){for(var a=0;a<Kc.length;++a)if(Kc[a][1]==n)return Kc[a];for(a=0;a<od.length;++a)if(od[a][1]==n)return od[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];n[2]==="date"&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"Z")),typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Aa(G_[n[1]]||n[1],a))}}),Qe("DocumentProperties",r.join(""),{xmlns:Oi.o})}function lae(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Ca(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<Kc.length;++o)if(i==Kc[o][1])return;for(o=0;o<od.length;++o)if(i==od[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(Qe(I_(i),l,{"dt:dt":c}))}}),t&&Ca(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(Qe(I_(i),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Oi.o+'">'+a.join("")+"</"+n+">"}function cae(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var o=Ie(8);return o.write_shift(4,n),o.write_shift(4,a),o}function K_(e,t){var r=Ie(4),n=Ie(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Ie(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=cae(t);break;case 31:case 80:for(n=Ie(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return _a([r,n])}var PT=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function uae(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function Y_(e,t,r){var n=Ie(8),a=[],i=[],o=8,l=0,c=Ie(8),u=Ie(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),o+=8+c.length,!t){u=Ie(8),u.write_shift(4,0),a.unshift(u);var d=[Ie(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=Ie(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=_a(d),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(PT.indexOf(e[l][0])>-1||AT.indexOf(e[l][0])>-1)&&e[l][1]!=null){var m=e[l][1],h=0;if(t){h=+t[e[l][0]];var g=r[h];if(g.p=="version"&&typeof m=="string"){var p=m.split(".");m=(+p[0]<<16)+(+p[1]||0)}c=K_(g.t,m)}else{var v=uae(m);v==-1&&(v=31,m=String(m)),c=K_(v,m)}i.push(c),u=Ie(8),u.write_shift(4,t?h:2+l),a.push(u),o+=8+c.length}var b=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,b),b+=i[l].length;return n.write_shift(4,o),n.write_shift(4,i.length),_a([n].concat(a).concat(i))}function X_(e,t,r,n,a,i){var o=Ie(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Pr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=Y_(e,r,n);if(l.push(c),a){var u=Y_(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(u)}return _a(l)}function dae(e,t){t||(t=Ie(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function fae(e,t){return e.read_shift(t)===1}function Ya(e,t){return t||(t=Ie(2)),t.write_shift(2,+!!e),t}function ET(e){return e.read_shift(2,"u")}function ts(e,t){return t||(t=Ie(2)),t.write_shift(2,e),t}function kT(e,t,r){return r||(r=Ie(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function TT(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function hae(e){var t=e.t||"",r=Ie(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Ie(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return _a(a)}function mae(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function pae(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):mae(e,n,r)}function xae(e,t,r){if(r.biff>5)return pae(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function OT(e,t,r){return r||(r=Ie(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function Z_(e,t){t||(t=Ie(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function gae(e){var t=Ie(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),Z_(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&Z_(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function su(e,t,r,n){return n||(n=Ie(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function vae(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function bae(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function DT(e,t){return t||(t=Ie(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Py(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Ie(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function yae(e,t){var r=!t||t.biff==8,n=Ie(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function wae(e,t){var r=!t||t.biff>=8?2:1,n=Ie(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Nae(e,t){var r=Ie(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=hae(e[a]);var i=_a([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function jae(){var e=Ie(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function _ae(e){var t=Ie(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Aae(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=Ie(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function Sae(e,t,r,n){var a=Ie(10);return su(e,t,n,a),a.write_shift(4,r),a}function Cae(e,t,r,n,a){var i=!a||a.biff==8,o=Ie(8+ +i+(1+i)*r.length);return su(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function Pae(e,t,r,n){var a=r&&r.biff==5;n||(n=Ie(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function Eae(e,t){var r=t.biff==8||!t.biff?4:2,n=Ie(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function J_(e,t,r,n){var a=r&&r.biff==5;n||(n=Ie(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function kae(e){var t=Ie(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function Tae(e,t,r,n,a,i){var o=Ie(8);return su(e,t,n,o),kT(r,i,o),o}function Oae(e,t,r,n){var a=Ie(14);return su(e,t,n,a),iu(r,a),a}function Dae(e,t,r){if(r.biff<8)return Iae(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(vae(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Iae(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=TT(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Mae(e){var t=Ie(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)DT(e[r],t);return t}function Fae(e){var t=Ie(24),r=la(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return _a([t,gae(e[1])])}function Lae(e){var t=e[1].Tooltip,r=Ie(10+2*(t.length+1));r.write_shift(2,2048);var n=la(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function Rae(e){return e||(e=Ie(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Bae(e,t,r){if(!r.cellStyles)return co(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function qae(e,t){var r=Ie(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function zae(e){for(var t=Ie(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function $ae(e,t,r){var n=Ie(15);return t0(n,e,t),n.write_shift(8,r,"f"),n}function Uae(e,t,r){var n=Ie(9);return t0(n,e,t),n.write_shift(2,r),n}var Wae=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=gy({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=au(1);switch(c.type){case"base64":d=Ns(sl(l));break;case"binary":d=Ns(l);break;case"buffer":case"array":d=l;break}Ti(d,0);var f=d.read_shift(1),m=!!(f&136),h=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,m=!0;break;case 49:h=!0,m=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,v=521;f==2&&(p=d.read_shift(2)),d.l+=3,f!=2&&(p=d.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(v=d.read_shift(2));var b=d.read_shift(2),j=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(j=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var A=[],_={},k=Math.min(d.length,f==2?521:v-10-(h?264:0)),I=g?32:11;d.l<k&&d[d.l]!=13;)switch(_={},_.name=gp.utils.decode(j,d.slice(d.l,d.l+I)).replace(/[\u0000\r\n].*$/g,""),d.l+=I,_.type=String.fromCharCode(d.read_shift(1)),f!=2&&!g&&(_.offset=d.read_shift(4)),_.len=d.read_shift(1),f==2&&(_.offset=d.read_shift(2)),_.dec=d.read_shift(1),_.name.length&&A.push(_),f!=2&&(d.l+=g?13:14),_.type){case"B":(!h||_.len!=8)&&c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var T=0,M=0;for(u[0]=[],M=0;M!=A.length;++M)u[0][M]=A[M].name;for(;p-- >0;){if(d[d.l]===42){d.l+=b;continue}for(++d.l,u[++T]=[],M=0,M=0;M!=A.length;++M){var O=d.slice(d.l,d.l+A[M].len);d.l+=A[M].len,Ti(O,0);var U=gp.utils.decode(j,O);switch(A[M].type){case"C":U.trim().length&&(u[T][M]=U.replace(/\s+$/,""));break;case"D":U.length===8?u[T][M]=new Date(+U.slice(0,4),+U.slice(4,6)-1,+U.slice(6,8)):u[T][M]=U;break;case"F":u[T][M]=parseFloat(U.trim());break;case"+":case"I":u[T][M]=g?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(U.trim().toUpperCase()){case"Y":case"T":u[T][M]=!0;break;case"N":case"F":u[T][M]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+U+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[T][M]="##MEMO##"+(g?parseInt(U.trim(),10):O.read_shift(4));break;case"N":U=U.replace(/\u0000/g,"").trim(),U&&U!="."&&(u[T][M]=+U||0);break;case"@":u[T][M]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":u[T][M]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":u[T][M]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[T][M]=-O.read_shift(-8,"f");break;case"B":if(h&&A[M].len==8){u[T][M]=O.read_shift(8,"f");break}case"G":case"P":O.l+=A[M].len;break;case"0":if(A[M].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+A[M].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=A,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Ud(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return bu(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&fh(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=fi(),f=kp(l,{header:1,raw:!0,cellDates:!0}),m=f[0],h=f.slice(1),g=l["!cols"]||[],p=0,v=0,b=0,j=1;for(p=0;p<m.length;++p){if(((g[p]||{}).DBF||{}).name){m[p]=g[p].DBF.name,++b;continue}if(m[p]!=null){if(++b,typeof m[p]=="number"&&(m[p]=m[p].toString(10)),typeof m[p]!="string")throw new Error("DBF Invalid column name "+m[p]+" |"+typeof m[p]+"|");if(m.indexOf(m[p])!==p){for(v=0;v<1024;++v)if(m.indexOf(m[p]+"_"+v)==-1){m[p]+="_"+v;break}}}}var A=Gr(l["!ref"]),_=[],k=[],I=[];for(p=0;p<=A.e.c-A.s.c;++p){var T="",M="",O=0,U=[];for(v=0;v<h.length;++v)h[v][p]!=null&&U.push(h[v][p]);if(U.length==0||m[p]==null){_[p]="?";continue}for(v=0;v<U.length;++v){switch(typeof U[v]){case"number":M="B";break;case"string":M="C";break;case"boolean":M="L";break;case"object":M=U[v]instanceof Date?"D":"C";break;default:M="C"}O=Math.max(O,String(U[v]).length),T=T&&T!=M?"C":M}O>250&&(O=250),M=((g[p]||{}).DBF||{}).type,M=="C"&&g[p].DBF.len>O&&(O=g[p].DBF.len),T=="B"&&M=="N"&&(T="N",I[p]=g[p].DBF.dec,O=g[p].DBF.len),k[p]=T=="C"||M=="N"?O:i[T]||0,j+=k[p],_[p]=T}var P=d.next(32);for(P.write_shift(4,318902576),P.write_shift(4,h.length),P.write_shift(2,296+32*b),P.write_shift(2,j),p=0;p<4;++p)P.write_shift(4,0);for(P.write_shift(4,0|(+t[Mk]||3)<<8),p=0,v=0;p<m.length;++p)if(m[p]!=null){var C=d.next(32),F=(m[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);C.write_shift(1,F,"sbcs"),C.write_shift(1,_[p]=="?"?"C":_[p],"sbcs"),C.write_shift(4,v),C.write_shift(1,k[p]||i[_[p]]||0),C.write_shift(1,I[p]||0),C.write_shift(1,2),C.write_shift(4,0),C.write_shift(1,0),C.write_shift(4,0),C.write_shift(4,0),v+=k[p]||i[_[p]]||0}var V=d.next(264);for(V.write_shift(4,13),p=0;p<65;++p)V.write_shift(4,0);for(p=0;p<h.length;++p){var te=d.next(j);for(te.write_shift(1,0),v=0;v<m.length;++v)if(m[v]!=null)switch(_[v]){case"L":te.write_shift(1,h[p][v]==null?63:h[p][v]?84:70);break;case"B":te.write_shift(8,h[p][v]||0,"f");break;case"N":var de="0";for(typeof h[p][v]=="number"&&(de=h[p][v].toFixed(I[v]||0)),b=0;b<k[v]-de.length;++b)te.write_shift(1,32);te.write_shift(1,de,"sbcs");break;case"D":h[p][v]?(te.write_shift(4,("0000"+h[p][v].getFullYear()).slice(-4),"sbcs"),te.write_shift(2,("00"+(h[p][v].getMonth()+1)).slice(-2),"sbcs"),te.write_shift(2,("00"+h[p][v].getDate()).slice(-2),"sbcs")):te.write_shift(8,"00000000","sbcs");break;case"C":var me=String(h[p][v]!=null?h[p][v]:"").slice(0,k[v]);for(te.write_shift(1,me,"sbcs"),b=0;b<k[v]-me.length;++b)te.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}})(),Hae=(function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ca(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,h){var g=e[h];return typeof g=="number"?N_(g):g},n=function(m,h,g){var p=h.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return p==59?m:N_(p)};e["|"]=254;function a(m,h){switch(h.type){case"base64":return i(sl(m),h);case"binary":return i(m,h);case"buffer":return i(mr&&Buffer.isBuffer(m)?m.toString("binary"):Xh(m),h);case"array":return i(M1(m),h)}throw new Error("Unrecognized type "+h.type)}function i(m,h){var g=m.split(/[\n\r]+/),p=-1,v=-1,b=0,j=0,A=[],_=[],k=null,I={},T=[],M=[],O=[],U=0,P;for(+h.codepage>=0&&fh(+h.codepage);b!==g.length;++b){U=0;var C=g[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),F=C.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),V=F[0],te;if(C.length>0)switch(V){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":F[1].charAt(0)=="P"&&_.push(C.slice(3).replace(/;;/g,";"));break;case"C":var de=!1,me=!1,ue=!1,he=!1,Ne=-1,Ee=-1;for(j=1;j<F.length;++j)switch(F[j].charAt(0)){case"A":break;case"X":v=parseInt(F[j].slice(1))-1,me=!0;break;case"Y":for(p=parseInt(F[j].slice(1))-1,me||(v=0),P=A.length;P<=p;++P)A[P]=[];break;case"K":te=F[j].slice(1),te.charAt(0)==='"'?te=te.slice(1,te.length-1):te==="TRUE"?te=!0:te==="FALSE"?te=!1:isNaN(Ko(te))?isNaN(mh(te).getDate())||(te=ti(te)):(te=Ko(te),k!==null&&Gk(k)&&(te=Zk(te))),de=!0;break;case"E":he=!0;var E=Uie(F[j].slice(1),{r:p,c:v});A[p][v]=[A[p][v],E];break;case"S":ue=!0,A[p][v]=[A[p][v],"S5S"];break;case"G":break;case"R":Ne=parseInt(F[j].slice(1))-1;break;case"C":Ee=parseInt(F[j].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+C)}if(de&&(A[p][v]&&A[p][v].length==2?A[p][v][0]=te:A[p][v]=te,k=null),ue){if(he)throw new Error("SYLK shared formula cannot have own formula");var R=Ne>-1&&A[Ne][Ee];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");A[p][v][1]=Wie(R[1],{r:p-Ne,c:v-Ee})}break;case"F":var L=0;for(j=1;j<F.length;++j)switch(F[j].charAt(0)){case"X":v=parseInt(F[j].slice(1))-1,++L;break;case"Y":for(p=parseInt(F[j].slice(1))-1,P=A.length;P<=p;++P)A[P]=[];break;case"M":U=parseInt(F[j].slice(1))/20;break;case"F":break;case"G":break;case"P":k=_[parseInt(F[j].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=F[j].slice(1).split(" "),P=parseInt(O[0],10);P<=parseInt(O[1],10);++P)U=parseInt(O[2],10),M[P-1]=U===0?{hidden:!0}:{wch:U},Ey(M[P-1]);break;case"C":v=parseInt(F[j].slice(1))-1,M[v]||(M[v]={});break;case"R":p=parseInt(F[j].slice(1))-1,T[p]||(T[p]={}),U>0?(T[p].hpt=U,T[p].hpx=RT(U)):U===0&&(T[p].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+C)}L<1&&(k=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+C)}}return T.length>0&&(I["!rows"]=T),M.length>0&&(I["!cols"]=M),h&&h.sheetRows&&(A=A.slice(0,h.sheetRows)),[A,I]}function o(m,h){var g=a(m,h),p=g[0],v=g[1],b=Ud(p,h);return Ca(v).forEach(function(j){b[j]=v[j]}),b}function l(m,h){return bu(o(m,h),h)}function c(m,h,g,p){var v="C;Y"+(g+1)+";X"+(p+1)+";K";switch(m.t){case"n":v+=m.v||0,m.f&&!m.F&&(v+=";E"+Ty(m.f,{r:g,c:p}));break;case"b":v+=m.v?"TRUE":"FALSE";break;case"e":v+=m.w||m.v;break;case"d":v+='"'+(m.w||m.v)+'"';break;case"s":v+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(m,h){h.forEach(function(g,p){var v="F;W"+(p+1)+" "+(p+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Sp(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Cp(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&m.push(v)})}function d(m,h){h.forEach(function(g,p){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*Pp(g.hpx)+";"),v.length>2&&m.push(v+"R"+(p+1))})}function f(m,h){var g=["ID;PWXL;N;E"],p=[],v=Gr(m["!ref"]),b,j=Array.isArray(m),A=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),m["!cols"]&&u(g,m["!cols"]),m["!rows"]&&d(g,m["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var _=v.s.r;_<=v.e.r;++_)for(var k=v.s.c;k<=v.e.c;++k){var I=_r({r:_,c:k});b=j?(m[_]||[])[k]:m[I],!(!b||b.v==null&&(!b.f||b.F))&&p.push(c(b,m,_,k))}return g.join(A)+A+p.join(A)+A+"E"+A}return{to_workbook:l,to_sheet:o,from_sheet:f}})(),Vae=(function(){function e(i,o){switch(o.type){case"base64":return t(sl(i),o);case"binary":return t(i,o);case"buffer":return t(mr&&Buffer.isBuffer(i)?i.toString("binary"):Xh(i),o);case"array":return t(M1(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var m=l[d].trim().split(","),h=m[0],g=m[1];++d;for(var p=l[d]||"";(p.match(/["]/g)||[]).length&1&&d<l.length-1;)p+=`
`+l[++d];switch(p=p.trim(),+h){case-1:if(p==="BOT"){f[++c]=[],u=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[c][u]=!0:p==="FALSE"?f[c][u]=!1:isNaN(Ko(g))?isNaN(mh(g).getDate())?f[c][u]=g:f[c][u]=ti(g):f[c][u]=Ko(g),++u;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[c][u++]=p!==""?p:null;break}if(p==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return Ud(e(i,o),o)}function n(i,o){return bu(r(i,o),o)}var a=(function(){var i=function(c,u,d,f,m){c.push(u),c.push(d+","+f),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Gr(c["!ref"]),f,m=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var h=d.s.r;h<=d.e.r;++h){o(u,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var p=_r({r:h,c:g});if(f=m?(c[h]||[])[g]:c[p],!f){o(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,v,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=sc(f.z||xn[14],mi(ti(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var b=`\r
`,j=u.join(b);return j}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),IT=(function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,m){for(var h=f.split(`
`),g=-1,p=-1,v=0,b=[];v!==h.length;++v){var j=h[v].trim().split(":");if(j[0]==="cell"){var A=la(j[1]);if(b.length<=A.r)for(g=b.length;g<=A.r;++g)b[g]||(b[g]=[]);switch(g=A.r,p=A.c,j[2]){case"t":b[g][p]=e(j[3]);break;case"v":b[g][p]=+j[3];break;case"vtf":var _=j[j.length-1];case"vtc":j[3]==="nl"?b[g][p]=!!+j[4]:b[g][p]=+j[4],j[2]=="vtf"&&(b[g][p]=[b[g][p],_])}}}return m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),b}function n(f,m){return Ud(r(f,m),m)}function a(f,m){return bu(n(f,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var m=[],h=[],g,p="",v=$i(f["!ref"]),b=Array.isArray(f),j=v.s.r;j<=v.e.r;++j)for(var A=v.s.c;A<=v.e.c;++A)if(p=_r({r:j,c:A}),g=b?(f[j]||[])[A]:f[p],!(!g||g.v==null||g.t==="z")){switch(h=["cell",p,"t"],g.t){case"s":case"str":h.push(t(g.v));break;case"n":g.f?(h[2]="vtf",h[3]="n",h[4]=g.v,h[5]=t(g.f)):(h[2]="v",h[3]=g.v);break;case"b":h[2]="vt"+(g.f?"f":"c"),h[3]="nl",h[4]=g.v?"1":"0",h[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var _=mi(ti(g.v));h[2]="vtc",h[3]="nd",h[4]=""+_,h[5]=g.w||sc(g.z||xn[14],_);break;case"e":continue}m.push(h.join(":"))}return m.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function d(f){return[i,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}})(),Gae=(function(){function e(d,f,m,h,g){g.raw?f[m][h]=d:d===""||(d==="TRUE"?f[m][h]=!0:d==="FALSE"?f[m][h]=!1:isNaN(Ko(d))?isNaN(mh(d).getDate())?f[m][h]=d:f[m][h]=ti(d):f[m][h]=Ko(d))}function t(d,f){var m=f||{},h=[];if(!d||d.length===0)return h;for(var g=d.split(/[\r\n]/),p=g.length-1;p>=0&&g[p].length===0;)--p;for(var v=10,b=0,j=0;j<=p;++j)b=g[j].indexOf(" "),b==-1?b=g[j].length:b++,v=Math.max(v,b);for(j=0;j<=p;++j){h[j]=[];var A=0;for(e(g[j].slice(0,v).trim(),h,j,A,m),A=1;A<=(g[j].length-v)/10+1;++A)e(g[j].slice(v+(A-1)*10,v+A*10).trim(),h,j,A,m)}return m.sheetRows&&(h=h.slice(0,m.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},m=!1,h=0,g=0;h<d.length;++h)(g=d.charCodeAt(h))==34?m=!m:!m&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&g.push([f[h],h]);if(!g.length){f=n;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&g.push([f[h],h])}return g.sort(function(p,v){return p[0]-v[0]||n[p[1]]-n[v[1]]}),r[g.pop()[1]]||44}function i(d,f){var m=f||{},h="",g=m.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(h=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(h=d.charAt(4),d=d.slice(6)):h=a(d.slice(0,1024)):m&&m.FS?h=m.FS:h=a(d.slice(0,1024));var v=0,b=0,j=0,A=0,_=0,k=h.charCodeAt(0),I=!1,T=0,M=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var O=m.dateNF!=null?cne(m.dateNF):null;function U(){var P=d.slice(A,_),C={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)C.t="z";else if(m.raw)C.t="s",C.v=P;else if(P.trim().length===0)C.t="s",C.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(C.t="s",C.v=P.slice(2,-1).replace(/""/g,'"')):Hie(P)?(C.t="n",C.f=P.slice(1)):(C.t="s",C.v=P);else if(P=="TRUE")C.t="b",C.v=!0;else if(P=="FALSE")C.t="b",C.v=!1;else if(!isNaN(j=Ko(P)))C.t="n",m.cellText!==!1&&(C.w=P),C.v=j;else if(!isNaN(mh(P).getDate())||O&&P.match(O)){C.z=m.dateNF||xn[14];var F=0;O&&P.match(O)&&(P=une(P,m.dateNF,P.match(O)||[]),F=1),m.cellDates?(C.t="d",C.v=ti(P,F)):(C.t="n",C.v=mi(ti(P,F))),m.cellText!==!1&&(C.w=sc(C.z,C.v instanceof Date?mi(C.v):C.v)),m.cellNF||delete C.z}else C.t="s",C.v=P;if(C.t=="z"||(m.dense?(g[v]||(g[v]=[]),g[v][b]=C):g[_r({c:b,r:v})]=C),A=_+1,M=d.charCodeAt(A),p.e.c<b&&(p.e.c=b),p.e.r<v&&(p.e.r=v),T==k)++b;else if(b=0,++v,m.sheetRows&&m.sheetRows<=v)return!0}e:for(;_<d.length;++_)switch(T=d.charCodeAt(_)){case 34:M===34&&(I=!I);break;case k:case 10:case 13:if(!I&&U())break e;break}return _-A>0&&U(),g["!ref"]=Bn(p),g}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):Ud(t(d,f),f)}function l(d,f){var m="",h=f.type=="string"?[0,0,0,0]:iue(d,f);switch(f.type){case"base64":m=sl(d);break;case"binary":m=d;break;case"buffer":f.codepage==65001?m=d.toString("utf8"):f.codepage&&typeof gp<"u"||(m=mr&&Buffer.isBuffer(d)?d.toString("binary"):Xh(d));break;case"array":m=M1(d);break;case"string":m=d;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?m=Wf(m.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?m=Wf(m):f.type=="binary"&&typeof gp<"u",m.slice(0,19)=="socialcalc:version:"?IT.to_sheet(f.type=="string"?m:Wf(m),f):o(m,f)}function c(d,f){return bu(l(d,f),f)}function u(d){for(var f=[],m=Gr(d["!ref"]),h,g=Array.isArray(d),p=m.s.r;p<=m.e.r;++p){for(var v=[],b=m.s.c;b<=m.e.c;++b){var j=_r({r:p,c:b});if(h=g?(d[p]||[])[b]:d[j],!h||h.v==null){v.push("          ");continue}for(var A=(h.w||(ol(h),h.w)||"").slice(0,10);A.length<10;)A+=" ";v.push(A+(b===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}})(),Q_=(function(){function e(E,R,L){if(E){Ti(E,E.l||0);for(var z=L.Enum||Ne;E.l<E.length;){var J=E.read_shift(2),le=z[J]||z[65535],xe=E.read_shift(2),Q=E.l+xe,ce=le.f&&le.f(E,xe,L);if(E.l=Q,R(ce,le,J))return}}}function t(E,R){switch(R.type){case"base64":return r(Ns(sl(E)),R);case"binary":return r(Ns(E),R);case"buffer":case"array":return r(E,R)}throw"Unsupported type "+R.type}function r(E,R){if(!E)return E;var L=R||{},z=L.dense?[]:{},J="Sheet1",le="",xe=0,Q={},ce=[],je=[],pe={s:{r:0,c:0},e:{r:0,c:0}},ze=L.sheetRows||0;if(E[2]==0&&(E[3]==8||E[3]==9)&&E.length>=16&&E[14]==5&&E[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(E[2]==2)L.Enum=Ne,e(E,function(Oe,et,Re){switch(Re){case 0:L.vers=Oe,Oe>=4096&&(L.qpro=!0);break;case 6:pe=Oe;break;case 204:Oe&&(le=Oe);break;case 222:le=Oe;break;case 15:case 51:L.qpro||(Oe[1].v=Oe[1].v.slice(1));case 13:case 14:case 16:Re==14&&(Oe[2]&112)==112&&(Oe[2]&15)>1&&(Oe[2]&15)<15&&(Oe[1].z=L.dateNF||xn[14],L.cellDates&&(Oe[1].t="d",Oe[1].v=Zk(Oe[1].v))),L.qpro&&Oe[3]>xe&&(z["!ref"]=Bn(pe),Q[J]=z,ce.push(J),z=L.dense?[]:{},pe={s:{r:0,c:0},e:{r:0,c:0}},xe=Oe[3],J=le||"Sheet"+(xe+1),le="");var Nt=L.dense?(z[Oe[0].r]||[])[Oe[0].c]:z[_r(Oe[0])];if(Nt){Nt.t=Oe[1].t,Nt.v=Oe[1].v,Oe[1].z!=null&&(Nt.z=Oe[1].z),Oe[1].f!=null&&(Nt.f=Oe[1].f);break}L.dense?(z[Oe[0].r]||(z[Oe[0].r]=[]),z[Oe[0].r][Oe[0].c]=Oe[1]):z[_r(Oe[0])]=Oe[1];break}},L);else if(E[2]==26||E[2]==14)L.Enum=Ee,E[2]==14&&(L.qpro=!0,E.l=0),e(E,function(Oe,et,Re){switch(Re){case 204:J=Oe;break;case 22:Oe[1].v=Oe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Oe[3]>xe&&(z["!ref"]=Bn(pe),Q[J]=z,ce.push(J),z=L.dense?[]:{},pe={s:{r:0,c:0},e:{r:0,c:0}},xe=Oe[3],J="Sheet"+(xe+1)),ze>0&&Oe[0].r>=ze)break;L.dense?(z[Oe[0].r]||(z[Oe[0].r]=[]),z[Oe[0].r][Oe[0].c]=Oe[1]):z[_r(Oe[0])]=Oe[1],pe.e.c<Oe[0].c&&(pe.e.c=Oe[0].c),pe.e.r<Oe[0].r&&(pe.e.r=Oe[0].r);break;case 27:Oe[14e3]&&(je[Oe[14e3][0]]=Oe[14e3][1]);break;case 1537:je[Oe[0]]=Oe[1],Oe[0]==xe&&(J=Oe[1]);break}},L);else throw new Error("Unrecognized LOTUS BOF "+E[2]);if(z["!ref"]=Bn(pe),Q[le||J]=z,ce.push(le||J),!je.length)return{SheetNames:ce,Sheets:Q};for(var Te={},Y=[],qe=0;qe<je.length;++qe)Q[ce[qe]]?(Y.push(je[qe]||ce[qe]),Te[je[qe]]=Q[je[qe]]||Q[ce[qe]]):(Y.push(je[qe]),Te[je[qe]]={"!ref":"A1"});return{SheetNames:Y,Sheets:Te}}function n(E,R){var L=R||{};if(+L.codepage>=0&&fh(+L.codepage),L.type=="string")throw new Error("Cannot write WK1 to JS string");var z=fi(),J=Gr(E["!ref"]),le=Array.isArray(E),xe=[];tt(z,0,i(1030)),tt(z,6,c(J));for(var Q=Math.min(J.e.r,8191),ce=J.s.r;ce<=Q;++ce)for(var je=Sa(ce),pe=J.s.c;pe<=J.e.c;++pe){ce===J.s.r&&(xe[pe]=za(pe));var ze=xe[pe]+je,Te=le?(E[ce]||[])[pe]:E[ze];if(!(!Te||Te.t=="z"))if(Te.t=="n")(Te.v|0)==Te.v&&Te.v>=-32768&&Te.v<=32767?tt(z,13,h(ce,pe,Te.v)):tt(z,14,p(ce,pe,Te.v));else{var Y=ol(Te);tt(z,15,f(ce,pe,Y.slice(0,239)))}}return tt(z,1),z.end()}function a(E,R){var L=R||{};if(+L.codepage>=0&&fh(+L.codepage),L.type=="string")throw new Error("Cannot write WK3 to JS string");var z=fi();tt(z,0,o(E));for(var J=0,le=0;J<E.SheetNames.length;++J)(E.Sheets[E.SheetNames[J]]||{})["!ref"]&&tt(z,27,he(E.SheetNames[J],le++));var xe=0;for(J=0;J<E.SheetNames.length;++J){var Q=E.Sheets[E.SheetNames[J]];if(!(!Q||!Q["!ref"])){for(var ce=Gr(Q["!ref"]),je=Array.isArray(Q),pe=[],ze=Math.min(ce.e.r,8191),Te=ce.s.r;Te<=ze;++Te)for(var Y=Sa(Te),qe=ce.s.c;qe<=ce.e.c;++qe){Te===ce.s.r&&(pe[qe]=za(qe));var Oe=pe[qe]+Y,et=je?(Q[Te]||[])[qe]:Q[Oe];if(!(!et||et.t=="z"))if(et.t=="n")tt(z,23,U(Te,qe,xe,et.v));else{var Re=ol(et);tt(z,22,T(Te,qe,xe,Re.slice(0,239)))}}++xe}}return tt(z,1),z.end()}function i(E){var R=Ie(2);return R.write_shift(2,E),R}function o(E){var R=Ie(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var L=0,z=0,J=0,le=0;le<E.SheetNames.length;++le){var xe=E.SheetNames[le],Q=E.Sheets[xe];if(!(!Q||!Q["!ref"])){++J;var ce=$i(Q["!ref"]);L<ce.e.r&&(L=ce.e.r),z<ce.e.c&&(z=ce.e.c)}}return L>8191&&(L=8191),R.write_shift(2,L),R.write_shift(1,J),R.write_shift(1,z),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function l(E,R,L){var z={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&L.qpro?(z.s.c=E.read_shift(1),E.l++,z.s.r=E.read_shift(2),z.e.c=E.read_shift(1),E.l++,z.e.r=E.read_shift(2),z):(z.s.c=E.read_shift(2),z.s.r=E.read_shift(2),R==12&&L.qpro&&(E.l+=2),z.e.c=E.read_shift(2),z.e.r=E.read_shift(2),R==12&&L.qpro&&(E.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function c(E){var R=Ie(8);return R.write_shift(2,E.s.c),R.write_shift(2,E.s.r),R.write_shift(2,E.e.c),R.write_shift(2,E.e.r),R}function u(E,R,L){var z=[{c:0,r:0},{t:"n",v:0},0,0];return L.qpro&&L.vers!=20768?(z[0].c=E.read_shift(1),z[3]=E.read_shift(1),z[0].r=E.read_shift(2),E.l+=2):(z[2]=E.read_shift(1),z[0].c=E.read_shift(2),z[0].r=E.read_shift(2)),z}function d(E,R,L){var z=E.l+R,J=u(E,R,L);if(J[1].t="s",L.vers==20768){E.l++;var le=E.read_shift(1);return J[1].v=E.read_shift(le,"utf8"),J}return L.qpro&&E.l++,J[1].v=E.read_shift(z-E.l,"cstr"),J}function f(E,R,L){var z=Ie(7+L.length);z.write_shift(1,255),z.write_shift(2,R),z.write_shift(2,E),z.write_shift(1,39);for(var J=0;J<z.length;++J){var le=L.charCodeAt(J);z.write_shift(1,le>=128?95:le)}return z.write_shift(1,0),z}function m(E,R,L){var z=u(E,R,L);return z[1].v=E.read_shift(2,"i"),z}function h(E,R,L){var z=Ie(7);return z.write_shift(1,255),z.write_shift(2,R),z.write_shift(2,E),z.write_shift(2,L,"i"),z}function g(E,R,L){var z=u(E,R,L);return z[1].v=E.read_shift(8,"f"),z}function p(E,R,L){var z=Ie(13);return z.write_shift(1,255),z.write_shift(2,R),z.write_shift(2,E),z.write_shift(8,L,"f"),z}function v(E,R,L){var z=E.l+R,J=u(E,R,L);if(J[1].v=E.read_shift(8,"f"),L.qpro)E.l=z;else{var le=E.read_shift(2);_(E.slice(E.l,E.l+le),J),E.l+=le}return J}function b(E,R,L){var z=R&32768;return R&=-32769,R=(z?E:0)+(R>=8192?R-16384:R),(z?"":"$")+(L?za(R):Sa(R))}var j={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},A=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(E,R){Ti(E,0);for(var L=[],z=0,J="",le="",xe="",Q="";E.l<E.length;){var ce=E[E.l++];switch(ce){case 0:L.push(E.read_shift(8,"f"));break;case 1:le=b(R[0].c,E.read_shift(2),!0),J=b(R[0].r,E.read_shift(2),!1),L.push(le+J);break;case 2:{var je=b(R[0].c,E.read_shift(2),!0),pe=b(R[0].r,E.read_shift(2),!1);le=b(R[0].c,E.read_shift(2),!0),J=b(R[0].r,E.read_shift(2),!1),L.push(je+pe+":"+le+J)}break;case 3:if(E.l<E.length){console.error("WK1 premature formula end");return}break;case 4:L.push("("+L.pop()+")");break;case 5:L.push(E.read_shift(2));break;case 6:{for(var ze="";ce=E[E.l++];)ze+=String.fromCharCode(ce);L.push('"'+ze.replace(/"/g,'""')+'"')}break;case 8:L.push("-"+L.pop());break;case 23:L.push("+"+L.pop());break;case 22:L.push("NOT("+L.pop()+")");break;case 20:case 21:Q=L.pop(),xe=L.pop(),L.push(["AND","OR"][ce-20]+"("+xe+","+Q+")");break;default:if(ce<32&&A[ce])Q=L.pop(),xe=L.pop(),L.push(xe+A[ce]+Q);else if(j[ce]){if(z=j[ce][1],z==69&&(z=E[E.l++]),z>L.length){console.error("WK1 bad formula parse 0x"+ce.toString(16)+":|"+L.join("|")+"|");return}var Te=L.slice(-z);L.length-=z,L.push(j[ce][0]+"("+Te.join(",")+")")}else return ce<=7?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=24?console.error("WK1 unsupported op "+ce.toString(16)):ce<=30?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=115?console.error("WK1 unsupported function opcode "+ce.toString(16)):console.error("WK1 unrecognized opcode "+ce.toString(16))}}L.length==1?R[1].f=""+L[0]:console.error("WK1 bad formula parse |"+L.join("|")+"|")}function k(E){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=E.read_shift(2),R[3]=E[E.l++],R[0].c=E[E.l++],R}function I(E,R){var L=k(E);return L[1].t="s",L[1].v=E.read_shift(R-4,"cstr"),L}function T(E,R,L,z){var J=Ie(6+z.length);J.write_shift(2,E),J.write_shift(1,L),J.write_shift(1,R),J.write_shift(1,39);for(var le=0;le<z.length;++le){var xe=z.charCodeAt(le);J.write_shift(1,xe>=128?95:xe)}return J.write_shift(1,0),J}function M(E,R){var L=k(E);L[1].v=E.read_shift(2);var z=L[1].v>>1;if(L[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return L[1].v=z,L}function O(E,R){var L=k(E),z=E.read_shift(4),J=E.read_shift(4),le=E.read_shift(2);if(le==65535)return z===0&&J===3221225472?(L[1].t="e",L[1].v=15):z===0&&J===3489660928?(L[1].t="e",L[1].v=42):L[1].v=0,L;var xe=le&32768;return le=(le&32767)-16446,L[1].v=(1-xe*2)*(J*Math.pow(2,le+32)+z*Math.pow(2,le)),L}function U(E,R,L,z){var J=Ie(14);if(J.write_shift(2,E),J.write_shift(1,L),J.write_shift(1,R),z==0)return J.write_shift(4,0),J.write_shift(4,0),J.write_shift(2,65535),J;var le=0,xe=0,Q=0,ce=0;return z<0&&(le=1,z=-z),xe=Math.log2(z)|0,z/=Math.pow(2,xe-31),ce=z>>>0,(ce&2147483648)==0&&(z/=2,++xe,ce=z>>>0),z-=ce,ce|=2147483648,ce>>>=0,z*=Math.pow(2,32),Q=z>>>0,J.write_shift(4,Q),J.write_shift(4,ce),xe+=16383+(le?32768:0),J.write_shift(2,xe),J}function P(E,R){var L=O(E);return E.l+=R-14,L}function C(E,R){var L=k(E),z=E.read_shift(4);return L[1].v=z>>6,L}function F(E,R){var L=k(E),z=E.read_shift(8,"f");return L[1].v=z,L}function V(E,R){var L=F(E);return E.l+=R-10,L}function te(E,R){return E[E.l+R-1]==0?E.read_shift(R,"cstr"):""}function de(E,R){var L=E[E.l++];L>R-1&&(L=R-1);for(var z="";z.length<L;)z+=String.fromCharCode(E[E.l++]);return z}function me(E,R,L){if(!(!L.qpro||R<21)){var z=E.read_shift(1);E.l+=17,E.l+=1,E.l+=2;var J=E.read_shift(R-21,"cstr");return[z,J]}}function ue(E,R){for(var L={},z=E.l+R;E.l<z;){var J=E.read_shift(2);if(J==14e3){for(L[J]=[0,""],L[J][0]=E.read_shift(2);E[E.l];)L[J][1]+=String.fromCharCode(E[E.l]),E.l++;E.l++}}return L}function he(E,R){var L=Ie(5+E.length);L.write_shift(2,14e3),L.write_shift(2,R);for(var z=0;z<E.length;++z){var J=E.charCodeAt(z);L[L.l++]=J>127?95:J}return L[L.l++]=0,L}var Ne={0:{n:"BOF",f:ET},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:te},222:{n:"SHEETNAMELP",f:de},65535:{n:""}},Ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:I},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:M},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ue},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:C},38:{n:"??"},39:{n:"NUMBER27",f:F},40:{n:"FORMULA28",f:V},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:te},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:me},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}})(),Kae=/^\s|\s$|[\t\n\r]/;function MT(e,t){if(!t.bookSST)return"";var r=[$n];r[r.length]=Qe("sst",null,{xmlns:$d[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(Kae)&&(i+=' xml:space="preserve"'),i+=">"+jr(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Yae(e){return[e.read_shift(4),e.read_shift(4)]}function Xae(e,t){return t||(t=Ie(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Zae=zne;function Jae(e){var t=fi();$e(t,159,Xae(e));for(var r=0;r<e.length;++r)$e(t,19,Zae(e[r]));return $e(t,160),t.end()}function Qae(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function FT(e){var t=0,r,n=Qae(e),a=n.length+1,i,o,l,c,u;for(r=au(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=(t&16384)===0?0:1,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var eie=(function(){function e(a,i){switch(i.type){case"base64":return t(sl(a),i);case"binary":return t(a,i);case"buffer":return t(mr&&Buffer.isBuffer(a)?a.toString("binary"):Xh(a),i);case"array":return t(M1(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var m=/\\\w+\b/g,h=0,g,p=-1;g=m.exec(d);){switch(g[0]){case"\\cell":var v=d.slice(h,m.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++p,v.length){var b={v,t:"s"};Array.isArray(l)?l[f][p]=b:l[_r({r:f,c:p})]=b}break}h=m.lastIndex}p>u.e.c&&(u.e.c=p)}),l["!ref"]=Bn(u),l}function r(a,i){return bu(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=Gr(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=_r({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(ol(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function eA(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var tie=6,Yo=tie;function Sp(e){return Math.floor((e+Math.round(128/Yo)/256)*Yo)}function Cp(e){return Math.floor((e-5)/Yo*100+.5)/100}function M2(e){return Math.round((e*Yo+5)/Yo*256)/256}function Ey(e){e.width?(e.wpx=Sp(e.width),e.wch=Cp(e.wpx),e.MDW=Yo):e.wpx?(e.wch=Cp(e.wpx),e.width=M2(e.wch),e.MDW=Yo):typeof e.wch=="number"&&(e.width=M2(e.wch),e.wpx=Sp(e.width),e.MDW=Yo),e.customWidth&&delete e.customWidth}var rie=96,LT=rie;function Pp(e){return e*96/LT}function RT(e){return e*LT/96}function nie(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Qe("numFmt",null,{numFmtId:n,formatCode:jr(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Qe("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function aie(e){var t=[];return t[t.length]=Qe("cellXfs",null),e.forEach(function(r){t[t.length]=Qe("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Qe("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function BT(e,t){var r=[$n,Qe("styleSheet",null,{xmlns:$d[0],"xmlns:vt":sa.vt})],n;return e.SSF&&(n=nie(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=aie(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function iie(e,t){var r=e.read_shift(2),n=$a(e);return[r,n]}function sie(e,t,r){r||(r=Ie(6+4*t.length)),r.write_shift(2,e),ca(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function oie(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Kne(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=Gne(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=$a(e),n}function lie(e,t){t||(t=Ie(153)),t.write_shift(2,e.sz*20),Yne(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),_p(e.color,t);var n=0;return n=2,t.write_shift(1,n),ca(e.name,t),t.length>t.l?t.slice(0,t.l):t}var cie=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],rv,uie=co;function tA(e,t){t||(t=Ie(84)),rv||(rv=gy(cie));var r=rv[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(_p({auto:1},t),_p({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function die(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function qT(e,t,r){r||(r=Ie(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Tf(e,t){return t||(t=Ie(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var fie=co;function hie(e,t){return t||(t=Ie(51)),t.write_shift(1,0),Tf(null,t),Tf(null,t),Tf(null,t),Tf(null,t),Tf(null,t),t.length>t.l?t.slice(0,t.l):t}function mie(e,t){return t||(t=Ie(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),jp(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function pie(e,t,r){var n=Ie(2052);return n.write_shift(4,e),jp(t,n),jp(r,n),n.length>n.l?n.slice(0,n.l):n}function xie(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&($e(e,615,Ss(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&$e(e,44,sie(a,t[a]))}),$e(e,616))}}function gie(e){var t=1;$e(e,611,Ss(t)),$e(e,43,lie({sz:12,color:{theme:1},name:"Calibri",family:2})),$e(e,612)}function vie(e){var t=2;$e(e,603,Ss(t)),$e(e,45,tA({patternType:"none"})),$e(e,45,tA({patternType:"gray125"})),$e(e,604)}function bie(e){var t=1;$e(e,613,Ss(t)),$e(e,46,hie()),$e(e,614)}function yie(e){var t=1;$e(e,626,Ss(t)),$e(e,47,qT({numFmtId:0},65535)),$e(e,627)}function wie(e,t){$e(e,617,Ss(t.length)),t.forEach(function(r){$e(e,47,qT(r,0))}),$e(e,618)}function Nie(e){var t=1;$e(e,619,Ss(t)),$e(e,48,mie({xfId:0,name:"Normal"})),$e(e,620)}function jie(e){var t=0;$e(e,505,Ss(t)),$e(e,506)}function _ie(e){var t=0;$e(e,508,pie(t,"TableStyleMedium9","PivotStyleMedium4")),$e(e,509)}function Aie(e,t){var r=fi();return $e(r,278),xie(r,e.SSF),gie(r),vie(r),bie(r),yie(r),wie(r,t.cellXfs),Nie(r),jie(r),_ie(r),$e(r,279),r.end()}function zT(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[$n];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Sie(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:$a(e)}}function Cie(e){var t=Ie(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),ca(e.name,t),t.slice(0,t.l)}function Pie(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Eie(e){var t=Ie(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function kie(e,t){var r=Ie(8+2*t.length);return r.write_shift(4,e),ca(t,r),r.slice(0,r.l)}function Tie(e){return e.l+=4,e.read_shift(4)!=0}function Oie(e,t){var r=Ie(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Die(){var e=fi();return $e(e,332),$e(e,334,Ss(1)),$e(e,335,Cie({name:"XLDAPR",version:12e4,flags:3496657072})),$e(e,336),$e(e,339,kie(1,"XLDAPR")),$e(e,52),$e(e,35,Ss(514)),$e(e,4096,Ss(0)),$e(e,4097,ts(1)),$e(e,36),$e(e,53),$e(e,340),$e(e,337,Oie(1)),$e(e,51,Eie([[1,0]])),$e(e,338),$e(e,333),e.end()}function $T(){var e=[$n];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Iie(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=_r(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var td=1024;function UT(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Qe("xml",null,{"xmlns:v":Oi.v,"xmlns:o":Oi.o,"xmlns:x":Oi.x,"xmlns:mv":Oi.mv}).replace(/\/>/,">"),Qe("o:shapelayout",Qe("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Qe("v:shapetype",[Qe("v:stroke",null,{joinstyle:"miter"}),Qe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];td<e*1e3;)td+=1e3;return t.forEach(function(i){var o=la(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Qe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Qe("v:fill",c,l),d={on:"t",obscured:"t"};++td,a=a.concat(["<v:shape"+xh({id:"_x0000_s"+td,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Qe("v:shadow",null,d),Qe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Aa("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Aa("x:AutoFill","False"),Aa("x:Row",String(o.r)),Aa("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function WT(e){var t=[$n,Qe("comments",null,{xmlns:$d[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=jr(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(jr(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Aa("t",jr(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(Aa("t",jr(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Mie(e,t,r){var n=[$n,Qe("ThreadedComments",null,{xmlns:sa.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(Qe("threadedComment",Aa("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function Fie(e){var t=[$n,Qe("personList",null,{xmlns:sa.TCMNT,"xmlns:x":$d[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Qe("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Lie(e){var t={};t.iauthor=e.read_shift(4);var r=ju(e);return t.rfx=r.s,t.ref=_r(r.s),e.l+=16,t}function Rie(e,t){return t==null&&(t=Ie(36)),t.write_shift(4,e[1].iauthor),Wd(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Bie=$a;function qie(e){return ca(e.slice(0,54))}function zie(e){var t=fi(),r=[];return $e(t,628),$e(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),$e(t,632,qie(a.a)))})}),$e(t,631),$e(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:la(n[0]),e:la(n[0])};$e(t,635,Rie([i,a])),a.t&&a.t.length>0&&$e(t,637,Une(a)),$e(t,636),delete a.iauthor})}),$e(t,634),$e(t,629),t.end()}function $ie(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Pr.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var HT=["xlsb","xlsm","xlam","biff8","xla"],Uie=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+za(d)+(c?"":"$")+Sa(u)}return function(a,i){return t=i,a.replace(e,r)}})(),ky=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Ty=(function(){return function(t,r){return t.replace(ky,function(n,a,i,o,l,c){var u=_y(o)-(i?0:r.c),d=jy(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",m=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+m})}})();function Wie(e,t){return e.replace(ky,function(r,n,a,i,o,l){return n+(a=="$"?a+i:za(_y(i)+t.c))+(o=="$"?o+l:Sa(jy(l)+t.r))})}function Hie(e){return e.length!=1}function Dn(e){e.l+=1}function oc(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function VT(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return GT(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=oc(e),l=oc(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function GT(e){var t=oc(e),r=oc(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Vie(e,t,r){if(r.biff<8)return GT(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=oc(e),o=oc(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function KT(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Gie(e);var n=e.read_shift(r&&r.biff==12?4:2),a=oc(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function Gie(e){var t=oc(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Kie(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Yie(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Xie(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function Xie(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function Zie(e,t,r){var n=(e[e.l++]&96)>>5,a=VT(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Jie(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=VT(e,i,r);return[n,a,o]}function Qie(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function ese(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function tse(e,t,r){var n=(e[e.l++]&96)>>5,a=Vie(e,t-1,r);return[n,a]}function rse(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function rA(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function nse(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function ase(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function ise(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function sse(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function ose(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function YT(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function lse(e){return e.read_shift(2),YT(e)}function cse(e){return e.read_shift(2),YT(e)}function use(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=KT(e,0,r);return[n,a]}function dse(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Yie(e,0,r);return[n,a]}function fse(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=KT(e,0,r);return[n,a,i]}function hse(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[hoe[a],JT[a],n]}function mse(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:pse(e);return[a,(i[0]===0?JT:foe)[i[1]]]}function pse(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function xse(e,t,r){e.l+=r&&r.biff==2?3:4}function gse(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function vse(e){return e.l++,Qh[e.read_shift(1)]}function bse(e){return e.l++,e.read_shift(2)}function yse(e){return e.l++,e.read_shift(1)!==0}function wse(e){return e.l++,Hd(e)}function Nse(e,t,r){return e.l++,TT(e,t-1,r)}function jse(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=fae(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Qh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Hd(e);break;case 2:r[1]=xae(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function _se(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?ju:bae)(e));return a}function Ase(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=jse(e,r.biff);return o}function Sse(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Cse(e,t,r){if(r.biff==5)return Pse(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function Pse(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Ese(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function kse(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Tse(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Ose(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var Dse=co,Ise=co,Mse=co;function e0(e,t,r){return e.l+=2,[Kie(e)]}function Oy(e){return e.l+=6,[]}var Fse=e0,Lse=Oy,Rse=Oy,Bse=e0;function XT(e){return e.l+=2,[ET(e),e.read_shift(2)&1]}var qse=e0,zse=XT,$se=Oy,Use=e0,Wse=e0,Hse=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Vse(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=Hse[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function Gse(e){return e.l+=2,[e.read_shift(4)]}function Kse(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Yse(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Xse(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Zse(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Jse(e){return e.l+=4,[0,0]}var nA={1:{n:"PtgExp",f:gse},2:{n:"PtgTbl",f:Mse},3:{n:"PtgAdd",f:Dn},4:{n:"PtgSub",f:Dn},5:{n:"PtgMul",f:Dn},6:{n:"PtgDiv",f:Dn},7:{n:"PtgPower",f:Dn},8:{n:"PtgConcat",f:Dn},9:{n:"PtgLt",f:Dn},10:{n:"PtgLe",f:Dn},11:{n:"PtgEq",f:Dn},12:{n:"PtgGe",f:Dn},13:{n:"PtgGt",f:Dn},14:{n:"PtgNe",f:Dn},15:{n:"PtgIsect",f:Dn},16:{n:"PtgUnion",f:Dn},17:{n:"PtgRange",f:Dn},18:{n:"PtgUplus",f:Dn},19:{n:"PtgUminus",f:Dn},20:{n:"PtgPercent",f:Dn},21:{n:"PtgParen",f:Dn},22:{n:"PtgMissArg",f:Dn},23:{n:"PtgStr",f:Nse},26:{n:"PtgSheet",f:Kse},27:{n:"PtgEndSheet",f:Yse},28:{n:"PtgErr",f:vse},29:{n:"PtgBool",f:yse},30:{n:"PtgInt",f:bse},31:{n:"PtgNum",f:wse},32:{n:"PtgArray",f:rse},33:{n:"PtgFunc",f:hse},34:{n:"PtgFuncVar",f:mse},35:{n:"PtgName",f:Sse},36:{n:"PtgRef",f:use},37:{n:"PtgArea",f:Zie},38:{n:"PtgMemArea",f:Ese},39:{n:"PtgMemErr",f:Dse},40:{n:"PtgMemNoMem",f:Ise},41:{n:"PtgMemFunc",f:kse},42:{n:"PtgRefErr",f:Tse},43:{n:"PtgAreaErr",f:Qie},44:{n:"PtgRefN",f:dse},45:{n:"PtgAreaN",f:tse},46:{n:"PtgMemAreaN",f:Xse},47:{n:"PtgMemNoMemN",f:Zse},57:{n:"PtgNameX",f:Cse},58:{n:"PtgRef3d",f:fse},59:{n:"PtgArea3d",f:Jie},60:{n:"PtgRefErr3d",f:Ose},61:{n:"PtgAreaErr3d",f:ese},255:{}},Qse={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},eoe={1:{n:"PtgElfLel",f:XT},2:{n:"PtgElfRw",f:Use},3:{n:"PtgElfCol",f:Fse},6:{n:"PtgElfRwV",f:Wse},7:{n:"PtgElfColV",f:Bse},10:{n:"PtgElfRadical",f:qse},11:{n:"PtgElfRadicalS",f:$se},13:{n:"PtgElfColS",f:Lse},15:{n:"PtgElfColSV",f:Rse},16:{n:"PtgElfRadicalLel",f:zse},25:{n:"PtgList",f:Vse},29:{n:"PtgSxName",f:Gse},255:{}},toe={0:{n:"PtgAttrNoop",f:Jse},1:{n:"PtgAttrSemi",f:ose},2:{n:"PtgAttrIf",f:ise},4:{n:"PtgAttrChoose",f:nse},8:{n:"PtgAttrGoto",f:ase},16:{n:"PtgAttrSum",f:xse},32:{n:"PtgAttrBaxcel",f:rA},33:{n:"PtgAttrBaxcel",f:rA},64:{n:"PtgAttrSpace",f:lse},65:{n:"PtgAttrSpaceSemi",f:cse},128:{n:"PtgAttrIfError",f:sse},255:{}};function roe(e,t,r,n){if(n.biff<8)return co(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=Ase(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=_se(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(co(e,t)),i}function noe(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=nA[i]||nA[Qse[i]],(i===24||i===25)&&(a=(i===24?eoe:toe)[e[e.l+1]]),!a||!a.f?co(e,t):o.push([a.n,a.f(e,t,r)]);return o}function aoe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];o?o[0]===2?a.push('"'+o[1].replace(/"/g,'""')+'"'):a.push(o[1]):a.push("")}t.push(a.join(","))}return t.join(";")}var ioe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function soe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function ZT(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function aA(e,t,r){var n=ZT(e,t,r);return n=="#REF"?n:soe(n,r)}function jd(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},l=[],c,u,d,f=0,m=0,h,g="";if(!e[0]||!e[0][0])return"";for(var p=-1,v="",b=0,j=e[0].length;b<j;++b){var A=e[0][b];switch(A[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),p>=0){switch(e[0][p][1][0]){case 0:v=pn(" ",e[0][p][1][1]);break;case 1:v=pn("\r",e[0][p][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}u=u+v,p=-1}l.push(u+ioe[A[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Vf(A[1][1],o,a),l.push(Gf(d,i));break;case"PtgRefN":d=r?Vf(A[1][1],r,a):A[1][1],l.push(Gf(d,i));break;case"PtgRef3d":f=A[1][1],d=Vf(A[1][2],o,a),g=aA(n,f,a),l.push(g+"!"+Gf(d,i));break;case"PtgFunc":case"PtgFuncVar":var _=A[1][0],k=A[1][1];_||(_=0),_&=127;var I=_==0?[]:l.slice(-_);l.length-=_,k==="User"&&(k=I.shift()),l.push(k+"("+I.join(",")+")");break;case"PtgBool":l.push(A[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(A[1]);break;case"PtgNum":l.push(String(A[1]));break;case"PtgStr":l.push('"'+A[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(A[1]);break;case"PtgAreaN":h=$_(A[1][1],r?{s:r}:o,a),l.push(ev(h,a));break;case"PtgArea":h=$_(A[1][1],o,a),l.push(ev(h,a));break;case"PtgArea3d":f=A[1][1],h=A[1][2],g=aA(n,f,a),l.push(g+"!"+ev(h,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=A[1][2];var T=(n.names||[])[m-1]||(n[0]||[])[m],M=T?T.Name:"SH33TJSNAME"+String(m);M&&M.slice(0,6)=="_xlfn."&&!a.xlfn&&(M=M.slice(6)),l.push(M);break;case"PtgNameX":var O=A[1][1];m=A[1][2];var U;if(a.biff<=5)O<0&&(O=-O),n[O]&&(U=n[O][m]);else{var P="";if(((n[O]||[])[0]||[])[0]==14849||(((n[O]||[])[0]||[])[0]==1025?n[O][m]&&n[O][m].itab>0&&(P=n.SheetNames[n[O][m].itab-1]+"!"):P=n.SheetNames[m-1]+"!"),n[O]&&n[O][m])P+=n[O][m].Name;else if(n[0]&&n[0][m])P+=n[0][m].Name;else{var C=(ZT(n,O,a)||"").split(";;");C[m-1]?P=C[m-1]:P+="SH33TJSERRX"}l.push(P);break}U||(U={Name:"SH33TJSERRY"}),l.push(U.Name);break;case"PtgParen":var F="(",V=")";if(p>=0){switch(v="",e[0][p][1][0]){case 2:F=pn(" ",e[0][p][1][1])+F;break;case 3:F=pn("\r",e[0][p][1][1])+F;break;case 4:V=pn(" ",e[0][p][1][1])+V;break;case 5:V=pn("\r",e[0][p][1][1])+V;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}l.push(F+l.pop()+V);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:A[1][1],r:A[1][0]};var te={c:r.c,r:r.r};if(n.sharedf[_r(d)]){var de=n.sharedf[_r(d)];l.push(jd(de,o,te,n,a))}else{var me=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(jd(u[1],o,te,n,a)),me=!0;break}me||l.push(A[1])}break;case"PtgArray":l.push("{"+aoe(A[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+A[1].idx+"[#"+A[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(A));default:throw new Error("Unrecognized Formula Token: "+String(A))}var ue=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&ue.indexOf(e[0][b][0])==-1){A=e[0][p];var he=!0;switch(A[1][0]){case 4:he=!1;case 0:v=pn(" ",A[1][1]);break;case 5:he=!1;case 1:v=pn("\r",A[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+A[1][0])}l.push((he?v:"")+l.pop()+(he?"":v)),p=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function ooe(e){if(e==null){var t=Ie(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return iu(e);return iu(0)}function loe(e,t,r,n,a){var i=su(t,r,a),o=ooe(e.v),l=Ie(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=Ie(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=_a([i,o,l,u]);return f}function F1(e,t,r){var n=e.read_shift(4),a=noe(e,n,r),i=e.read_shift(4),o=i>0?roe(e,i,a,r):null;return[a,o]}var coe=F1,L1=F1,uoe=F1,doe=F1,foe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},JT={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},hoe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function moe(e){var t="of:="+e.replace(ky,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function poe(e){return e.replace(/\./,"!")}var Kf=typeof Map<"u";function Dy(e,t,r){var n=0,a=e.length;if(r){if(Kf?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Kf?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Kf?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function R1(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Yo=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Cp(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=M2(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function QT(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function pc(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){Kk(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function xoe(e,t,r){if(e&&e["!ref"]){var n=Gr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function goe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Bn(e[r])+'"/>';return t+"</mergeCells>"}function voe(e,t,r,n,a){var i=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=ph(jr(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+Qe("outlinePr",null,u)}!i&&!l||(a[a.length]=Qe("sheetPr",l,o))}var boe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],yoe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function woe(e){var t={sheet:1};return boe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),yoe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=FT(e.password).toString(16).toUpperCase()),Qe("sheetProtection",null,t)}function Noe(e){return QT(e),Qe("pageMargins",null,e)}function joe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=Qe("col",null,R1(a,n)));return r[r.length]="</cols>",r.join("")}function _oe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Bn(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=$i(a);o.s.r==o.e.r&&(o.e.r=$i(t["!ref"]).e.r,a=Bn(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Qe("autoFilter",null,{ref:a})}function Aoe(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Qe("sheetViews",Qe("sheetView",null,a),{})}function Soe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Qh[e.v];break;case"d":n&&n.cellDates?a=ti(e.v,-1).toISOString():(e=pi(e),e.t="n",a=""+(e.v=mi(ti(e.v)))),typeof e.z>"u"&&(e.z=xn[14]);break;default:a=e.v;break}var l=Aa("v",jr(a)),c={r:t},u=pc(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=Aa("v",""+Dy(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=Qe("f",jr(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),Qe("c",l,c)}function Coe(e,t,r,n){var a=[],i=[],o=Gr(e["!ref"]),l="",c,u="",d=[],f=0,m=0,h=e["!rows"],g=Array.isArray(e),p={r:u},v,b=-1;for(m=o.s.c;m<=o.e.c;++m)d[m]=za(m);for(f=o.s.r;f<=o.e.r;++f){for(i=[],u=Sa(f),m=o.s.c;m<=o.e.c;++m){c=d[m]+u;var j=g?(e[f]||[])[m]:e[c];j!==void 0&&(l=Soe(j,c,e,t))!=null&&i.push(l)}(i.length>0||h&&h[f])&&(p={r:u},h&&h[f]&&(v=h[f],v.hidden&&(p.hidden=1),b=-1,v.hpx?b=Pp(v.hpx):v.hpt&&(b=v.hpt),b>-1&&(p.ht=b,p.customHeight=1),v.level&&(p.outlineLevel=v.level)),a[a.length]=Qe("row",i.join(""),p))}if(h)for(;f<h.length;++f)h&&h[f]&&(p={r:f+1},v=h[f],v.hidden&&(p.hidden=1),b=-1,v.hpx?b=Pp(v.hpx):v.hpt&&(b=v.hpt),b>-1&&(p.ht=b,p.customHeight=1),v.level&&(p.outlineLevel=v.level),a[a.length]=Qe("row","",p));return a.join("")}function eO(e,t,r,n){var a=[$n,Qe("worksheet",null,{xmlns:$d[0],"xmlns:r":sa.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=Gr(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Bn(d)}n||(n={}),c["!comments"]=[];var f=[];voe(c,r,e,t,a),a[a.length]=Qe("dimension",null,{ref:u}),a[a.length]=Aoe(c,t,e,r),t.sheetFormat&&(a[a.length]=Qe("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=joe(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=Coe(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=woe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=_oe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=goe(c["!merges"]));var m=-1,h,g=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(p){p[1].Target&&(h={ref:p[0]},p[1].Target.charAt(0)!="#"&&(g=yr(n,-1,jr(p[1].Target).replace(/#.*$/,""),cr.HLINK),h["r:id"]="rId"+g),(m=p[1].Target.indexOf("#"))>-1&&(h.location=jr(p[1].Target.slice(m+1))),p[1].Tooltip&&(h.tooltip=jr(p[1].Tooltip)),a[a.length]=Qe("hyperlink",null,h))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=Noe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Aa("ignoredErrors",Qe("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(g=yr(n,-1,"../drawings/drawing"+(e+1)+".xml",cr.DRAW),a[a.length]=Qe("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=f),c["!comments"].length>0&&(g=yr(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",cr.VML),a[a.length]=Qe("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function Poe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function Eoe(e,t,r){var n=Ie(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=Pp(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,m=-1,h=d<<10;h<d+1<<10;++h){u.c=h;var g=Array.isArray(r)?(r[u.r]||[])[u.c]:r[_r(u)];g&&(f<0&&(f=h),m=h)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,m))}var p=n.l;return n.l=c,n.write_shift(4,l),n.l=p,n.length>n.l?n.slice(0,n.l):n}function koe(e,t,r,n){var a=Eoe(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&$e(e,0,a)}var Toe=ju,Ooe=Wd;function Doe(){}function Ioe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Wne(e),r}function Moe(e,t,r){r==null&&(r=Ie(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return _p({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),pT(e,r),r.slice(0,r.l)}function Foe(e){var t=os(e);return[t]}function Loe(e,t,r){return r==null&&(r=Ie(8)),yu(t,r)}function Roe(e){var t=wu(e);return[t]}function Boe(e,t,r){return r==null&&(r=Ie(4)),Nu(t,r)}function qoe(e){var t=os(e),r=e.read_shift(1);return[t,r,"b"]}function zoe(e,t,r){return r==null&&(r=Ie(9)),yu(t,r),r.write_shift(1,e.v?1:0),r}function $oe(e){var t=wu(e),r=e.read_shift(1);return[t,r,"b"]}function Uoe(e,t,r){return r==null&&(r=Ie(5)),Nu(t,r),r.write_shift(1,e.v?1:0),r}function Woe(e){var t=os(e),r=e.read_shift(1);return[t,r,"e"]}function Hoe(e,t,r){return r==null&&(r=Ie(9)),yu(t,r),r.write_shift(1,e.v),r}function Voe(e){var t=wu(e),r=e.read_shift(1);return[t,r,"e"]}function Goe(e,t,r){return r==null&&(r=Ie(8)),Nu(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Koe(e){var t=os(e),r=e.read_shift(4);return[t,r,"s"]}function Yoe(e,t,r){return r==null&&(r=Ie(12)),yu(t,r),r.write_shift(4,t.v),r}function Xoe(e){var t=wu(e),r=e.read_shift(4);return[t,r,"s"]}function Zoe(e,t,r){return r==null&&(r=Ie(8)),Nu(t,r),r.write_shift(4,t.v),r}function Joe(e){var t=os(e),r=Hd(e);return[t,r,"n"]}function Qoe(e,t,r){return r==null&&(r=Ie(16)),yu(t,r),iu(e.v,r),r}function ele(e){var t=wu(e),r=Hd(e);return[t,r,"n"]}function tle(e,t,r){return r==null&&(r=Ie(12)),Nu(t,r),iu(e.v,r),r}function rle(e){var t=os(e),r=xT(e);return[t,r,"n"]}function nle(e,t,r){return r==null&&(r=Ie(12)),yu(t,r),gT(e.v,r),r}function ale(e){var t=wu(e),r=xT(e);return[t,r,"n"]}function ile(e,t,r){return r==null&&(r=Ie(8)),Nu(t,r),gT(e.v,r),r}function sle(e){var t=os(e),r=Ay(e);return[t,r,"is"]}function ole(e){var t=os(e),r=$a(e);return[t,r,"str"]}function lle(e,t,r){return r==null&&(r=Ie(12+4*e.v.length)),yu(t,r),ca(e.v,r),r.length>r.l?r.slice(0,r.l):r}function cle(e){var t=wu(e),r=$a(e);return[t,r,"str"]}function ule(e,t,r){return r==null&&(r=Ie(8+4*e.v.length)),Nu(t,r),ca(e.v,r),r.length>r.l?r.slice(0,r.l):r}function dle(e,t,r){var n=e.l+t,a=os(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=L1(e,n-e.l,r);o[3]=jd(l,null,a,r.supbooks,r)}else e.l=n;return o}function fle(e,t,r){var n=e.l+t,a=os(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=L1(e,n-e.l,r);o[3]=jd(l,null,a,r.supbooks,r)}else e.l=n;return o}function hle(e,t,r){var n=e.l+t,a=os(e);a.r=r["!row"];var i=Hd(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=L1(e,n-e.l,r);o[3]=jd(l,null,a,r.supbooks,r)}else e.l=n;return o}function mle(e,t,r){var n=e.l+t,a=os(e);a.r=r["!row"];var i=$a(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=L1(e,n-e.l,r);o[3]=jd(l,null,a,r.supbooks,r)}else e.l=n;return o}var ple=ju,xle=Wd;function gle(e,t){return t==null&&(t=Ie(4)),t.write_shift(4,e),t}function vle(e,t){var r=e.l+t,n=ju(e),a=Sy(e),i=$a(e),o=$a(e),l=$a(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function ble(e,t){var r=Ie(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Wd({s:la(e[0]),e:la(e[0])},r),Cy("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return ca(a||"",r),ca(e[1].Tooltip||"",r),ca("",r),r.slice(0,r.l)}function yle(){}function wle(e,t,r){var n=e.l+t,a=vT(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=coe(e,n-e.l,r);o[1]=l}else e.l=n;return o}function Nle(e,t,r){var n=e.l+t,a=ju(e),i=[a];if(r.cellFormula){var o=doe(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function jle(e,t,r){r==null&&(r=Ie(18));var n=R1(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var tO=["left","right","top","bottom","header","footer"];function _le(e){var t={};return tO.forEach(function(r){t[r]=Hd(e)}),t}function Ale(e,t){return t==null&&(t=Ie(48)),QT(e),tO.forEach(function(r){iu(e[r],t)}),t}function Sle(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Cle(e,t,r){r==null&&(r=Ie(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Ple(e){var t=Ie(24);return t.write_shift(4,4),t.write_shift(4,1),Wd(e,t),t}function Ele(e,t){return t==null&&(t=Ie(66)),t.write_shift(2,e.password?FT(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function kle(){}function Tle(){}function Ole(e,t,r,n,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=pi(t),t.z=t.z||xn[14],t.v=mi(ti(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=pc(a.cellXfs,t,a),t.l&&i["!links"].push([_r(c),t.l]),t.c&&i["!comments"].push([_r(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=Dy(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?$e(e,18,Zoe(t,c)):$e(e,7,Yoe(t,c))):(c.t="str",o?$e(e,17,ule(t,c)):$e(e,6,lle(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?$e(e,13,ile(t,c)):$e(e,2,nle(t,c)):o?$e(e,16,tle(t,c)):$e(e,5,Qoe(t,c)),!0;case"b":return c.t="b",o?$e(e,15,Uoe(t,c)):$e(e,4,zoe(t,c)),!0;case"e":return c.t="e",o?$e(e,14,Goe(t,c)):$e(e,3,Hoe(t,c)),!0}return o?$e(e,12,Boe(t,c)):$e(e,1,Loe(t,c)),!0}function Dle(e,t,r,n){var a=Gr(t["!ref"]||"A1"),i,o="",l=[];$e(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){o=Sa(d),koe(e,t,a,d);var f=!1;if(d<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){d===a.s.r&&(l[m]=za(m)),i=l[m]+o;var h=c?(t[d]||[])[m]:t[i];if(!h){f=!1;continue}f=Ole(e,h,d,m,n,t,f)}}$e(e,146)}function Ile(e,t){!t||!t["!merges"]||($e(e,177,gle(t["!merges"].length)),t["!merges"].forEach(function(r){$e(e,176,xle(r))}),$e(e,178))}function Mle(e,t){!t||!t["!cols"]||($e(e,390),t["!cols"].forEach(function(r,n){r&&$e(e,60,jle(n,r))}),$e(e,391))}function Fle(e,t){!t||!t["!ref"]||($e(e,648),$e(e,649,Ple(Gr(t["!ref"]))),$e(e,650))}function Lle(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=yr(r,-1,n[1].Target.replace(/#.*$/,""),cr.HLINK);$e(e,494,ble(n,a))}}),delete t["!links"]}function Rle(e,t,r,n){if(t["!comments"].length>0){var a=yr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",cr.VML);$e(e,551,Cy("rId"+a)),t["!legacy"]=a}}function Ble(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Bn(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=$i(i);l.s.r==l.e.r&&(l.e.r=$i(t["!ref"]).e.r,i=Bn(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),$e(e,161,Wd(Gr(i))),$e(e,162)}}function qle(e,t,r){$e(e,133),$e(e,137,Cle(t,r)),$e(e,138),$e(e,134)}function zle(e,t){t["!protect"]&&$e(e,535,Ele(t["!protect"]))}function $le(e,t,r,n){var a=fi(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Gr(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],$e(a,129),(r.vbaraw||o["!outline"])&&$e(a,147,Moe(l,o["!outline"])),$e(a,148,Ooe(c)),qle(a,o,r.Workbook),Mle(a,o),Dle(a,o,e,t),zle(a,o),Ble(a,o,r,e),Ile(a,o),Lle(a,o,n),o["!margins"]&&$e(a,476,Ale(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Fle(a,o),Rle(a,o,e,n),$e(a,130),a.end()}function Ule(e,t){e.l+=10;var r=$a(e);return{name:r}}var Wle=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Hle(e){return!e.Workbook||!e.Workbook.WBProps?"false":Nne(e.Workbook.WBProps.date1904)?"true":"false"}var Vle="][*?/\\".split("");function rO(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Vle.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Gle(e,t,r){e.forEach(function(n,a){rO(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Kle(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Gle(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)xoe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function nO(e){var t=[$n];t[t.length]=Qe("workbook",null,{xmlns:$d[0],"xmlns:r":sa.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Wle.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Qe("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:jr(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Qe("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=Qe("definedName",jr(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Yle(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=I2(e),r.name=$a(e),r}function Xle(e,t){return t||(t=Ie(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Cy(e.strRelID,t),ca(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Zle(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?$a(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Jle(e,t){t||(t=Ie(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),pT(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Qle(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=Hne(e),o=uoe(e,0,r),l=Sy(e);e.l=n;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function ece(e,t){$e(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};$e(e,156,Xle(a))}$e(e,144)}function tce(e,t){t||(t=Ie(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return ca("SheetJS",t),ca(xp.version,t),ca(xp.version,t),ca("7262",t),t.length>t.l?t.slice(0,t.l):t}function rce(e,t){t||(t=Ie(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function nce(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||($e(e,135),$e(e,158,rce(a)),$e(e,136))}}function ace(e,t){var r=fi();return $e(r,131),$e(r,128,tce()),$e(r,153,Jle(e.Workbook&&e.Workbook.WBProps||null)),nce(r,e),ece(r,e),$e(r,132),r.end()}function ice(e,t,r){return(t.slice(-4)===".bin"?ace:nO)(e)}function sce(e,t,r,n,a){return(t.slice(-4)===".bin"?$le:eO)(e,r,n,a)}function oce(e,t,r){return(t.slice(-4)===".bin"?Aie:BT)(e,r)}function lce(e,t,r){return(t.slice(-4)===".bin"?Jae:MT)(e,r)}function cce(e,t,r){return(t.slice(-4)===".bin"?zie:WT)(e)}function uce(e){return(e.slice(-4)===".bin"?Die:$T)()}function dce(e,t){var r=[];return e.Props&&r.push(oae(e.Props,t)),e.Custprops&&r.push(lae(e.Props,e.Custprops)),r.join("")}function fce(){return""}function hce(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(Qe("NumberFormat",null,{"ss:Format":jr(xn[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(Qe("Style",i.join(""),o))}),Qe("Styles",r.join(""))}function aO(e){return Qe("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Ty(e.Ref,{r:0,c:0})})}function mce(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(aO(a)))}return Qe("Names",r.join(""))}function pce(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(aO(l)))}return i.join("")}function xce(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Qe("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Qe("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Qe("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Qe("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Aa("ProtectContents","True")),e["!protect"].objects&&a.push(Aa("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Aa("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Aa("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Aa("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":Qe("WorksheetOptions",a.join(""),{xmlns:Oi.x})}function gce(e){return e.map(function(t){var r=wne(t.t||""),n=Qe("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Qe("Comment",n,{"ss:Author":t.a})}).join("")}function vce(e,t,r,n,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+jr(Ty(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=la(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=jr(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=jr(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",m="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",m=String(e.v);break;case"b":f="Boolean",m=e.v?"1":"0";break;case"e":f="Error",m=Qh[e.v];break;case"d":f="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||xn[14]);break;case"s":f="String",m=yne(e.v||"");break}var h=pc(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+h),l["ss:Index"]=o.c+1;var g=e.v!=null?m:"",p=e.t=="z"?"":'<Data ss:Type="'+f+'">'+g+"</Data>";return(e.c||[]).length>0&&(p+=gce(e.c)),Qe("Cell",p,l)}function bce(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=RT(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function yce(e,t,r,n){if(!e["!ref"])return"";var a=Gr(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(v,b){Ey(v);var j=!!v.width,A=R1(b,v),_={"ss:Index":b+1};j&&(_["ss:Width"]=Sp(A.width)),v.hidden&&(_["ss:Hidden"]="1"),l.push(Qe("Column",null,_))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[bce(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var m=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>u)&&!(i[o].e.c<f)&&!(i[o].e.r<u)){(i[o].s.c!=f||i[o].s.r!=u)&&(m=!0);break}if(!m){var h={r:u,c:f},g=_r(h),p=c?(e[u]||[])[f]:e[g];d.push(vce(p,g,e,t,r,n,h))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function wce(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?pce(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?yce(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(xce(i,t,e,r)),n.join("")}function Nce(e,t){t||(t={}),e.SSF||(e.SSF=pi(xn)),e.SSF&&(D1(),O1(e.SSF),t.revssf=I1(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],pc(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(dce(e,t)),r.push(fce()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Qe("Worksheet",wce(n,t,e),{"ss:Name":jr(e.SheetNames[n])}));return r[2]=hce(e,t),r[3]=mce(e),$n+Qe("Workbook",r.join(""),{xmlns:Oi.ss,"xmlns:o":Oi.o,"xmlns:x":Oi.x,"xmlns:ss":Oi.ss,"xmlns:dt":Oi.dt,"xmlns:html":Oi.html})}var nv={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function jce(e,t){var r=[],n=[],a=[],i=0,o,l=T_(W_,"n"),c=T_(H_,"n");if(e.Props)for(o=Ca(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Ca(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<a.length;++i)PT.indexOf(a[i][0])>-1||AT.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&Pr.utils.cfb_add(t,"/SummaryInformation",X_(n,nv.SI,c,H_)),(r.length||u.length)&&Pr.utils.cfb_add(t,"/DocumentSummaryInformation",X_(r,nv.DSI,l,W_,u.length?u:null,nv.UDI))}function _ce(e,t){var r=t||{},n=Pr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Pr.utils.cfb_add(n,a,iO(e,r)),r.biff==8&&(e.Props||e.Custprops)&&jce(e,n),r.biff==8&&e.vbaraw&&$ie(n,Pr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var Ace={0:{f:Poe},1:{f:Foe},2:{f:rle},3:{f:Woe},4:{f:qoe},5:{f:Joe},6:{f:ole},7:{f:Koe},8:{f:mle},9:{f:hle},10:{f:dle},11:{f:fle},12:{f:Roe},13:{f:ale},14:{f:Voe},15:{f:$oe},16:{f:ele},17:{f:cle},18:{f:Xoe},19:{f:Ay},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Qle},40:{},42:{},43:{f:oie},44:{f:iie},45:{f:uie},46:{f:fie},47:{f:die},48:{},49:{f:Rne},50:{},51:{f:Pie},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Bae},62:{f:sle},63:{f:Iie},64:{f:kle},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:co,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Sle},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Ioe},148:{f:Toe,p:16},151:{f:yle},152:{},153:{f:Zle},154:{},155:{},156:{f:Yle},157:{},158:{},159:{T:1,f:Yae},160:{T:-1},161:{T:1,f:ju},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:ple},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Sie},336:{T:-1},337:{f:Tie,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:I2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Dae},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:wle},427:{f:Nle},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:_le},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Doe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:vle},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:I2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Bie},633:{T:1},634:{T:-1},635:{T:1,f:Lie},636:{T:-1},637:{f:$ne},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Ule},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Tle},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function tt(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&Ny(r)&&e.push(r)}}function Sce(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return tt(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function t0(e,t,r){return e||(e=Ie(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Cce(e,t,r,n){var a=Ie(9);return t0(a,e,t),kT(r,n||"b",a),a}function Pce(e,t,r){var n=Ie(8+2*r.length);return t0(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Ece(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?mi(ti(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?tt(e,2,Uae(r,n,a)):tt(e,3,$ae(r,n,a));return;case"b":case"e":tt(e,5,Cce(r,n,t.v,t.t));return;case"s":case"str":tt(e,4,Pce(r,n,(t.v||"").slice(0,255)));return}tt(e,1,t0(null,r,n))}function kce(e,t,r,n){var a=Array.isArray(t),i=Gr(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Bn(i)}for(var u=i.s.r;u<=i.e.r;++u){l=Sa(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=za(d)),o=c[d]+l;var f=a?(t[u]||[])[d]:t[o];f&&Ece(e,f,u,d)}}}function Tce(e,t){for(var r=t||{},n=fi(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return tt(n,r.biff==4?1033:r.biff==3?521:9,Py(e,16,r)),kce(n,e.Sheets[e.SheetNames[a]],a,r),tt(n,10),n.end()}function Oce(e,t,r){tt(e,49,Aae({sz:12,name:"Arial"},r))}function Dce(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&tt(e,1054,Pae(a,t[a],r))})}function Ice(e,t){var r=Ie(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),tt(e,2151,r),r=Ie(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),DT(Gr(t["!ref"]||"A1"),r),r.write_shift(4,4),tt(e,2152,r)}function Mce(e,t){for(var r=0;r<16;++r)tt(e,224,J_({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){tt(e,224,J_(n,0,t))})}function Fce(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];tt(e,440,Fae(n)),n[1].Tooltip&&tt(e,2048,Lae(n))}delete t["!links"]}function Lce(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&tt(e,125,qae(R1(a,n),a))})}}function Rce(e,t,r,n,a){var i=16+pc(a.cellXfs,t,a);if(t.v==null&&!t.bf){tt(e,513,su(r,n,i));return}if(t.bf)tt(e,6,loe(t,r,n,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?mi(ti(t.v)):t.v;tt(e,515,Oae(r,n,o,i));break;case"b":case"e":tt(e,517,Tae(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=Dy(a.Strings,t.v,a.revStrings);tt(e,253,Sae(r,n,l,i))}else tt(e,516,Cae(r,n,(t.v||"").slice(0,255),i,a));break;default:tt(e,513,su(r,n,i))}}function Bce(e,t,r){var n=fi(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,d,f="",m=[],h=Gr(i["!ref"]||"A1"),g=u?65536:16384;if(h.e.c>255||h.e.r>=g){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,g-1)}tt(n,2057,Py(r,16,t)),tt(n,13,ts(1)),tt(n,12,ts(100)),tt(n,15,Ya(!0)),tt(n,17,Ya(!1)),tt(n,16,iu(.001)),tt(n,95,Ya(!0)),tt(n,42,Ya(!1)),tt(n,43,Ya(!1)),tt(n,130,ts(1)),tt(n,128,kae()),tt(n,131,Ya(!1)),tt(n,132,Ya(!1)),u&&Lce(n,i["!cols"]),tt(n,512,Eae(h,t)),u&&(i["!links"]=[]);for(var p=h.s.r;p<=h.e.r;++p){f=Sa(p);for(var v=h.s.c;v<=h.e.c;++v){p===h.s.r&&(m[v]=za(v)),d=m[v]+f;var b=c?(i[p]||[])[v]:i[d];b&&(Rce(n,b,p,v,t),u&&b.l&&i["!links"].push([d,b.l]))}}var j=l.CodeName||l.name||a;return u&&tt(n,574,_ae((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&tt(n,229,Mae(i["!merges"])),u&&Fce(n,i),tt(n,442,OT(j)),u&&Ice(n,i),tt(n,10),n.end()}function qce(e,t,r){var n=fi(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(tt(n,2057,Py(e,5,r)),r.bookType=="xla"&&tt(n,135),tt(n,225,l?ts(1200):null),tt(n,193,dae(2)),c&&tt(n,191),c&&tt(n,192),tt(n,226),tt(n,92,yae("SheetJS",r)),tt(n,66,ts(l?1200:1252)),l&&tt(n,353,ts(0)),l&&tt(n,448),tt(n,317,zae(e.SheetNames.length)),l&&e.vbaraw&&tt(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";tt(n,442,OT(u))}tt(n,156,ts(17)),tt(n,25,Ya(!1)),tt(n,18,Ya(!1)),tt(n,19,ts(0)),l&&tt(n,431,Ya(!1)),l&&tt(n,444,ts(0)),tt(n,61,jae()),tt(n,64,Ya(!1)),tt(n,141,ts(0)),tt(n,34,Ya(Hle(e)=="true")),tt(n,14,Ya(!0)),l&&tt(n,439,Ya(!1)),tt(n,218,ts(0)),Oce(n,e,r),Dce(n,e.SSF,r),Mce(n,r),l&&tt(n,352,Ya(!1));var d=n.end(),f=fi();l&&tt(f,140,Rae()),l&&r.Strings&&Sce(f,252,Nae(r.Strings)),tt(f,10);var m=f.end(),h=fi(),g=0,p=0;for(p=0;p<e.SheetNames.length;++p)g+=(l?12:11)+(l?2:1)*e.SheetNames[p].length;var v=d.length+g+m.length;for(p=0;p<e.SheetNames.length;++p){var b=i[p]||{};tt(h,133,wae({pos:v,hs:b.Hidden||0,dt:0,name:e.SheetNames[p]},r)),v+=t[p].length}var j=h.end();if(g!=j.length)throw new Error("BS8 "+g+" != "+j.length);var A=[];return d.length&&A.push(d),j.length&&A.push(j),m.length&&A.push(m),_a(A)}function zce(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=pi(xn)),e&&e.SSF&&(D1(),O1(e.SSF),r.revssf=I1(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Iy(r),r.cellXfs=[],pc(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=Bce(a,r,e);return n.unshift(qce(e,n,r)),_a(n)}function iO(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=$i(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return zce(e,t);case 4:case 3:case 2:return Tce(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function $ce(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=_r({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],m=f&&f.v!=null&&(f.h||bne(f.w||(ol(f),f.w)||""))||"",h={};l>1&&(h.rowspan=l),c>1&&(h.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+f.l.Target+'">'+m+"</a>")),h.id=(n.id||"sjs")+"-"+d,i.push(Qe("td",m,h))}}var g="<tr>";return g+i.join("")+"</tr>"}var Uce='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Wce="</body></html>";function Hce(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function sO(e,t){var r=t||{},n=r.header!=null?r.header:Uce,a=r.footer!=null?r.footer:Wce,i=[n],o=$i(e["!ref"]);r.dense=Array.isArray(e),i.push(Hce(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push($ce(e,o,l,r));return i.push("</table>"+a),i.join("")}function oO(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?la(n.origin):n.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=$i(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],m=0,h=e["!rows"]||(e["!rows"]=[]),g=0,p=0,v=0,b=0,j=0,A=0;for(e["!cols"]||(e["!cols"]=[]);g<l.length&&p<c;++g){var _=l[g];if(iA(_)){if(n.display)continue;h[p]={hidden:!0}}var k=_.children;for(v=b=0;v<k.length;++v){var I=k[v];if(!(n.display&&iA(I))){var T=I.hasAttribute("data-v")?I.getAttribute("data-v"):I.hasAttribute("v")?I.getAttribute("v"):jne(I.innerHTML),M=I.getAttribute("data-z")||I.getAttribute("z");for(m=0;m<f.length;++m){var O=f[m];O.s.c==b+i&&O.s.r<p+a&&p+a<=O.e.r&&(b=O.e.c+1-i,m=-1)}A=+I.getAttribute("colspan")||1,((j=+I.getAttribute("rowspan")||1)>1||A>1)&&f.push({s:{r:p+a,c:b+i},e:{r:p+a+(j||1)-1,c:b+i+(A||1)-1}});var U={t:"s",v:T},P=I.getAttribute("data-t")||I.getAttribute("t")||"";T!=null&&(T.length==0?U.t=P||"z":n.raw||T.trim().length==0||P=="s"||(T==="TRUE"?U={t:"b",v:!0}:T==="FALSE"?U={t:"b",v:!1}:isNaN(Ko(T))?isNaN(mh(T).getDate())||(U={t:"d",v:ti(T)},n.cellDates||(U={t:"n",v:mi(U.v)}),U.z=n.dateNF||xn[14]):U={t:"n",v:Ko(T)})),U.z===void 0&&M!=null&&(U.z=M);var C="",F=I.getElementsByTagName("A");if(F&&F.length)for(var V=0;V<F.length&&!(F[V].hasAttribute("href")&&(C=F[V].getAttribute("href"),C.charAt(0)!="#"));++V);C&&C.charAt(0)!="#"&&(U.l={Target:C}),n.dense?(e[p+a]||(e[p+a]=[]),e[p+a][b+i]=U):e[_r({c:b+i,r:p+a})]=U,u.e.c<b+i&&(u.e.c=b+i),b+=A}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,p-1+a),e["!ref"]=Bn(u),p>=c&&(e["!fullref"]=Bn((u.e.r=l.length-g+p-1+a,u))),e}function lO(e,t){var r=t||{},n=r.dense?[]:{};return oO(n,e,t)}function Vce(e,t){return bu(lO(e,t),t)}function iA(e){var t="",r=Gce(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Gce(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Kce=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+xh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return $n+t}})(),sA=(function(){var e=function(i){return jr(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,l){var c=[];c.push('      <table:table table:name="'+jr(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=$i(i["!ref"]||"A1"),m=i["!merges"]||[],h=0,g=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var p="",v=i["!rows"]||[];for(u=0;u<f.s.r;++u)p=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+p+`></table:table-row>
`);for(;u<=f.e.r;++u){for(p=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+p+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var b=!1,j={},A="";for(h=0;h!=m.length;++h)if(!(m[h].s.c>d)&&!(m[h].s.r>u)&&!(m[h].e.c<d)&&!(m[h].e.r<u)){(m[h].s.c!=d||m[h].s.r!=u)&&(b=!0),j["table:number-columns-spanned"]=m[h].e.c-m[h].s.c+1,j["table:number-rows-spanned"]=m[h].e.r-m[h].s.r+1;break}if(b){c.push(r);continue}var _=_r({r:u,c:d}),k=g?(i[u]||[])[d]:i[_];if(k&&k.f&&(j["table:formula"]=jr(moe(k.f)),k.F&&k.F.slice(0,_.length)==_)){var I=$i(k.F);j["table:number-matrix-columns-spanned"]=I.e.c-I.s.c+1,j["table:number-matrix-rows-spanned"]=I.e.r-I.s.r+1}if(!k){c.push(t);continue}switch(k.t){case"b":A=k.v?"TRUE":"FALSE",j["office:value-type"]="boolean",j["office:boolean-value"]=k.v?"true":"false";break;case"n":A=k.w||String(k.v||0),j["office:value-type"]="float",j["office:value"]=k.v||0;break;case"s":case"str":A=k.v==null?"":k.v,j["office:value-type"]="string";break;case"d":A=k.w||ti(k.v).toISOString(),j["office:value-type"]="date",j["office:date-value"]=ti(k.v).toISOString(),j["table:style-name"]="ce1";break;default:c.push(t);continue}var T=e(A);if(k.l&&k.l.Target){var M=k.l.Target;M=M.charAt(0)=="#"?"#"+poe(M.slice(1)):M,M.charAt(0)!="#"&&!M.match(/^\w+:/)&&(M="../"+M),T=Qe("text:a",T,{"xlink:href":M.replace(/&/g,"&amp;")})}c.push("          "+Qe("table:table-cell",Qe("text:p",T,{}),j)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Ey(f),f.ods=l;var m=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[$n],u=xh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=xh({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(jT().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(n(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function cO(e,t){if(t.bookType=="fods")return sA(e,t);var r=vy(),n="",a=[],i=[];return n="mimetype",Zt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Zt(r,n,sA(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Zt(r,n,Kce(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Zt(r,n,$n+jT()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Zt(r,n,sae(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Zt(r,n,aae(a)),r}function Ep(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Yce(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ns(ph(e))}function Xce(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function lc(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function Zce(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function gh(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function vr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function ld(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Yn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=gh(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=gh(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function ya(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(vr(n*8+a.type)),a.type==2&&t.push(vr(a.data.length)),t.push(a.data))})}),lc(t)}function vs(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=gh(e,n),i=Yn(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:ld(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=Yn(l.data),u=ld(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=ld(i[3][0].data)>>>0>0),r.push(o)}return r}function Wu(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:vr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:vr(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:vr(o.data.length)}],n[2].push({data:ya(o.meta),type:2})});var i=ya(n);t.push(vr(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),lc(t)}function Jce(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=gh(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[lc(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=lc(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function bs(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Jce(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return lc(t)}function Hu(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=vr(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return lc(t)}function av(e,t){var r=new Uint8Array(32),n=Ep(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Zce(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function iv(e,t){var r=new Uint8Array(32),n=Ep(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Ml(e){var t=Yn(e);return gh(t[1][0].data)}function Qce(e,t,r){var n,a,i,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&ld(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=Ep(e[7][0].data),d=0,f=[],m=Ep(e[4][0].data),h=0,g=[],p=0;p<t.length;++p){if(t[p]==null){u.setUint16(p*2,65535,!0),m.setUint16(p*2,65535);continue}u.setUint16(p*2,d,!0),m.setUint16(p*2,h,!0);var v,b;switch(typeof t[p]){case"string":v=av({t:"s",v:t[p]},r),b=iv({t:"s",v:t[p]},r);break;case"number":v=av({t:"n",v:t[p]},r),b=iv({t:"n",v:t[p]},r);break;case"boolean":v=av({t:"b",v:t[p]},r),b=iv({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}f.push(v),d+=v.length,g.push(b),h+=b.length,++c}for(e[2][0].data=vr(c);p<e[7][0].data.length/2;++p)u.setUint16(p*2,65535,!0),m.setUint16(p*2,65535,!0);return e[6][0].data=lc(f),e[3][0].data=lc(g),c}function eue(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=$i(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Bn(n)));var i=kp(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(R){return R.forEach(function(L){typeof L=="string"&&o.push(L)})});var l={},c=[],u=Pr.read(t.numbers,{type:"base64"});u.FileIndex.map(function(R,L){return[R,u.FullPaths[L]]}).forEach(function(R){var L=R[0],z=R[1];if(L.type==2&&L.name.match(/\.iwa/)){var J=L.content,le=bs(J),xe=vs(le);xe.forEach(function(Q){c.push(Q.id),l[Q.id]={deps:[],location:z,type:ld(Q.messages[0].meta[1][0].data)}})}}),c.sort(function(R,L){return R-L});var d=c.filter(function(R){return R>1}).map(function(R){return[R,vr(R)]});u.FileIndex.map(function(R,L){return[R,u.FullPaths[L]]}).forEach(function(R){var L=R[0];if(R[1],!!L.name.match(/\.iwa/)){var z=vs(bs(L.content));z.forEach(function(J){J.messages.forEach(function(le){d.forEach(function(xe){J.messages.some(function(Q){return ld(Q.meta[1][0].data)!=11006&&Xce(Q.data,xe[1])})&&l[xe[0]].deps.push(J.id)})})})}});for(var f=Pr.find(u,l[1].location),m=vs(bs(f.content)),h,g=0;g<m.length;++g){var p=m[g];p.id==1&&(h=p)}var v=Ml(Yn(h.messages[0].data)[1][0].data);for(f=Pr.find(u,l[v].location),m=vs(bs(f.content)),g=0;g<m.length;++g)p=m[g],p.id==v&&(h=p);for(v=Ml(Yn(h.messages[0].data)[2][0].data),f=Pr.find(u,l[v].location),m=vs(bs(f.content)),g=0;g<m.length;++g)p=m[g],p.id==v&&(h=p);for(v=Ml(Yn(h.messages[0].data)[2][0].data),f=Pr.find(u,l[v].location),m=vs(bs(f.content)),g=0;g<m.length;++g)p=m[g],p.id==v&&(h=p);var b=Yn(h.messages[0].data);{b[6][0].data=vr(n.e.r+1),b[7][0].data=vr(n.e.c+1);var j=Ml(b[46][0].data),A=Pr.find(u,l[j].location),_=vs(bs(A.content));{for(var k=0;k<_.length&&_[k].id!=j;++k);if(_[k].id!=j)throw"Bad ColumnRowUIDMapArchive";var I=Yn(_[k].messages[0].data);I[1]=[],I[2]=[],I[3]=[];for(var T=0;T<=n.e.c;++T){var M=[];M[1]=M[2]=[{type:0,data:vr(T+420690)}],I[1].push({type:2,data:ya(M)}),I[2].push({type:0,data:vr(T)}),I[3].push({type:0,data:vr(T)})}I[4]=[],I[5]=[],I[6]=[];for(var O=0;O<=n.e.r;++O)M=[],M[1]=M[2]=[{type:0,data:vr(O+726270)}],I[4].push({type:2,data:ya(M)}),I[5].push({type:0,data:vr(O)}),I[6].push({type:0,data:vr(O)});_[k].messages[0].data=ya(I)}A.content=Hu(Wu(_)),A.size=A.content.length,delete b[46];var U=Yn(b[4][0].data);{U[7][0].data=vr(n.e.r+1);var P=Yn(U[1][0].data),C=Ml(P[2][0].data);A=Pr.find(u,l[C].location),_=vs(bs(A.content));{if(_[0].id!=C)throw"Bad HeaderStorageBucket";var F=Yn(_[0].messages[0].data);for(O=0;O<i.length;++O){var V=Yn(F[2][0].data);V[1][0].data=vr(O),V[4][0].data=vr(i[O].length),F[2][O]={type:F[2][0].type,data:ya(V)}}_[0].messages[0].data=ya(F)}A.content=Hu(Wu(_)),A.size=A.content.length;var te=Ml(U[2][0].data);A=Pr.find(u,l[te].location),_=vs(bs(A.content));{if(_[0].id!=te)throw"Bad HeaderStorageBucket";for(F=Yn(_[0].messages[0].data),T=0;T<=n.e.c;++T)V=Yn(F[2][0].data),V[1][0].data=vr(T),V[4][0].data=vr(n.e.r+1),F[2][T]={type:F[2][0].type,data:ya(V)};_[0].messages[0].data=ya(F)}A.content=Hu(Wu(_)),A.size=A.content.length;var de=Ml(U[4][0].data);(function(){for(var R=Pr.find(u,l[de].location),L=vs(bs(R.content)),z,J=0;J<L.length;++J){var le=L[J];le.id==de&&(z=le)}var xe=Yn(z.messages[0].data);{xe[3]=[];var Q=[];o.forEach(function(pe,ze){Q[1]=[{type:0,data:vr(ze)}],Q[2]=[{type:0,data:vr(1)}],Q[3]=[{type:2,data:Yce(pe)}],xe[3].push({type:2,data:ya(Q)})})}z.messages[0].data=ya(xe);var ce=Wu(L),je=Hu(ce);R.content=je,R.size=R.content.length})();var me=Yn(U[3][0].data);{var ue=me[1][0];delete me[2];var he=Yn(ue.data);{var Ne=Ml(he[2][0].data);(function(){for(var R=Pr.find(u,l[Ne].location),L=vs(bs(R.content)),z,J=0;J<L.length;++J){var le=L[J];le.id==Ne&&(z=le)}var xe=Yn(z.messages[0].data);{delete xe[6],delete me[7];var Q=new Uint8Array(xe[5][0].data);xe[5]=[];for(var ce=0,je=0;je<=n.e.r;++je){var pe=Yn(Q);ce+=Qce(pe,i[je],o),pe[1][0].data=vr(je),xe[5].push({data:ya(pe),type:2})}xe[1]=[{type:0,data:vr(n.e.c+1)}],xe[2]=[{type:0,data:vr(n.e.r+1)}],xe[3]=[{type:0,data:vr(ce)}],xe[4]=[{type:0,data:vr(n.e.r+1)}]}z.messages[0].data=ya(xe);var ze=Wu(L),Te=Hu(ze);R.content=Te,R.size=R.content.length})()}ue.data=ya(he)}U[3][0].data=ya(me)}b[4][0].data=ya(U)}h.messages[0].data=ya(b);var Ee=Wu(m),E=Hu(Ee);return f.content=E,f.size=f.content.length,u}function tue(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function Iy(e){tue([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function rue(e,t){return t.bookType=="ods"?cO(e,t):t.bookType=="numbers"?eue(e,t):t.bookType=="xlsb"?nue(e,t):aue(e,t)}function nue(e,t){td=1024,e&&!e.SSF&&(e.SSF=pi(xn)),e&&e.SSF&&(D1(),O1(e.SSF),t.revssf=I1(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Kf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=HT.indexOf(t.bookType)>-1,a=yT();Iy(t=t||{});var i=vy(),o="",l=0;if(t.cellXfs=[],pc(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Zt(i,o,_T(e.Props,t)),a.coreprops.push(o),yr(t.rels,2,o,cr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Zt(i,o,ST(e.Props)),a.extprops.push(o),yr(t.rels,3,o,cr.EXT_PROPS),e.Custprops!==e.Props&&Ca(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Zt(i,o,CT(e.Custprops)),a.custprops.push(o),yr(t.rels,4,o,cr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],m=(f||{})["!type"]||"sheet";if(o="xl/worksheets/sheet"+l+"."+r,Zt(i,o,sce(l-1,o,t,e,d)),a.sheets.push(o),yr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,cr.WS[0]),f){var h=f["!comments"],g=!1,p="";h&&h.length>0&&(p="xl/comments"+l+"."+r,Zt(i,p,cce(h,p)),a.comments.push(p),yr(d,-1,"../comments"+l+"."+r,cr.CMNT),g=!0),f["!legacy"]&&g&&Zt(i,"xl/drawings/vmlDrawing"+l+".vml",UT(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Zt(i,NT(o),sd(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Zt(i,o,lce(t.Strings,o,t)),a.strs.push(o),yr(t.wbrels,-1,"sharedStrings."+r,cr.SST)),o="xl/workbook."+r,Zt(i,o,ice(e,o)),a.workbooks.push(o),yr(t.rels,1,o,cr.WB),o="xl/theme/theme1.xml",Zt(i,o,zT(e.Themes,t)),a.themes.push(o),yr(t.wbrels,-1,"theme/theme1.xml",cr.THEME),o="xl/styles."+r,Zt(i,o,oce(e,o,t)),a.styles.push(o),yr(t.wbrels,-1,"styles."+r,cr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Zt(i,o,e.vbaraw),a.vba.push(o),yr(t.wbrels,-1,"vbaProject.bin",cr.VBA)),o="xl/metadata."+r,Zt(i,o,uce(o)),a.metadata.push(o),yr(t.wbrels,-1,"metadata."+r,cr.XLMETA),Zt(i,"[Content_Types].xml",wT(a,t)),Zt(i,"_rels/.rels",sd(t.rels)),Zt(i,"xl/_rels/workbook."+r+".rels",sd(t.wbrels)),delete t.revssf,delete t.ssf,i}function aue(e,t){td=1024,e&&!e.SSF&&(e.SSF=pi(xn)),e&&e.SSF&&(D1(),O1(e.SSF),t.revssf=I1(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Kf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=HT.indexOf(t.bookType)>-1,a=yT();Iy(t=t||{});var i=vy(),o="",l=0;if(t.cellXfs=[],pc(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Zt(i,o,_T(e.Props,t)),a.coreprops.push(o),yr(t.rels,2,o,cr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Zt(i,o,ST(e.Props)),a.extprops.push(o),yr(t.rels,3,o,cr.EXT_PROPS),e.Custprops!==e.Props&&Ca(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Zt(i,o,CT(e.Custprops)),a.custprops.push(o),yr(t.rels,4,o,cr.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],h=(m||{})["!type"]||"sheet";if(o="xl/worksheets/sheet"+l+"."+r,Zt(i,o,eO(l-1,t,e,f)),a.sheets.push(o),yr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,cr.WS[0]),m){var g=m["!comments"],p=!1,v="";if(g&&g.length>0){var b=!1;g.forEach(function(j){j[1].forEach(function(A){A.T==!0&&(b=!0)})}),b&&(v="xl/threadedComments/threadedComment"+l+"."+r,Zt(i,v,Mie(g,d,t)),a.threadedcomments.push(v),yr(f,-1,"../threadedComments/threadedComment"+l+"."+r,cr.TCMNT)),v="xl/comments"+l+"."+r,Zt(i,v,WT(g)),a.comments.push(v),yr(f,-1,"../comments"+l+"."+r,cr.CMNT),p=!0}m["!legacy"]&&p&&Zt(i,"xl/drawings/vmlDrawing"+l+".vml",UT(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}f["!id"].rId1&&Zt(i,NT(o),sd(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Zt(i,o,MT(t.Strings,t)),a.strs.push(o),yr(t.wbrels,-1,"sharedStrings."+r,cr.SST)),o="xl/workbook."+r,Zt(i,o,nO(e)),a.workbooks.push(o),yr(t.rels,1,o,cr.WB),o="xl/theme/theme1.xml",Zt(i,o,zT(e.Themes,t)),a.themes.push(o),yr(t.wbrels,-1,"theme/theme1.xml",cr.THEME),o="xl/styles."+r,Zt(i,o,BT(e,t)),a.styles.push(o),yr(t.wbrels,-1,"styles."+r,cr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Zt(i,o,e.vbaraw),a.vba.push(o),yr(t.wbrels,-1,"vbaProject.bin",cr.VBA)),o="xl/metadata."+r,Zt(i,o,$T()),a.metadata.push(o),yr(t.wbrels,-1,"metadata."+r,cr.XLMETA),d.length>1&&(o="xl/persons/person.xml",Zt(i,o,Fie(d)),a.people.push(o),yr(t.wbrels,-1,"persons/person.xml",cr.PEOPLE)),Zt(i,"[Content_Types].xml",wT(a,t)),Zt(i,"_rels/.rels",sd(t.rels)),Zt(i,"xl/_rels/workbook."+r+".rels",sd(t.wbrels)),delete t.revssf,delete t.ssf,i}function iue(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=sl(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function uO(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Zh(t.file,Pr.write(e,{type:mr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Pr.write(e,t)}function sue(e,t){var r=pi(t||{}),n=rue(e,r);return oue(n,r)}function oue(e,t){var r={},n=mr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Pr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(T1(a))}return t.password&&typeof encrypt_agile<"u"?uO(encrypt_agile(a,t.password),t):t.type==="file"?Zh(t.file,a):t.type=="string"?Wf(a):a}function lue(e,t){var r=t||{},n=_ce(e,r);return uO(n,r)}function Us(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return hh(ph(n));case"binary":return ph(n);case"string":return e;case"file":return Zh(t.file,n,"utf8");case"buffer":return mr?gl(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Us(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function cue(e,t){switch(t.type){case"base64":return hh(e);case"binary":return e;case"string":return e;case"file":return Zh(t.file,e,"binary");case"buffer":return mr?gl(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function om(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?hh(r):t.type=="string"?Wf(r):r;case"file":return Zh(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function dO(e,t){Lre(),Kle(e);var r=pi(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=dO(e,r);return r.type="array",T1(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Us(Nce(e,r),r);case"slk":case"sylk":return Us(Hae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Us(sO(e.Sheets[e.SheetNames[a]],r),r);case"txt":return cue(fO(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Us(My(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Us(Vae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return om(Wae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Us(Gae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Us(eie.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Us(IT.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Us(cO(e,r),r);case"wk1":return om(Q_.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return om(Q_.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),om(iO(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),lue(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return sue(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function uue(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function r0(e,t,r){var n={};return n.type="file",n.file=t,uue(n),dO(e,n)}function due(e,t,r,n,a,i,o,l){var c=Sa(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||e[r])for(var h=t.s.c;h<=t.e.c;++h){var g=o?e[r][h]:e[n[h]+c];if(g===void 0||g.t===void 0){if(u===void 0)continue;i[h]!=null&&(m[i[h]]=u);continue}var p=g.v;switch(g.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[h]!=null){if(p==null)if(g.t=="e"&&p===null)m[i[h]]=null;else if(u!==void 0)m[i[h]]=u;else if(d&&p===null)m[i[h]]=null;else continue;else m[i[h]]=d&&(g.t!=="n"||g.t==="n"&&l.rawNumbers!==!1)?p:ol(g,p,l);p!=null&&(f=!1)}}return{row:m,isempty:f}}function kp(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Gr(d);break;case"number":c=Gr(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=Sa(c.s.r),m=[],h=[],g=0,p=0,v=Array.isArray(e),b=c.s.r,j=0,A={};v&&!e[b]&&(e[b]=[]);var _=u.skipHidden&&e["!cols"]||[],k=u.skipHidden&&e["!rows"]||[];for(j=c.s.c;j<=c.e.c;++j)if(!(_[j]||{}).hidden)switch(m[j]=za(j),r=v?e[b][j]:e[m[j]+f],n){case 1:i[j]=j-c.s.c;break;case 2:i[j]=m[j];break;case 3:i[j]=u.header[j-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=ol(r,null,u),p=A[o]||0,!p)A[o]=1;else{do l=o+"_"+p++;while(A[l]);A[o]=p,A[l]=1}i[j]=l}for(b=c.s.r+a;b<=c.e.r;++b)if(!(k[b]||{}).hidden){var I=due(e,c,b,m,n,i,v,u);(I.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(h[g++]=I.row)}return h.length=g,h}var oA=/"/g;function fue(e,t,r,n,a,i,o,l){for(var c=!0,u=[],d="",f=Sa(r),m=t.s.c;m<=t.e.c;++m)if(n[m]){var h=l.dense?(e[r]||[])[m]:e[n[m]+f];if(h==null)d="";else if(h.v!=null){c=!1,d=""+(l.rawNumbers&&h.t=="n"?h.v:ol(h,null,l));for(var g=0,p=0;g!==d.length;++g)if((p=d.charCodeAt(g))===a||p===i||p===34||l.forceQuotes){d='"'+d.replace(oA,'""')+'"';break}d=="ID"&&(d='"ID"')}else h.f!=null&&!h.F?(c=!1,d="="+h.f,d.indexOf(",")>=0&&(d='"'+d.replace(oA,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function My(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Gr(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],h=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(m[g]||{}).hidden||(f[g]=za(g));for(var p=0,v=a.s.r;v<=a.e.r;++v)(h[v]||{}).hidden||(d=fue(e,a,v,f,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((p++?l:"")+d)));return delete n.dense,r.join("")}function fO(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=My(e,t);return r}function hue(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Gr(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=za(l);for(var d=a.s.r;d<=a.e.r;++d)for(i=Sa(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function hO(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?la(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var f=Gr(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var m=n.header||[],h=0;t.forEach(function(p,v){Ca(p).forEach(function(b){(h=m.indexOf(b))==-1&&(m[h=m.length]=b);var j=p[b],A="z",_="",k=_r({c:l+h,r:o+v+a});u=vh(i,k),j&&typeof j=="object"&&!(j instanceof Date)?i[k]=j:(typeof j=="number"?A="n":typeof j=="boolean"?A="b":typeof j=="string"?A="s":j instanceof Date?(A="d",n.cellDates||(A="n",j=mi(j)),_=n.dateNF||xn[14]):j===null&&n.nullError&&(A="e",j=0),u?(u.t=A,u.v=j,delete u.w,delete u.R,_&&(u.z=_)):i[k]=u={t:A,v:j},_&&(u.z=_))})}),d.e.c=Math.max(d.e.c,l+m.length-1);var g=Sa(o);if(a)for(h=0;h<m.length;++h)i[za(h+l)+g]={t:"s",v:m[h]};return i["!ref"]=Bn(d),i}function mue(e,t){return hO(null,e,t)}function vh(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=la(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?vh(e,_r(t)):vh(e,_r({r:t,c:r||0}))}function pue(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function xue(){return{SheetNames:[],Sheets:{}}}function gue(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(rO(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function vue(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=pue(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function bue(e,t){return e.z=t,e}function mO(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function yue(e,t,r){return mO(e,"#"+t,r)}function wue(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Nue(e,t,r,n){for(var a=typeof t!="string"?t:Gr(t),i=typeof t=="string"?t:Bn(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=vh(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var lr={encode_col:za,encode_row:Sa,encode_cell:_r,encode_range:Bn,decode_col:_y,decode_row:jy,split_cell:Lne,decode_cell:la,decode_range:$i,format_cell:ol,sheet_add_aoa:mT,sheet_add_json:hO,sheet_add_dom:oO,aoa_to_sheet:Ud,json_to_sheet:mue,table_to_sheet:lO,table_to_book:Vce,sheet_to_csv:My,sheet_to_txt:fO,sheet_to_json:kp,sheet_to_html:sO,sheet_to_formulae:hue,sheet_to_row_object_array:kp,sheet_get_cell:vh,book_new:xue,book_append_sheet:gue,book_set_sheet_visibility:vue,cell_set_number_format:bue,cell_set_hyperlink:mO,cell_set_internal_link:yue,cell_add_comment:wue,sheet_set_array_formula:Nue,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function Xo(e){return new Date(e).toLocaleDateString("es-CO",{day:"2-digit",month:"2-digit",year:"numeric"})}function jue(e){const t=lr.book_new(),r=(e.totalActivos||0)+(e.totalInactivos||0),n=[["REPORTE DE ALUMNOS"],["Generado:",Xo(Jo())],[],["Métrica","Valor"],["Total Alumnos",r],["Alumnos Activos",e.totalActivos||0],["Alumnos Inactivos",e.totalInactivos||0],["Nuevos Este Mes",e.nuevosEsteMes||0],["Tasa de Retención",`${(e.tasaRetencion||0).toFixed(2)}%`]],a=lr.aoa_to_sheet(n);if(lr.book_append_sheet(t,a,"Resumen"),e.alumnosInactivos&&e.alumnosInactivos.length>0){const i=[["Alumno","Correo","Última Asistencia","Días Inactivo"],...e.alumnosInactivos.map(l=>[l.nombreAlumno,l.correo,l.ultimaAsistencia?Xo(l.ultimaAsistencia):"N/A",l.diasInactivo])],o=lr.aoa_to_sheet(i);lr.book_append_sheet(t,o,"Alumnos Inactivos")}if(e.alumnosPorVencer&&e.alumnosPorVencer.length>0){const i=[["Alumno","Correo","Fecha Vencimiento","Días Restantes"],...e.alumnosPorVencer.map(l=>[l.nombreAlumno,l.correo,Xo(l.fechaVencimiento),l.diasRestantes])],o=lr.aoa_to_sheet(i);lr.book_append_sheet(t,o,"Paquetes por Vencer")}r0(t,"reporte-alumnos.xlsx")}function pO(e){const t=lr.book_new(),r=[["REPORTE DE CLASES"],["Generado:",Xo(Jo())],[],["Métrica","Valor"],["Total Clases",e.totalClases||0],["Promedio Asistencia",(e.promedioAsistencia||0).toFixed(1)],["Ocupación Promedio",`${(e.ocupacionPromedio||0).toFixed(1)}%`]],n=lr.aoa_to_sheet(r);if(lr.book_append_sheet(t,n,"Resumen"),e.clasesMasPopulares&&e.clasesMasPopulares.length>0){const a=[["Tipo de Clase","Total Clases","Promedio Asistencia","Ocupación %"],...e.clasesMasPopulares.map(o=>[o.nombreTipoClase,o.totalClases,o.promedioAsistencia.toFixed(1),o.ocupacionPorcentaje.toFixed(1)])],i=lr.aoa_to_sheet(a);lr.book_append_sheet(t,i,"Clases Más Populares")}if(e.desgloseporTipo&&e.desgloseporTipo.length>0){const a=[["Tipo de Clase","Cantidad Clases","Promedio Asistencia"],...e.desgloseporTipo.map(o=>[o.nombreTipoClase,o.cantidadClases,o.promedioAsistencia.toFixed(1)])],i=lr.aoa_to_sheet(a);lr.book_append_sheet(t,i,"Desglose por Tipo")}r0(t,"reporte-clases.xlsx")}function _ue(e){const t=lr.book_new(),r=[["REPORTE DE INGRESOS"],["Generado:",Xo(Jo())],[],["Métrica","Valor"],["Total Recaudado",e.totalRecaudado||0],["Cantidad de Pagos",e.cantidad||0],["Promedio por Pago",e.promedio||0],["Comparativa Mes Anterior",e.comparativaMesAnterior?`${e.comparativaMesAnterior.toFixed(1)}%`:"N/A"]],n=lr.aoa_to_sheet(r);if(lr.book_append_sheet(t,n,"Resumen"),e.tendenciaMensual&&e.tendenciaMensual.length>0){const a=[["Año","Mes","Mes Nombre","Total Ingresos","Cantidad Pagos"],...e.tendenciaMensual.map(o=>[o.año,o.mes,o.mesNombre,o.totalIngresos,o.cantidadPagos])],i=lr.aoa_to_sheet(a);lr.book_append_sheet(t,i,"Tendencia Mensual")}if(e.desgloseMetodosPago&&e.desgloseMetodosPago.length>0){const a=[["Método de Pago","Total Recaudado","Cantidad Pagos","Porcentaje del Total"],...e.desgloseMetodosPago.map(o=>[o.metodoPago,o.totalRecaudado,o.cantidadPagos,`${o.porcentajeDelTotal.toFixed(1)}%`])],i=lr.aoa_to_sheet(a);lr.book_append_sheet(t,i,"Métodos de Pago")}r0(t,"reporte-ingresos.xlsx")}function Aue(e){const t=lr.book_new(),r=[["REPORTE DE PAQUETES"],["Generado:",Xo(Jo())],[],["Métrica","Valor"],["Paquetes Activos",e.totalActivos||0],["Paquetes Vencidos",e.totalVencidos||0],["Paquetes por Vencer",e.totalPorVencer||0],["Paquetes Agotados",e.totalAgotados||0]],n=lr.aoa_to_sheet(r);if(lr.book_append_sheet(t,n,"Resumen"),e.alertasPorVencer&&e.alertasPorVencer.length>0){const a=[["ID Paquete","Alumno","Correo","Tipo Paquete","Fecha Vencimiento","Días Restantes","Clases Restantes"],...e.alertasPorVencer.map(o=>[o.idPaquete,o.nombreAlumno,o.correoAlumno,o.nombreTipoPaquete,Xo(o.fechaVencimiento),o.diasRestantes,o.clasesRestantes])],i=lr.aoa_to_sheet(a);lr.book_append_sheet(t,i,"Alertas por Vencer")}if(e.desgloseEstados&&e.desgloseEstados.length>0){const a=[["Estado","Cantidad","Porcentaje del Total"],...e.desgloseEstados.map(o=>[o.estado,o.cantidad,`${o.porcentajeDelTotal.toFixed(1)}%`])],i=lr.aoa_to_sheet(a);lr.book_append_sheet(t,i,"Desglose por Estados")}r0(t,"reporte-paquetes.xlsx")}function Sue(e){const t=lr.book_new(),r=[["REPORTE DE ASISTENCIAS"],["Generado:",Xo(Jo())],[],["Métrica","Valor"],["Total Asistencias",e.totalAsistencias||0],["Presentes",e.presentes||0],["Ausentes",e.ausentes||0],["Justificadas",e.justificadas||0],["Porcentaje de Asistencia",`${(e.porcentajeAsistencia||0).toFixed(2)}%`]],n=lr.aoa_to_sheet(r);if(lr.book_append_sheet(t,n,"Resumen"),e.listaDetallada&&e.listaDetallada.length>0){const a=[["Fecha","Alumno","Clase","Estado","Profesor","Observaciones"],...e.listaDetallada.map(o=>[Xo(o.fecha),o.nombreAlumno,o.nombreClase,o.estado,o.nombreProfesor||"N/A",o.observaciones||""])],i=lr.aoa_to_sheet(a);lr.book_append_sheet(t,i,"Lista Detallada")}r0(t,"reporte-asistencias.xlsx")}function Nr(e){"@babel/helpers - typeof";return Nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nr(e)}var Cs=Uint8Array,Mi=Uint16Array,Fy=Int32Array,Ly=new Cs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ry=new Cs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),lA=new Cs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xO=function(e,t){for(var r=new Mi(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new Fy(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},gO=xO(Ly,2),Cue=gO.b,F2=gO.r;Cue[28]=258,F2[258]=28;var Pue=xO(Ry,0),cA=Pue.r,L2=new Mi(32768);for(var Vr=0;Vr<32768;++Vr){var Fl=(Vr&43690)>>1|(Vr&21845)<<1;Fl=(Fl&52428)>>2|(Fl&13107)<<2,Fl=(Fl&61680)>>4|(Fl&3855)<<4,L2[Vr]=((Fl&65280)>>8|(Fl&255)<<8)>>1}var Yf=(function(e,t,r){for(var n=e.length,a=0,i=new Mi(t);a<n;++a)e[a]&&++i[e[a]-1];var o=new Mi(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new Mi(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=o[e[a]-1]++<<d,m=f|(1<<d)-1;f<=m;++f)l[L2[f]>>c]=u}else for(l=new Mi(n),a=0;a<n;++a)e[a]&&(l[a]=L2[o[e[a]-1]++]>>15-e[a]);return l}),ou=new Cs(288);for(var Vr=0;Vr<144;++Vr)ou[Vr]=8;for(var Vr=144;Vr<256;++Vr)ou[Vr]=9;for(var Vr=256;Vr<280;++Vr)ou[Vr]=7;for(var Vr=280;Vr<288;++Vr)ou[Vr]=8;var Tp=new Cs(32);for(var Vr=0;Vr<32;++Vr)Tp[Vr]=5;var Eue=Yf(ou,9,0),kue=Yf(Tp,5,0),vO=function(e){return(e+7)/8|0},Tue=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Cs(e.subarray(t,r))},To=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Of=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},sv=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:yO,l:0};if(a==1){var o=new Cs(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(k,I){return k.f-I.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var m=i[0].s,n=1;n<a;++n)i[n].s>m&&(m=i[n].s);var h=new Mi(m+1),g=R2(r[d-1],h,0);if(g>t){var n=0,p=0,v=g-t,b=1<<v;for(i.sort(function(I,T){return h[T.s]-h[I.s]||I.f-T.f});n<a;++n){var j=i[n].s;if(h[j]>t)p+=b-(1<<g-h[j]),h[j]=t;else break}for(p>>=v;p>0;){var A=i[n].s;h[A]<t?p-=1<<t-h[A]++-1:++n}for(;n>=0&&p;--n){var _=i[n].s;h[_]==t&&(--h[_],++p)}g=t}return{t:new Cs(h),l:g}},R2=function(e,t,r){return e.s==-1?Math.max(R2(e.l,t,r+1),R2(e.r,t,r+1)):t[e.s]=r},uA=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Mi(++t),n=0,a=e[0],i=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:r.subarray(0,n),n:t}},Df=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},bO=function(e,t,r){var n=r.length,a=vO(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},dA=function(e,t,r,n,a,i,o,l,c,u,d){To(t,d++,r),++a[256];for(var f=sv(a,15),m=f.t,h=f.l,g=sv(i,15),p=g.t,v=g.l,b=uA(m),j=b.c,A=b.n,_=uA(p),k=_.c,I=_.n,T=new Mi(19),M=0;M<j.length;++M)++T[j[M]&31];for(var M=0;M<k.length;++M)++T[k[M]&31];for(var O=sv(T,7),U=O.t,P=O.l,C=19;C>4&&!U[lA[C-1]];--C);var F=u+5<<3,V=Df(a,ou)+Df(i,Tp)+o,te=Df(a,m)+Df(i,p)+o+14+3*C+Df(T,U)+2*T[16]+3*T[17]+7*T[18];if(c>=0&&F<=V&&F<=te)return bO(t,d,e.subarray(c,c+u));var de,me,ue,he;if(To(t,d,1+(te<V)),d+=2,te<V){de=Yf(m,h,0),me=m,ue=Yf(p,v,0),he=p;var Ne=Yf(U,P,0);To(t,d,A-257),To(t,d+5,I-1),To(t,d+10,C-4),d+=14;for(var M=0;M<C;++M)To(t,d+3*M,U[lA[M]]);d+=3*C;for(var Ee=[j,k],E=0;E<2;++E)for(var R=Ee[E],M=0;M<R.length;++M){var L=R[M]&31;To(t,d,Ne[L]),d+=U[L],L>15&&(To(t,d,R[M]>>5&127),d+=R[M]>>12)}}else de=Eue,me=ou,ue=kue,he=Tp;for(var M=0;M<l;++M){var z=n[M];if(z>255){var L=z>>18&31;Of(t,d,de[L+257]),d+=me[L+257],L>7&&(To(t,d,z>>23&31),d+=Ly[L]);var J=z&31;Of(t,d,ue[J]),d+=he[J],J>3&&(Of(t,d,z>>5&8191),d+=Ry[J])}else Of(t,d,de[z]),d+=me[z]}return Of(t,d,de[256]),d+me[256]},Oue=new Fy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),yO=new Cs(0),Due=function(e,t,r,n,a,i){var o=i.z||e.length,l=new Cs(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var f=Oue[t-1],m=f>>13,h=f&8191,g=(1<<r)-1,p=i.p||new Mi(32768),v=i.h||new Mi(g+1),b=Math.ceil(r/3),j=2*b,A=function(Te){return(e[Te]^e[Te+1]<<b^e[Te+2]<<j)&g},_=new Fy(25e3),k=new Mi(288),I=new Mi(32),T=0,M=0,O=i.i||0,U=0,P=i.w||0,C=0;O+2<o;++O){var F=A(O),V=O&32767,te=v[F];if(p[V]=te,v[F]=V,P<=O){var de=o-O;if((T>7e3||U>24576)&&(de>423||!u)){d=dA(e,c,0,_,k,I,M,U,C,O-C,d),U=T=M=0,C=O;for(var me=0;me<286;++me)k[me]=0;for(var me=0;me<30;++me)I[me]=0}var ue=2,he=0,Ne=h,Ee=V-te&32767;if(de>2&&F==A(O-Ee))for(var E=Math.min(m,de)-1,R=Math.min(32767,O),L=Math.min(258,de);Ee<=R&&--Ne&&V!=te;){if(e[O+ue]==e[O+ue-Ee]){for(var z=0;z<L&&e[O+z]==e[O+z-Ee];++z);if(z>ue){if(ue=z,he=Ee,z>E)break;for(var J=Math.min(Ee,z-2),le=0,me=0;me<J;++me){var xe=O-Ee+me&32767,Q=p[xe],ce=xe-Q&32767;ce>le&&(le=ce,te=xe)}}}V=te,te=p[V],Ee+=V-te&32767}if(he){_[U++]=268435456|F2[ue]<<18|cA[he];var je=F2[ue]&31,pe=cA[he]&31;M+=Ly[je]+Ry[pe],++k[257+je],++I[pe],P=O+ue,++T}else _[U++]=e[O],++k[e[O]]}}for(O=Math.max(O,P);O<o;++O)_[U++]=e[O],++k[e[O]];d=dA(e,c,u,_,k,I,M,U,C,O-C,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=v,i.p=p,i.i=O,i.w=P)}else{for(var O=i.w||0;O<o+u;O+=65535){var ze=O+65535;ze>=o&&(c[d/8|0]=u,ze=o),d=bO(c,d+1,e.subarray(O,ze))}i.i=o}return Tue(l,0,n+vO(d)+a)},wO=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Iue=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Cs(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return Due(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},NO=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Mue=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=wO();a.p(t.dictionary),NO(e,2,a.d())}};function B2(e,t){t||(t={});var r=wO();r.p(e);var n=Iue(e,t,t.dictionary?6:2,4);return Mue(n,t),NO(n,n.length-4,r.d()),n}var Fue=typeof TextDecoder<"u"&&new TextDecoder,Lue=0;try{Fue.decode(yO,{stream:!0}),Lue=1}catch{}function Rue(e){if(Array.isArray(e))return e}function Bue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function fA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function que(e,t){if(e){if(typeof e=="string")return fA(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fA(e,t):void 0}}function zue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hA(e,t){return Rue(e)||Bue(e,t)||que(e,t)||zue()}function mA(e,t="utf8"){return new TextDecoder(t).decode(e)}const $ue=new TextEncoder;function Uue(e){return $ue.encode(e)}const Wue=1024*8,Hue=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),ov={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class By{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=Wue,r={}){let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let o=a;(ArrayBuffer.isView(t)||t instanceof By)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=ov[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===Hue&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new ov[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new ov[r](i);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return mA(this.readBytes(t))}decodeText(t=1,r="utf8"){return mA(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(Uue(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Vd(e){let t=e.length;for(;--t>=0;)e[t]=0}const Vue=3,Gue=258,jO=29,Kue=256,Yue=Kue+1+jO,_O=30,Xue=512,Zue=new Array((Yue+2)*2);Vd(Zue);const Jue=new Array(_O*2);Vd(Jue);const Que=new Array(Xue);Vd(Que);const ede=new Array(Gue-Vue+1);Vd(ede);const tde=new Array(jO);Vd(tde);const rde=new Array(_O);Vd(rde);const nde=(e,t,r,n)=>{let a=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+t[n++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0};var q2=nde;const ade=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},ide=new Uint32Array(ade()),sde=(e,t,r,n)=>{const a=ide,i=n+r;e^=-1;for(let o=n;o<i;o++)e=e>>>8^a[(e^t[o])&255];return e^-1};var zs=sde,z2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},AO={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const ode=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var lde=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)ode(r,n)&&(e[n]=r[n])}}return e},cde=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,i=e.length;n<i;n++){let o=e[n];r.set(o,a),a+=o.length}return r},SO={assign:lde,flattenChunks:cde};let CO=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{CO=!1}const bh=new Uint8Array(256);for(let e=0;e<256;e++)bh[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;bh[254]=bh[254]=1;var ude=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,i,o=e.length,l=0;for(a=0;a<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,a=0;i<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const dde=(e,t)=>{if(t<65534&&e.subarray&&CO)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var fde=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let o=e[n++];if(o<128){i[a++]=o;continue}let l=bh[o];if(l>4){i[a++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){i[a++]=65533;continue}o<65536?i[a++]=o:(o-=65536,i[a++]=55296|o>>10&1023,i[a++]=56320|o&1023)}return dde(i,a)},hde=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+bh[e[r]]>t?r:t},$2={string2buf:ude,buf2string:fde,utf8border:hde};function mde(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var pde=mde;const lm=16209,xde=16191;var gde=function(t,r){let n,a,i,o,l,c,u,d,f,m,h,g,p,v,b,j,A,_,k,I,T,M,O,U;const P=t.state;n=t.next_in,O=t.input,a=n+(t.avail_in-5),i=t.next_out,U=t.output,o=i-(r-t.avail_out),l=i+(t.avail_out-257),c=P.dmax,u=P.wsize,d=P.whave,f=P.wnext,m=P.window,h=P.hold,g=P.bits,p=P.lencode,v=P.distcode,b=(1<<P.lenbits)-1,j=(1<<P.distbits)-1;e:do{g<15&&(h+=O[n++]<<g,g+=8,h+=O[n++]<<g,g+=8),A=p[h&b];t:for(;;){if(_=A>>>24,h>>>=_,g-=_,_=A>>>16&255,_===0)U[i++]=A&65535;else if(_&16){k=A&65535,_&=15,_&&(g<_&&(h+=O[n++]<<g,g+=8),k+=h&(1<<_)-1,h>>>=_,g-=_),g<15&&(h+=O[n++]<<g,g+=8,h+=O[n++]<<g,g+=8),A=v[h&j];r:for(;;){if(_=A>>>24,h>>>=_,g-=_,_=A>>>16&255,_&16){if(I=A&65535,_&=15,g<_&&(h+=O[n++]<<g,g+=8,g<_&&(h+=O[n++]<<g,g+=8)),I+=h&(1<<_)-1,I>c){t.msg="invalid distance too far back",P.mode=lm;break e}if(h>>>=_,g-=_,_=i-o,I>_){if(_=I-_,_>d&&P.sane){t.msg="invalid distance too far back",P.mode=lm;break e}if(T=0,M=m,f===0){if(T+=u-_,_<k){k-=_;do U[i++]=m[T++];while(--_);T=i-I,M=U}}else if(f<_){if(T+=u+f-_,_-=f,_<k){k-=_;do U[i++]=m[T++];while(--_);if(T=0,f<k){_=f,k-=_;do U[i++]=m[T++];while(--_);T=i-I,M=U}}}else if(T+=f-_,_<k){k-=_;do U[i++]=m[T++];while(--_);T=i-I,M=U}for(;k>2;)U[i++]=M[T++],U[i++]=M[T++],U[i++]=M[T++],k-=3;k&&(U[i++]=M[T++],k>1&&(U[i++]=M[T++]))}else{T=i-I;do U[i++]=U[T++],U[i++]=U[T++],U[i++]=U[T++],k-=3;while(k>2);k&&(U[i++]=U[T++],k>1&&(U[i++]=U[T++]))}}else if((_&64)===0){A=v[(A&65535)+(h&(1<<_)-1)];continue r}else{t.msg="invalid distance code",P.mode=lm;break e}break}}else if((_&64)===0){A=p[(A&65535)+(h&(1<<_)-1)];continue t}else if(_&32){P.mode=xde;break e}else{t.msg="invalid literal/length code",P.mode=lm;break e}break}}while(n<a&&i<l);k=g>>3,n-=k,g-=k<<3,h&=(1<<g)-1,t.next_in=n,t.next_out=i,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=i<l?257+(l-i):257-(i-l),P.hold=h,P.bits=g};const Vu=15,pA=852,xA=592,gA=0,lv=1,vA=2,vde=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),bde=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),yde=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),wde=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Nde=(e,t,r,n,a,i,o,l)=>{const c=l.bits;let u=0,d=0,f=0,m=0,h=0,g=0,p=0,v=0,b=0,j=0,A,_,k,I,T,M=null,O;const U=new Uint16Array(Vu+1),P=new Uint16Array(Vu+1);let C=null,F,V,te;for(u=0;u<=Vu;u++)U[u]=0;for(d=0;d<n;d++)U[t[r+d]]++;for(h=c,m=Vu;m>=1&&U[m]===0;m--);if(h>m&&(h=m),m===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<m&&U[f]===0;f++);for(h<f&&(h=f),v=1,u=1;u<=Vu;u++)if(v<<=1,v-=U[u],v<0)return-1;if(v>0&&(e===gA||m!==1))return-1;for(P[1]=0,u=1;u<Vu;u++)P[u+1]=P[u]+U[u];for(d=0;d<n;d++)t[r+d]!==0&&(o[P[t[r+d]]++]=d);if(e===gA?(M=C=o,O=20):e===lv?(M=vde,C=bde,O=257):(M=yde,C=wde,O=0),j=0,d=0,u=f,T=i,g=h,p=0,k=-1,b=1<<h,I=b-1,e===lv&&b>pA||e===vA&&b>xA)return 1;for(;;){F=u-p,o[d]+1<O?(V=0,te=o[d]):o[d]>=O?(V=C[o[d]-O],te=M[o[d]-O]):(V=96,te=0),A=1<<u-p,_=1<<g,f=_;do _-=A,a[T+(j>>p)+_]=F<<24|V<<16|te|0;while(_!==0);for(A=1<<u-1;j&A;)A>>=1;if(A!==0?(j&=A-1,j+=A):j=0,d++,--U[u]===0){if(u===m)break;u=t[r+o[d]]}if(u>h&&(j&I)!==k){for(p===0&&(p=h),T+=f,g=u-p,v=1<<g;g+p<m&&(v-=U[g+p],!(v<=0));)g++,v<<=1;if(b+=1<<g,e===lv&&b>pA||e===vA&&b>xA)return 1;k=j&I,a[k]=h<<24|g<<16|T-i|0}}return j!==0&&(a[T+j]=u-p<<24|64<<16|0),l.bits=h,0};var Xf=Nde;const jde=0,PO=1,EO=2,{Z_FINISH:bA,Z_BLOCK:_de,Z_TREES:cm,Z_OK:lu,Z_STREAM_END:Ade,Z_NEED_DICT:Sde,Z_STREAM_ERROR:is,Z_DATA_ERROR:kO,Z_MEM_ERROR:TO,Z_BUF_ERROR:Cde,Z_DEFLATED:yA}=AO,B1=16180,wA=16181,NA=16182,jA=16183,_A=16184,AA=16185,SA=16186,CA=16187,PA=16188,EA=16189,Op=16190,Oo=16191,cv=16192,kA=16193,uv=16194,TA=16195,OA=16196,DA=16197,IA=16198,um=16199,dm=16200,MA=16201,FA=16202,LA=16203,RA=16204,BA=16205,dv=16206,qA=16207,zA=16208,Yr=16209,OO=16210,DO=16211,Pde=852,Ede=592,kde=15,Tde=kde,$A=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Ode(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const _u=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<B1||t.mode>DO?1:0},IO=e=>{if(_u(e))return is;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=B1,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Pde),t.distcode=t.distdyn=new Int32Array(Ede),t.sane=1,t.back=-1,lu},MO=e=>{if(_u(e))return is;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,IO(e)},FO=(e,t)=>{let r;if(_u(e))return is;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?is:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,MO(e))},LO=(e,t)=>{if(!e)return is;const r=new Ode;e.state=r,r.strm=e,r.window=null,r.mode=B1;const n=FO(e,t);return n!==lu&&(e.state=null),n},Dde=e=>LO(e,Tde);let UA=!0,fv,hv;const Ide=e=>{if(UA){fv=new Int32Array(512),hv=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Xf(PO,e.lens,0,288,fv,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Xf(EO,e.lens,0,32,hv,0,e.work,{bits:5}),UA=!1}e.lencode=fv,e.lenbits=9,e.distcode=hv,e.distbits=5},RO=(e,t,r,n)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},Mde=(e,t)=>{let r,n,a,i,o,l,c,u,d,f,m,h,g,p,v=0,b,j,A,_,k,I,T,M;const O=new Uint8Array(4);let U,P;const C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(_u(e)||!e.output||!e.input&&e.avail_in!==0)return is;r=e.state,r.mode===Oo&&(r.mode=cv),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,f=l,m=c,M=lu;e:for(;;)switch(r.mode){case B1:if(r.wrap===0){r.mode=cv;break}for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,O[0]=u&255,O[1]=u>>>8&255,r.check=zs(r.check,O,2,0),u=0,d=0,r.mode=wA;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=Yr;break}if((u&15)!==yA){e.msg="unknown compression method",r.mode=Yr;break}if(u>>>=4,d-=4,T=(u&15)+8,r.wbits===0&&(r.wbits=T),T>15||T>r.wbits){e.msg="invalid window size",r.mode=Yr;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?EA:Oo,u=0,d=0;break;case wA:for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==yA){e.msg="unknown compression method",r.mode=Yr;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Yr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,r.check=zs(r.check,O,2,0)),u=0,d=0,r.mode=NA;case NA:for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,O[2]=u>>>16&255,O[3]=u>>>24&255,r.check=zs(r.check,O,4,0)),u=0,d=0,r.mode=jA;case jA:for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,r.check=zs(r.check,O,2,0)),u=0,d=0,r.mode=_A;case _A:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,r.check=zs(r.check,O,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=AA;case AA:if(r.flags&1024&&(h=r.length,h>l&&(h=l),h&&(r.head&&(T=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+h),T)),r.flags&512&&r.wrap&4&&(r.check=zs(r.check,n,h,i)),l-=h,i+=h,r.length-=h),r.length))break e;r.length=0,r.mode=SA;case SA:if(r.flags&2048){if(l===0)break e;h=0;do T=n[i+h++],r.head&&T&&r.length<65536&&(r.head.name+=String.fromCharCode(T));while(T&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=zs(r.check,n,h,i)),l-=h,i+=h,T)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=CA;case CA:if(r.flags&4096){if(l===0)break e;h=0;do T=n[i+h++],r.head&&T&&r.length<65536&&(r.head.comment+=String.fromCharCode(T));while(T&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=zs(r.check,n,h,i)),l-=h,i+=h,T)break e}else r.head&&(r.head.comment=null);r.mode=PA;case PA:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Yr;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Oo;break;case EA:for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}e.adler=r.check=$A(u),u=0,d=0,r.mode=Op;case Op:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,Sde;e.adler=r.check=1,r.mode=Oo;case Oo:if(t===_de||t===cm)break e;case cv:if(r.last){u>>>=d&7,d-=d&7,r.mode=dv;break}for(;d<3;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=kA;break;case 1:if(Ide(r),r.mode=um,t===cm){u>>>=2,d-=2;break e}break;case 2:r.mode=OA;break;case 3:e.msg="invalid block type",r.mode=Yr}u>>>=2,d-=2;break;case kA:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Yr;break}if(r.length=u&65535,u=0,d=0,r.mode=uv,t===cm)break e;case uv:r.mode=TA;case TA:if(h=r.length,h){if(h>l&&(h=l),h>c&&(h=c),h===0)break e;a.set(n.subarray(i,i+h),o),l-=h,i+=h,c-=h,o+=h,r.length-=h;break}r.mode=Oo;break;case OA:for(;d<14;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Yr;break}r.have=0,r.mode=DA;case DA:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.lens[C[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[C[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,U={bits:r.lenbits},M=Xf(jde,r.lens,0,19,r.lencode,0,r.work,U),r.lenbits=U.bits,M){e.msg="invalid code lengths set",r.mode=Yr;break}r.have=0,r.mode=IA;case IA:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],b=v>>>24,j=v>>>16&255,A=v&65535,!(b<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(A<16)u>>>=b,d-=b,r.lens[r.have++]=A;else{if(A===16){for(P=b+2;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(u>>>=b,d-=b,r.have===0){e.msg="invalid bit length repeat",r.mode=Yr;break}T=r.lens[r.have-1],h=3+(u&3),u>>>=2,d-=2}else if(A===17){for(P=b+3;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=b,d-=b,T=0,h=3+(u&7),u>>>=3,d-=3}else{for(P=b+7;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=b,d-=b,T=0,h=11+(u&127),u>>>=7,d-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Yr;break}for(;h--;)r.lens[r.have++]=T}}if(r.mode===Yr)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Yr;break}if(r.lenbits=9,U={bits:r.lenbits},M=Xf(PO,r.lens,0,r.nlen,r.lencode,0,r.work,U),r.lenbits=U.bits,M){e.msg="invalid literal/lengths set",r.mode=Yr;break}if(r.distbits=6,r.distcode=r.distdyn,U={bits:r.distbits},M=Xf(EO,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,U),r.distbits=U.bits,M){e.msg="invalid distances set",r.mode=Yr;break}if(r.mode=um,t===cm)break e;case um:r.mode=dm;case dm:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,gde(e,m),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,r.mode===Oo&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],b=v>>>24,j=v>>>16&255,A=v&65535,!(b<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(j&&(j&240)===0){for(_=b,k=j,I=A;v=r.lencode[I+((u&(1<<_+k)-1)>>_)],b=v>>>24,j=v>>>16&255,A=v&65535,!(_+b<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=_,d-=_,r.back+=_}if(u>>>=b,d-=b,r.back+=b,r.length=A,j===0){r.mode=BA;break}if(j&32){r.back=-1,r.mode=Oo;break}if(j&64){e.msg="invalid literal/length code",r.mode=Yr;break}r.extra=j&15,r.mode=MA;case MA:if(r.extra){for(P=r.extra;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=FA;case FA:for(;v=r.distcode[u&(1<<r.distbits)-1],b=v>>>24,j=v>>>16&255,A=v&65535,!(b<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if((j&240)===0){for(_=b,k=j,I=A;v=r.distcode[I+((u&(1<<_+k)-1)>>_)],b=v>>>24,j=v>>>16&255,A=v&65535,!(_+b<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=_,d-=_,r.back+=_}if(u>>>=b,d-=b,r.back+=b,j&64){e.msg="invalid distance code",r.mode=Yr;break}r.offset=A,r.extra=j&15,r.mode=LA;case LA:if(r.extra){for(P=r.extra;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Yr;break}r.mode=RA;case RA:if(c===0)break e;if(h=m-c,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Yr;break}h>r.wnext?(h-=r.wnext,g=r.wsize-h):g=r.wnext-h,h>r.length&&(h=r.length),p=r.window}else p=a,g=o-r.offset,h=r.length;h>c&&(h=c),c-=h,r.length-=h;do a[o++]=p[g++];while(--h);r.length===0&&(r.mode=dm);break;case BA:if(c===0)break e;a[o++]=r.length,c--,r.mode=dm;break;case dv:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[i++]<<d,d+=8}if(m-=c,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?zs(r.check,a,m,o-m):q2(r.check,a,m,o-m)),m=c,r.wrap&4&&(r.flags?u:$A(u))!==r.check){e.msg="incorrect data check",r.mode=Yr;break}u=0,d=0}r.mode=qA;case qA:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Yr;break}u=0,d=0}r.mode=zA;case zA:M=Ade;break e;case Yr:M=kO;break e;case OO:return TO;case DO:default:return is}return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,(r.wsize||m!==e.avail_out&&r.mode<Yr&&(r.mode<dv||t!==bA))&&RO(e,e.output,e.next_out,m-e.avail_out),f-=e.avail_in,m-=e.avail_out,e.total_in+=f,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?zs(r.check,a,m,e.next_out-m):q2(r.check,a,m,e.next_out-m)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Oo?128:0)+(r.mode===um||r.mode===uv?256:0),(f===0&&m===0||t===bA)&&M===lu&&(M=Cde),M},Fde=e=>{if(_u(e))return is;let t=e.state;return t.window&&(t.window=null),e.state=null,lu},Lde=(e,t)=>{if(_u(e))return is;const r=e.state;return(r.wrap&2)===0?is:(r.head=t,t.done=!1,lu)},Rde=(e,t)=>{const r=t.length;let n,a,i;return _u(e)||(n=e.state,n.wrap!==0&&n.mode!==Op)?is:n.mode===Op&&(a=1,a=q2(a,t,r,0),a!==n.check)?kO:(i=RO(e,t,r,r),i?(n.mode=OO,TO):(n.havedict=1,lu))};var Bde=MO,qde=FO,zde=IO,$de=Dde,Ude=LO,Wde=Mde,Hde=Fde,Vde=Lde,Gde=Rde,Kde="pako inflate (from Nodeca project)",Do={inflateReset:Bde,inflateReset2:qde,inflateResetKeep:zde,inflateInit:$de,inflateInit2:Ude,inflate:Wde,inflateEnd:Hde,inflateGetHeader:Vde,inflateSetDictionary:Gde,inflateInfo:Kde};function Yde(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Xde=Yde;const BO=Object.prototype.toString,{Z_NO_FLUSH:Zde,Z_FINISH:Jde,Z_OK:yh,Z_STREAM_END:mv,Z_NEED_DICT:pv,Z_STREAM_ERROR:Qde,Z_DATA_ERROR:WA,Z_MEM_ERROR:efe}=AO;function n0(e){this.options=SO.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new pde,this.strm.avail_out=0;let r=Do.inflateInit2(this.strm,t.windowBits);if(r!==yh)throw new Error(z2[r]);if(this.header=new Xde,Do.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=$2.string2buf(t.dictionary):BO.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Do.inflateSetDictionary(this.strm,t.dictionary),r!==yh)))throw new Error(z2[r])}n0.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?Jde:Zde,BO.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=Do.inflate(r,o),i===pv&&a&&(i=Do.inflateSetDictionary(r,a),i===yh?i=Do.inflate(r,o):i===WA&&(i=pv));r.avail_in>0&&i===mv&&r.state.wrap>0&&e[r.next_in]!==0;)Do.inflateReset(r),i=Do.inflate(r,o);switch(i){case Qde:case WA:case pv:case efe:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===mv))if(this.options.to==="string"){let c=$2.utf8border(r.output,r.next_out),u=r.next_out-c,d=$2.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===yh&&l===0)){if(i===mv)return i=Do.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};n0.prototype.onData=function(e){this.chunks.push(e)};n0.prototype.onEnd=function(e){e===yh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=SO.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function tfe(e,t){const r=new n0(t);if(r.push(e),r.err)throw r.msg||z2[r.err];return r.result}var rfe=n0,nfe=tfe,afe={Inflate:rfe,inflate:nfe};const{Inflate:ife,inflate:sfe}=afe;var HA=ife,ofe=sfe;const qO=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;qO[e]=t}const VA=4294967295;function lfe(e,t,r){let n=e;for(let a=0;a<r;a++)n=qO[(n^t[a])&255]^n>>>8;return n}function cfe(e,t){return(lfe(VA,e,t)^VA)>>>0}function GA(e,t,r){const n=e.readUint32(),a=cfe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function zO(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function $O(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function UO(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function WO(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-a]+r[i]>>1)&255}}function HO(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+ufe(t[i-a],r[i],r[i-a])&255}}function ufe(e,t,r){const n=e+t-r,a=Math.abs(n-e),i=Math.abs(n-t),o=Math.abs(n-r);return a<=i&&a<=o?e:i<=o?t:r}function dfe(e,t,r,n,a,i){switch(e){case 0:zO(t,r,a);break;case 1:$O(t,r,a,i);break;case 2:UO(t,r,n,a);break;case 3:WO(t,r,n,a,i);break;case 4:HO(t,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const ffe=new Uint16Array([255]),hfe=new Uint8Array(ffe.buffer),mfe=hfe[0]===255;function pfe(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*a,c=new Uint8Array(n*r*l);let u=0;for(let d=0;d<7;d++){const f=o[d],m=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(m<=0||h<=0)continue;const g=m*l,p=new Uint8Array(g);for(let v=0;v<h;v++){const b=t[u++],j=t.subarray(u,u+g);u+=g;const A=new Uint8Array(g);dfe(b,j,A,p,g,l),p.set(A);for(let _=0;_<m;_++){const k=f.x+_*f.xStep,I=f.y+v*f.yStep;if(!(k>=r||I>=n))for(let T=0;T<l;T++)c[(I*r+k)*l+T]=A[_*l+T]}}}if(i===16){const d=new Uint16Array(c.buffer);if(mfe)for(let f=0;f<d.length;f++)d[f]=xfe(d[f]);return d}else return c}function xfe(e){return(e&255)<<8|e>>8&255}const gfe=new Uint16Array([255]),vfe=new Uint8Array(gfe.buffer),bfe=vfe[0]===255,yfe=new Uint8Array(0);function KA(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,o=Math.ceil(i/8)*a,l=Math.ceil(i/8*a*r),c=new Uint8Array(n*l);let u=yfe,d=0,f,m;for(let h=0;h<n;h++){switch(f=t.subarray(d+1,d+1+l),m=c.subarray(h*l,(h+1)*l),t[d]){case 0:zO(f,m,l);break;case 1:$O(f,m,l,o);break;case 2:UO(f,m,u,l);break;case 3:WO(f,m,u,l,o);break;case 4:HO(f,m,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=m,d+=l+1}if(i===16){const h=new Uint16Array(c.buffer);if(bfe)for(let g=0;g<h.length;g++)h[g]=wfe(h[g]);return h}else return c}function wfe(e){return(e&255)<<8|e>>8&255}const jm=Uint8Array.of(137,80,78,71,13,10,26,10);function YA(e){if(!Nfe(e.readBytes(jm.length)))throw new Error("wrong PNG signature")}function Nfe(e){if(e.length<jm.length)return!1;for(let t=0;t<jm.length;t++)if(e[t]!==jm[t])return!1;return!0}const jfe="tEXt",_fe=0,VO=new TextDecoder("latin1");function Afe(e){if(Cfe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Sfe=/^[\u0000-\u00FF]*$/;function Cfe(e){if(!Sfe.test(e))throw new Error("invalid latin1 text")}function Pfe(e,t,r){const n=GO(t);e[n]=Efe(t,r-n.length-1)}function GO(e){for(e.mark();e.readByte()!==_fe;);const t=e.offset;e.reset();const r=VO.decode(e.readBytes(t-e.offset-1));return e.skip(1),Afe(r),r}function Efe(e,t){return VO.decode(e.readBytes(t))}const Pi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},xv={UNKNOWN:-1,DEFLATE:0},XA={UNKNOWN:-1,ADAPTIVE:0},gv={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},fm={NONE:0,BACKGROUND:1,PREVIOUS:2},vv={SOURCE:0,OVER:1};class kfe extends By{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,r={}){super(t);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new HA,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=xv.UNKNOWN,this._filterMethod=XA.UNKNOWN,this._interlaceMethod=gv.UNKNOWN,this._colorType=Pi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(YA(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(YA(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case jfe:Pfe(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?GA(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=n+t;break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?GA(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=Tfe(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Pi.GREYSCALE:n=1;break;case Pi.TRUECOLOUR:n=3;break;case Pi.INDEXED_COLOUR:n=1;break;case Pi.GREYSCALE_ALPHA:n=2;break;case Pi.TRUECOLOUR_ALPHA:n=4;break;case Pi.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==xv.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const n=[];this._palette=n;for(let a=0;a<r;a++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Pi.GREYSCALE:case Pi.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case Pi.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Pi.UNKNOWN:case Pi.GREYSCALE_ALPHA:case Pi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=GO(this),n=this.readUint8();if(n!==xv.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const a=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:ofe(a)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=KA({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(n,a,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,n){switch(t.disposeOp){case fm.NONE:break;case fm.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let i=0;i<this._png.width;i++){const o=(a*t.width+i)*this._png.channels;for(let l=0;l<this._png.channels;l++)n.data[o+l]=0}break;case fm.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const n=1<<this._png.depth,a=(i,o)=>{const l=((i+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,c=(i*r.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case vv.SOURCE:for(let i=0;i<r.height;i++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=a(i,o);for(let u=0;u<this._png.channels;u++)t.data[l+u]=r.data[c+u]}break;case vv.OVER:for(let i=0;i<r.height;i++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=a(i,o);for(let u=0;u<this._png.channels;u++){const d=r.data[c+this._png.channels-1]/n,f=u%(this._png.channels-1)===0?1:r.data[c+u],m=Math.floor(d*f+(1-d)*t.data[l+u]);t.data[l+u]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==XA.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===gv.NO_INTERLACE)this._png.data=KA({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===gv.ADAM7)this._png.data=pfe({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:fm.NONE,blendOp:vv.SOURCE,data:t}),this._inflator=new HA,this._writingDataChunks=!1}}function Tfe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var ZA;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(ZA||(ZA={}));function Ofe(e,t){return new kfe(e,t).decode()}var Lt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function bv(){Lt.console&&typeof Lt.console.log=="function"&&Lt.console.log.apply(Lt.console,arguments)}var Fr={log:bv,warn:function(e){Lt.console&&(typeof Lt.console.warn=="function"?Lt.console.warn.apply(Lt.console,arguments):bv.call(null,arguments))},error:function(e){Lt.console&&(typeof Lt.console.error=="function"?Lt.console.error.apply(Lt.console,arguments):bv(e))}};function yv(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Mc(n.response,t,r)},n.onerror=function(){Fr.error("could not download file")},n.send()}function JA(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function hm(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Mc=Lt.saveAs||((typeof window>"u"?"undefined":Nr(window))!=="object"||window!==Lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Lt.URL||Lt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?JA(a.href)?yv(e,t,r):hm(a,a.target="_blank"):hm(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){hm(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(JA(e))yv(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){hm(n)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:Nr(i)!=="object"&&(Fr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return yv(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Lt.HTMLElement)||Lt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":Nr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=Lt.URL||Lt.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});function KO(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var _m=Lt.atob.bind(Lt),QA=Lt.btoa.bind(Lt);function wv(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Ta(r,n,a,i,t[0],7,-680876936),i=Ta(i,r,n,a,t[1],12,-389564586),a=Ta(a,i,r,n,t[2],17,606105819),n=Ta(n,a,i,r,t[3],22,-1044525330),r=Ta(r,n,a,i,t[4],7,-176418897),i=Ta(i,r,n,a,t[5],12,1200080426),a=Ta(a,i,r,n,t[6],17,-1473231341),n=Ta(n,a,i,r,t[7],22,-45705983),r=Ta(r,n,a,i,t[8],7,1770035416),i=Ta(i,r,n,a,t[9],12,-1958414417),a=Ta(a,i,r,n,t[10],17,-42063),n=Ta(n,a,i,r,t[11],22,-1990404162),r=Ta(r,n,a,i,t[12],7,1804603682),i=Ta(i,r,n,a,t[13],12,-40341101),a=Ta(a,i,r,n,t[14],17,-1502002290),r=Oa(r,n=Ta(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Oa(i,r,n,a,t[6],9,-1069501632),a=Oa(a,i,r,n,t[11],14,643717713),n=Oa(n,a,i,r,t[0],20,-373897302),r=Oa(r,n,a,i,t[5],5,-701558691),i=Oa(i,r,n,a,t[10],9,38016083),a=Oa(a,i,r,n,t[15],14,-660478335),n=Oa(n,a,i,r,t[4],20,-405537848),r=Oa(r,n,a,i,t[9],5,568446438),i=Oa(i,r,n,a,t[14],9,-1019803690),a=Oa(a,i,r,n,t[3],14,-187363961),n=Oa(n,a,i,r,t[8],20,1163531501),r=Oa(r,n,a,i,t[13],5,-1444681467),i=Oa(i,r,n,a,t[2],9,-51403784),a=Oa(a,i,r,n,t[7],14,1735328473),r=Da(r,n=Oa(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Da(i,r,n,a,t[8],11,-2022574463),a=Da(a,i,r,n,t[11],16,1839030562),n=Da(n,a,i,r,t[14],23,-35309556),r=Da(r,n,a,i,t[1],4,-1530992060),i=Da(i,r,n,a,t[4],11,1272893353),a=Da(a,i,r,n,t[7],16,-155497632),n=Da(n,a,i,r,t[10],23,-1094730640),r=Da(r,n,a,i,t[13],4,681279174),i=Da(i,r,n,a,t[0],11,-358537222),a=Da(a,i,r,n,t[3],16,-722521979),n=Da(n,a,i,r,t[6],23,76029189),r=Da(r,n,a,i,t[9],4,-640364487),i=Da(i,r,n,a,t[12],11,-421815835),a=Da(a,i,r,n,t[15],16,530742520),r=Ia(r,n=Da(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Ia(i,r,n,a,t[7],10,1126891415),a=Ia(a,i,r,n,t[14],15,-1416354905),n=Ia(n,a,i,r,t[5],21,-57434055),r=Ia(r,n,a,i,t[12],6,1700485571),i=Ia(i,r,n,a,t[3],10,-1894986606),a=Ia(a,i,r,n,t[10],15,-1051523),n=Ia(n,a,i,r,t[1],21,-2054922799),r=Ia(r,n,a,i,t[8],6,1873313359),i=Ia(i,r,n,a,t[15],10,-30611744),a=Ia(a,i,r,n,t[6],15,-1560198380),n=Ia(n,a,i,r,t[13],21,1309151649),r=Ia(r,n,a,i,t[4],6,-145523070),i=Ia(i,r,n,a,t[11],10,-1120210379),a=Ia(a,i,r,n,t[2],15,718787259),n=Ia(n,a,i,r,t[9],21,-343485551),e[0]=Wl(r,e[0]),e[1]=Wl(n,e[1]),e[2]=Wl(a,e[2]),e[3]=Wl(i,e[3])}function q1(e,t,r,n,a,i){return t=Wl(Wl(t,e),Wl(n,i)),Wl(t<<a|t>>>32-a,r)}function Ta(e,t,r,n,a,i,o){return q1(t&r|~t&n,e,t,a,i,o)}function Oa(e,t,r,n,a,i,o){return q1(t&n|r&~n,e,t,a,i,o)}function Da(e,t,r,n,a,i,o){return q1(t^r^n,e,t,a,i,o)}function Ia(e,t,r,n,a,i,o){return q1(r^(t|~n),e,t,a,i,o)}function YO(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)wv(n,Dfe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(wv(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,wv(n,a),n}function Dfe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var e6="0123456789abcdef".split("");function Ife(e){for(var t="",r=0;r<4;r++)t+=e6[e>>8*r+4&15]+e6[e>>8*r&15];return t}function Mfe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function U2(e){return YO(e).map(Mfe).join("")}var Ffe=(function(e){for(var t=0;t<e.length;t++)e[t]=Ife(e[t]);return e.join("")})(YO("hello"))!="5d41402abc4b2a76b9719d911017c592";function Wl(e,t){if(Ffe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}function W2(e,t){var r,n,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var f=t.length,m=0,h=0,g="";for(c=0;c<f;c++)h=(h+(d=l[m=(m+1)%256]))%256,l[m]=l[h],l[h]=d,o=l[(l[m]+l[h])%256],g+=String.fromCharCode(t.charCodeAt(c)^o);return g}var t6={print:4,modify:8,copy:16,"annot-forms":32};function Zu(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(t6.perm!==void 0)throw new Error("Invalid permission: "+l);a+=t6[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=U2(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=W2(this.encryptionKey,this.padding)}function Ju(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function r6(e){if(Nr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(l){Lt.console&&Fr.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Dp(e){if(!(this instanceof Dp))return new Dp(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function XO(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Lc(e,t,r,n,a){if(!(this instanceof Lc))return new Lc(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,XO.call(this,n,a)}function rd(e,t,r,n,a){if(!(this instanceof rd))return new rd(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,XO.call(this,n,a)}function yt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",d=null;Nr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,m={},h={internal:{},__private__:{}};h.__private__.PubSub=r6;var g="1.3",p=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(N){g=N};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var b=h.__private__.getPageFormat=function(N){return v[N]};a=a||"a4";var j="compat",A="advanced",_=j;function k(){this.saveGraphicsState(),Y(new Tt(Ft,0,0,-Ft,0,yc()*Ft).toString()+" cm"),this.setFontSize(this.getFontSize()/Ft),u="n",_=A}function I(){this.restoreGraphicsState(),u="S",_=j}var T=h.__private__.combineFontStyleAndFontWeight=function(N,B){if(N=="bold"&&B=="normal"||N=="bold"&&B==400||N=="normal"&&B=="italic"||N=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(N=B==400||B==="normal"?N==="italic"?"italic":"normal":B!=700&&B!=="bold"||N!=="normal"?(B==700?"bold":B)+""+N:"bold"),N};h.advancedAPI=function(N){var B=_===j;return B&&k.call(this),typeof N!="function"||(N(this),B&&I.call(this)),this},h.compatAPI=function(N){var B=_===A;return B&&I.call(this),typeof N!="function"||(N(this),B&&k.call(this)),this},h.isAdvancedAPI=function(){return _===A};var M,O=function(N){if(_!==A)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=h.roundToPrecision=h.__private__.roundToPrecision=function(N,B){var se=t||B;if(isNaN(N)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(se).replace(/0+$/,"")};M=h.hpf=h.__private__.hpf=typeof c=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return U(N,c)}:c==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return U(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return U(N,16)};var P=h.f2=h.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return U(N,2)},C=h.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return U(N,3)},F=h.scale=h.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return _===j?N*Ft:_===A?N:void 0},V=function(N){return F((function(B){return _===j?yc()-B:_===A?B:void 0})(N))};h.__private__.setPrecision=h.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(t=parseInt(N,10))};var te,de="00000000000000000000000000000000",me=h.__private__.getFileId=function(){return de},ue=h.__private__.setFileId=function(N){return de=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Un=new Zu(d.userPermissions,d.userPassword,d.ownerPassword,de)),de};h.setFileId=function(N){return ue(N),this},h.getFileId=function(){return me()};var he=h.__private__.convertDateToPDFDate=function(N){var B=N.getTimezoneOffset(),se=B<0?"+":"-",fe=Math.floor(Math.abs(B/60)),be=Math.abs(B%60),Le=[se,L(fe),"'",L(be),"'"].join("");return["D:",N.getFullYear(),L(N.getMonth()+1),L(N.getDate()),L(N.getHours()),L(N.getMinutes()),L(N.getSeconds()),Le].join("")},Ne=h.__private__.convertPDFDateToDate=function(N){var B=parseInt(N.substr(2,4),10),se=parseInt(N.substr(6,2),10)-1,fe=parseInt(N.substr(8,2),10),be=parseInt(N.substr(10,2),10),Le=parseInt(N.substr(12,2),10),Ue=parseInt(N.substr(14,2),10);return new Date(B,se,fe,be,Le,Ue,0)},Ee=h.__private__.setCreationDate=function(N){var B;if(N===void 0&&(N=new Date),N instanceof Date)B=he(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=N}return te=B},E=h.__private__.getCreationDate=function(N){var B=te;return N==="jsDate"&&(B=Ne(te)),B};h.setCreationDate=function(N){return Ee(N),this},h.getCreationDate=function(N){return E(N)};var R,L=h.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},z=h.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},J=0,le=[],xe=[],Q=0,ce=[],je=[],pe=!1,ze=xe;h.__private__.setCustomOutputDestination=function(N){pe=!0,ze=N};var Te=function(N){pe||(ze=N)};h.__private__.resetCustomOutputDestination=function(){pe=!1,ze=xe};var Y=h.__private__.out=function(N){return N=N.toString(),Q+=N.length+1,ze.push(N),ze},qe=h.__private__.write=function(N){return Y(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},Oe=h.__private__.getArrayBuffer=function(N){for(var B=N.length,se=new ArrayBuffer(B),fe=new Uint8Array(se);B--;)fe[B]=N.charCodeAt(B);return se},et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return et};var Re=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(N){return Re=_===A?N/Ft:N,this};var Nt,ot=h.__private__.getFontSize=h.getFontSize=function(){return _===j?Re:Re*Ft},kt=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(N){return kt=N,this},h.__private__.getR2L=h.getR2L=function(){return kt};var jt,qt=h.__private__.setZoomMode=function(N){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))Nt=N;else if(isNaN(N)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');Nt=N}else Nt=parseInt(N,10)};h.__private__.getZoomMode=function(){return Nt};var zt,It=h.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');jt=N};h.__private__.getPageMode=function(){return jt};var Kt=h.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');zt=N};h.__private__.getLayoutMode=function(){return zt},h.__private__.setDisplayMode=h.setDisplayMode=function(N,B,se){return qt(N),Kt(B),It(se),this};var Rt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(N){if(Object.keys(Rt).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Rt[N]},h.__private__.getDocumentProperties=function(){return Rt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(N){for(var B in Rt)Rt.hasOwnProperty(B)&&N[B]&&(Rt[B]=N[B]);return this},h.__private__.setDocumentProperty=function(N,B){if(Object.keys(Rt).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Rt[N]=B};var vt,Ft,wt,Rr,Qt,Ut={},Wt={},Ar=[],Pt={},hr={},Ke={},at={},ut=null,ct=0,ft=[],dt=new r6(h),ls=e.hotfixes||[],Cn={},bi={},Pa=[],Tt=function N(B,se,fe,be,Le,Ue){if(!(this instanceof N))return new N(B,se,fe,be,Le,Ue);isNaN(B)&&(B=1),isNaN(se)&&(se=0),isNaN(fe)&&(fe=0),isNaN(be)&&(be=1),isNaN(Le)&&(Le=0),isNaN(Ue)&&(Ue=0),this._matrix=[B,se,fe,be,Le,Ue]};Object.defineProperty(Tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(Tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(Tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(Tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(Tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(Tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(Tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(Tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(Tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(Tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(Tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(Tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(Tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Tt.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(N)},Tt.prototype.multiply=function(N){var B=N.sx*this.sx+N.shy*this.shx,se=N.sx*this.shy+N.shy*this.sy,fe=N.shx*this.sx+N.sy*this.shx,be=N.shx*this.shy+N.sy*this.sy,Le=N.tx*this.sx+N.ty*this.shx+this.tx,Ue=N.tx*this.shy+N.ty*this.sy+this.ty;return new Tt(B,se,fe,be,Le,Ue)},Tt.prototype.decompose=function(){var N=this.sx,B=this.shy,se=this.shx,fe=this.sy,be=this.tx,Le=this.ty,Ue=Math.sqrt(N*N+B*B),bt=(N/=Ue)*se+(B/=Ue)*fe;se-=N*bt,fe-=B*bt;var Ct=Math.sqrt(se*se+fe*fe);return bt/=Ct,N*(fe/=Ct)<B*(se/=Ct)&&(N=-N,B=-B,bt=-bt,Ue=-Ue),{scale:new Tt(Ue,0,0,Ct,0,0),translate:new Tt(1,0,0,1,be,Le),rotate:new Tt(N,B,-B,N,0,0),skew:new Tt(1,0,bt,1,0,0)}},Tt.prototype.toString=function(N){return this.join(" ")},Tt.prototype.inversed=function(){var N=this.sx,B=this.shy,se=this.shx,fe=this.sy,be=this.tx,Le=this.ty,Ue=1/(N*fe-B*se),bt=fe*Ue,Ct=-B*Ue,Bt=-se*Ue,Gt=N*Ue;return new Tt(bt,Ct,Bt,Gt,-bt*be-Bt*Le,-Ct*be-Gt*Le)},Tt.prototype.applyToPoint=function(N){var B=N.x*this.sx+N.y*this.shx+this.tx,se=N.x*this.shy+N.y*this.sy+this.ty;return new yo(B,se)},Tt.prototype.applyToRectangle=function(N){var B=this.applyToPoint(N),se=this.applyToPoint(new yo(N.x+N.w,N.y+N.h));return new Jd(B.x,B.y,se.x-B.x,se.y-B.y)},Tt.prototype.clone=function(){var N=this.sx,B=this.shy,se=this.shx,fe=this.sy,be=this.tx,Le=this.ty;return new Tt(N,B,se,fe,be,Le)},h.Matrix=Tt;var cs=h.matrixMult=function(N,B){return B.multiply(N)},us=new Tt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=us;var Ea=function(N,B){if(!hr[N]){var se=(B instanceof Lc?"Sh":"P")+(Object.keys(Pt).length+1).toString(10);B.id=se,hr[N]=se,Pt[se]=B,dt.publish("addPattern",B)}};h.ShadingPattern=Lc,h.TilingPattern=rd,h.addShadingPattern=function(N,B){return O("addShadingPattern()"),Ea(N,B),this},h.beginTilingPattern=function(N){O("beginTilingPattern()"),Qd(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},h.endTilingPattern=function(N,B){O("endTilingPattern()"),B.stream=je[R].join(`
`),Ea(N,B),dt.publish("endTilingPattern",B),Pa.pop().restore()};var si,Kr=h.__private__.newObject=function(){var N=Pn();return W(N,!0),N},Pn=h.__private__.newObjectDeferred=function(){return J++,le[J]=function(){return Q},J},W=function(N,B){return B=typeof B=="boolean"&&B,le[N]=Q,B&&Y(N+" 0 obj"),N},ae=h.__private__.newAdditionalObject=function(){var N={objId:Pn(),content:""};return ce.push(N),N},X=Pn(),ee=Pn(),ie=h.__private__.decodeColorString=function(N){var B=N.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length!==5||B[4]!=="k"&&B[4]!=="K"||(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var se=parseFloat(B[0]);B=[se,se,se,"r"]}for(var fe="#",be=0;be<3;be++)fe+=("0"+Math.floor(255*parseFloat(B[be])).toString(16)).slice(-2);return fe},oe=h.__private__.encodeColorString=function(N){var B;typeof N=="string"&&(N={ch1:N});var se=N.ch1,fe=N.ch2,be=N.ch3,Le=N.ch4,Ue=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var bt=new KO(se);if(bt.ok)se=bt.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var Ct=parseInt(se.substr(1),16);se=Ct>>16&255,fe=Ct>>8&255,be=255&Ct}if(fe===void 0||Le===void 0&&se===fe&&fe===be)B=typeof se=="string"?se+" "+Ue[0]:N.precision===2?P(se/255)+" "+Ue[0]:C(se/255)+" "+Ue[0];else if(Le===void 0||Nr(Le)==="object"){if(Le&&!isNaN(Le.a)&&Le.a===0)return["1.","1.","1.",Ue[1]].join(" ");B=typeof se=="string"?[se,fe,be,Ue[1]].join(" "):N.precision===2?[P(se/255),P(fe/255),P(be/255),Ue[1]].join(" "):[C(se/255),C(fe/255),C(be/255),Ue[1]].join(" ")}else B=typeof se=="string"?[se,fe,be,Le,Ue[2]].join(" "):N.precision===2?[P(se),P(fe),P(be),P(Le),Ue[2]].join(" "):[C(se),C(fe),C(be),C(Le),Ue[2]].join(" ");return B},we=h.__private__.getFilters=function(){return o},De=h.__private__.putStream=function(N){var B=(N=N||{}).data||"",se=N.filters||we(),fe=N.alreadyAppliedFilters||[],be=N.addLength1||!1,Le=B.length,Ue=N.objectId,bt=function(Wn){return Wn};if(d!==null&&Ue===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(bt=Un.encryptor(Ue,0));var Ct={};se===!0&&(se=["FlateEncode"]);var Bt=N.additionalKeyValues||[],Gt=(Ct=yt.API.processDataByFilters!==void 0?yt.API.processDataByFilters(B,se):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(Ct.data.length!==0&&(Bt.push({key:"Length",value:Ct.data.length}),be===!0&&Bt.push({key:"Length1",value:Le})),Gt.length!=0)if(Gt.split("/").length-1==1)Bt.push({key:"Filter",value:Gt});else{Bt.push({key:"Filter",value:"["+Gt+"]"});for(var sr=0;sr<Bt.length;sr+=1)if(Bt[sr].key==="DecodeParms"){for(var en=[],Tn=0;Tn<Ct.reverseChain.split("/").length-1;Tn+=1)en.push("null");en.push(Bt[sr].value),Bt[sr].value="["+en.join(" ")+"]"}}Y("<<");for(var Br=0;Br<Bt.length;Br++)Y("/"+Bt[Br].key+" "+Bt[Br].value);Y(">>"),Ct.data.length!==0&&(Y("stream"),Y(bt(Ct.data)),Y("endstream"))},_e=h.__private__.putPage=function(N){var B=N.number,se=N.data,fe=N.objId,be=N.contentsObjId;W(fe,!0),Y("<</Type /Page"),Y("/Parent "+N.rootDictionaryObjId+" 0 R"),Y("/Resources "+N.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(M(N.mediaBox.bottomLeftX))+" "+parseFloat(M(N.mediaBox.bottomLeftY))+" "+M(N.mediaBox.topRightX)+" "+M(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&Y("/CropBox ["+M(N.cropBox.bottomLeftX)+" "+M(N.cropBox.bottomLeftY)+" "+M(N.cropBox.topRightX)+" "+M(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&Y("/BleedBox ["+M(N.bleedBox.bottomLeftX)+" "+M(N.bleedBox.bottomLeftY)+" "+M(N.bleedBox.topRightX)+" "+M(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&Y("/TrimBox ["+M(N.trimBox.bottomLeftX)+" "+M(N.trimBox.bottomLeftY)+" "+M(N.trimBox.topRightX)+" "+M(N.trimBox.topRightY)+"]"),N.artBox!==null&&Y("/ArtBox ["+M(N.artBox.bottomLeftX)+" "+M(N.artBox.bottomLeftY)+" "+M(N.artBox.topRightX)+" "+M(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&Y("/UserUnit "+N.userUnit),dt.publish("putPage",{objId:fe,pageContext:ft[B],pageNumber:B,page:se}),Y("/Contents "+be+" 0 R"),Y(">>"),Y("endobj");var Le=se.join(`
`);return _===A&&(Le+=`
Q`),W(be,!0),De({data:Le,filters:we(),objectId:be}),Y("endobj"),fe},Se=h.__private__.putPages=function(){var N,B,se=[];for(N=1;N<=ct;N++)ft[N].objId=Pn(),ft[N].contentsObjId=Pn();for(N=1;N<=ct;N++)se.push(_e({number:N,data:je[N],objId:ft[N].objId,contentsObjId:ft[N].contentsObjId,mediaBox:ft[N].mediaBox,cropBox:ft[N].cropBox,bleedBox:ft[N].bleedBox,trimBox:ft[N].trimBox,artBox:ft[N].artBox,userUnit:ft[N].userUnit,rootDictionaryObjId:X,resourceDictionaryObjId:ee}));W(X,!0),Y("<</Type /Pages");var fe="/Kids [";for(B=0;B<ct;B++)fe+=se[B]+" 0 R ";Y(fe+"]"),Y("/Count "+ct),Y(">>"),Y("endobj"),dt.publish("postPutPages")},ke=function(N){dt.publish("putFont",{font:N,out:Y,newObject:Kr,putStream:De}),N.isAlreadyPutted!==!0&&(N.objectNumber=Kr(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+Ju(N.postScriptName)),Y("/Subtype /Type1"),typeof N.encoding=="string"&&Y("/Encoding /"+N.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},He=function(N){N.objectNumber=Kr();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[M(N.x),M(N.y),M(N.x+N.width),M(N.y+N.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var se=N.pages[1].join(`
`);De({data:se,additionalKeyValues:B,objectId:N.objectNumber}),Y("endobj")},Je=function(N,B){B||(B=21);var se=Kr(),fe=(function(Ue,bt){var Ct,Bt=[],Gt=1/(bt-1);for(Ct=0;Ct<1;Ct+=Gt)Bt.push(Ct);if(Bt.push(1),Ue[0].offset!=0){var sr={offset:0,color:Ue[0].color};Ue.unshift(sr)}if(Ue[Ue.length-1].offset!=1){var en={offset:1,color:Ue[Ue.length-1].color};Ue.push(en)}for(var Tn="",Br=0,Wn=0;Wn<Bt.length;Wn++){for(Ct=Bt[Wn];Ct>Ue[Br+1].offset;)Br++;var On=Ue[Br].offset,pa=(Ct-On)/(Ue[Br+1].offset-On),jo=Ue[Br].color,hs=Ue[Br+1].color;Tn+=z(Math.round((1-pa)*jo[0]+pa*hs[0]).toString(16))+z(Math.round((1-pa)*jo[1]+pa*hs[1]).toString(16))+z(Math.round((1-pa)*jo[2]+pa*hs[2]).toString(16))}return Tn.trim()})(N.colors,B),be=[];be.push({key:"FunctionType",value:"0"}),be.push({key:"Domain",value:"[0.0 1.0]"}),be.push({key:"Size",value:"["+B+"]"}),be.push({key:"BitsPerSample",value:"8"}),be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De({data:fe,additionalKeyValues:be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),Y("endobj"),N.objectNumber=Kr(),Y("<< /ShadingType "+N.type),Y("/ColorSpace /DeviceRGB");var Le="/Coords ["+M(parseFloat(N.coords[0]))+" "+M(parseFloat(N.coords[1]))+" ";N.type===2?Le+=M(parseFloat(N.coords[2]))+" "+M(parseFloat(N.coords[3])):Le+=M(parseFloat(N.coords[2]))+" "+M(parseFloat(N.coords[3]))+" "+M(parseFloat(N.coords[4]))+" "+M(parseFloat(N.coords[5])),Y(Le+="]"),N.matrix&&Y("/Matrix ["+N.matrix.toString()+"]"),Y("/Function "+se+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},st=function(N,B){var se=Pn(),fe=Kr();B.push({resourcesOid:se,objectOid:fe}),N.objectNumber=fe;var be=[];be.push({key:"Type",value:"/Pattern"}),be.push({key:"PatternType",value:"1"}),be.push({key:"PaintType",value:"1"}),be.push({key:"TilingType",value:"1"}),be.push({key:"BBox",value:"["+N.boundingBox.map(M).join(" ")+"]"}),be.push({key:"XStep",value:M(N.xStep)}),be.push({key:"YStep",value:M(N.yStep)}),be.push({key:"Resources",value:se+" 0 R"}),N.matrix&&be.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),De({data:N.stream,additionalKeyValues:be,objectId:N.objectNumber}),Y("endobj")},Xe=function(N){for(var B in N.objectNumber=Kr(),Y("<<"),N)switch(B){case"opacity":Y("/ca "+P(N[B]));break;case"stroke-opacity":Y("/CA "+P(N[B]))}Y(">>"),Y("endobj")},it=function(N){W(N.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var B in Y("/Font <<"),Ut)Ut.hasOwnProperty(B)&&(f===!1||f===!0&&m.hasOwnProperty(B))&&Y("/"+B+" "+Ut[B].objectNumber+" 0 R");Y(">>")})(),(function(){if(Object.keys(Pt).length>0){for(var B in Y("/Shading <<"),Pt)Pt.hasOwnProperty(B)&&Pt[B]instanceof Lc&&Pt[B].objectNumber>=0&&Y("/"+B+" "+Pt[B].objectNumber+" 0 R");dt.publish("putShadingPatternDict"),Y(">>")}})(),(function(B){if(Object.keys(Pt).length>0){for(var se in Y("/Pattern <<"),Pt)Pt.hasOwnProperty(se)&&Pt[se]instanceof h.TilingPattern&&Pt[se].objectNumber>=0&&Pt[se].objectNumber<B&&Y("/"+se+" "+Pt[se].objectNumber+" 0 R");dt.publish("putTilingPatternDict"),Y(">>")}})(N.objectOid),(function(){if(Object.keys(Ke).length>0){var B;for(B in Y("/ExtGState <<"),Ke)Ke.hasOwnProperty(B)&&Ke[B].objectNumber>=0&&Y("/"+B+" "+Ke[B].objectNumber+" 0 R");dt.publish("putGStateDict"),Y(">>")}})(),(function(){for(var B in Y("/XObject <<"),Cn)Cn.hasOwnProperty(B)&&Cn[B].objectNumber>=0&&Y("/"+B+" "+Cn[B].objectNumber+" 0 R");dt.publish("putXobjectDict"),Y(">>")})(),Y(">>"),Y("endobj")},Mt=function(N){Wt[N.fontName]=Wt[N.fontName]||{},Wt[N.fontName][N.fontStyle]=N.id},Sr=function(N,B,se,fe,be){var Le={id:"F"+(Object.keys(Ut).length+1).toString(10),postScriptName:N,fontName:B,fontStyle:se,encoding:fe,isStandardFont:be||!1,metadata:{}};return dt.publish("addFont",{font:Le,instance:this}),Ut[Le.id]=Le,Mt(Le),Le.id},tr=h.__private__.pdfEscape=h.pdfEscape=function(N,B){return(function(se,fe){var be,Le,Ue,bt,Ct,Bt,Gt,sr,en;if(Ue=(fe=fe||{}).sourceEncoding||"Unicode",Ct=fe.outputEncoding,(fe.autoencode||Ct)&&Ut[vt].metadata&&Ut[vt].metadata[Ue]&&Ut[vt].metadata[Ue].encoding&&(bt=Ut[vt].metadata[Ue].encoding,!Ct&&Ut[vt].encoding&&(Ct=Ut[vt].encoding),!Ct&&bt.codePages&&(Ct=bt.codePages[0]),typeof Ct=="string"&&(Ct=bt[Ct]),Ct)){for(Gt=!1,Bt=[],be=0,Le=se.length;be<Le;be++)(sr=Ct[se.charCodeAt(be)])?Bt.push(String.fromCharCode(sr)):Bt.push(se[be]),Bt[be].charCodeAt(0)>>8&&(Gt=!0);se=Bt.join("")}for(be=se.length;Gt===void 0&&be!==0;)se.charCodeAt(be-1)>>8&&(Gt=!0),be--;if(!Gt)return se;for(Bt=fe.noBOM?[]:[254,255],be=0,Le=se.length;be<Le;be++){if((en=(sr=se.charCodeAt(be))>>8)>>8)throw new Error("Character at position "+be+" of string '"+se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Bt.push(en),Bt.push(sr-(en<<8))}return String.fromCharCode.apply(void 0,Bt)})(N,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ln=h.__private__.beginPage=function(N){je[++ct]=[],ft[ct]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},Os(ct),Te(je[R])},Ts=function(N,B){var se,fe,be;switch(r=B||r,typeof N=="string"&&(se=b(N.toLowerCase()),Array.isArray(se)&&(fe=se[0],be=se[1])),Array.isArray(N)&&(fe=N[0]*Ft,be=N[1]*Ft),isNaN(fe)&&(fe=a[0],be=a[1]),(fe>14400||be>14400)&&(Fr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),be=Math.min(14400,be)),a=[fe,be],r.substr(0,1)){case"l":be>fe&&(a=[be,fe]);break;case"p":fe>be&&(a=[be,fe])}ln(a),$t(Kd),Y(Eu),Xd!==0&&Y(Xd+" J"),Zd!==0&&Y(Zd+" j"),dt.publish("addPage",{pageNumber:ct})},ds=function(N){N>0&&N<=ct&&(je.splice(N,1),ft.splice(N,1),ct--,R>ct&&(R=ct),this.setPage(R))},Os=function(N){N>0&&N<=ct&&(R=N)},Ui=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return je.length-1},vl=function(N,B,se){var fe,be=void 0;return se=se||{},N=N!==void 0?N:Ut[vt].fontName,B=B!==void 0?B:Ut[vt].fontStyle,fe=N.toLowerCase(),Wt[fe]!==void 0&&Wt[fe][B]!==void 0?be=Wt[fe][B]:Wt[N]!==void 0&&Wt[N][B]!==void 0?be=Wt[N][B]:se.disableWarning===!1&&Fr.warn("Unable to look up font label for font '"+N+"', '"+B+"'. Refer to getFontList() for available fonts."),be||se.noFallback||(be=Wt.times[B])==null&&(be=Wt.times.normal),be},En=h.__private__.putInfo=function(){var N=Kr(),B=function(fe){return fe};for(var se in d!==null&&(B=Un.encryptor(N,0)),Y("<<"),Y("/Producer ("+tr(B("jsPDF "+yt.version))+")"),Rt)Rt.hasOwnProperty(se)&&Rt[se]&&Y("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+tr(B(Rt[se]))+")");Y("/CreationDate ("+tr(B(te))+")"),Y(">>"),Y("endobj")},Su=h.__private__.putCatalog=function(N){var B=(N=N||{}).rootDictionaryObjId||X;switch(Kr(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+B+" 0 R"),Nt||(Nt="fullwidth"),Nt){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+Nt;se.substr(se.length-1)==="%"&&(Nt=parseInt(Nt)/100),typeof Nt=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+P(Nt)+"]")}switch(zt||(zt="continuous"),zt){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}jt&&Y("/PageMode /"+jt),dt.publish("putCatalog"),Y(">>"),Y("endobj")},$1=h.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(J+1)),Y("/Root "+J+" 0 R"),Y("/Info "+(J-1)+" 0 R"),d!==null&&Y("/Encrypt "+Un.oid+" 0 R"),Y("/ID [ <"+de+"> <"+de+"> ]"),Y(">>")},kn=h.__private__.putHeader=function(){Y("%PDF-"+g),Y("%ºß¬à")},o0=h.__private__.putXRef=function(){var N="0000000000";Y("xref"),Y("0 "+(J+1)),Y("0000000000 65535 f ");for(var B=1;B<=J;B++)typeof le[B]=="function"?Y((N+le[B]()).slice(-10)+" 00000 n "):le[B]!==void 0?Y((N+le[B]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},Ds=h.__private__.buildDocument=function(){var N;J=0,Q=0,xe=[],le=[],ce=[],X=Pn(),ee=Pn(),Te(xe),dt.publish("buildDocument"),kn(),Se(),(function(){dt.publish("putAdditionalObjects");for(var se=0;se<ce.length;se++){var fe=ce[se];W(fe.objId,!0),Y(fe.content),Y("endobj")}dt.publish("postPutAdditionalObjects")})(),N=[],(function(){for(var se in Ut)Ut.hasOwnProperty(se)&&(f===!1||f===!0&&m.hasOwnProperty(se))&&ke(Ut[se])})(),(function(){var se;for(se in Ke)Ke.hasOwnProperty(se)&&Xe(Ke[se])})(),(function(){for(var se in Cn)Cn.hasOwnProperty(se)&&He(Cn[se])})(),(function(se){var fe;for(fe in Pt)Pt.hasOwnProperty(fe)&&(Pt[fe]instanceof Lc?Je(Pt[fe]):Pt[fe]instanceof rd&&st(Pt[fe],se))})(N),dt.publish("putResources"),N.forEach(it),it({resourcesOid:ee,objectOid:Number.MAX_SAFE_INTEGER}),dt.publish("postPutResources"),d!==null&&(Un.oid=Kr(),Y("<<"),Y("/Filter /Standard"),Y("/V "+Un.v),Y("/R "+Un.r),Y("/U <"+Un.toHexString(Un.U)+">"),Y("/O <"+Un.toHexString(Un.O)+">"),Y("/P "+Un.P),Y(">>"),Y("endobj")),En(),Su();var B=Q;return o0(),$1(),Y("startxref"),Y(""+B),Y("%%EOF"),Te(je[R]),xe.join(`
`)},Cu=h.__private__.getBlob=function(N){return new Blob([Oe(N)],{type:"application/pdf"})},l0=h.output=h.__private__.output=(si=function(N,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",N){case void 0:return Ds();case"save":h.save(B.filename);break;case"arraybuffer":return Oe(Ds());case"blob":return Cu(Ds());case"bloburi":case"bloburl":if(Lt.URL!==void 0&&typeof Lt.URL.createObjectURL=="function")return Lt.URL&&Lt.URL.createObjectURL(Cu(Ds()))||void 0;Fr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",fe=Ds();try{se=QA(fe)}catch{se=QA(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+B.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Lt)==="[object Window]"){var be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Le=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(be=B.pdfObjectUrl,Le="");var Ue='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+be+'"'+Le+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",bt=Lt.open();return bt!==null&&bt.document.write(Ue),bt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Lt)==="[object Window]"){var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',Bt=Lt.open();if(Bt!==null){Bt.document.write(Ct);var Gt=this;Bt.document.documentElement.querySelector("#pdfViewer").onload=function(){Bt.document.title=B.filename,Bt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Gt.output("bloburl"))}}return Bt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var sr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',en=Lt.open();if(en!==null&&(en.document.write(sr),en.document.title=B.filename),en||typeof safari>"u")return en;break;case"datauri":case"dataurl":return Lt.document.location.href=this.output("datauristring",B);default:return null}},si.foo=function(){try{return si.apply(this,arguments)}catch(se){var N=se.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var B="Error in function "+N.split(`
`)[0].split("<")[0]+": "+se.message;if(!Lt.console)throw new Error(B);Lt.console.error(B,se),Lt.alert&&alert(B)}},si.foo.bar=si,si.foo),Wi=function(N){return Array.isArray(ls)===!0&&ls.indexOf(N)>-1};switch(n){case"pt":Ft=1;break;case"mm":Ft=72/25.4;break;case"cm":Ft=72/2.54;break;case"in":Ft=72;break;case"px":Ft=Wi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ft=12;break;case"ex":Ft=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ft=n}var Un=null;Ee(),ue();var xo=h.__private__.getPageInfo=h.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ft[N].objId,pageNumber:N,pageContext:ft[N]}},c0=h.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in ft)if(ft[B].objId===N)break;return xo(B)},U1=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:ft[R].objId,pageNumber:R,pageContext:ft[R]}};h.addPage=function(){return Ts.apply(this,arguments),this},h.setPage=function(){return Os.apply(this,arguments),Te.call(this,je[R]),this},h.insertPage=function(N){return this.addPage(),this.movePage(R,N),this},h.movePage=function(N,B){var se,fe;if(N>B){se=je[N],fe=ft[N];for(var be=N;be>B;be--)je[be]=je[be-1],ft[be]=ft[be-1];je[B]=se,ft[B]=fe,this.setPage(B)}else if(N<B){se=je[N],fe=ft[N];for(var Le=N;Le<B;Le++)je[Le]=je[Le+1],ft[Le]=ft[Le+1];je[B]=se,ft[B]=fe,this.setPage(B)}return this},h.deletePage=function(){return ds.apply(this,arguments),this},h.__private__.text=h.text=function(N,B,se,fe,be){var Le,Ue,bt,Ct,Bt,Gt,sr,en,Tn,Br=(fe=fe||{}).scope||this;if(typeof N=="number"&&typeof B=="number"&&(typeof se=="string"||Array.isArray(se))){var Wn=se;se=B,B=N,N=Wn}if(arguments[3]instanceof Tt==0?(bt=arguments[4],Ct=arguments[5],Nr(sr=arguments[3])==="object"&&sr!==null||(typeof bt=="string"&&(Ct=bt,bt=null),typeof sr=="string"&&(Ct=sr,sr=null),typeof sr=="number"&&(bt=sr,sr=null),fe={flags:sr,angle:bt,align:Ct})):(O("The transform parameter of text() with a Matrix value"),Tn=be),isNaN(B)||isNaN(se)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return Br;var On,pa="",jo=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:gc,hs=Br.internal.scaleFactor;function _o(pr){return pr=pr.split("	").join(Array(fe.TabLen||9).join(" ")),tr(pr,sr)}function tf(pr){for(var Ir,bn=pr.concat(),Hn=[],Co=bn.length;Co--;)typeof(Ir=bn.shift())=="string"?Hn.push(Ir):Array.isArray(pr)&&(Ir.length===1||Ir[1]===void 0&&Ir[2]===void 0)?Hn.push(Ir[0]):Hn.push([Ir[0],Ir[1],Ir[2]]);return Hn}function Tu(pr,Ir){var bn;if(typeof pr=="string")bn=Ir(pr)[0];else if(Array.isArray(pr)){for(var Hn,Co,ff=pr.concat(),Iu=[],y0=ff.length;y0--;)typeof(Hn=ff.shift())=="string"?Iu.push(Ir(Hn)[0]):Array.isArray(Hn)&&typeof Hn[0]=="string"&&(Co=Ir(Hn[0],Hn[1],Hn[2]),Iu.push([Co[0],Co[1],Co[2]]));bn=Iu}return bn}var bl=!1,wc=!0;if(typeof N=="string")bl=!0;else if(Array.isArray(N)){var Nc=N.concat();Ue=[];for(var yl,xa=Nc.length;xa--;)(typeof(yl=Nc.shift())!="string"||Array.isArray(yl)&&typeof yl[0]!="string")&&(wc=!1);bl=wc}if(bl===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var jc=Re/Br.internal.scaleFactor,_c=jc*(jo-1);switch(fe.baseline){case"bottom":se-=_c;break;case"top":se+=jc-_c;break;case"hanging":se+=jc-2*_c;break;case"middle":se+=jc/2-_c}if((Gt=fe.maxWidth||0)>0&&(typeof N=="string"?N=Br.splitTextToSize(N,Gt):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(pr,Ir){return pr.concat(Br.splitTextToSize(Ir,Gt))},[]))),Le={text:N,x:B,y:se,options:fe,mutex:{pdfEscape:tr,activeFontKey:vt,fonts:Ut,activeFontSize:Re}},dt.publish("preProcessText",Le),N=Le.text,bt=(fe=Le.options).angle,Tn instanceof Tt==0&&bt&&typeof bt=="number"){bt*=Math.PI/180,fe.rotationDirection===0&&(bt=-bt),_===A&&(bt=-bt);var rf=Math.cos(bt),nf=Math.sin(bt);Tn=new Tt(rf,nf,-nf,rf,0,0)}else bt&&bt instanceof Tt&&(Tn=bt);_!==A||Tn||(Tn=us),(Bt=fe.charSpace||bo)!==void 0&&(pa+=M(F(Bt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(en=fe.horizontalScale)!==void 0&&(pa+=M(100*en)+` Tz
`),fe.lang;var Wa=-1,Ao=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,Ou=Br.internal.getCurrentPageInfo().pageContext;switch(Ao){case 0:case!1:case"fill":Wa=0;break;case 1:case!0:case"stroke":Wa=1;break;case 2:case"fillThenStroke":Wa=2;break;case 3:case"invisible":Wa=3;break;case 4:case"fillAndAddForClipping":Wa=4;break;case 5:case"strokeAndAddPathForClipping":Wa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Wa=6;break;case 7:case"addToPathForClipping":Wa=7}var v0=Ou.usedRenderingMode!==void 0?Ou.usedRenderingMode:-1;Wa!==-1?pa+=Wa+` Tr
`:v0!==-1&&(pa+=`0 Tr
`),Wa!==-1&&(Ou.usedRenderingMode=Wa),Ct=fe.align||"left";var Hi,Ac=Re*jo,af=Br.internal.pageSize.getWidth(),sf=Ut[vt];Bt=fe.charSpace||bo,Gt=fe.maxWidth||0,sr=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var wl=[],Sc=function(pr){return Br.getStringUnitWidth(pr,{font:sf,charSpace:Bt,fontSize:Re,doKerning:!1})*Re/hs};if(Object.prototype.toString.call(N)==="[object Array]"){var yi;Ue=tf(N),Ct!=="left"&&(Hi=Ue.map(Sc));var wi,Nl=0;if(Ct==="right"){B-=Hi[0],N=[],xa=Ue.length;for(var So=0;So<xa;So++)So===0?(wi=go(B),yi=vo(se)):(wi=F(Nl-Hi[So]),yi=-Ac),N.push([Ue[So],wi,yi]),Nl=Hi[So]}else if(Ct==="center"){B-=Hi[0]/2,N=[],xa=Ue.length;for(var jl=0;jl<xa;jl++)jl===0?(wi=go(B),yi=vo(se)):(wi=F((Nl-Hi[jl])/2),yi=-Ac),N.push([Ue[jl],wi,yi]),Nl=Hi[jl]}else if(Ct==="left"){N=[],xa=Ue.length;for(var of=0;of<xa;of++)N.push(Ue[of])}else if(Ct==="justify"&&sf.encoding==="Identity-H"){N=[],xa=Ue.length,Gt=Gt!==0?Gt:af;for(var Du=0,vn=0;vn<xa;vn++)if(yi=vn===0?vo(se):-Ac,wi=vn===0?go(B):Du,vn<xa-1){var b0=F((Gt-Hi[vn])/(Ue[vn].split(" ").length-1)),Ms=Ue[vn].split(" ");N.push([Ms[0]+" ",wi,yi]),Du=0;for(var Fs=1;Fs<Ms.length;Fs++){var lf=(Sc(Ms[Fs-1]+" "+Ms[Fs])-Sc(Ms[Fs]))*hs+b0;Fs==Ms.length-1?N.push([Ms[Fs],lf,0]):N.push([Ms[Fs]+" ",lf,0]),Du-=lf}}else N.push([Ue[vn],wi,yi]);N.push(["",Du,0])}else{if(Ct!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],xa=Ue.length,Gt=Gt!==0?Gt:af,vn=0;vn<xa;vn++){yi=vn===0?vo(se):-Ac,wi=vn===0?go(B):0;var cf=Ue[vn].split(" ").length-1,uf=cf>0?(Gt-Hi[vn])/cf:0;vn<xa-1?wl.push(M(F(uf))):wl.push(0),N.push([Ue[vn],wi,yi])}}}(typeof fe.R2L=="boolean"?fe.R2L:kt)===!0&&(N=Tu(N,function(pr,Ir,bn){return[pr.split("").reverse().join(""),Ir,bn]})),Le={text:N,x:B,y:se,options:fe,mutex:{pdfEscape:tr,activeFontKey:vt,fonts:Ut,activeFontSize:Re}},dt.publish("postProcessText",Le),N=Le.text,On=Le.mutex.isHex||!1;var df=Ut[vt].encoding;df!=="WinAnsiEncoding"&&df!=="StandardEncoding"||(N=Tu(N,function(pr,Ir,bn){return[_o(pr),Ir,bn]})),Ue=tf(N),N=[];for(var _l,Al,Sl,Cc=Array.isArray(Ue[0])?1:0,Cl="",Pc=function(pr,Ir,bn){var Hn="";return bn instanceof Tt?(bn=typeof fe.angle=="number"?cs(bn,new Tt(1,0,0,1,pr,Ir)):cs(new Tt(1,0,0,1,pr,Ir),bn),_===A&&(bn=cs(new Tt(1,0,0,-1,0,0),bn)),Hn=bn.join(" ")+` Tm
`):Hn=M(pr)+" "+M(Ir)+` Td
`,Hn},Vi=0;Vi<Ue.length;Vi++){switch(Cl="",Cc){case 1:Sl=(On?"<":"(")+Ue[Vi][0]+(On?">":")"),_l=parseFloat(Ue[Vi][1]),Al=parseFloat(Ue[Vi][2]);break;case 0:Sl=(On?"<":"(")+Ue[Vi]+(On?">":")"),_l=go(B),Al=vo(se)}wl!==void 0&&wl[Vi]!==void 0&&(Cl=wl[Vi]+` Tw
`),Vi===0?N.push(Cl+Pc(_l,Al,Tn)+Sl):Cc===0?N.push(Cl+Sl):Cc===1&&N.push(Cl+Pc(_l,Al,Tn)+Sl)}N=Cc===0?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var Ls=`BT
/`;return Ls+=vt+" "+Re+` Tf
`,Ls+=M(Re*jo)+` TL
`,Ls+=vc+`
`,Ls+=pa,Ls+=N,Y(Ls+="ET"),m[vt]=!0,Br};var W1=h.__private__.clip=h.clip=function(N){return Y(N==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return W1("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Y("n"),this};var Is=h.__private__.isValidStyle=function(N){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(B=!0),B};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(N){return Is(N)&&(u=N),this};var u0=h.__private__.getStyle=h.getStyle=function(N){var B=u;switch(N){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=N}return B},d0=h.close=function(){return Y("h"),this};h.stroke=function(){return Y("S"),this},h.fill=function(N){return Pu("f",N),this},h.fillEvenOdd=function(N){return Pu("f*",N),this},h.fillStroke=function(N){return Pu("B",N),this},h.fillStrokeEvenOdd=function(N){return Pu("B*",N),this};var Pu=function(N,B){Nr(B)==="object"?V1(B,N):Y(N)},xc=function(N){N===null||_===A&&N===void 0||(N=u0(N),Y(N))};function H1(N,B,se,fe,be){var Le=new rd(B||this.boundingBox,se||this.xStep,fe||this.yStep,this.gState,be||this.matrix);Le.stream=this.stream;var Ue=N+"$$"+this.cloneIndex+++"$$";return Ea(Ue,Le),Le}var V1=function(N,B){var se=hr[N.key],fe=Pt[se];if(fe instanceof Lc)Y("q"),Y(G1(B)),fe.gState&&h.setGState(fe.gState),Y(N.matrix.toString()+" cm"),Y("/"+se+" sh"),Y("Q");else if(fe instanceof rd){var be=new Tt(1,0,0,-1,0,yc());N.matrix&&(be=be.multiply(N.matrix||us),se=H1.call(fe,N.key,N.boundingBox,N.xStep,N.yStep,be).id),Y("q"),Y("/Pattern cs"),Y("/"+se+" scn"),fe.gState&&h.setGState(fe.gState),Y(B),Y("Q")}},G1=function(N){switch(N){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Gd=h.moveTo=function(N,B){return Y(M(F(N))+" "+M(V(B))+" m"),this},f0=h.lineTo=function(N,B){return Y(M(F(N))+" "+M(V(B))+" l"),this},fs=h.curveTo=function(N,B,se,fe,be,Le){return Y([M(F(N)),M(V(B)),M(F(se)),M(V(fe)),M(F(be)),M(V(Le)),"c"].join(" ")),this};h.__private__.line=h.line=function(N,B,se,fe,be){if(isNaN(N)||isNaN(B)||isNaN(se)||isNaN(fe)||!Is(be))throw new Error("Invalid arguments passed to jsPDF.line");return _===j?this.lines([[se-N,fe-B]],N,B,[1,1],be||"S"):this.lines([[se-N,fe-B]],N,B,[1,1]).stroke()},h.__private__.lines=h.lines=function(N,B,se,fe,be,Le){var Ue,bt,Ct,Bt,Gt,sr,en,Tn,Br,Wn,On,pa;if(typeof N=="number"&&(pa=se,se=B,B=N,N=pa),fe=fe||[1,1],Le=Le||!1,isNaN(B)||isNaN(se)||!Array.isArray(N)||!Array.isArray(fe)||!Is(be)||typeof Le!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Gd(B,se),Ue=fe[0],bt=fe[1],Bt=N.length,Wn=B,On=se,Ct=0;Ct<Bt;Ct++)(Gt=N[Ct]).length===2?(Wn=Gt[0]*Ue+Wn,On=Gt[1]*bt+On,f0(Wn,On)):(sr=Gt[0]*Ue+Wn,en=Gt[1]*bt+On,Tn=Gt[2]*Ue+Wn,Br=Gt[3]*bt+On,Wn=Gt[4]*Ue+Wn,On=Gt[5]*bt+On,fs(sr,en,Tn,Br,Wn,On));return Le&&d0(),xc(be),this},h.path=function(N){for(var B=0;B<N.length;B++){var se=N[B],fe=se.c;switch(se.op){case"m":Gd(fe[0],fe[1]);break;case"l":f0(fe[0],fe[1]);break;case"c":fs.apply(this,fe);break;case"h":d0()}}return this},h.__private__.rect=h.rect=function(N,B,se,fe,be){if(isNaN(N)||isNaN(B)||isNaN(se)||isNaN(fe)||!Is(be))throw new Error("Invalid arguments passed to jsPDF.rect");return _===j&&(fe=-fe),Y([M(F(N)),M(V(B)),M(F(se)),M(F(fe)),"re"].join(" ")),xc(be),this},h.__private__.triangle=h.triangle=function(N,B,se,fe,be,Le,Ue){if(isNaN(N)||isNaN(B)||isNaN(se)||isNaN(fe)||isNaN(be)||isNaN(Le)||!Is(Ue))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-N,fe-B],[be-se,Le-fe],[N-be,B-Le]],N,B,[1,1],Ue,!0),this},h.__private__.roundedRect=h.roundedRect=function(N,B,se,fe,be,Le,Ue){if(isNaN(N)||isNaN(B)||isNaN(se)||isNaN(fe)||isNaN(be)||isNaN(Le)||!Is(Ue))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var bt=4/3*(Math.SQRT2-1);return be=Math.min(be,.5*se),Le=Math.min(Le,.5*fe),this.lines([[se-2*be,0],[be*bt,0,be,Le-Le*bt,be,Le],[0,fe-2*Le],[0,Le*bt,-be*bt,Le,-be,Le],[2*be-se,0],[-be*bt,0,-be,-Le*bt,-be,-Le],[0,2*Le-fe],[0,-Le*bt,be*bt,-Le,be,-Le]],N+be,B,[1,1],Ue,!0),this},h.__private__.ellipse=h.ellipse=function(N,B,se,fe,be){if(isNaN(N)||isNaN(B)||isNaN(se)||isNaN(fe)||!Is(be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Le=4/3*(Math.SQRT2-1)*se,Ue=4/3*(Math.SQRT2-1)*fe;return Gd(N+se,B),fs(N+se,B-Ue,N+Le,B-fe,N,B-fe),fs(N-Le,B-fe,N-se,B-Ue,N-se,B),fs(N-se,B+Ue,N-Le,B+fe,N,B+fe),fs(N+Le,B+fe,N+se,B+Ue,N+se,B),xc(be),this},h.__private__.circle=h.circle=function(N,B,se,fe){if(isNaN(N)||isNaN(B)||isNaN(se)||!Is(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,B,se,se,fe)},h.setFont=function(N,B,se){return se&&(B=T(B,se)),vt=vl(N,B,{disableWarning:!1}),this};var K1=h.__private__.getFont=h.getFont=function(){return Ut[vl.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var N,B,se={};for(N in Wt)if(Wt.hasOwnProperty(N))for(B in se[N]=[],Wt[N])Wt[N].hasOwnProperty(B)&&se[N].push(B);return se},h.addFont=function(N,B,se,fe,be){var Le=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Le.indexOf(arguments[3])!==-1?be=arguments[3]:arguments[3]&&Le.indexOf(arguments[3])==-1&&(se=T(se,fe)),Sr.call(this,N,B,se,be=be||"Identity-H")};var gc,Kd=e.lineWidth||.200025,Y1=h.__private__.getLineWidth=h.getLineWidth=function(){return Kd},$t=h.__private__.setLineWidth=h.setLineWidth=function(N){return Kd=N,Y(M(F(N))+" w"),this};h.__private__.setLineDash=yt.API.setLineDash=yt.API.setLineDashPattern=function(N,B){if(N=N||[],B=B||0,isNaN(B)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(se){return M(F(se))}).join(" "),B=M(F(B)),Y("["+N+"] "+B+" d"),this};var X1=h.__private__.getLineHeight=h.getLineHeight=function(){return Re*gc};h.__private__.getLineHeight=h.getLineHeight=function(){return Re*gc};var Z1=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(gc=N),this},J1=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return gc};Z1(e.lineHeight);var go=h.__private__.getHorizontalCoordinate=function(N){return F(N)},vo=h.__private__.getVerticalCoordinate=function(N){return _===A?N:ft[R].mediaBox.topRightY-ft[R].mediaBox.bottomLeftY-F(N)},Q1=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(N){return M(go(N))},ex=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(N){return M(vo(N))},Eu=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return ie(Eu)},h.__private__.setStrokeColor=h.setDrawColor=function(N,B,se,fe){return Eu=oe({ch1:N,ch2:B,ch3:se,ch4:fe,pdfColorType:"draw",precision:2}),Y(Eu),this};var Yd=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return ie(Yd)},h.__private__.setFillColor=h.setFillColor=function(N,B,se,fe){return Yd=oe({ch1:N,ch2:B,ch3:se,ch4:fe,pdfColorType:"fill",precision:2}),Y(Yd),this};var vc=e.textColor||"0 g",tx=h.__private__.getTextColor=h.getTextColor=function(){return ie(vc)};h.__private__.setTextColor=h.setTextColor=function(N,B,se,fe){return vc=oe({ch1:N,ch2:B,ch3:se,ch4:fe,pdfColorType:"text",precision:3}),this};var bo=e.charSpace,rx=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(bo||0)};h.__private__.setCharSpace=h.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return bo=N,this};var Xd=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(N){var B=h.CapJoinStyles[N];if(B===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xd=B,Y(B+" J"),this};var Zd=0;h.__private__.setLineJoin=h.setLineJoin=function(N){var B=h.CapJoinStyles[N];if(B===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zd=B,Y(B+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(M(F(N))+" M"),this},h.GState=Dp,h.setGState=function(N){(N=typeof N=="string"?Ke[at[N]]:h0(null,N)).equals(ut)||(Y("/"+N.id+" gs"),ut=N)};var h0=function(N,B){if(!N||!at[N]){var se=!1;for(var fe in Ke)if(Ke.hasOwnProperty(fe)&&Ke[fe].equals(B)){se=!0;break}if(se)B=Ke[fe];else{var be="GS"+(Object.keys(Ke).length+1).toString(10);Ke[be]=B,B.id=be}return N&&(at[N]=B.id),dt.publish("addGState",B),B}};h.addGState=function(N,B){return h0(N,B),this},h.saveGraphicsState=function(){return Y("q"),Ar.push({key:vt,size:Re,color:vc}),this},h.restoreGraphicsState=function(){Y("Q");var N=Ar.pop();return vt=N.key,Re=N.size,vc=N.color,ut=null,this},h.setCurrentTransformationMatrix=function(N){return Y(N.toString()+" cm"),this},h.comment=function(N){return Y("#"+N),this};var yo=function(N,B){var se=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(Le){isNaN(Le)||(se=parseFloat(Le))}});var fe=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Le){isNaN(Le)||(fe=parseFloat(Le))}});var be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return be},set:function(Le){be=Le.toString()}}),this},Jd=function(N,B,se,fe){yo.call(this,N,B),this.type="rect";var be=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return be},set:function(Ue){isNaN(Ue)||(be=parseFloat(Ue))}});var Le=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Le},set:function(Ue){isNaN(Ue)||(Le=parseFloat(Ue))}}),this},ku=function(){this.page=ct,this.currentPage=R,this.pages=je.slice(0),this.pagesContext=ft.slice(0),this.x=wt,this.y=Rr,this.matrix=Qt,this.width=ef(R),this.height=p0(R),this.outputDestination=ze,this.id="",this.objectNumber=-1};ku.prototype.restore=function(){ct=this.page,R=this.currentPage,ft=this.pagesContext,je=this.pages,wt=this.x,Rr=this.y,Qt=this.matrix,m0(R,this.width),wo(R,this.height),ze=this.outputDestination};var Qd=function(N,B,se,fe,be){Pa.push(new ku),ct=R=0,je=[],wt=N,Rr=B,Qt=be,ln([se,fe])};for(var bc in h.beginFormObject=function(N,B,se,fe,be){return Qd(N,B,se,fe,be),this},h.endFormObject=function(N){return(function(B){if(bi[B])Pa.pop().restore();else{var se=new ku,fe="Xo"+(Object.keys(Cn).length+1).toString(10);se.id=fe,bi[B]=fe,Cn[fe]=se,dt.publish("addFormObject",se),Pa.pop().restore()}})(N),this},h.doFormObject=function(N,B){var se=Cn[bi[N]];return Y("q"),Y(B.toString()+" cm"),Y("/"+se.id+" Do"),Y("Q"),this},h.getFormObject=function(N){var B=Cn[bi[N]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},h.save=function(N,B){return N=N||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(Mc(Cu(Ds()),N),typeof Mc.unload=="function"&&Lt.setTimeout&&setTimeout(Mc.unload,911),this):new Promise(function(se,fe){try{var be=Mc(Cu(Ds()),N);typeof Mc.unload=="function"&&Lt.setTimeout&&setTimeout(Mc.unload,911),se(be)}catch(Le){fe(Le.message)}})},yt.API)yt.API.hasOwnProperty(bc)&&(bc==="events"&&yt.API.events.length?(function(N,B){var se,fe,be;for(be=B.length-1;be!==-1;be--)se=B[be][0],fe=B[be][1],N.subscribe.apply(N,[se].concat(typeof fe=="function"?[fe]:fe))})(dt,yt.API.events):h[bc]=yt.API[bc]);function ef(N){return ft[N].mediaBox.topRightX-ft[N].mediaBox.bottomLeftX}function m0(N,B){ft[N].mediaBox.topRightX=B+ft[N].mediaBox.bottomLeftX}function p0(N){return ft[N].mediaBox.topRightY-ft[N].mediaBox.bottomLeftY}function wo(N,B){ft[N].mediaBox.topRightY=B+ft[N].mediaBox.bottomLeftY}var No=h.getPageWidth=function(N){return ef(N=N||R)/Ft},x0=h.setPageWidth=function(N,B){m0(N,B*Ft)},yc=h.getPageHeight=function(N){return p0(N=N||R)/Ft},g0=h.setPageHeight=function(N,B){wo(N,B*Ft)};return h.internal={pdfEscape:tr,getStyle:u0,getFont:K1,getFontSize:ot,getCharSpace:rx,getTextColor:tx,getLineHeight:X1,getLineHeightFactor:J1,getLineWidth:Y1,write:qe,getHorizontalCoordinate:go,getVerticalCoordinate:vo,getCoordinateString:Q1,getVerticalCoordinateString:ex,collections:{},newObject:Kr,newAdditionalObject:ae,newObjectDeferred:Pn,newObjectDeferredBegin:W,getFilters:we,putStream:De,events:dt,scaleFactor:Ft,pageSize:{getWidth:function(){return No(R)},setWidth:function(N){x0(R,N)},getHeight:function(){return yc(R)},setHeight:function(N){g0(R,N)}},encryptionOptions:d,encryption:Un,getEncryptor:function(N){return d!==null?Un.encryptor(N,0):function(B){return B}},output:l0,getNumberOfPages:Ui,get pages(){return je},out:Y,f2:P,f3:C,getPageInfo:xo,getPageInfoByObjId:c0,getCurrentPageInfo:U1,getPDFVersion:p,Point:yo,Rectangle:Jd,Matrix:Tt,hasHotfix:Wi},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return No(R)},set:function(N){x0(R,N)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return yc(R)},set:function(N){g0(R,N)},enumerable:!0,configurable:!0}),(function(N){for(var B=0,se=et.length;B<se;B++){var fe=Sr.call(this,N[B][0],N[B][1],N[B][2],et[B][3],!0);f===!1&&(m[fe]=!0);var be=N[B][0].split("-");Mt({id:fe,fontName:be[0],fontStyle:be[1]||""})}dt.publish("addFonts",{fonts:Ut,dictionary:Wt})}).call(h,et),vt="F1",Ts(a,r),dt.publish("initialized"),h}Zu.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Zu.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Zu.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Zu.prototype.processOwnerPassword=function(e,t){return W2(U2(t).substr(0,5),e)},Zu.prototype.encryptor=function(e,t){var r=U2(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return W2(r,n)}},Dp.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Nr(e)!==Nr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},yt.API={events:[]},yt.version="4.0.0";var dn=yt.API,qy=1,Au=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ht=function(e){return e.toFixed(2)},Ll=function(e){return e.toFixed(5)};dn.__acroform__={};var vi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},n6=function(e){return e*qy},Ws=function(e){var t=new JO,r=xt.internal.getHeight(e)||0,n=xt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Ht(n)),Number(Ht(r))],t},Lfe=dn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},Rfe=dn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Bfe=dn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},_n=dn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Bfe(e,t-1)},An=dn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Lfe(e,t-1)},Sn=dn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Rfe(e,t-1)},qfe=dn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(Ht(c.lowerLeft_X)),Number(Ht(c.lowerLeft_Y)),Number(Ht(c.upperRight_X)),Number(Ht(c.upperRight_Y))]},zfe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=H2(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Ht(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Ws(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},H2=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(P){return P.split(`
`)}):a.map(function(P){return[P]});var i=r,o=xt.internal.getHeight(e)||0;o=o<0?-o:o;var l=xt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(P,C,F){if(P+1<a.length){var V=C+" "+a[P+1][0];return mm(V,e,F).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,f=mm("3",e,i).height,m=e.multiline?o-i:(o-f)/2,h=m+=2,g=0,p=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+mm(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var b="",j=0,A=0;A<a.length;A++)if(a.hasOwnProperty(A)){var _=!1;if(a[A].length!==1&&v!==a[A].length-1){if((f+2)*(j+2)+2>o)continue e;b+=a[A][v],_=!0,p=A,A--}else{b=(b+=a[A][v]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var k=parseInt(A),I=c(k,b,i),T=A>=a.length-1;if(I&&!T){b+=" ",v=0;continue}if(I||T){if(T)p=k;else if(e.multiline&&(f+2)*(j+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(j+2)+2>o)continue e;p=k}}for(var M="",O=g;O<=p;O++){var U=a[O];if(e.multiline){if(O===p){M+=U[v]+" ",v=(v+1)%U.length;continue}if(O===g){M+=U[U.length-1]+" ";continue}}M+=U[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,d=mm(M,e,i).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}t+=Ht(u)+" "+Ht(h)+` Td
`,t+="("+Au(M)+`) Tj
`,t+=-Ht(u)+` 0 Td
`,h=-(i+2),d=0,g=_?p:p+1,j++,b=""}break}return n.text=t,n.fontSize=i,n},mm=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},$fe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ufe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Wfe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Es.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify($fe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");qy=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new QO,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&Ufe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=qfe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=xt.createDefaultAppearanceStream(l),Nr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=zfe(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var h=l.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var g=h[o];typeof g=="function"&&(g=g.call(a,l)),f+="/"+o+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(a,l)),f+="/"+o+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&(function(p,v){for(var b in p)if(p.hasOwnProperty(b)){var j=b,A=p[b];v.internal.newObjectDeferredBegin(A.objId,!0),Nr(A)==="object"&&typeof A.putStream=="function"&&A.putStream(),delete p[j]}})(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},ZO=dn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Nr(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Au(n(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Nv=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Au(n(e))+")"},Xs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Xs.prototype.toString=function(){return this.objId+" 0 R"},Xs.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Xs.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:ZO(a,this.objId,this.scope)}):a instanceof Xs?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var JO=function(){Xs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};vi(JO,Xs);var QO=function(){Xs.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Au(r(e))+")"}},set:function(r){e=r}})};vi(QO,Xs);var Es=function e(){Xs.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!_n(t,3)},set:function(b){b?this.F=An(t,3):this.F=Sn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Ip)return;i="FieldObject"+e.FieldNum++}var b=function(j){return j};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Au(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/qy:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Ip||this instanceof Yc))return Nv(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=b}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof ia==0?Nv(m,this.objId,this.scope):m},set:function(b){b=b.toString(),m=this instanceof ia==0?b.substr(0,1)==="("?Gu(b.substr(1,b.length-2)):Gu(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ia==1?Gu(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof ia==1?"/"+b:b}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ia==0?Nv(h,this.objId,this.scope):h},set:function(b){b=b.toString(),h=this instanceof ia==0?b.substr(0,1)==="("?Gu(b.substr(1,b.length-2)):Gu(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ia==1?Gu(h.substr(1,h.length-1)):h},set:function(b){b=b.toString(),h=this instanceof ia==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(b){b=!!b,p=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(b){g=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,1)},set:function(b){b?this.Ff=An(this.Ff,1):this.Ff=Sn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,2)},set:function(b){b?this.Ff=An(this.Ff,2):this.Ff=Sn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,3)},set:function(b){b?this.Ff=An(this.Ff,3):this.Ff=Sn(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');v=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(v){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};vi(Es,Xs);var cd=function(){Es.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ZO(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u})(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,18)},set:function(r){r?this.Ff=An(this.Ff,18):this.Ff=Sn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=An(this.Ff,19):this.Ff=Sn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,20)},set:function(r){r?(this.Ff=An(this.Ff,20),t.sort()):this.Ff=Sn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,22)},set:function(r){r?this.Ff=An(this.Ff,22):this.Ff=Sn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,23)},set:function(r){r?this.Ff=An(this.Ff,23):this.Ff=Sn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,27)},set:function(r){r?this.Ff=An(this.Ff,27):this.Ff=Sn(this.Ff,27)}}),this.hasAppearanceStream=!1};vi(cd,Es);var ud=function(){cd.call(this),this.fontName="helvetica",this.combo=!1};vi(ud,cd);var dd=function(){ud.call(this),this.combo=!0};vi(dd,ud);var Am=function(){dd.call(this),this.edit=!0};vi(Am,dd);var ia=function(){Es.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,15)},set:function(r){r?this.Ff=An(this.Ff,15):this.Ff=Sn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,16)},set:function(r){r?this.Ff=An(this.Ff,16):this.Ff=Sn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,17)},set:function(r){r?this.Ff=An(this.Ff,17):this.Ff=Sn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,26)},set:function(r){r?this.Ff=An(this.Ff,26):this.Ff=Sn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Au(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Nr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};vi(ia,Es);var Sm=function(){ia.call(this),this.pushButton=!0};vi(Sm,ia);var fd=function(){ia.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};vi(fd,ia);var Ip=function(){var e,t;Es.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Au(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Nr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=xt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};vi(Ip,Es),fd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},fd.prototype.createOption=function(e){var t=new Ip;return t.Parent=this,t.optionName=e,this.Kids.push(t),Hfe.call(this.scope,t),t};var Cm=function(){ia.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=xt.CheckBox.createAppearanceStream()};vi(Cm,ia);var Yc=function(){Es.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,13)},set:function(t){t?this.Ff=An(this.Ff,13):this.Ff=Sn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,21)},set:function(t){t?this.Ff=An(this.Ff,21):this.Ff=Sn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,23)},set:function(t){t?this.Ff=An(this.Ff,23):this.Ff=Sn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,24)},set:function(t){t?this.Ff=An(this.Ff,24):this.Ff=Sn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,25)},set:function(t){t?this.Ff=An(this.Ff,25):this.Ff=Sn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,26)},set:function(t){t?this.Ff=An(this.Ff,26):this.Ff=Sn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};vi(Yc,Es);var Pm=function(){Yc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,14)},set:function(e){e?this.Ff=An(this.Ff,14):this.Ff=Sn(this.Ff,14)}}),this.password=!0};vi(Pm,Yc);var xt={CheckBox:{createAppearanceStream:function(){return{N:{On:xt.CheckBox.YesNormal},D:{On:xt.CheckBox.YesPushDown,Off:xt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ws(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=H2(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Ht(xt.internal.getWidth(e))+" "+Ht(xt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ht(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Ws(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=xt.internal.getHeight(e),o=xt.internal.getWidth(e),l=H2(e,e.caption);return a.push("1 g"),a.push("0 0 "+Ht(o)+" "+Ht(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Ht(o-1)+" "+Ht(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Ht(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Ws(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ht(xt.internal.getWidth(e))+" "+Ht(xt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:xt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=xt.RadioButton.Circle.YesNormal,t.D[e]=xt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ws(e);t.scope=e.scope;var r=[],n=xt.internal.getWidth(e)<=xt.internal.getHeight(e)?xt.internal.getWidth(e)/4:xt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=xt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ll(xt.internal.getWidth(e)/2)+" "+Ll(xt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ws(e);t.scope=e.scope;var r=[],n=xt.internal.getWidth(e)<=xt.internal.getHeight(e)?xt.internal.getWidth(e)/4:xt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*xt.internal.Bezier_C).toFixed(5)),o=Number((n*xt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ll(xt.internal.getWidth(e)/2)+" "+Ll(xt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ll(xt.internal.getWidth(e)/2)+" "+Ll(xt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ws(e);t.scope=e.scope;var r=[],n=xt.internal.getWidth(e)<=xt.internal.getHeight(e)?xt.internal.getWidth(e)/4:xt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*xt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ll(xt.internal.getWidth(e)/2)+" "+Ll(xt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:xt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=xt.RadioButton.Cross.YesNormal,t.D[e]=xt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ws(e);t.scope=e.scope;var r=[],n=xt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Ht(xt.internal.getWidth(e)-2)+" "+Ht(xt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Ht(n.x1.x)+" "+Ht(n.x1.y)+" m"),r.push(Ht(n.x2.x)+" "+Ht(n.x2.y)+" l"),r.push(Ht(n.x4.x)+" "+Ht(n.x4.y)+" m"),r.push(Ht(n.x3.x)+" "+Ht(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ws(e);t.scope=e.scope;var r=xt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ht(xt.internal.getWidth(e))+" "+Ht(xt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ht(xt.internal.getWidth(e)-2)+" "+Ht(xt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Ht(r.x1.x)+" "+Ht(r.x1.y)+" m"),n.push(Ht(r.x2.x)+" "+Ht(r.x2.y)+" l"),n.push(Ht(r.x4.x)+" "+Ht(r.x4.y)+" m"),n.push(Ht(r.x3.x)+" "+Ht(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ws(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ht(xt.internal.getWidth(e))+" "+Ht(xt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};xt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=xt.internal.getWidth(e),r=xt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},xt.internal.getWidth=function(e){var t=0;return Nr(e)==="object"&&(t=n6(e.Rect[2])),t},xt.internal.getHeight=function(e){var t=0;return Nr(e)==="object"&&(t=n6(e.Rect[3])),t};var Hfe=dn.addField=function(e){if(Wfe(this,e),!(e instanceof Es))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};dn.AcroFormChoiceField=cd,dn.AcroFormListBox=ud,dn.AcroFormComboBox=dd,dn.AcroFormEditBox=Am,dn.AcroFormButton=ia,dn.AcroFormPushButton=Sm,dn.AcroFormRadioButton=fd,dn.AcroFormCheckBox=Cm,dn.AcroFormTextField=Yc,dn.AcroFormPasswordField=Pm,dn.AcroFormAppearance=xt,dn.AcroForm={ChoiceField:cd,ListBox:ud,ComboBox:dd,EditBox:Am,Button:ia,PushButton:Sm,RadioButton:fd,CheckBox:Cm,TextField:Yc,PasswordField:Pm,Appearance:xt},yt.AcroForm={ChoiceField:cd,ListBox:ud,ComboBox:dd,EditBox:Am,Button:ia,PushButton:Sm,RadioButton:fd,CheckBox:Cm,TextField:Yc,PasswordField:Pm,Appearance:xt};yt.AcroForm;function eD(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(P,C){var F,V,te,de,me,ue=r;if((C=C||r)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(I(P))for(me in n)for(te=n[me],F=0;F<te.length;F+=1){for(de=!0,V=0;V<te[F].length;V+=1)if(te[F][V]!==void 0&&te[F][V]!==P[V]){de=!1;break}if(de===!0){ue=me;break}}else for(me in n)for(te=n[me],F=0;F<te.length;F+=1){for(de=!0,V=0;V<te[F].length;V+=1)if(te[F][V]!==void 0&&te[F][V]!==P.charCodeAt(V)){de=!1;break}if(de===!0){ue=me;break}}return ue===r&&C!==r&&(ue=C),ue},i=function P(C){for(var F=this.internal.write,V=this.internal.putStream,te=(0,this.internal.getFilters)();te.indexOf("FlateEncode")!==-1;)te.splice(te.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:C.width}),de.push({key:"Height",value:C.height}),C.colorSpace===b.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===b.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)&&C.transparency.length>0){for(var me="",ue=0,he=C.transparency.length;ue<he;ue++)me+=C.transparency[ue]+" "+C.transparency[ue]+" ";de.push({key:"Mask",value:"["+me+"]"})}C.sMask!==void 0&&de.push({key:"SMask",value:C.objectId+1+" 0 R"});var Ne=C.filter!==void 0?["/"+C.filter]:void 0;if(V({data:C.data,additionalKeyValues:de,alreadyAppliedFilters:Ne,objectId:C.objectId}),F("endobj"),"sMask"in C&&C.sMask!==void 0){var Ee,E=(Ee=C.sMaskBitsPerComponent)!==null&&Ee!==void 0?Ee:C.bitsPerComponent,R={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:E,data:C.sMask};"filter"in C&&(R.decodeParameters="/Predictor ".concat(C.predictor," /Colors 1 /BitsPerComponent ").concat(E," /Columns ").concat(C.width),R.filter=C.filter),P.call(this,R)}if(C.colorSpace===b.INDEXED){var L=this.internal.newObject();V({data:M(new Uint8Array(C.palette)),objectId:L}),F("endobj")}},o=function(){var P=this.internal.collections[t+"images"];for(var C in P)i.call(this,P[C])},l=function(){var P,C=this.internal.collections[t+"images"],F=this.internal.write;for(var V in C)F("/I"+(P=C[V]).index,P.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var P=this.internal.collections[t+"images"];return c.call(this),P},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(P){return typeof e["process"+P.toUpperCase()]=="function"},m=function(P){return Nr(P)==="object"&&P.nodeType===1},h=function(P,C){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var F=""+P.getAttribute("src");if(F.indexOf("data:image/")===0)return _m(unescape(F).split("base64,").pop());var V=e.loadFile(F,!0);if(V!==void 0)return V}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var te;switch(C){case"PNG":te="image/png";break;case"WEBP":te="image/webp";break;default:te="image/jpeg"}return _m(P.toDataURL(te,1).split("base64,").pop())}},g=function(P){var C=this.internal.collections[t+"images"];if(C){for(var F in C)if(P===C[F].alias)return C[F]}},p=function(P,C,F){return P||C||(P=-96,C=-96),P<0&&(P=-1*F.width*72/P/this.internal.scaleFactor),C<0&&(C=-1*F.height*72/C/this.internal.scaleFactor),P===0&&(P=C*F.width/F.height),C===0&&(C=P*F.height/F.width),[P,C]},v=function(P,C,F,V,te,de){var me=p.call(this,F,V,te),ue=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,Ne=u.call(this);if(F=me[0],V=me[1],Ne[te.index]=te,de){de*=Math.PI/180;var Ee=Math.cos(de),E=Math.sin(de),R=function(z){return z.toFixed(4)},L=[R(Ee),R(E),R(-1*E),R(Ee),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,ue(P),he(C+V),"cm"].join(" ")),this.internal.write(L.join(" ")),this.internal.write([ue(F),"0","0",ue(V),"0","0","cm"].join(" "))):this.internal.write([ue(F),"0","0",ue(V),ue(P),he(C+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+te.index+" Do"),this.internal.write("Q")},b=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=e.__addimage__.sHashCode=function(P){var C,F,V=0;if(typeof P=="string")for(F=P.length,C=0;C<F;C++)V=(V<<5)-V+P.charCodeAt(C),V|=0;else if(I(P))for(F=P.byteLength/2,C=0;C<F;C++)V=(V<<5)-V+P[C],V|=0;return V},_=e.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var C=!0;return P.length===0&&(C=!1),P.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(C=!1),C},k=e.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var C=P.indexOf(",");return C<0?null:P.substring(0,C).trim().endsWith("base64")?P.substring(C+1):null};e.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var I=e.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},T=e.__addimage__.binaryStringToUint8Array=function(P){for(var C=P.length,F=new Uint8Array(C),V=0;V<C;V++)F[V]=P.charCodeAt(V);return F},M=e.__addimage__.arrayBufferToBinaryString=function(P){for(var C="",F=I(P)?P:new Uint8Array(P),V=0;V<F.length;V+=8192)C+=String.fromCharCode.apply(null,F.subarray(V,V+8192));return C};e.addImage=function(){var P,C,F,V,te,de,me,ue,he;if(typeof arguments[1]=="number"?(C=r,F=arguments[1],V=arguments[2],te=arguments[3],de=arguments[4],me=arguments[5],ue=arguments[6],he=arguments[7]):(C=arguments[1],F=arguments[2],V=arguments[3],te=arguments[4],de=arguments[5],me=arguments[6],ue=arguments[7],he=arguments[8]),Nr(P=arguments[0])==="object"&&!m(P)&&"imageData"in P){var Ne=P;P=Ne.imageData,C=Ne.format||C||r,F=Ne.x||F||0,V=Ne.y||V||0,te=Ne.w||Ne.width||te,de=Ne.h||Ne.height||de,me=Ne.alias||me,ue=Ne.compression||ue,he=Ne.rotation||Ne.angle||he}var Ee=this.internal.getFilters();if(ue===void 0&&Ee.indexOf("FlateEncode")!==-1&&(ue="SLOW"),isNaN(F)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var E=O.call(this,P,C,me,ue);return v.call(this,F,V,te,de,E,he),this};var O=function(P,C,F,V){var te,de,me;if(typeof P=="string"&&a(P)===r){P=unescape(P);var ue=U(P,!1);(ue!==""||(ue=e.loadFile(P,!0))!==void 0)&&(P=ue)}if(m(P)&&(P=h(P,C)),C=a(P,C),!f(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((me=F)==null||me.length===0)&&(F=(function(he){return typeof he=="string"||I(he)?A(he):I(he.data)?A(he.data):null})(P)),(te=g.call(this,F))||(P instanceof Uint8Array||C==="RGBA"||(de=P,P=T(P)),te=this["process"+C.toUpperCase()](P,d.call(this),F,(function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in e.image_compression?he:j.NONE})(V),de)),!te)throw new Error("An unknown error occurred whilst processing the image.");return te},U=e.__addimage__.convertBase64ToBinaryString=function(P,C){C=typeof C!="boolean"||C;var F,V="";if(typeof P=="string"){var te;F=(te=k(P))!==null&&te!==void 0?te:P;try{V=_m(F)}catch(de){if(C)throw _(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};e.getImageProperties=function(P){var C,F,V="";if(m(P)&&(P=h(P)),typeof P=="string"&&a(P)===r&&((V=U(P,!1))===""&&(V=e.loadFile(P)||""),P=V),F=a(P),!f(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(P instanceof Uint8Array||(P=T(P)),!(C=this["process"+F.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=F,C}})(yt.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};yt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){n=u[m];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(p.objId),j=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+h(b(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+h(b(j))+") >>",p.content=i;var A=p.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+A,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(p.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+h(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var k=this.annotations._nameMap[n.options.name];n.options.pageNumber=k.page,n.options.top=k.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var I=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+I+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,a,i){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,l,o,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(yt.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(p){return t[p.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},l=e.__arabicParser__.isArabicEndLetter=function(p){return o(p)&&i(p)&&t[p.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(p){return o(p)&&a.indexOf(p.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return o(p)&&i(p)&&t[p.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(p){return o(p)&&i(p)&&t[p.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(p){return o(p)&&i(p)&&t[p.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(p){return o(p)&&i(p)&&t[p.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(p){var v=0,b=r,j="",A=0;for(v=0;v<p.length;v+=1)b[p.charCodeAt(v)]!==void 0?(A++,typeof(b=b[p.charCodeAt(v)])=="number"&&(j+=String.fromCharCode(b),b=r,A=0),v===p.length-1&&(b=r,j+=p.charAt(v-(A-1)),v-=A-1,A=0)):(b=r,j+=p.charAt(v-A),v-=A,A=0);return j};e.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&n[p.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(p,v,b){return o(p)?i(p)===!1?-1:!u(p)||!o(v)&&!o(b)||!o(b)&&l(v)||l(p)&&!o(v)||l(p)&&c(v)||l(p)&&l(v)?0:d(p)&&o(v)&&!l(v)&&o(b)&&u(b)?3:l(p)||!o(b)?1:2:-1},h=function(p){var v=0,b=0,j=0,A="",_="",k="",I=(p=p||"").split("\\s+"),T=[];for(v=0;v<I.length;v+=1){for(T.push(""),b=0;b<I[v].length;b+=1)A=I[v][b],_=I[v][b-1],k=I[v][b+1],o(A)?(j=m(A,_,k),T[v]+=j!==-1?String.fromCharCode(t[A.charCodeAt(0)][j]):A):T[v]+=A;T[v]=f(T[v])}return T.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var p,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(v)){var j=0;for(b=[],j=0;j<v.length;j+=1)Array.isArray(v[j])?b.push([h(v[j][0]),v[j][1],v[j][2]]):b.push([h(v[j])]);p=b}else p=h(v);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};e.events.push(["preProcessText",g])})(yt.API),yt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(yt.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(p){m=p}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(p){g=p}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,h=0,g=0,p=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(A,_){return A.concat(v.splitTextToSize(_,b))},[])):c=Array.isArray(c)?c:[c];for(var j=0;j<c.length;j++)h<(p=this.getStringUnitWidth(c[j],{font:f})*d)&&(h=p);return h!==0&&(g=c.length),{w:h/=m,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,h&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,m){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,g,p,v,b=[],j=[],A=[],_={},k={},I=[],T=[],M=(m=m||{}).autoSize||!1,O=m.printHeaders!==!1,U=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,P=m.margins||Object.assign({width:this.getPageWidth()},t),C=typeof m.padding=="number"?m.padding:3,F=m.headerBackgroundColor||"#c8c8c8",V=m.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=V,this.setFontSize(U),f==null)j=b=Object.keys(d[0]),A=b.map(function(){return"left"});else if(Array.isArray(f)&&Nr(f[0])==="object")for(b=f.map(function(Ne){return Ne.name}),j=f.map(function(Ne){return Ne.prompt||Ne.name||""}),A=f.map(function(Ne){return Ne.align||"left"}),h=0;h<f.length;h+=1)k[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(j=b=f,A=b.map(function(){return"left"}));if(M||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<b.length;h+=1){for(_[v=b[h]]=d.map(function(Ne){return Ne[v]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(j[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=_[v],this.setFont(void 0,"normal"),p=0;p<g.length;p+=1)I.push(this.getTextDimensions(g[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[v]=Math.max.apply(null,I)+C+C,I=[]}if(O){var te={};for(h=0;h<b.length;h+=1)te[b[h]]={},te[b[h]].text=j[h],te[b[h]].align=A[h];var de=l.call(this,te,k);T=b.map(function(Ne){return new i(c,u,k[Ne],de,te[Ne].text,void 0,te[Ne].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var me=f.reduce(function(Ne,Ee){return Ne[Ee.name]=Ee.align,Ne},{});for(h=0;h<d.length;h+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:h,data:d[h]},this);var ue=l.call(this,d[h],k);for(p=0;p<b.length;p+=1){var he=d[h][b[p]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:h,col:p,data:he},this),o.call(this,new i(c,u,k[b[p]],ue,he,h+2,me[b[p]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(h){var g=c[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/m+d+d},this).reduce(function(h,g){return Math.max(h,g)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(g)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}})(yt.API);var tD={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},rD=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],V2=eD(rD),nD=[100,200,300,400,500,600,700,800,900],Vfe=eD(nD);function jv(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return tD[i=i||"normal"]?i:"normal"})(e.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),a=(function(i){return typeof V2[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function a6(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var Gfe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},i6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function s6(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function o6(e){return e.trimLeft()}function Kfe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Yfe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var pm,l6,c6,Ku,xm,u6,d6,f6,_v=["times"];function h6(e,t,r,n,a){var i=4,o=p6;switch(a){case yt.API.image_compression.FAST:i=1,o=m6;break;case yt.API.image_compression.MEDIUM:i=6,o=x6;break;case yt.API.image_compression.SLOW:i=9,o=g6}e=(function(c,u,d,f){for(var m,h=c.length/u,g=new Uint8Array(c.length+h),p=[Xfe,m6,p6,x6,g6],v=0;v<h;v+=1){var b=v*u,j=c.subarray(b,b+u);if(f)g.set(f(j,d,m),b+v);else{for(var A=p.length,_=[],k=0;k<A;k+=1)_[k]=p[k](j,d,m);var I=Jfe(_.concat());g.set(_[I],b+v)}m=j}return g})(e,t,Math.ceil(r*n/8),o);var l=B2(e,{level:i});return yt.API.__addimage__.arrayBufferToBinaryString(l)}function Xfe(e){var t=Array.apply([],e);return t.unshift(0),t}function m6(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=e[a-t]||0;n[a+1]=e[a]-i+256&255}return n}function p6(e,t,r){var n=e.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var o=r&&r[i]||0;a[i+1]=e[i]-o+256&255}return a}function x6(e,t,r){var n=e.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var o=e[i-t]||0,l=r&&r[i]||0;a[i+1]=e[i]+256-(o+l>>>1)&255}return a}function g6(e,t,r){var n=e.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var o=Zfe(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=e[i]-o+256&255}return a}function Zfe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=a&&n<=i?e:a<=i?t:r}function Jfe(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function Av(e,t,r){var n=t*r,a=Math.floor(n/8),i=16-(n-8*a+r),o=(1<<r)-1;return aD(e,a)>>i&o}function v6(e,t,r,n){var a=r*n,i=Math.floor(a/8),o=16-(a-8*i+n),l=(1<<n)-1,c=(t&l)<<o;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var m=f>>8&255;u.setUint8(d,m)}})(e,i,aD(e,i)&~(l<<o)&65535|c)}function aD(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Qfe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<1+(7&a);e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var u=!0,d=[],f=0,m=null,h=0,g=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var p=e[t++];f=e[t++]|e[t++]<<8,m=e[t++],1&p||(m=null),h=p>>2&7,t++;break;case 254:for(;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,A=e[t++]|e[t++]<<8,_=e[t++],k=_>>6&1,I=1<<1+(7&_),T=l,M=c,O=!1;_>>7&&(O=!0,T=t,M=I,t+=3*I);var U=t;for(t++;;){var P;if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}d.push({x:v,y:b,width:j,height:A,has_local_palette:O,palette_offset:T,palette_size:M,data_offset:U,data_length:t-U,transparent_index:m,interlaced:!!k,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(C){if(C<0||C>=d.length)throw new Error("Frame index out of range.");return d[C]},this.decodeAndBlitFrameBGRA=function(C,F){var V=this.frameInfo(C),te=V.width*V.height,de=new Uint8Array(te);b6(e,V.data_offset,de,te);var me=V.palette_offset,ue=V.transparent_index;ue===null&&(ue=256);var he=V.width,Ne=r-he,Ee=he,E=4*(V.y*r+V.x),R=4*((V.y+V.height)*r+V.x),L=E,z=4*Ne;V.interlaced===!0&&(z+=4*r*7);for(var J=8,le=0,xe=de.length;le<xe;++le){var Q=de[le];if(Ee===0&&(Ee=he,(L+=z)>=R&&(z=4*Ne+4*r*(J-1),L=E+(he+Ne)*(J<<1),J>>=1)),Q===ue)L+=4;else{var ce=e[me+3*Q],je=e[me+3*Q+1],pe=e[me+3*Q+2];F[L++]=pe,F[L++]=je,F[L++]=ce,F[L++]=255}--Ee}},this.decodeAndBlitFrameRGBA=function(C,F){var V=this.frameInfo(C),te=V.width*V.height,de=new Uint8Array(te);b6(e,V.data_offset,de,te);var me=V.palette_offset,ue=V.transparent_index;ue===null&&(ue=256);var he=V.width,Ne=r-he,Ee=he,E=4*(V.y*r+V.x),R=4*((V.y+V.height)*r+V.x),L=E,z=4*Ne;V.interlaced===!0&&(z+=4*r*7);for(var J=8,le=0,xe=de.length;le<xe;++le){var Q=de[le];if(Ee===0&&(Ee=he,(L+=z)>=R&&(z=4*Ne+4*r*(J-1),L=E+(he+Ne)*(J<<1),J>>=1)),Q===ue)L+=4;else{var ce=e[me+3*Q],je=e[me+3*Q+1],pe=e[me+3*Q+2];F[L++]=ce,F[L++]=je,F[L++]=pe,F[L++]=255}--Ee}}}function b6(e,t,r,n){for(var a=e[t++],i=1<<a,o=i+1,l=o+1,c=a+1,u=(1<<c)-1,d=0,f=0,m=0,h=e[t++],g=new Int32Array(4096),p=null;;){for(;d<16&&h!==0;)f|=e[t++]<<d,d+=8,h===1?h=e[t++]:--h;if(d<c)break;var v=f&u;if(f>>=c,d-=c,v!==i){if(v===o)break;for(var b=v<l?v:p,j=0,A=b;A>i;)A=g[A]>>8,++j;var _=A;if(m+j+(b!==v?1:0)>n)return void Fr.log("Warning, gif stream longer than expected.");r[m++]=_;var k=m+=j;for(b!==v&&(r[m++]=_),A=b;j--;)A=g[A],r[--k]=255&A,A>>=8;p!==null&&l<4096&&(g[l++]=p<<8|_,l>=u+1&&c<12&&(++c,u=u<<1|1)),p=v}else l=o+1,u=(1<<(c=a+1))-1,p=null}return m!==n&&Fr.log("Warning, gif stream shorter than expected."),r}function Sv(e){var t,r,n,a,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),m=new Array(65535),h=new Array(64),g=new Array(64),p=[],v=0,b=7,j=new Array(64),A=new Array(64),_=new Array(64),k=new Array(256),I=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(E,R){for(var L=0,z=0,J=new Array,le=1;le<=16;le++){for(var xe=1;xe<=E[le];xe++)J[R[z]]=[],J[R[z]][0]=L,J[R[z]][1]=le,z++,L++;L*=2}return J}function me(E){for(var R=E[0],L=E[1]-1;L>=0;)R&1<<L&&(v|=1<<b),L--,--b<0&&(v==255?(ue(255),ue(0)):ue(v),b=7,v=0)}function ue(E){p.push(E)}function he(E){ue(E>>8&255),ue(255&E)}function Ne(E,R,L,z,J){for(var le,xe=J[0],Q=J[240],ce=(function(Re,Nt){var ot,kt,jt,qt,zt,It,Kt,Rt,vt,Ft,wt=0;for(vt=0;vt<8;++vt){ot=Re[wt],kt=Re[wt+1],jt=Re[wt+2],qt=Re[wt+3],zt=Re[wt+4],It=Re[wt+5],Kt=Re[wt+6];var Rr=ot+(Rt=Re[wt+7]),Qt=ot-Rt,Ut=kt+Kt,Wt=kt-Kt,Ar=jt+It,Pt=jt-It,hr=qt+zt,Ke=qt-zt,at=Rr+hr,ut=Rr-hr,ct=Ut+Ar,ft=Ut-Ar;Re[wt]=at+ct,Re[wt+4]=at-ct;var dt=.707106781*(ft+ut);Re[wt+2]=ut+dt,Re[wt+6]=ut-dt;var ls=.382683433*((at=Ke+Pt)-(ft=Wt+Qt)),Cn=.5411961*at+ls,bi=1.306562965*ft+ls,Pa=.707106781*(ct=Pt+Wt),Tt=Qt+Pa,cs=Qt-Pa;Re[wt+5]=cs+Cn,Re[wt+3]=cs-Cn,Re[wt+1]=Tt+bi,Re[wt+7]=Tt-bi,wt+=8}for(wt=0,vt=0;vt<8;++vt){ot=Re[wt],kt=Re[wt+8],jt=Re[wt+16],qt=Re[wt+24],zt=Re[wt+32],It=Re[wt+40],Kt=Re[wt+48];var us=ot+(Rt=Re[wt+56]),Ea=ot-Rt,si=kt+Kt,Kr=kt-Kt,Pn=jt+It,W=jt-It,ae=qt+zt,X=qt-zt,ee=us+ae,ie=us-ae,oe=si+Pn,we=si-Pn;Re[wt]=ee+oe,Re[wt+32]=ee-oe;var De=.707106781*(we+ie);Re[wt+16]=ie+De,Re[wt+48]=ie-De;var _e=.382683433*((ee=X+W)-(we=Kr+Ea)),Se=.5411961*ee+_e,ke=1.306562965*we+_e,He=.707106781*(oe=W+Kr),Je=Ea+He,st=Ea-He;Re[wt+40]=st+Se,Re[wt+24]=st-Se,Re[wt+8]=Je+ke,Re[wt+56]=Je-ke,wt++}for(vt=0;vt<64;++vt)Ft=Re[vt]*Nt[vt],h[vt]=Ft>0?Ft+.5|0:Ft-.5|0;return h})(E,R),je=0;je<64;++je)g[T[je]]=ce[je];var pe=g[0]-L;L=g[0],pe==0?me(z[0]):(me(z[m[le=32767+pe]]),me(f[le]));for(var ze=63;ze>0&&g[ze]==0;)ze--;if(ze==0)return me(xe),L;for(var Te,Y=1;Y<=ze;){for(var qe=Y;g[Y]==0&&Y<=ze;)++Y;var Oe=Y-qe;if(Oe>=16){Te=Oe>>4;for(var et=1;et<=Te;++et)me(Q);Oe&=15}le=32767+g[Y],me(J[(Oe<<4)+m[le]]),me(f[le]),Y++}return ze!=63&&me(xe),L}function Ee(E){E=Math.min(Math.max(E,1),100),i!=E&&((function(R){for(var L=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],z=0;z<64;z++){var J=o((L[z]*R+50)/100);J=Math.min(Math.max(J,1),255),l[T[z]]=J}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var Q=o((le[xe]*R+50)/100);Q=Math.min(Math.max(Q,1),255),c[T[xe]]=Q}for(var ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,pe=0;pe<8;pe++)for(var ze=0;ze<8;ze++)u[je]=1/(l[T[je]]*ce[pe]*ce[ze]*8),d[je]=1/(c[T[je]]*ce[pe]*ce[ze]*8),je++})(E<50?Math.floor(5e3/E):Math.floor(200-2*E)),i=E)}this.encode=function(E,R){R&&Ee(R),p=new Array,v=0,b=7,he(65496),he(65504),he(16),ue(74),ue(70),ue(73),ue(70),ue(0),ue(1),ue(1),ue(0),he(1),he(1),ue(0),ue(0),(function(){he(65499),he(132),ue(0);for(var kt=0;kt<64;kt++)ue(l[kt]);ue(1);for(var jt=0;jt<64;jt++)ue(c[jt])})(),(function(kt,jt){he(65472),he(17),ue(8),he(jt),he(kt),ue(3),ue(1),ue(17),ue(0),ue(2),ue(17),ue(1),ue(3),ue(17),ue(1)})(E.width,E.height),(function(){he(65476),he(418),ue(0);for(var kt=0;kt<16;kt++)ue(M[kt+1]);for(var jt=0;jt<=11;jt++)ue(O[jt]);ue(16);for(var qt=0;qt<16;qt++)ue(U[qt+1]);for(var zt=0;zt<=161;zt++)ue(P[zt]);ue(1);for(var It=0;It<16;It++)ue(C[It+1]);for(var Kt=0;Kt<=11;Kt++)ue(F[Kt]);ue(17);for(var Rt=0;Rt<16;Rt++)ue(V[Rt+1]);for(var vt=0;vt<=161;vt++)ue(te[vt])})(),he(65498),he(12),ue(3),ue(1),ue(0),ue(2),ue(17),ue(3),ue(17),ue(0),ue(63),ue(0);var L=0,z=0,J=0;v=0,b=7,this.encode.displayName="_encode_";for(var le,xe,Q,ce,je,pe,ze,Te,Y,qe=E.data,Oe=E.width,et=E.height,Re=4*Oe,Nt=0;Nt<et;){for(le=0;le<Re;){for(je=Re*Nt+le,ze=-1,Te=0,Y=0;Y<64;Y++)pe=je+(Te=Y>>3)*Re+(ze=4*(7&Y)),Nt+Te>=et&&(pe-=Re*(Nt+1+Te-et)),le+ze>=Re&&(pe-=le+ze-Re+4),xe=qe[pe++],Q=qe[pe++],ce=qe[pe++],j[Y]=(I[xe]+I[Q+256|0]+I[ce+512|0]>>16)-128,A[Y]=(I[xe+768|0]+I[Q+1024|0]+I[ce+1280|0]>>16)-128,_[Y]=(I[xe+1280|0]+I[Q+1536|0]+I[ce+1792|0]>>16)-128;L=Ne(j,u,L,t,n),z=Ne(A,d,z,r,a),J=Ne(_,d,J,r,a),le+=32}Nt+=8}if(b>=0){var ot=[];ot[1]=b+1,ot[0]=(1<<b+1)-1,me(ot)}return he(65497),new Uint8Array(p)},e=e||50,(function(){for(var E=String.fromCharCode,R=0;R<256;R++)k[R]=E(R)})(),t=de(M,O),r=de(C,F),n=de(U,P),a=de(V,te),(function(){for(var E=1,R=2,L=1;L<=15;L++){for(var z=E;z<R;z++)m[32767+z]=L,f[32767+z]=[],f[32767+z][1]=L,f[32767+z][0]=z;for(var J=-(R-1);J<=-E;J++)m[32767+J]=L,f[32767+J]=[],f[32767+J][1]=L,f[32767+J][0]=R-1+J;E<<=1,R<<=1}})(),(function(){for(var E=0;E<256;E++)I[E]=19595*E,I[E+256|0]=38470*E,I[E+512|0]=7471*E+32768,I[E+768|0]=-11059*E,I[E+1024|0]=-21709*E,I[E+1280|0]=32768*E+8421375,I[E+1536|0]=-27439*E,I[E+1792|0]=-5329*E})(),Ee(e)}function ys(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function y6(e){function t(O){if(!O)throw Error("assert :P")}function r(O,U,P){for(var C=0;4>C;C++)if(O[U+C]!=P.charCodeAt(C))return!0;return!1}function n(O,U,P,C,F){for(var V=0;V<F;V++)O[U+V]=P[C+V]}function a(O,U,P,C){for(var F=0;F<C;F++)O[U+F]=P}function i(O){return new Int32Array(O)}function o(O,U){for(var P=[],C=0;C<O;C++)P.push(new U);return P}function l(O,U){var P=[];return(function C(F,V,te){for(var de=te[V],me=0;me<de&&(F.push(te.length>V+1?[]:new U),!(te.length<V+1));me++)C(F[me],V+1,te)})(P,0,O),P}var c=function(){var O=this;function U(x,y){for(var S=1<<y-1>>>0;x&S;)S>>>=1;return S?(x&S-1)+S:x}function P(x,y,S,D,q){t(!(D%S));do x[y+(D-=S)]=q;while(0<D)}function C(x,y,S,D,q){if(t(2328>=q),512>=q)var H=i(512);else if((H=i(q))==null)return 0;return(function(G,K,Z,re,ge,Pe){var ne,ve,ye=K,Me=1<<Z,Ce=i(16),Fe=i(16);for(t(ge!=0),t(re!=null),t(G!=null),t(0<Z),ve=0;ve<ge;++ve){if(15<re[ve])return 0;++Ce[re[ve]]}if(Ce[0]==ge)return 0;for(Fe[1]=0,ne=1;15>ne;++ne){if(Ce[ne]>1<<ne)return 0;Fe[ne+1]=Fe[ne]+Ce[ne]}for(ve=0;ve<ge;++ve)ne=re[ve],0<re[ve]&&(Pe[Fe[ne]++]=ve);if(Fe[15]==1)return(re=new F).g=0,re.value=Pe[0],P(G,ye,1,Me,re),Me;var Be,Ve=-1,We=Me-1,Et=0,pt=1,Yt=1,_t=1<<Z;for(ve=0,ne=1,ge=2;ne<=Z;++ne,ge<<=1){if(pt+=Yt<<=1,0>(Yt-=Ce[ne]))return 0;for(;0<Ce[ne];--Ce[ne])(re=new F).g=ne,re.value=Pe[ve++],P(G,ye+Et,ge,_t,re),Et=U(Et,ne)}for(ne=Z+1,ge=2;15>=ne;++ne,ge<<=1){if(pt+=Yt<<=1,0>(Yt-=Ce[ne]))return 0;for(;0<Ce[ne];--Ce[ne]){if(re=new F,(Et&We)!=Ve){for(ye+=_t,Be=1<<(Ve=ne)-Z;15>Ve&&!(0>=(Be-=Ce[Ve]));)++Ve,Be<<=1;Me+=_t=1<<(Be=Ve-Z),G[K+(Ve=Et&We)].g=Be+Z,G[K+Ve].value=ye-K-Ve}re.g=ne-Z,re.value=Pe[ve++],P(G,ye+(Et>>Z),ge,_t,re),Et=U(Et,ne)}}return pt!=2*Fe[15]-1?0:Me})(x,y,S,D,q,H)}function F(){this.value=this.g=0}function V(){this.value=this.g=0}function te(){this.G=o(5,F),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Sc,V)}function de(x,y,S,D){t(x!=null),t(y!=null),t(2147483648>D),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=y,x.pa=S,x.Jd=y,x.Yc=S+D,x.Zc=4<=D?S+D-4+1:S,xe(x)}function me(x,y){for(var S=0;0<y--;)S|=ce(x,128)<<y;return S}function ue(x,y){var S=me(x,y);return Q(x)?-S:S}function he(x,y,S,D){var q,H=0;for(t(x!=null),t(y!=null),t(4294967288>D),x.Sb=D,x.Ra=0,x.u=0,x.h=0,4<D&&(D=4),q=0;q<D;++q)H+=y[S+q]<<8*q;x.Ra=H,x.bb=D,x.oa=y,x.pa=S}function Ne(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<Nl-8>>>0,++x.bb,x.u-=8;z(x)&&(x.h=1,x.u=0)}function Ee(x,y){if(t(0<=y),!x.h&&y<=wi){var S=L(x)&yi[y];return x.u+=y,Ne(x),S}return x.h=1,x.u=0}function E(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function L(x){return x.Ra>>>(x.u&Nl-1)>>>0}function z(x){return t(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>Nl}function J(x,y){x.u=y,x.h=z(x)}function le(x){x.u>=So&&(t(x.u>=So),Ne(x))}function xe(x){t(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(t(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function Q(x){return me(x,1)}function ce(x,y){var S=x.Ca;0>x.b&&xe(x);var D=x.b,q=S*y>>>8,H=(x.I>>>D>q)+0;for(H?(S-=q,x.I-=q+1<<D>>>0):S=q+1,D=S,q=0;256<=D;)q+=8,D>>=8;return D=7^q+jl[D],x.b-=D,x.Ca=(S<<D)-1,H}function je(x,y,S){x[y+0]=S>>24&255,x[y+1]=S>>16&255,x[y+2]=S>>8&255,x[y+3]=255&S}function pe(x,y){return x[y+0]|x[y+1]<<8}function ze(x,y){return pe(x,y)|x[y+2]<<16}function Te(x,y){return pe(x,y)|pe(x,y+2)<<16}function Y(x,y){var S=1<<y;return t(x!=null),t(0<y),x.X=i(S),x.X==null?0:(x.Mb=32-y,x.Xa=y,1)}function qe(x,y){t(x!=null),t(y!=null),t(x.Xa==y.Xa),n(y.X,0,x.X,0,1<<y.Xa)}function Oe(){this.X=[],this.Xa=this.Mb=0}function et(x,y,S,D){t(S!=null),t(D!=null);var q=S[0],H=D[0];return q==0&&(q=(x*H+y/2)/y),H==0&&(H=(y*q+x/2)/x),0>=q||0>=H?0:(S[0]=q,D[0]=H,1)}function Re(x,y){return x+(1<<y)-1>>>y}function Nt(x,y){return((4278255360&x)+(4278255360&y)>>>0&4278255360)+((16711935&x)+(16711935&y)>>>0&16711935)>>>0}function ot(x,y){O[y]=function(S,D,q,H,G,K,Z){var re;for(re=0;re<G;++re){var ge=O[x](K[Z+re-1],q,H+re);K[Z+re]=Nt(S[D+re],ge)}}}function kt(){this.ud=this.hd=this.jd=0}function jt(x,y){return((4278124286&(x^y))>>>1)+(x&y)>>>0}function qt(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function zt(x,y){return qt(x+(x-y+.5>>1))}function It(x,y,S){return Math.abs(y-S)-Math.abs(x-S)}function Kt(x,y,S,D,q,H,G){for(D=H[G-1],S=0;S<q;++S)H[G+S]=D=Nt(x[y+S],D)}function Rt(x,y,S,D,q){var H;for(H=0;H<S;++H){var G=x[y+H],K=G>>8&255,Z=16711935&(Z=(Z=16711935&G)+((K<<16)+K));D[q+H]=(4278255360&G)+Z>>>0}}function vt(x,y){y.jd=255&x,y.hd=x>>8&255,y.ud=x>>16&255}function Ft(x,y,S,D,q,H){var G;for(G=0;G<D;++G){var K=y[S+G],Z=K>>>8,re=K,ge=255&(ge=(ge=K>>>16)+((x.jd<<24>>24)*(Z<<24>>24)>>>5));re=255&(re=(re+=(x.hd<<24>>24)*(Z<<24>>24)>>>5)+((x.ud<<24>>24)*(ge<<24>>24)>>>5)),q[H+G]=(4278255360&K)+(ge<<16)+re}}function wt(x,y,S,D,q){O[y]=function(H,G,K,Z,re,ge,Pe,ne,ve){for(Z=Pe;Z<ne;++Z)for(Pe=0;Pe<ve;++Pe)re[ge++]=q(K[D(H[G++])])},O[x]=function(H,G,K,Z,re,ge,Pe){var ne=8>>H.b,ve=H.Ea,ye=H.K[0],Me=H.w;if(8>ne)for(H=(1<<H.b)-1,Me=(1<<ne)-1;G<K;++G){var Ce,Fe=0;for(Ce=0;Ce<ve;++Ce)Ce&H||(Fe=D(Z[re++])),ge[Pe++]=q(ye[Fe&Me]),Fe>>=ne}else O["VP8LMapColor"+S](Z,re,ye,Me,ge,Pe,G,K,ve)}}function Rr(x,y,S,D,q){for(S=y+S;y<S;){var H=x[y++];D[q++]=H>>16&255,D[q++]=H>>8&255,D[q++]=255&H}}function Qt(x,y,S,D,q){for(S=y+S;y<S;){var H=x[y++];D[q++]=H>>16&255,D[q++]=H>>8&255,D[q++]=255&H,D[q++]=H>>24&255}}function Ut(x,y,S,D,q){for(S=y+S;y<S;){var H=(G=x[y++])>>16&240|G>>12&15,G=240&G|G>>28&15;D[q++]=H,D[q++]=G}}function Wt(x,y,S,D,q){for(S=y+S;y<S;){var H=(G=x[y++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;D[q++]=H,D[q++]=G}}function Ar(x,y,S,D,q){for(S=y+S;y<S;){var H=x[y++];D[q++]=255&H,D[q++]=H>>8&255,D[q++]=H>>16&255}}function Pt(x,y,S,D,q,H){if(H==0)for(S=y+S;y<S;)je(D,((H=x[y++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),q+=32;else n(D,q,x,y,S)}function hr(x,y){O[y][0]=O[x+"0"],O[y][1]=O[x+"1"],O[y][2]=O[x+"2"],O[y][3]=O[x+"3"],O[y][4]=O[x+"4"],O[y][5]=O[x+"5"],O[y][6]=O[x+"6"],O[y][7]=O[x+"7"],O[y][8]=O[x+"8"],O[y][9]=O[x+"9"],O[y][10]=O[x+"10"],O[y][11]=O[x+"11"],O[y][12]=O[x+"12"],O[y][13]=O[x+"13"],O[y][14]=O[x+"0"],O[y][15]=O[x+"0"]}function Ke(x){return x==ix||x==sx||x==S0||x==ox}function at(){this.eb=[],this.size=this.A=this.fb=0}function ut(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ct(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new at,this.f.kb=new ut,this.sd=null}function ft(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function dt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ls(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function Cn(x,y){var S=x.T,D=y.ba.f.RGBA,q=D.eb,H=D.fb+x.ka*D.A,G=Ki[y.ba.S],K=x.y,Z=x.O,re=x.f,ge=x.N,Pe=x.ea,ne=x.W,ve=y.cc,ye=y.dc,Me=y.Mc,Ce=y.Nc,Fe=x.ka,Be=x.ka+x.T,Ve=x.U,We=Ve+1>>1;for(Fe==0?G(K,Z,null,null,re,ge,Pe,ne,re,ge,Pe,ne,q,H,null,null,Ve):(G(y.ec,y.fc,K,Z,ve,ye,Me,Ce,re,ge,Pe,ne,q,H-D.A,q,H,Ve),++S);Fe+2<Be;Fe+=2)ve=re,ye=ge,Me=Pe,Ce=ne,ge+=x.Rc,ne+=x.Rc,H+=2*D.A,G(K,(Z+=2*x.fa)-x.fa,K,Z,ve,ye,Me,Ce,re,ge,Pe,ne,q,H-D.A,q,H,Ve);return Z+=x.fa,x.j+Be<x.o?(n(y.ec,y.fc,K,Z,Ve),n(y.cc,y.dc,re,ge,We),n(y.Mc,y.Nc,Pe,ne,We),S--):1&Be||G(K,Z,null,null,re,ge,Pe,ne,re,ge,Pe,ne,q,H+D.A,null,null,Ve),S}function bi(x,y,S){var D=x.F,q=[x.J];if(D!=null){var H=x.U,G=y.ba.S,K=G==A0||G==S0;y=y.ba.f.RGBA;var Z=[0],re=x.ka;Z[0]=x.T,x.Kb&&(re==0?--Z[0]:(--re,q[0]-=x.width),x.j+x.ka+x.T==x.o&&(Z[0]=x.o-x.j-re));var ge=y.eb;re=y.fb+re*y.A,x=Xy(D,q[0],x.width,H,Z,ge,re+(K?0:3),y.A),t(S==Z),x&&Ke(G)&&hf(ge,re,K,H,Z,y.A)}return 0}function Pa(x){var y=x.ma,S=y.ba.S,D=11>S,q=S==j0||S==_0||S==A0||S==ax||S==12||Ke(S);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!af(y.Oa,x,q?11:12))return 0;if(q&&Ke(S)&&tf(),x.da)alert("todo:use_scaling");else{if(D){if(y.Ib=ls,x.Kb){if(S=x.U+1>>1,y.memory=i(x.U+2*S),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+x.U,y.Mc=y.cc,y.Nc=y.dc+S,y.Ib=Cn,tf()}}else alert("todo:EmitYUV");q&&(y.Jb=bi,D&&hs())}if(D&&!fw){for(x=0;256>x;++x)t9[x]=89858*(x-128)+P0>>C0,a9[x]=-22014*(x-128)+P0,n9[x]=-45773*(x-128),r9[x]=113618*(x-128)+P0>>C0;for(x=pf;x<ux;++x)y=76283*(x-16)+P0>>C0,i9[x-pf]=En(y,255),s9[x-pf]=En(y+8>>4,15);fw=1}return 1}function Tt(x){var y=x.ma,S=x.U,D=x.T;return t(!(1&x.ka)),0>=S||0>=D?0:(S=y.Ib(x,y),y.Jb!=null&&y.Jb(x,y,S),y.Dc+=S,1)}function cs(x){x.ma.memory=null}function us(x,y,S,D){return Ee(x,8)!=47?0:(y[0]=Ee(x,14)+1,S[0]=Ee(x,14)+1,D[0]=Ee(x,1),Ee(x,3)!=0?0:!x.h)}function Ea(x,y){if(4>x)return x+1;var S=x-2>>1;return(2+(1&x)<<S)+Ee(y,S)+1}function si(x,y){return 120<y?y-120:1<=(S=((S=zD[y-1])>>4)*x+(8-(15&S)))?S:1;var S}function Kr(x,y,S){var D=L(S),q=x[y+=255&D].g-8;return 0<q&&(J(S,S.u+8),D=L(S),y+=x[y].value,y+=D&(1<<q)-1),J(S,S.u+x[y].g),x[y].value}function Pn(x,y,S){return S.g+=x.g,S.value+=x.value<<y>>>0,t(8>=S.g),x.g}function W(x,y,S){var D=x.xc;return t((y=D==0?0:x.vc[x.md*(S>>D)+(y>>D)])<x.Wb),x.Ya[y]}function ae(x,y,S,D){var q=x.ab,H=x.c*y,G=x.C;y=G+y;var K=S,Z=D;for(D=x.Ta,S=x.Ua;0<q--;){var re=x.gc[q],ge=G,Pe=y,ne=K,ve=Z,ye=(Z=D,K=S,re.Ea);switch(t(ge<Pe),t(Pe<=re.nc),re.hc){case 2:vn(ne,ve,(Pe-ge)*ye,Z,K);break;case 0:var Me=ge,Ce=Pe,Fe=Z,Be=K,Ve=(_t=re).Ea;Me==0&&(of(ne,ve,null,null,1,Fe,Be),Kt(ne,ve+1,0,0,Ve-1,Fe,Be+1),ve+=Ve,Be+=Ve,++Me);for(var We=1<<_t.b,Et=We-1,pt=Re(Ve,_t.b),Yt=_t.K,_t=_t.w+(Me>>_t.b)*pt;Me<Ce;){var rr=Yt,Vn=_t,Xt=1;for(Du(ne,ve,Fe,Be-Ve,1,Fe,Be);Xt<Ve;){var At=(Xt&~Et)+We;At>Ve&&(At=Ve),(0,cf[rr[Vn++]>>8&15])(ne,ve+ +Xt,Fe,Be+Xt-Ve,At-Xt,Fe,Be+Xt),Xt=At}ve+=Ve,Be+=Ve,++Me&Et||(_t+=pt)}Pe!=re.nc&&n(Z,K-ye,Z,K+(Pe-ge-1)*ye,ye);break;case 1:for(ye=ne,Ce=ve,Ve=(ne=re.Ea)-(Be=ne&~(Fe=(ve=1<<re.b)-1)),Me=Re(ne,re.b),We=re.K,re=re.w+(ge>>re.b)*Me;ge<Pe;){for(Et=We,pt=re,Yt=new kt,_t=Ce+Be,rr=Ce+ne;Ce<_t;)vt(Et[pt++],Yt),uf(Yt,ye,Ce,ve,Z,K),Ce+=ve,K+=ve;Ce<rr&&(vt(Et[pt++],Yt),uf(Yt,ye,Ce,Ve,Z,K),Ce+=Ve,K+=Ve),++ge&Fe||(re+=Me)}break;case 3:if(ne==Z&&ve==K&&0<re.b){for(Ce=Z,ne=ye=K+(Pe-ge)*ye-(Be=(Pe-ge)*Re(re.Ea,re.b)),ve=Z,Fe=K,Me=[],Be=(Ve=Be)-1;0<=Be;--Be)Me[Be]=ve[Fe+Be];for(Be=Ve-1;0<=Be;--Be)Ce[ne+Be]=Me[Be];b0(re,ge,Pe,Z,ye,Z,K)}else b0(re,ge,Pe,ne,ve,Z,K)}K=D,Z=S}Z!=S&&n(D,S,K,Z,H)}function X(x,y){var S=x.V,D=x.Ba+x.c*x.C,q=y-x.C;if(t(y<=x.l.o),t(16>=q),0<q){var H=x.l,G=x.Ta,K=x.Ua,Z=H.width;if(ae(x,q,S,D),q=K=[K],t((S=x.C)<(D=y)),t(H.v<H.va),D>H.o&&(D=H.o),S<H.j){var re=H.j-S;S=H.j,q[0]+=re*Z}if(S>=D?S=0:(q[0]+=4*H.v,H.ka=S-H.j,H.U=H.va-H.v,H.T=D-S,S=1),S){if(K=K[0],11>(S=x.ca).S){var ge=S.f.RGBA,Pe=(D=S.S,q=H.U,H=H.T,re=ge.eb,ge.A),ne=H;for(ge=ge.fb+x.Ma*ge.A;0<ne--;){var ve=G,ye=K,Me=q,Ce=re,Fe=ge;switch(D){case N0:df(ve,ye,Me,Ce,Fe);break;case j0:_l(ve,ye,Me,Ce,Fe);break;case ix:_l(ve,ye,Me,Ce,Fe),hf(Ce,Fe,0,Me,1,0);break;case nw:Cc(ve,ye,Me,Ce,Fe);break;case _0:Pt(ve,ye,Me,Ce,Fe,1);break;case sx:Pt(ve,ye,Me,Ce,Fe,1),hf(Ce,Fe,0,Me,1,0);break;case A0:Pt(ve,ye,Me,Ce,Fe,0);break;case S0:Pt(ve,ye,Me,Ce,Fe,0),hf(Ce,Fe,1,Me,1,0);break;case ax:Al(ve,ye,Me,Ce,Fe);break;case ox:Al(ve,ye,Me,Ce,Fe),Yy(Ce,Fe,Me,1,0);break;case aw:Sl(ve,ye,Me,Ce,Fe);break;default:t(0)}K+=Z,ge+=Pe}x.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");t(x.Ma<=S.height)}}x.C=y,t(x.C<=x.i)}function ee(x){var y;if(0<x.ua)return 0;for(y=0;y<x.Wb;++y){var S=x.Ya[y].G,D=x.Ya[y].H;if(0<S[1][D[1]+0].g||0<S[2][D[2]+0].g||0<S[3][D[3]+0].g)return 0}return 1}function ie(x,y,S,D,q,H){if(x.Z!=0){var G=x.qd,K=x.rd;for(t(El[x.Z]!=null);y<S;++y)El[x.Z](G,K,D,q,D,q,H),G=D,K=q,q+=H;x.qd=G,x.rd=K}}function oe(x,y){var S=x.l.ma,D=S.Z==0||S.Z==1?x.l.j:x.C;if(D=x.C<D?D:x.C,t(y<=x.l.o),y>D){var q=x.l.width,H=S.ca,G=S.tb+q*D,K=x.V,Z=x.Ba+x.c*D,re=x.gc;t(x.ab==1),t(re[0].hc==3),Fs(re[0],D,y,K,Z,H,G),ie(S,D,y,H,G,q)}x.C=x.Ma=y}function we(x,y,S,D,q,H,G){var K=x.$/D,Z=x.$%D,re=x.m,ge=x.s,Pe=S+x.$,ne=Pe;q=S+D*q;var ve=S+D*H,ye=280+ge.ua,Me=x.Pb?K:16777216,Ce=0<ge.ua?ge.Wa:null,Fe=ge.wc,Be=Pe<ve?W(ge,Z,K):null;t(x.C<H),t(ve<=q);var Ve=!1;e:for(;;){for(;Ve||Pe<ve;){var We=0;if(K>=Me){var Et=Pe-S;t((Me=x).Pb),Me.wd=Me.m,Me.xd=Et,0<Me.s.ua&&qe(Me.s.Wa,Me.s.vb),Me=K+UD}if(Z&Fe||(Be=W(ge,Z,K)),t(Be!=null),Be.Qb&&(y[Pe]=Be.qb,Ve=!0),!Ve)if(le(re),Be.jc){We=re,Et=y;var pt=Pe,Yt=Be.pd[L(We)&Sc-1];t(Be.jc),256>Yt.g?(J(We,We.u+Yt.g),Et[pt]=Yt.value,We=0):(J(We,We.u+Yt.g-256),t(256<=Yt.value),We=Yt.value),We==0&&(Ve=!0)}else We=Kr(Be.G[0],Be.H[0],re);if(re.h)break;if(Ve||256>We){if(!Ve)if(Be.nd)y[Pe]=(Be.qb|We<<8)>>>0;else{if(le(re),Ve=Kr(Be.G[1],Be.H[1],re),le(re),Et=Kr(Be.G[2],Be.H[2],re),pt=Kr(Be.G[3],Be.H[3],re),re.h)break;y[Pe]=(pt<<24|Ve<<16|We<<8|Et)>>>0}if(Ve=!1,++Pe,++Z>=D&&(Z=0,++K,G!=null&&K<=H&&!(K%16)&&G(x,K),Ce!=null))for(;ne<Pe;)We=y[ne++],Ce.X[(506832829*We&4294967295)>>>Ce.Mb]=We}else if(280>We){if(We=Ea(We-256,re),Et=Kr(Be.G[4],Be.H[4],re),le(re),Et=si(D,Et=Ea(Et,re)),re.h)break;if(Pe-S<Et||q-Pe<We)break e;for(pt=0;pt<We;++pt)y[Pe+pt]=y[Pe+pt-Et];for(Pe+=We,Z+=We;Z>=D;)Z-=D,++K,G!=null&&K<=H&&!(K%16)&&G(x,K);if(t(Pe<=q),Z&Fe&&(Be=W(ge,Z,K)),Ce!=null)for(;ne<Pe;)We=y[ne++],Ce.X[(506832829*We&4294967295)>>>Ce.Mb]=We}else{if(!(We<ye))break e;for(Ve=We-280,t(Ce!=null);ne<Pe;)We=y[ne++],Ce.X[(506832829*We&4294967295)>>>Ce.Mb]=We;We=Pe,t(!(Ve>>>(Et=Ce).Xa)),y[We]=Et.X[Ve],Ve=!0}Ve||t(re.h==z(re))}if(x.Pb&&re.h&&Pe<q)t(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&qe(x.s.vb,x.s.Wa);else{if(re.h)break e;G?.(x,K>H?H:K),x.a=0,x.$=Pe-S}return 1}return x.a=3,0}function De(x){t(x!=null),x.vc=null,x.yc=null,x.Ya=null;var y=x.Wa;y!=null&&(y.X=null),x.vb=null,t(x!=null)}function _e(){var x=new Bt;return x==null?null:(x.a=0,x.xb=ow,hr("Predictor","VP8LPredictors"),hr("Predictor","VP8LPredictors_C"),hr("PredictorAdd","VP8LPredictorsAdd"),hr("PredictorAdd","VP8LPredictorsAdd_C"),vn=Rt,uf=Ft,df=Rr,_l=Qt,Al=Ut,Sl=Wt,Cc=Ar,O.VP8LMapColor32b=Ms,O.VP8LMapColor8b=lf,x)}function Se(x,y,S,D,q){var H=1,G=[x],K=[y],Z=D.m,re=D.s,ge=null,Pe=0;e:for(;;){if(S)for(;H&&Ee(Z,1);){var ne=G,ve=K,ye=D,Me=1,Ce=ye.m,Fe=ye.gc[ye.ab],Be=Ee(Ce,2);if(ye.Oc&1<<Be)H=0;else{switch(ye.Oc|=1<<Be,Fe.hc=Be,Fe.Ea=ne[0],Fe.nc=ve[0],Fe.K=[null],++ye.ab,t(4>=ye.ab),Be){case 0:case 1:Fe.b=Ee(Ce,3)+2,Me=Se(Re(Fe.Ea,Fe.b),Re(Fe.nc,Fe.b),0,ye,Fe.K),Fe.K=Fe.K[0];break;case 3:var Ve,We=Ee(Ce,8)+1,Et=16<We?0:4<We?1:2<We?2:3;if(ne[0]=Re(Fe.Ea,Et),Fe.b=Et,Ve=Me=Se(We,1,0,ye,Fe.K)){var pt,Yt=We,_t=Fe,rr=1<<(8>>_t.b),Vn=i(rr);if(Vn==null)Ve=0;else{var Xt=_t.K[0],At=_t.w;for(Vn[0]=_t.K[0][0],pt=1;pt<1*Yt;++pt)Vn[pt]=Nt(Xt[At+pt],Vn[pt-1]);for(;pt<4*rr;++pt)Vn[pt]=0;_t.K[0]=null,_t.K[0]=Vn,Ve=1}}Me=Ve;break;case 2:break;default:t(0)}H=Me}}if(G=G[0],K=K[0],H&&Ee(Z,1)&&!(H=1<=(Pe=Ee(Z,4))&&11>=Pe)){D.a=3;break e}var rt;if(rt=H)t:{var yn,Vt,ar,Wr=D,ga=G,Ha=K,cn=Pe,ka=S,Va=Wr.m,Gn=Wr.s,or=[null],xr=1,un=0,gr=$D[cn];r:for(;;){if(ka&&Ee(Va,1)){var va=Ee(Va,3)+2,ps=Re(ga,va),wn=Re(Ha,va),oi=ps*wn;if(!Se(ps,wn,0,Wr,or))break r;for(or=or[0],Gn.xc=va,yn=0;yn<oi;++yn){var Mr=or[yn]>>8&65535;or[yn]=Mr,Mr>=xr&&(xr=Mr+1)}}if(Va.h)break r;for(Vt=0;5>Vt;++Vt){var Kn=iw[Vt];!Vt&&0<cn&&(Kn+=1<<cn),un<Kn&&(un=Kn)}var ji=o(xr*gr,F),Ga=xr,_i=o(Ga,te);if(_i==null)var Ai=null;else t(65536>=Ga),Ai=_i;var li=i(un);if(Ai==null||li==null||ji==null){Wr.a=1;break r}var Si=ji;for(yn=ar=0;yn<xr;++yn){var qr=Ai[yn],Ci=qr.G,xs=qr.H,Ec=0,Eo=1,ba=0;for(Vt=0;5>Vt;++Vt){Kn=iw[Vt],Ci[Vt]=Si,xs[Vt]=ar,!Vt&&0<cn&&(Kn+=1<<cn);a:{var k0,dx=Kn,T0=Wr,xf=li,c9=Si,u9=ar,fx=0,kl=T0.m,d9=Ee(kl,1);if(a(xf,0,0,dx),d9){var f9=Ee(kl,1)+1,h9=Ee(kl,1),pw=Ee(kl,h9==0?1:8);xf[pw]=1,f9==2&&(xf[pw=Ee(kl,8)]=1);var O0=1}else{var xw=i(19),gw=Ee(kl,4)+4;if(19<gw){T0.a=3;var D0=0;break a}for(k0=0;k0<gw;++k0)xw[qD[k0]]=Ee(kl,3);var hx=void 0,gf=void 0,vw=T0,m9=xw,I0=dx,bw=xf,mx=0,Tl=vw.m,yw=8,ww=o(128,F);n:for(;C(ww,0,7,m9,19);){if(Ee(Tl,1)){var p9=2+2*Ee(Tl,3);if((hx=2+Ee(Tl,p9))>I0)break n}else hx=I0;for(gf=0;gf<I0&&hx--;){le(Tl);var Nw=ww[0+(127&L(Tl))];J(Tl,Tl.u+Nw.g);var Mu=Nw.value;if(16>Mu)bw[gf++]=Mu,Mu!=0&&(yw=Mu);else{var x9=Mu==16,jw=Mu-16,g9=RD[jw],_w=Ee(Tl,LD[jw])+g9;if(gf+_w>I0)break n;for(var v9=x9?yw:0;0<_w--;)bw[gf++]=v9}}mx=1;break n}mx||(vw.a=3),O0=mx}(O0=O0&&!kl.h)&&(fx=C(c9,u9,8,xf,dx)),O0&&fx!=0?D0=fx:(T0.a=3,D0=0)}if(D0==0)break r;if(Eo&&BD[Vt]==1&&(Eo=Si[ar].g==0),Ec+=Si[ar].g,ar+=D0,3>=Vt){var vf,px=li[0];for(vf=1;vf<Kn;++vf)li[vf]>px&&(px=li[vf]);ba+=px}}if(qr.nd=Eo,qr.Qb=0,Eo&&(qr.qb=(Ci[3][xs[3]+0].value<<24|Ci[1][xs[1]+0].value<<16|Ci[2][xs[2]+0].value)>>>0,Ec==0&&256>Ci[0][xs[0]+0].value&&(qr.Qb=1,qr.qb+=Ci[0][xs[0]+0].value<<8)),qr.jc=!qr.Qb&&6>ba,qr.jc){var M0,ko=qr;for(M0=0;M0<Sc;++M0){var Ol=M0,Dl=ko.pd[Ol],F0=ko.G[0][ko.H[0]+Ol];256<=F0.value?(Dl.g=F0.g+256,Dl.value=F0.value):(Dl.g=0,Dl.value=0,Ol>>=Pn(F0,8,Dl),Ol>>=Pn(ko.G[1][ko.H[1]+Ol],16,Dl),Ol>>=Pn(ko.G[2][ko.H[2]+Ol],0,Dl),Pn(ko.G[3][ko.H[3]+Ol],24,Dl))}}}Gn.vc=or,Gn.Wb=xr,Gn.Ya=Ai,Gn.yc=ji,rt=1;break t}rt=0}if(!(H=rt)){D.a=3;break e}if(0<Pe){if(re.ua=1<<Pe,!Y(re.Wa,Pe)){D.a=1,H=0;break e}}else re.ua=0;var xx=D,Aw=G,b9=K,gx=xx.s,vx=gx.xc;if(xx.c=Aw,xx.i=b9,gx.md=Re(Aw,vx),gx.wc=vx==0?-1:(1<<vx)-1,S){D.xb=XD;break e}if((ge=i(G*K))==null){D.a=1,H=0;break e}H=(H=we(D,ge,0,G,K,K,null))&&!Z.h;break e}return H?(q!=null?q[0]=ge:(t(ge==null),t(S)),D.$=0,S||De(re)):De(re),H}function ke(x,y){var S=x.c*x.i,D=S+y+16*y;return t(x.c<=y),x.V=i(D),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+S+y,1)}function He(x,y){var S=x.C,D=y-S,q=x.V,H=x.Ba+x.c*S;for(t(y<=x.l.o);0<D;){var G=16<D?16:D,K=x.l.ma,Z=x.l.width,re=Z*G,ge=K.ca,Pe=K.tb+Z*S,ne=x.Ta,ve=x.Ua;ae(x,G,q,H),Zy(ne,ve,ge,Pe,re),ie(K,S,S+G,ge,Pe,Z),D-=G,q+=G*x.c,S+=G}t(S==y),x.C=x.Ma=y}function Je(){this.ub=this.yd=this.td=this.Rb=0}function st(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Xe(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function it(){this.Yb=(function(){var x=[];return(function y(S,D,q){for(var H=q[D],G=0;G<H&&(S.push(q.length>D+1?[]:0),!(q.length<D+1));G++)y(S[G],D+1,q)})(x,0,[3,11]),x})()}function Mt(){this.jb=i(3),this.Wc=l([4,8],it),this.Xc=l([4,17],it)}function Sr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function tr(){this.ld=this.La=this.dd=this.tc=0}function ln(){this.Na=this.la=0}function Ts(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ds(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Os(){this.uc=this.M=this.Nb=0,this.wa=Array(new tr),this.Y=0,this.ya=Array(new ds),this.aa=0,this.l=new Su}function Ui(){this.y=i(16),this.f=i(8),this.ea=i(8)}function vl(){this.cb=this.a=0,this.sc="",this.m=new E,this.Od=new Je,this.Kc=new st,this.ed=new Sr,this.Qa=new Xe,this.Ic=this.$c=this.Aa=0,this.D=new Os,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,E),this.ia=0,this.pb=o(4,Ts),this.Pa=new Mt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ui),this.Hd=0,this.rb=Array(new ln),this.sb=0,this.wa=Array(new tr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ds),this.L=this.aa=0,this.gd=l([4,2],tr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function En(x,y){return 0>x?0:x>y?y:x}function Su(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $1(){var x=new vl;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,mf||(mf=Cu)),x}function kn(x,y,S){return x.a==0&&(x.a=y,x.sc=S,x.cb=0),0}function o0(x,y,S){return 3<=S&&x[y+0]==157&&x[y+1]==1&&x[y+2]==42}function Ds(x,y){if(x==null)return 0;if(x.a=0,x.sc="OK",y==null)return kn(x,2,"null VP8Io passed to VP8GetHeaders()");var S=y.data,D=y.w,q=y.ha;if(4>q)return kn(x,7,"Truncated header.");var H=S[D+0]|S[D+1]<<8|S[D+2]<<16,G=x.Od;if(G.Rb=!(1&H),G.td=H>>1&7,G.yd=H>>4&1,G.ub=H>>5,3<G.td)return kn(x,3,"Incorrect keyframe parameters.");if(!G.yd)return kn(x,4,"Frame not displayable.");D+=3,q-=3;var K=x.Kc;if(G.Rb){if(7>q)return kn(x,7,"cannot parse picture header");if(!o0(S,D,q))return kn(x,3,"Bad code word");K.c=16383&(S[D+4]<<8|S[D+3]),K.Td=S[D+4]>>6,K.i=16383&(S[D+6]<<8|S[D+5]),K.Ud=S[D+6]>>6,D+=7,q-=7,x.za=K.c+15>>4,x.Ub=K.i+15>>4,y.width=K.c,y.height=K.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,a((H=x.Pa).jb,0,255,H.jb.length),t((H=x.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,a(H.Zb,0,0,H.Zb.length),a(H.Lb,0,0,H.Lb)}if(G.ub>q)return kn(x,7,"bad partition length");de(H=x.m,S,D,G.ub),D+=G.ub,q-=G.ub,G.Rb&&(K.Ld=Q(H),K.Kd=Q(H)),K=x.Qa;var Z,re=x.Pa;if(t(H!=null),t(K!=null),K.Cb=Q(H),K.Cb){if(K.Bb=Q(H),Q(H)){for(K.Fb=Q(H),Z=0;4>Z;++Z)K.Zb[Z]=Q(H)?ue(H,7):0;for(Z=0;4>Z;++Z)K.Lb[Z]=Q(H)?ue(H,6):0}if(K.Bb)for(Z=0;3>Z;++Z)re.jb[Z]=Q(H)?me(H,8):255}else K.Bb=0;if(H.Ka)return kn(x,3,"cannot parse segment header");if((K=x.ed).zd=Q(H),K.Tb=me(H,6),K.wb=me(H,3),K.Pc=Q(H),K.Pc&&Q(H)){for(re=0;4>re;++re)Q(H)&&(K.vd[re]=ue(H,6));for(re=0;4>re;++re)Q(H)&&(K.od[re]=ue(H,6))}if(x.L=K.Tb==0?0:K.zd?1:2,H.Ka)return kn(x,3,"cannot parse filter header");var ge=q;if(q=Z=D,D=Z+ge,K=ge,x.Xb=(1<<me(x.m,2))-1,ge<3*(re=x.Xb))S=7;else{for(Z+=3*re,K-=3*re,ge=0;ge<re;++ge){var Pe=S[q+0]|S[q+1]<<8|S[q+2]<<16;Pe>K&&(Pe=K),de(x.Jc[+ge],S,Z,Pe),Z+=Pe,K-=Pe,q+=3}de(x.Jc[+re],S,Z,K),S=Z<D?0:5}if(S!=0)return kn(x,S,"cannot parse partitions");for(S=me(Z=x.m,7),q=Q(Z)?ue(Z,4):0,D=Q(Z)?ue(Z,4):0,K=Q(Z)?ue(Z,4):0,re=Q(Z)?ue(Z,4):0,Z=Q(Z)?ue(Z,4):0,ge=x.Qa,Pe=0;4>Pe;++Pe){if(ge.Cb){var ne=ge.Zb[Pe];ge.Fb||(ne+=S)}else{if(0<Pe){x.pb[Pe]=x.pb[0];continue}ne=S}var ve=x.pb[Pe];ve.Sc[0]=lx[En(ne+q,127)],ve.Sc[1]=cx[En(ne+0,127)],ve.Eb[0]=2*lx[En(ne+D,127)],ve.Eb[1]=101581*cx[En(ne+K,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=lx[En(ne+re,117)],ve.Qc[1]=cx[En(ne+Z,127)],ve.lc=ne+Z}if(!G.Rb)return kn(x,4,"Not a key frame.");for(Q(H),G=x.Pa,S=0;4>S;++S){for(q=0;8>q;++q)for(D=0;3>D;++D)for(K=0;11>K;++K)re=ce(H,KD[S][q][D][K])?me(H,8):VD[S][q][D][K],G.Wc[S][q].Yb[D][K]=re;for(q=0;17>q;++q)G.Xc[S][q]=G.Wc[S][YD[q]]}return x.kc=Q(H),x.kc&&(x.Bd=me(H,8)),x.cb=1}function Cu(x,y,S,D,q,H,G){var K=y[q].Yb[S];for(S=0;16>q;++q){if(!ce(x,K[S+0]))return q;for(;!ce(x,K[S+1]);)if(K=y[++q].Yb[0],S=0,q==16)return 16;var Z=y[q+1].Yb;if(ce(x,K[S+2])){var re=x,ge=0;if(ce(re,(ne=K)[(Pe=S)+3]))if(ce(re,ne[Pe+6])){for(K=0,Pe=2*(ge=ce(re,ne[Pe+8]))+(ne=ce(re,ne[Pe+9+ge])),ge=0,ne=WD[Pe];ne[K];++K)ge+=ge+ce(re,ne[K]);ge+=3+(8<<Pe)}else ce(re,ne[Pe+7])?(ge=7+2*ce(re,165),ge+=ce(re,145)):ge=5+ce(re,159);else ge=ce(re,ne[Pe+4])?3+ce(re,ne[Pe+5]):2;K=Z[2]}else ge=1,K=Z[1];Z=G+HD[q],0>(re=x).b&&xe(re);var Pe,ne=re.b,ve=(Pe=re.Ca>>1)-(re.I>>ne)>>31;--re.b,re.Ca+=ve,re.Ca|=1,re.I-=(Pe+1&ve)<<ne,H[Z]=((ge^ve)-ve)*D[(0<q)+0]}return 16}function l0(x){var y=x.rb[x.sb-1];y.la=0,y.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function Wi(x,y,S,D,q){q=x[y+S+32*D]+(q>>3),x[y+S+32*D]=-256&q?0>q?0:255:q}function Un(x,y,S,D,q,H){Wi(x,y,0,S,D+q),Wi(x,y,1,S,D+H),Wi(x,y,2,S,D-H),Wi(x,y,3,S,D-q)}function xo(x){return(20091*x>>16)+x}function c0(x,y,S,D){var q,H=0,G=i(16);for(q=0;4>q;++q){var K=x[y+0]+x[y+8],Z=x[y+0]-x[y+8],re=(35468*x[y+4]>>16)-xo(x[y+12]),ge=xo(x[y+4])+(35468*x[y+12]>>16);G[H+0]=K+ge,G[H+1]=Z+re,G[H+2]=Z-re,G[H+3]=K-ge,H+=4,y++}for(q=H=0;4>q;++q)K=(x=G[H+0]+4)+G[H+8],Z=x-G[H+8],re=(35468*G[H+4]>>16)-xo(G[H+12]),Wi(S,D,0,0,K+(ge=xo(G[H+4])+(35468*G[H+12]>>16))),Wi(S,D,1,0,Z+re),Wi(S,D,2,0,Z-re),Wi(S,D,3,0,K-ge),H++,D+=32}function U1(x,y,S,D){var q=x[y+0]+4,H=35468*x[y+4]>>16,G=xo(x[y+4]),K=35468*x[y+1]>>16;Un(S,D,0,q+G,x=xo(x[y+1]),K),Un(S,D,1,q+H,x,K),Un(S,D,2,q-H,x,K),Un(S,D,3,q-G,x,K)}function W1(x,y,S,D,q){c0(x,y,S,D),q&&c0(x,y+16,S,D+4)}function Is(x,y,S,D){Pc(x,y+0,S,D,1),Pc(x,y+32,S,D+128,1)}function u0(x,y,S,D){var q;for(x=x[y+0]+4,q=0;4>q;++q)for(y=0;4>y;++y)Wi(S,D,y,q,x)}function d0(x,y,S,D){x[y+0]&&pr(x,y+0,S,D),x[y+16]&&pr(x,y+16,S,D+4),x[y+32]&&pr(x,y+32,S,D+128),x[y+48]&&pr(x,y+48,S,D+128+4)}function Pu(x,y,S,D){var q,H=i(16);for(q=0;4>q;++q){var G=x[y+0+q]+x[y+12+q],K=x[y+4+q]+x[y+8+q],Z=x[y+4+q]-x[y+8+q],re=x[y+0+q]-x[y+12+q];H[0+q]=G+K,H[8+q]=G-K,H[4+q]=re+Z,H[12+q]=re-Z}for(q=0;4>q;++q)G=(x=H[0+4*q]+3)+H[3+4*q],K=H[1+4*q]+H[2+4*q],Z=H[1+4*q]-H[2+4*q],re=x-H[3+4*q],S[D+0]=G+K>>3,S[D+16]=re+Z>>3,S[D+32]=G-K>>3,S[D+48]=re-Z>>3,D+=64}function xc(x,y,S){var D,q=y-32,H=Ni,G=255-x[q-1];for(D=0;D<S;++D){var K,Z=H,re=G+x[y-1];for(K=0;K<S;++K)x[y+K]=Z[re+x[q+K]];y+=32}}function H1(x,y){xc(x,y,4)}function V1(x,y){xc(x,y,8)}function G1(x,y){xc(x,y,16)}function Gd(x,y){var S;for(S=0;16>S;++S)n(x,y+32*S,x,y-32,16)}function f0(x,y){var S;for(S=16;0<S;--S)a(x,y,x[y-1],16),y+=32}function fs(x,y,S){var D;for(D=0;16>D;++D)a(y,S+32*D,x,16)}function K1(x,y){var S,D=16;for(S=0;16>S;++S)D+=x[y-1+32*S]+x[y+S-32];fs(D>>5,x,y)}function gc(x,y){var S,D=8;for(S=0;16>S;++S)D+=x[y-1+32*S];fs(D>>4,x,y)}function Kd(x,y){var S,D=8;for(S=0;16>S;++S)D+=x[y+S-32];fs(D>>4,x,y)}function Y1(x,y){fs(128,x,y)}function $t(x,y,S){return x+2*y+S+2>>2}function X1(x,y){var S,D=y-32;for(D=new Uint8Array([$t(x[D-1],x[D+0],x[D+1]),$t(x[D+0],x[D+1],x[D+2]),$t(x[D+1],x[D+2],x[D+3]),$t(x[D+2],x[D+3],x[D+4])]),S=0;4>S;++S)n(x,y+32*S,D,0,D.length)}function Z1(x,y){var S=x[y-1],D=x[y-1+32],q=x[y-1+64],H=x[y-1+96];je(x,y+0,16843009*$t(x[y-1-32],S,D)),je(x,y+32,16843009*$t(S,D,q)),je(x,y+64,16843009*$t(D,q,H)),je(x,y+96,16843009*$t(q,H,H))}function J1(x,y){var S,D=4;for(S=0;4>S;++S)D+=x[y+S-32]+x[y-1+32*S];for(D>>=3,S=0;4>S;++S)a(x,y+32*S,D,4)}function go(x,y){var S=x[y-1+0],D=x[y-1+32],q=x[y-1+64],H=x[y-1-32],G=x[y+0-32],K=x[y+1-32],Z=x[y+2-32],re=x[y+3-32];x[y+0+96]=$t(D,q,x[y-1+96]),x[y+1+96]=x[y+0+64]=$t(S,D,q),x[y+2+96]=x[y+1+64]=x[y+0+32]=$t(H,S,D),x[y+3+96]=x[y+2+64]=x[y+1+32]=x[y+0+0]=$t(G,H,S),x[y+3+64]=x[y+2+32]=x[y+1+0]=$t(K,G,H),x[y+3+32]=x[y+2+0]=$t(Z,K,G),x[y+3+0]=$t(re,Z,K)}function vo(x,y){var S=x[y+1-32],D=x[y+2-32],q=x[y+3-32],H=x[y+4-32],G=x[y+5-32],K=x[y+6-32],Z=x[y+7-32];x[y+0+0]=$t(x[y+0-32],S,D),x[y+1+0]=x[y+0+32]=$t(S,D,q),x[y+2+0]=x[y+1+32]=x[y+0+64]=$t(D,q,H),x[y+3+0]=x[y+2+32]=x[y+1+64]=x[y+0+96]=$t(q,H,G),x[y+3+32]=x[y+2+64]=x[y+1+96]=$t(H,G,K),x[y+3+64]=x[y+2+96]=$t(G,K,Z),x[y+3+96]=$t(K,Z,Z)}function Q1(x,y){var S=x[y-1+0],D=x[y-1+32],q=x[y-1+64],H=x[y-1-32],G=x[y+0-32],K=x[y+1-32],Z=x[y+2-32],re=x[y+3-32];x[y+0+0]=x[y+1+64]=H+G+1>>1,x[y+1+0]=x[y+2+64]=G+K+1>>1,x[y+2+0]=x[y+3+64]=K+Z+1>>1,x[y+3+0]=Z+re+1>>1,x[y+0+96]=$t(q,D,S),x[y+0+64]=$t(D,S,H),x[y+0+32]=x[y+1+96]=$t(S,H,G),x[y+1+32]=x[y+2+96]=$t(H,G,K),x[y+2+32]=x[y+3+96]=$t(G,K,Z),x[y+3+32]=$t(K,Z,re)}function ex(x,y){var S=x[y+0-32],D=x[y+1-32],q=x[y+2-32],H=x[y+3-32],G=x[y+4-32],K=x[y+5-32],Z=x[y+6-32],re=x[y+7-32];x[y+0+0]=S+D+1>>1,x[y+1+0]=x[y+0+64]=D+q+1>>1,x[y+2+0]=x[y+1+64]=q+H+1>>1,x[y+3+0]=x[y+2+64]=H+G+1>>1,x[y+0+32]=$t(S,D,q),x[y+1+32]=x[y+0+96]=$t(D,q,H),x[y+2+32]=x[y+1+96]=$t(q,H,G),x[y+3+32]=x[y+2+96]=$t(H,G,K),x[y+3+64]=$t(G,K,Z),x[y+3+96]=$t(K,Z,re)}function Eu(x,y){var S=x[y-1+0],D=x[y-1+32],q=x[y-1+64],H=x[y-1+96];x[y+0+0]=S+D+1>>1,x[y+2+0]=x[y+0+32]=D+q+1>>1,x[y+2+32]=x[y+0+64]=q+H+1>>1,x[y+1+0]=$t(S,D,q),x[y+3+0]=x[y+1+32]=$t(D,q,H),x[y+3+32]=x[y+1+64]=$t(q,H,H),x[y+3+64]=x[y+2+64]=x[y+0+96]=x[y+1+96]=x[y+2+96]=x[y+3+96]=H}function Yd(x,y){var S=x[y-1+0],D=x[y-1+32],q=x[y-1+64],H=x[y-1+96],G=x[y-1-32],K=x[y+0-32],Z=x[y+1-32],re=x[y+2-32];x[y+0+0]=x[y+2+32]=S+G+1>>1,x[y+0+32]=x[y+2+64]=D+S+1>>1,x[y+0+64]=x[y+2+96]=q+D+1>>1,x[y+0+96]=H+q+1>>1,x[y+3+0]=$t(K,Z,re),x[y+2+0]=$t(G,K,Z),x[y+1+0]=x[y+3+32]=$t(S,G,K),x[y+1+32]=x[y+3+64]=$t(D,S,G),x[y+1+64]=x[y+3+96]=$t(q,D,S),x[y+1+96]=$t(H,q,D)}function vc(x,y){var S;for(S=0;8>S;++S)n(x,y+32*S,x,y-32,8)}function tx(x,y){var S;for(S=0;8>S;++S)a(x,y,x[y-1],8),y+=32}function bo(x,y,S){var D;for(D=0;8>D;++D)a(y,S+32*D,x,8)}function rx(x,y){var S,D=8;for(S=0;8>S;++S)D+=x[y+S-32]+x[y-1+32*S];bo(D>>4,x,y)}function Xd(x,y){var S,D=4;for(S=0;8>S;++S)D+=x[y+S-32];bo(D>>3,x,y)}function Zd(x,y){var S,D=4;for(S=0;8>S;++S)D+=x[y-1+32*S];bo(D>>3,x,y)}function h0(x,y){bo(128,x,y)}function yo(x,y,S){var D=x[y-S],q=x[y+0],H=3*(q-D)+nx[1020+x[y-2*S]-x[y+S]],G=w0[112+(H+4>>3)];x[y-S]=Ni[255+D+w0[112+(H+3>>3)]],x[y+0]=Ni[255+q-G]}function Jd(x,y,S,D){var q=x[y+0],H=x[y+S];return Gi[255+x[y-2*S]-x[y-S]]>D||Gi[255+H-q]>D}function ku(x,y,S,D){return 4*Gi[255+x[y-S]-x[y+0]]+Gi[255+x[y-2*S]-x[y+S]]<=D}function Qd(x,y,S,D,q){var H=x[y-3*S],G=x[y-2*S],K=x[y-S],Z=x[y+0],re=x[y+S],ge=x[y+2*S],Pe=x[y+3*S];return 4*Gi[255+K-Z]+Gi[255+G-re]>D?0:Gi[255+x[y-4*S]-H]<=q&&Gi[255+H-G]<=q&&Gi[255+G-K]<=q&&Gi[255+Pe-ge]<=q&&Gi[255+ge-re]<=q&&Gi[255+re-Z]<=q}function bc(x,y,S,D){var q=2*D+1;for(D=0;16>D;++D)ku(x,y+D,S,q)&&yo(x,y+D,S)}function ef(x,y,S,D){var q=2*D+1;for(D=0;16>D;++D)ku(x,y+D*S,1,q)&&yo(x,y+D*S,1)}function m0(x,y,S,D){var q;for(q=3;0<q;--q)bc(x,y+=4*S,S,D)}function p0(x,y,S,D){var q;for(q=3;0<q;--q)ef(x,y+=4,S,D)}function wo(x,y,S,D,q,H,G,K){for(H=2*H+1;0<q--;){if(Qd(x,y,S,H,G))if(Jd(x,y,S,K))yo(x,y,S);else{var Z=x,re=y,ge=S,Pe=Z[re-2*ge],ne=Z[re-ge],ve=Z[re+0],ye=Z[re+ge],Me=Z[re+2*ge],Ce=27*(Be=nx[1020+3*(ve-ne)+nx[1020+Pe-ye]])+63>>7,Fe=18*Be+63>>7,Be=9*Be+63>>7;Z[re-3*ge]=Ni[255+Z[re-3*ge]+Be],Z[re-2*ge]=Ni[255+Pe+Fe],Z[re-ge]=Ni[255+ne+Ce],Z[re+0]=Ni[255+ve-Ce],Z[re+ge]=Ni[255+ye-Fe],Z[re+2*ge]=Ni[255+Me-Be]}y+=D}}function No(x,y,S,D,q,H,G,K){for(H=2*H+1;0<q--;){if(Qd(x,y,S,H,G))if(Jd(x,y,S,K))yo(x,y,S);else{var Z=x,re=y,ge=S,Pe=Z[re-ge],ne=Z[re+0],ve=Z[re+ge],ye=w0[112+(4+(Me=3*(ne-Pe))>>3)],Me=w0[112+(Me+3>>3)],Ce=ye+1>>1;Z[re-2*ge]=Ni[255+Z[re-2*ge]+Ce],Z[re-ge]=Ni[255+Pe+Me],Z[re+0]=Ni[255+ne-ye],Z[re+ge]=Ni[255+ve-Ce]}y+=D}}function x0(x,y,S,D,q,H){wo(x,y,S,1,16,D,q,H)}function yc(x,y,S,D,q,H){wo(x,y,1,S,16,D,q,H)}function g0(x,y,S,D,q,H){var G;for(G=3;0<G;--G)No(x,y+=4*S,S,1,16,D,q,H)}function N(x,y,S,D,q,H){var G;for(G=3;0<G;--G)No(x,y+=4,1,S,16,D,q,H)}function B(x,y,S,D,q,H,G,K){wo(x,y,q,1,8,H,G,K),wo(S,D,q,1,8,H,G,K)}function se(x,y,S,D,q,H,G,K){wo(x,y,1,q,8,H,G,K),wo(S,D,1,q,8,H,G,K)}function fe(x,y,S,D,q,H,G,K){No(x,y+4*q,q,1,8,H,G,K),No(S,D+4*q,q,1,8,H,G,K)}function be(x,y,S,D,q,H,G,K){No(x,y+4,1,q,8,H,G,K),No(S,D+4,1,q,8,H,G,K)}function Le(){this.ba=new ct,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new dt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ue(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function bt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ct(){this.ua=0,this.Wa=new Oe,this.vb=new Oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new te,this.yc=new F}function Bt(){this.xb=this.a=0,this.l=new Su,this.ca=new ct,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ct,this.ab=0,this.gc=o(4,bt),this.Oc=0}function Gt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Su,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function sr(x,y,S,D,q,H,G){for(x=x==null?0:x[y+0],y=0;y<G;++y)q[H+y]=x+S[D+y]&255,x=q[H+y]}function en(x,y,S,D,q,H,G){var K;if(x==null)sr(null,null,S,D,q,H,G);else for(K=0;K<G;++K)q[H+K]=x[y+K]+S[D+K]&255}function Tn(x,y,S,D,q,H,G){if(x==null)sr(null,null,S,D,q,H,G);else{var K,Z=x[y+0],re=Z,ge=Z;for(K=0;K<G;++K)re=ge+(Z=x[y+K])-re,ge=S[D+K]+(-256&re?0>re?0:255:re)&255,re=Z,q[H+K]=ge}}function Br(x,y,S,D){var q=y.width,H=y.o;if(t(x!=null&&y!=null),0>S||0>=D||S+D>H)return null;if(!x.Cc){if(x.ga==null){var G;if(x.ga=new Gt,(G=x.ga==null)||(G=y.width*y.o,t(x.Gb.length==0),x.Gb=i(G),x.Uc=0,x.Gb==null?G=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,G=1),G=!G),!G){G=x.ga;var K=x.Fa,Z=x.P,re=x.qc,ge=x.mb,Pe=x.nb,ne=Z+1,ve=re-1,ye=G.l;if(t(K!=null&&ge!=null&&y!=null),El[0]=null,El[1]=sr,El[2]=en,El[3]=Tn,G.ca=ge,G.tb=Pe,G.c=y.width,G.i=y.height,t(0<G.c&&0<G.i),1>=re)y=0;else if(G.$a=3&K[Z+0],G.Z=K[Z+0]>>2&3,G.Lc=K[Z+0]>>4&3,Z=K[Z+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||Z)y=0;else if(ye.put=Tt,ye.ac=Pa,ye.bc=cs,ye.ma=G,ye.width=y.width,ye.height=y.height,ye.Da=y.Da,ye.v=y.v,ye.va=y.va,ye.j=y.j,ye.o=y.o,G.$a)e:{t(G.$a==1),y=_e();t:for(;;){if(y==null){y=0;break e}if(t(G!=null),G.mc=y,y.c=G.c,y.i=G.i,y.l=G.l,y.l.ma=G,y.l.width=G.c,y.l.height=G.i,y.a=0,he(y.m,K,ne,ve),!Se(G.c,G.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&ee(y.s)?(G.ic=1,K=y.c*y.i,y.Ta=null,y.Ua=0,y.V=i(K),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(G.ic=0,y=ke(y,G.c)),!y))break t;y=1;break e}G.mc=null,y=0}else y=ve>=G.c*G.i;G=!y}if(G)return null;x.ga.Lc!=1?x.Ga=0:D=H-S}t(x.ga!=null),t(S+D<=H);e:{if(y=(K=x.ga).c,H=K.l.o,K.$a==0){if(ne=x.rc,ve=x.Vc,ye=x.Fa,Z=x.P+1+S*y,re=x.mb,ge=x.nb+S*y,t(Z<=x.P+x.qc),K.Z!=0)for(t(El[K.Z]!=null),G=0;G<D;++G)El[K.Z](ne,ve,ye,Z,re,ge,y),ne=re,ve=ge,ge+=y,Z+=y;else for(G=0;G<D;++G)n(re,ge,ye,Z,y),ne=re,ve=ge,ge+=y,Z+=y;x.rc=ne,x.Vc=ve}else{if(t(K.mc!=null),y=S+D,t((G=K.mc)!=null),t(y<=G.i),G.C>=y)y=1;else if(K.ic||hs(),K.ic){K=G.V,ne=G.Ba,ve=G.c;var Me=G.i,Ce=(ye=1,Z=G.$/ve,re=G.$%ve,ge=G.m,Pe=G.s,G.$),Fe=ve*Me,Be=ve*y,Ve=Pe.wc,We=Ce<Be?W(Pe,re,Z):null;t(Ce<=Fe),t(y<=Me),t(ee(Pe));t:for(;;){for(;!ge.h&&Ce<Be;){if(re&Ve||(We=W(Pe,re,Z)),t(We!=null),le(ge),256>(Me=Kr(We.G[0],We.H[0],ge)))K[ne+Ce]=Me,++Ce,++re>=ve&&(re=0,++Z<=y&&!(Z%16)&&oe(G,Z));else{if(!(280>Me)){ye=0;break t}Me=Ea(Me-256,ge);var Et,pt=Kr(We.G[4],We.H[4],ge);if(le(ge),!(Ce>=(pt=si(ve,pt=Ea(pt,ge)))&&Fe-Ce>=Me)){ye=0;break t}for(Et=0;Et<Me;++Et)K[ne+Ce+Et]=K[ne+Ce+Et-pt];for(Ce+=Me,re+=Me;re>=ve;)re-=ve,++Z<=y&&!(Z%16)&&oe(G,Z);Ce<Be&&re&Ve&&(We=W(Pe,re,Z))}t(ge.h==z(ge))}oe(G,Z>y?y:Z);break t}!ye||ge.h&&Ce<Fe?(ye=0,G.a=ge.h?5:3):G.$=Ce,y=ye}else y=we(G,G.V,G.Ba,G.c,G.i,y,He);if(!y){D=0;break e}}S+D>=H&&(x.Cc=1),D=1}if(!D)return null;if(x.Cc&&((D=x.ga)!=null&&(D.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+S*q}function Wn(x,y,S,D,q,H){for(;0<q--;){var G,K=x,Z=y+(S?1:0),re=x,ge=y+(S?0:3);for(G=0;G<D;++G){var Pe=re[ge+4*G];Pe!=255&&(Pe*=32897,K[Z+4*G+0]=K[Z+4*G+0]*Pe>>23,K[Z+4*G+1]=K[Z+4*G+1]*Pe>>23,K[Z+4*G+2]=K[Z+4*G+2]*Pe>>23)}y+=H}}function On(x,y,S,D,q){for(;0<D--;){var H;for(H=0;H<S;++H){var G=x[y+2*H+0],K=15&(re=x[y+2*H+1]),Z=4369*K,re=(240&re|re>>4)*Z>>16;x[y+2*H+0]=(240&G|G>>4)*Z>>16&240|(15&G|G<<4)*Z>>16>>4&15,x[y+2*H+1]=240&re|K}y+=q}}function pa(x,y,S,D,q,H,G,K){var Z,re,ge=255;for(re=0;re<q;++re){for(Z=0;Z<D;++Z){var Pe=x[y+Z];H[G+4*Z]=Pe,ge&=Pe}y+=S,G+=K}return ge!=255}function jo(x,y,S,D,q){var H;for(H=0;H<q;++H)S[D+H]=x[y+H]>>8}function hs(){hf=Wn,Yy=On,Xy=pa,Zy=jo}function _o(x,y,S){O[x]=function(D,q,H,G,K,Z,re,ge,Pe,ne,ve,ye,Me,Ce,Fe,Be,Ve){var We,Et=Ve-1>>1,pt=K[Z+0]|re[ge+0]<<16,Yt=Pe[ne+0]|ve[ye+0]<<16;t(D!=null);var _t=3*pt+Yt+131074>>2;for(y(D[q+0],255&_t,_t>>16,Me,Ce),H!=null&&(_t=3*Yt+pt+131074>>2,y(H[G+0],255&_t,_t>>16,Fe,Be)),We=1;We<=Et;++We){var rr=K[Z+We]|re[ge+We]<<16,Vn=Pe[ne+We]|ve[ye+We]<<16,Xt=pt+rr+Yt+Vn+524296,At=Xt+2*(rr+Yt)>>3;_t=At+pt>>1,pt=(Xt=Xt+2*(pt+Vn)>>3)+rr>>1,y(D[q+2*We-1],255&_t,_t>>16,Me,Ce+(2*We-1)*S),y(D[q+2*We-0],255&pt,pt>>16,Me,Ce+(2*We-0)*S),H!=null&&(_t=Xt+Yt>>1,pt=At+Vn>>1,y(H[G+2*We-1],255&_t,_t>>16,Fe,Be+(2*We-1)*S),y(H[G+2*We+0],255&pt,pt>>16,Fe,Be+(2*We+0)*S)),pt=rr,Yt=Vn}1&Ve||(_t=3*pt+Yt+131074>>2,y(D[q+Ve-1],255&_t,_t>>16,Me,Ce+(Ve-1)*S),H!=null&&(_t=3*Yt+pt+131074>>2,y(H[G+Ve-1],255&_t,_t>>16,Fe,Be+(Ve-1)*S)))}}function tf(){Ki[N0]=ZD,Ki[j0]=lw,Ki[nw]=JD,Ki[_0]=cw,Ki[A0]=uw,Ki[ax]=dw,Ki[aw]=QD,Ki[ix]=lw,Ki[sx]=cw,Ki[S0]=uw,Ki[ox]=dw}function Tu(x){return x&-16384?0>x?0:255:x>>e9}function bl(x,y){return Tu((19077*x>>8)+(26149*y>>8)-14234)}function wc(x,y,S){return Tu((19077*x>>8)-(6419*y>>8)-(13320*S>>8)+8708)}function Nc(x,y){return Tu((19077*x>>8)+(33050*y>>8)-17685)}function yl(x,y,S,D,q){D[q+0]=bl(x,S),D[q+1]=wc(x,y,S),D[q+2]=Nc(x,y)}function xa(x,y,S,D,q){D[q+0]=Nc(x,y),D[q+1]=wc(x,y,S),D[q+2]=bl(x,S)}function jc(x,y,S,D,q){var H=wc(x,y,S);y=H<<3&224|Nc(x,y)>>3,D[q+0]=248&bl(x,S)|H>>5,D[q+1]=y}function _c(x,y,S,D,q){var H=240&Nc(x,y)|15;D[q+0]=240&bl(x,S)|wc(x,y,S)>>4,D[q+1]=H}function rf(x,y,S,D,q){D[q+0]=255,yl(x,y,S,D,q+1)}function nf(x,y,S,D,q){xa(x,y,S,D,q),D[q+3]=255}function Wa(x,y,S,D,q){yl(x,y,S,D,q),D[q+3]=255}function Ao(x,y,S){O[x]=function(D,q,H,G,K,Z,re,ge,Pe){for(var ne=ge+(-2&Pe)*S;ge!=ne;)y(D[q+0],H[G+0],K[Z+0],re,ge),y(D[q+1],H[G+0],K[Z+0],re,ge+S),q+=2,++G,++Z,ge+=2*S;1&Pe&&y(D[q+0],H[G+0],K[Z+0],re,ge)}}function Ou(x,y,S){return S==0?x==0?y==0?6:5:y==0?4:0:S}function v0(x,y,S,D,q){switch(x>>>30){case 3:Pc(y,S,D,q,0);break;case 2:Vi(y,S,D,q);break;case 1:pr(y,S,D,q)}}function Hi(x,y){var S,D,q=y.M,H=y.Nb,G=x.oc,K=x.pc+40,Z=x.oc,re=x.pc+584,ge=x.oc,Pe=x.pc+600;for(S=0;16>S;++S)G[K+32*S-1]=129;for(S=0;8>S;++S)Z[re+32*S-1]=129,ge[Pe+32*S-1]=129;for(0<q?G[K-1-32]=Z[re-1-32]=ge[Pe-1-32]=129:(a(G,K-32-1,127,21),a(Z,re-32-1,127,9),a(ge,Pe-32-1,127,9)),D=0;D<x.za;++D){var ne=y.ya[y.aa+D];if(0<D){for(S=-1;16>S;++S)n(G,K+32*S-4,G,K+32*S+12,4);for(S=-1;8>S;++S)n(Z,re+32*S-4,Z,re+32*S+4,4),n(ge,Pe+32*S-4,ge,Pe+32*S+4,4)}var ve=x.Gd,ye=x.Hd+D,Me=ne.ad,Ce=ne.Hc;if(0<q&&(n(G,K-32,ve[ye].y,0,16),n(Z,re-32,ve[ye].f,0,8),n(ge,Pe-32,ve[ye].ea,0,8)),ne.Za){var Fe=G,Be=K-32+16;for(0<q&&(D>=x.za-1?a(Fe,Be,ve[ye].y[15],4):n(Fe,Be,ve[ye+1].y,0,4)),S=0;4>S;S++)Fe[Be+128+S]=Fe[Be+256+S]=Fe[Be+384+S]=Fe[Be+0+S];for(S=0;16>S;++S,Ce<<=2)Fe=G,Be=K+hw[S],ms[ne.Ob[S]](Fe,Be),v0(Ce,Me,16*+S,Fe,Be)}else if(Fe=Ou(D,q,ne.Ob[0]),Pl[Fe](G,K),Ce!=0)for(S=0;16>S;++S,Ce<<=2)v0(Ce,Me,16*+S,G,K+hw[S]);for(S=ne.Gc,Fe=Ou(D,q,ne.Dd),Po[Fe](Z,re),Po[Fe](ge,Pe),Ce=Me,Fe=Z,Be=re,255&(ne=0|S)&&(170&ne?Ls(Ce,256,Fe,Be):Ir(Ce,256,Fe,Be)),ne=ge,Ce=Pe,255&(S>>=8)&&(170&S?Ls(Me,320,ne,Ce):Ir(Me,320,ne,Ce)),q<x.Ub-1&&(n(ve[ye].y,0,G,K+480,16),n(ve[ye].f,0,Z,re+224,8),n(ve[ye].ea,0,ge,Pe+224,8)),S=8*H*x.B,ve=x.sa,ye=x.ta+16*D+16*H*x.R,Me=x.qa,ne=x.ra+8*D+S,Ce=x.Ha,Fe=x.Ia+8*D+S,S=0;16>S;++S)n(ve,ye+S*x.R,G,K+32*S,16);for(S=0;8>S;++S)n(Me,ne+S*x.B,Z,re+32*S,8),n(Ce,Fe+S*x.B,ge,Pe+32*S,8)}}function Ac(x,y,S,D,q,H,G,K,Z){var re=[0],ge=[0],Pe=0,ne=Z!=null?Z.kd:0,ve=Z??new Ue;if(x==null||12>S)return 7;ve.data=x,ve.w=y,ve.ha=S,y=[y],S=[S],ve.gb=[ve.gb];e:{var ye=y,Me=S,Ce=ve.gb;if(t(x!=null),t(Me!=null),t(Ce!=null),Ce[0]=0,12<=Me[0]&&!r(x,ye[0],"RIFF")){if(r(x,ye[0]+8,"WEBP")){Ce=3;break e}var Fe=Te(x,ye[0]+4);if(12>Fe||4294967286<Fe){Ce=3;break e}if(ne&&Fe>Me[0]-8){Ce=7;break e}Ce[0]=Fe,ye[0]+=12,Me[0]-=12}Ce=0}if(Ce!=0)return Ce;for(Fe=0<ve.gb[0],S=S[0];;){e:{var Be=x;Me=y,Ce=S;var Ve=re,We=ge,Et=ye=[0];if((_t=Pe=[Pe])[0]=0,8>Ce[0])Ce=7;else{if(!r(Be,Me[0],"VP8X")){if(Te(Be,Me[0]+4)!=10){Ce=3;break e}if(18>Ce[0]){Ce=7;break e}var pt=Te(Be,Me[0]+8),Yt=1+ze(Be,Me[0]+12);if(2147483648<=Yt*(Be=1+ze(Be,Me[0]+15))){Ce=3;break e}Et!=null&&(Et[0]=pt),Ve!=null&&(Ve[0]=Yt),We!=null&&(We[0]=Be),Me[0]+=18,Ce[0]-=18,_t[0]=1}Ce=0}}if(Pe=Pe[0],ye=ye[0],Ce!=0)return Ce;if(Me=!!(2&ye),!Fe&&Pe)return 3;if(H!=null&&(H[0]=!!(16&ye)),G!=null&&(G[0]=Me),K!=null&&(K[0]=0),G=re[0],ye=ge[0],Pe&&Me&&Z==null){Ce=0;break}if(4>S){Ce=7;break}if(Fe&&Pe||!Fe&&!Pe&&!r(x,y[0],"ALPH")){S=[S],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{pt=x,Ce=y,Fe=S;var _t=ve.gb;Ve=ve.na,We=ve.P,Et=ve.Sa,Yt=22,t(pt!=null),t(Fe!=null),Be=Ce[0];var rr=Fe[0];for(t(Ve!=null),t(Et!=null),Ve[0]=null,We[0]=null,Et[0]=0;;){if(Ce[0]=Be,Fe[0]=rr,8>rr){Ce=7;break e}var Vn=Te(pt,Be+4);if(4294967286<Vn){Ce=3;break e}var Xt=8+Vn+1&-2;if(Yt+=Xt,0<_t&&Yt>_t){Ce=3;break e}if(!r(pt,Be,"VP8 ")||!r(pt,Be,"VP8L")){Ce=0;break e}if(rr[0]<Xt){Ce=7;break e}r(pt,Be,"ALPH")||(Ve[0]=pt,We[0]=Be+8,Et[0]=Vn),Be+=Xt,rr-=Xt}}if(S=S[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],Ce!=0)break}S=[S],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(_t=x,Ce=y,Fe=S,Ve=ve.gb[0],We=ve.Ja,Et=ve.xa,pt=Ce[0],Be=!r(_t,pt,"VP8 "),Yt=!r(_t,pt,"VP8L"),t(_t!=null),t(Fe!=null),t(We!=null),t(Et!=null),8>Fe[0])Ce=7;else{if(Be||Yt){if(_t=Te(_t,pt+4),12<=Ve&&_t>Ve-12){Ce=3;break e}if(ne&&_t>Fe[0]-8){Ce=7;break e}We[0]=_t,Ce[0]+=8,Fe[0]-=8,Et[0]=Yt}else Et[0]=5<=Fe[0]&&_t[pt+0]==47&&!(_t[pt+4]>>5),We[0]=Fe[0];Ce=0}if(S=S[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],y=y[0],Ce!=0)break;if(4294967286<ve.Ja)return 3;if(K==null||Me||(K[0]=ve.xa?2:1),G=[G],ye=[ye],ve.xa){if(5>S){Ce=7;break}K=G,ne=ye,Me=H,x==null||5>S?x=0:5<=S&&x[y+0]==47&&!(x[y+4]>>5)?(Fe=[0],_t=[0],Ve=[0],he(We=new R,x,y,S),us(We,Fe,_t,Ve)?(K!=null&&(K[0]=Fe[0]),ne!=null&&(ne[0]=_t[0]),Me!=null&&(Me[0]=Ve[0]),x=1):x=0):x=0}else{if(10>S){Ce=7;break}K=ye,x==null||10>S||!o0(x,y+3,S-3)?x=0:(ne=x[y+0]|x[y+1]<<8|x[y+2]<<16,Me=16383&(x[y+7]<<8|x[y+6]),x=16383&(x[y+9]<<8|x[y+8]),1&ne||3<(ne>>1&7)||!(ne>>4&1)||ne>>5>=ve.Ja||!Me||!x?x=0:(G&&(G[0]=Me),K&&(K[0]=x),x=1))}if(!x||(G=G[0],ye=ye[0],Pe&&(re[0]!=G||ge[0]!=ye)))return 3;Z!=null&&(Z[0]=ve,Z.offset=y-Z.w,t(4294967286>y-Z.w),t(Z.offset==Z.ha-S));break}return Ce==0||Ce==7&&Pe&&Z==null?(H!=null&&(H[0]|=ve.na!=null&&0<ve.na.length),D!=null&&(D[0]=G),q!=null&&(q[0]=ye),0):Ce}function af(x,y,S){var D=y.width,q=y.height,H=0,G=0,K=D,Z=q;if(y.Da=x!=null&&0<x.Da,y.Da&&(K=x.cd,Z=x.bd,H=x.v,G=x.j,11>S||(H&=-2,G&=-2),0>H||0>G||0>=K||0>=Z||H+K>D||G+Z>q))return 0;if(y.v=H,y.j=G,y.va=H+K,y.o=G+Z,y.U=K,y.T=Z,y.da=x!=null&&0<x.da,y.da){if(!et(K,Z,S=[x.ib],H=[x.hb]))return 0;y.ib=S[0],y.hb=H[0]}return y.ob=x!=null&&x.ob,y.Kb=x==null||!x.Sd,y.da&&(y.ob=y.ib<3*D/4&&y.hb<3*q/4,y.Kb=0),1}function sf(x){if(x==null)return 2;if(11>x.S){var y=x.f.RGBA;y.fb+=(x.height-1)*y.A,y.A=-y.A}else y=x.f.kb,x=x.height,y.O+=(x-1)*y.fa,y.fa=-y.fa,y.N+=(x-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(x-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(x-1)*y.lb,y.lb=-y.lb);return 0}function wl(x,y,S,D){if(D==null||0>=x||0>=y)return 2;if(S!=null){if(S.Da){var q=S.cd,H=S.bd,G=-2&S.v,K=-2&S.j;if(0>G||0>K||0>=q||0>=H||G+q>x||K+H>y)return 2;x=q,y=H}if(S.da){if(!et(x,y,q=[S.ib],H=[S.hb]))return 2;x=q[0],y=H[0]}}D.width=x,D.height=y;e:{var Z=D.width,re=D.height;if(x=D.S,0>=Z||0>=re||!(x>=N0&&13>x))x=2;else{if(0>=D.Rd&&D.sd==null){G=H=q=y=0;var ge=(K=Z*mw[x])*re;if(11>x||(H=(re+1)/2*(y=(Z+1)/2),x==12&&(G=(q=Z)*re)),(re=i(ge+2*H+G))==null){x=1;break e}D.sd=re,11>x?((Z=D.f.RGBA).eb=re,Z.fb=0,Z.A=K,Z.size=ge):((Z=D.f.kb).y=re,Z.O=0,Z.fa=K,Z.Fd=ge,Z.f=re,Z.N=0+ge,Z.Ab=y,Z.Cd=H,Z.ea=re,Z.W=0+ge+H,Z.Db=y,Z.Ed=H,x==12&&(Z.F=re,Z.J=0+ge+2*H),Z.Tc=G,Z.lb=q)}if(y=1,q=D.S,H=D.width,G=D.height,q>=N0&&13>q)if(11>q)x=D.f.RGBA,y&=(K=Math.abs(x.A))*(G-1)+H<=x.size,y&=K>=H*mw[q],y&=x.eb!=null;else{x=D.f.kb,K=(H+1)/2,ge=(G+1)/2,Z=Math.abs(x.fa),re=Math.abs(x.Ab);var Pe=Math.abs(x.Db),ne=Math.abs(x.lb),ve=ne*(G-1)+H;y&=Z*(G-1)+H<=x.Fd,y&=re*(ge-1)+K<=x.Cd,y=(y&=Pe*(ge-1)+K<=x.Ed)&Z>=H&re>=K&Pe>=K,y&=x.y!=null,y&=x.f!=null,y&=x.ea!=null,q==12&&(y&=ne>=H,y&=ve<=x.Tc,y&=x.F!=null)}else y=0;x=y?0:2}}return x!=0||S!=null&&S.fd&&(x=sf(D)),x}var Sc=64,yi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],wi=24,Nl=32,So=8,jl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ot("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(x){return x},O.Predictor2=function(x,y,S){return y[S+0]},O.Predictor3=function(x,y,S){return y[S+1]},O.Predictor4=function(x,y,S){return y[S-1]},O.Predictor5=function(x,y,S){return jt(jt(x,y[S+1]),y[S+0])},O.Predictor6=function(x,y,S){return jt(x,y[S-1])},O.Predictor7=function(x,y,S){return jt(x,y[S+0])},O.Predictor8=function(x,y,S){return jt(y[S-1],y[S+0])},O.Predictor9=function(x,y,S){return jt(y[S+0],y[S+1])},O.Predictor10=function(x,y,S){return jt(jt(x,y[S-1]),jt(y[S+0],y[S+1]))},O.Predictor11=function(x,y,S){var D=y[S+0];return 0>=It(D>>24&255,x>>24&255,(y=y[S-1])>>24&255)+It(D>>16&255,x>>16&255,y>>16&255)+It(D>>8&255,x>>8&255,y>>8&255)+It(255&D,255&x,255&y)?D:x},O.Predictor12=function(x,y,S){var D=y[S+0];return(qt((x>>24&255)+(D>>24&255)-((y=y[S-1])>>24&255))<<24|qt((x>>16&255)+(D>>16&255)-(y>>16&255))<<16|qt((x>>8&255)+(D>>8&255)-(y>>8&255))<<8|qt((255&x)+(255&D)-(255&y)))>>>0},O.Predictor13=function(x,y,S){var D=y[S-1];return(zt((x=jt(x,y[S+0]))>>24&255,D>>24&255)<<24|zt(x>>16&255,D>>16&255)<<16|zt(x>>8&255,D>>8&255)<<8|zt(255&x,255&D))>>>0};var of=O.PredictorAdd0;O.PredictorAdd1=Kt,ot("Predictor2","PredictorAdd2"),ot("Predictor3","PredictorAdd3"),ot("Predictor4","PredictorAdd4"),ot("Predictor5","PredictorAdd5"),ot("Predictor6","PredictorAdd6"),ot("Predictor7","PredictorAdd7"),ot("Predictor8","PredictorAdd8"),ot("Predictor9","PredictorAdd9"),ot("Predictor10","PredictorAdd10"),ot("Predictor11","PredictorAdd11"),ot("Predictor12","PredictorAdd12"),ot("Predictor13","PredictorAdd13");var Du=O.PredictorAdd2;wt("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var vn,b0=O.ColorIndexInverseTransform,Ms=O.MapARGB,Fs=O.VP8LColorIndexInverseTransformAlpha,lf=O.MapAlpha,cf=O.VP8LPredictorsAdd=[];cf.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var uf,df,_l,Al,Sl,Cc,Cl,Pc,Vi,Ls,pr,Ir,bn,Hn,Co,ff,Iu,y0,Uy,Wy,Hy,Vy,Gy,Ky,hf,Yy,Xy,Zy,Jy=i(511),Qy=i(2041),ew=i(225),tw=i(767),rw=0,nx=Qy,w0=ew,Ni=tw,Gi=Jy,N0=0,j0=1,nw=2,_0=3,A0=4,ax=5,aw=6,ix=7,sx=8,S0=9,ox=10,LD=[2,3,7],RD=[3,3,11],iw=[280,256,256,256,40],BD=[0,1,1,1,0],qD=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],zD=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$D=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],UD=8,lx=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],cx=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],mf=null,WD=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],HD=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],sw=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],VD=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],GD=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],KD=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],YD=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Pl=[],ms=[],Po=[],XD=1,ow=2,El=[],Ki=[];_o("UpsampleRgbLinePair",yl,3),_o("UpsampleBgrLinePair",xa,3),_o("UpsampleRgbaLinePair",Wa,4),_o("UpsampleBgraLinePair",nf,4),_o("UpsampleArgbLinePair",rf,4),_o("UpsampleRgba4444LinePair",_c,2),_o("UpsampleRgb565LinePair",jc,2);var ZD=O.UpsampleRgbLinePair,JD=O.UpsampleBgrLinePair,lw=O.UpsampleRgbaLinePair,cw=O.UpsampleBgraLinePair,uw=O.UpsampleArgbLinePair,dw=O.UpsampleRgba4444LinePair,QD=O.UpsampleRgb565LinePair,C0=16,P0=1<<C0-1,pf=-227,ux=482,e9=6,fw=0,t9=i(256),r9=i(256),n9=i(256),a9=i(256),i9=i(ux-pf),s9=i(ux-pf);Ao("YuvToRgbRow",yl,3),Ao("YuvToBgrRow",xa,3),Ao("YuvToRgbaRow",Wa,4),Ao("YuvToBgraRow",nf,4),Ao("YuvToArgbRow",rf,4),Ao("YuvToRgba4444Row",_c,2),Ao("YuvToRgb565Row",jc,2);var hw=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],E0=[0,2,8],o9=[8,7,6,4,4,2,2,2,1,1,1,1],l9=1;this.WebPDecodeRGBA=function(x,y,S,D,q){var H=j0,G=new Le,K=new ct;G.ba=K,K.S=H,K.width=[K.width],K.height=[K.height];var Z=K.width,re=K.height,ge=new ft;if(ge==null||x==null)var Pe=2;else t(ge!=null),Pe=Ac(x,y,S,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Pe!=0?Z=0:(Z!=null&&(Z[0]=ge.width[0]),re!=null&&(re[0]=ge.height[0]),Z=1),Z){K.width=K.width[0],K.height=K.height[0],D!=null&&(D[0]=K.width),q!=null&&(q[0]=K.height);e:{if(D=new Su,(q=new Ue).data=x,q.w=y,q.ha=S,q.kd=1,y=[0],t(q!=null),((x=Ac(q.data,q.w,q.ha,null,null,null,y,null,q))==0||x==7)&&y[0]&&(x=4),(y=x)==0){if(t(G!=null),D.data=q.data,D.w=q.w+q.offset,D.ha=q.ha-q.offset,D.put=Tt,D.ac=Pa,D.bc=cs,D.ma=G,q.xa){if((x=_e())==null){G=1;break e}if((function(ne,ve){var ye=[0],Me=[0],Ce=[0];t:for(;;){if(ne==null)return 0;if(ve==null)return ne.a=2,0;if(ne.l=ve,ne.a=0,he(ne.m,ve.data,ve.w,ve.ha),!us(ne.m,ye,Me,Ce)){ne.a=3;break t}if(ne.xb=ow,ve.width=ye[0],ve.height=Me[0],!Se(ye[0],Me[0],1,ne,null))break t;return 1}return t(ne.a!=0),0})(x,D)){if(D=(y=wl(D.width,D.height,G.Oa,G.ba))==0){t:{D=x;r:for(;;){if(D==null){D=0;break t}if(t(D.s.yc!=null),t(D.s.Ya!=null),t(0<D.s.Wb),t((S=D.l)!=null),t((q=S.ma)!=null),D.xb!=0){if(D.ca=q.ba,D.tb=q.tb,t(D.ca!=null),!af(q.Oa,S,_0)){D.a=2;break r}if(!ke(D,S.width)||S.da)break r;if((S.da||Ke(D.ca.S))&&hs(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&hs()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!Y(D.s.vb,D.s.Wa.Xa)){D.a=1;break r}D.xb=0}if(!we(D,D.V,D.Ba,D.c,D.i,S.o,X))break r;q.Dc=D.Ma,D=1;break t}t(D.a!=0),D=0}D=!D}D&&(y=x.a)}else y=x.a}else{if((x=new $1)==null){G=1;break e}if(x.Fa=q.na,x.P=q.P,x.qc=q.Sa,Ds(x,D)){if((y=wl(D.width,D.height,G.Oa,G.ba))==0){if(x.Aa=0,S=G.Oa,t((q=x)!=null),S!=null){if(0<(Z=0>(Z=S.Md)?0:100<Z?255:255*Z/100)){for(re=ge=0;4>re;++re)12>(Pe=q.pb[re]).lc&&(Pe.ia=Z*o9[0>Pe.lc?0:Pe.lc]>>3),ge|=Pe.ia;ge&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=S.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}(function(ne,ve){if(ne==null)return 0;if(ve==null)return kn(ne,2,"NULL VP8Io parameter in VP8Decode().");if(!ne.cb&&!Ds(ne,ve))return 0;if(t(ne.cb),ve.ac==null||ve.ac(ve)){ve.ob&&(ne.L=0);var ye=E0[ne.L];if(ne.L==2?(ne.yb=0,ne.zb=0):(ne.yb=ve.v-ye>>4,ne.zb=ve.j-ye>>4,0>ne.yb&&(ne.yb=0),0>ne.zb&&(ne.zb=0)),ne.Va=ve.o+15+ye>>4,ne.Hb=ve.va+15+ye>>4,ne.Hb>ne.za&&(ne.Hb=ne.za),ne.Va>ne.Ub&&(ne.Va=ne.Ub),0<ne.L){var Me=ne.ed;for(ye=0;4>ye;++ye){var Ce;if(ne.Qa.Cb){var Fe=ne.Qa.Lb[ye];ne.Qa.Fb||(Fe+=Me.Tb)}else Fe=Me.Tb;for(Ce=0;1>=Ce;++Ce){var Be=ne.gd[ye][Ce],Ve=Fe;if(Me.Pc&&(Ve+=Me.vd[0],Ce&&(Ve+=Me.od[0])),0<(Ve=0>Ve?0:63<Ve?63:Ve)){var We=Ve;0<Me.wb&&(We=4<Me.wb?We>>2:We>>1)>9-Me.wb&&(We=9-Me.wb),1>We&&(We=1),Be.dd=We,Be.tc=2*Ve+We,Be.ld=40<=Ve?2:15<=Ve?1:0}else Be.tc=0;Be.La=Ce}}}ye=0}else kn(ne,6,"Frame setup failed"),ye=ne.a;if(ye=ye==0){if(ye){ne.$c=0,0<ne.Aa||(ne.Ic=l9);t:{ye=ne.Ic,Me=4*(We=ne.za);var Et=32*We,pt=We+1,Yt=0<ne.L?We*(0<ne.Aa?2:1):0,_t=(ne.Aa==2?2:1)*We;if((Be=Me+832+(Ce=3*(16*ye+E0[ne.L])/2*Et)+(Fe=ne.Fa!=null&&0<ne.Fa.length?ne.Kc.c*ne.Kc.i:0))!=Be)ye=0;else{if(Be>ne.Vb){if(ne.Vb=0,ne.Ec=i(Be),ne.Fc=0,ne.Ec==null){ye=kn(ne,1,"no memory during frame initialization.");break t}ne.Vb=Be}Be=ne.Ec,Ve=ne.Fc,ne.Ac=Be,ne.Bc=Ve,Ve+=Me,ne.Gd=o(Et,Ui),ne.Hd=0,ne.rb=o(pt+1,ln),ne.sb=1,ne.wa=Yt?o(Yt,tr):null,ne.Y=0,ne.D.Nb=0,ne.D.wa=ne.wa,ne.D.Y=ne.Y,0<ne.Aa&&(ne.D.Y+=We),t(!0),ne.oc=Be,ne.pc=Ve,Ve+=832,ne.ya=o(_t,ds),ne.aa=0,ne.D.ya=ne.ya,ne.D.aa=ne.aa,ne.Aa==2&&(ne.D.aa+=We),ne.R=16*We,ne.B=8*We,We=(Et=E0[ne.L])*ne.R,Et=Et/2*ne.B,ne.sa=Be,ne.ta=Ve+We,ne.qa=ne.sa,ne.ra=ne.ta+16*ye*ne.R+Et,ne.Ha=ne.qa,ne.Ia=ne.ra+8*ye*ne.B+Et,ne.$c=0,Ve+=Ce,ne.mb=Fe?Be:null,ne.nb=Fe?Ve:null,t(Ve+Fe<=ne.Fc+ne.Vb),l0(ne),a(ne.Ac,ne.Bc,0,Me),ye=1}}if(ye){if(ve.ka=0,ve.y=ne.sa,ve.O=ne.ta,ve.f=ne.qa,ve.N=ne.ra,ve.ea=ne.Ha,ve.Vd=ne.Ia,ve.fa=ne.R,ve.Rc=ne.B,ve.F=null,ve.J=0,!rw){for(ye=-255;255>=ye;++ye)Jy[255+ye]=0>ye?-ye:ye;for(ye=-1020;1020>=ye;++ye)Qy[1020+ye]=-128>ye?-128:127<ye?127:ye;for(ye=-112;112>=ye;++ye)ew[112+ye]=-16>ye?-16:15<ye?15:ye;for(ye=-255;510>=ye;++ye)tw[255+ye]=0>ye?0:255<ye?255:ye;rw=1}Cl=Pu,Pc=W1,Ls=Is,pr=u0,Ir=d0,Vi=U1,bn=x0,Hn=yc,Co=B,ff=se,Iu=g0,y0=N,Uy=fe,Wy=be,Hy=bc,Vy=ef,Gy=m0,Ky=p0,ms[0]=J1,ms[1]=H1,ms[2]=X1,ms[3]=Z1,ms[4]=go,ms[5]=Q1,ms[6]=vo,ms[7]=ex,ms[8]=Yd,ms[9]=Eu,Pl[0]=K1,Pl[1]=G1,Pl[2]=Gd,Pl[3]=f0,Pl[4]=gc,Pl[5]=Kd,Pl[6]=Y1,Po[0]=rx,Po[1]=V1,Po[2]=vc,Po[3]=tx,Po[4]=Zd,Po[5]=Xd,Po[6]=h0,ye=1}else ye=0}ye&&(ye=(function(rr,Vn){for(rr.M=0;rr.M<rr.Va;++rr.M){var Xt,At=rr.Jc[rr.M&rr.Xb],rt=rr.m,yn=rr;for(Xt=0;Xt<yn.za;++Xt){var Vt=rt,ar=yn,Wr=ar.Ac,ga=ar.Bc+4*Xt,Ha=ar.zc,cn=ar.ya[ar.aa+Xt];if(ar.Qa.Bb?cn.$b=ce(Vt,ar.Pa.jb[0])?2+ce(Vt,ar.Pa.jb[2]):ce(Vt,ar.Pa.jb[1]):cn.$b=0,ar.kc&&(cn.Ad=ce(Vt,ar.Bd)),cn.Za=!ce(Vt,145)+0,cn.Za){var ka=cn.Ob,Va=0;for(ar=0;4>ar;++ar){var Gn,or=Ha[0+ar];for(Gn=0;4>Gn;++Gn){or=GD[Wr[ga+Gn]][or];for(var xr=sw[ce(Vt,or[0])];0<xr;)xr=sw[2*xr+ce(Vt,or[xr])];or=-xr,Wr[ga+Gn]=or}n(ka,Va,Wr,ga,4),Va+=4,Ha[0+ar]=or}}else or=ce(Vt,156)?ce(Vt,128)?1:3:ce(Vt,163)?2:0,cn.Ob[0]=or,a(Wr,ga,or,4),a(Ha,0,or,4);cn.Dd=ce(Vt,142)?ce(Vt,114)?ce(Vt,183)?1:3:2:0}if(yn.m.Ka)return kn(rr,7,"Premature end-of-partition0 encountered.");for(;rr.ja<rr.za;++rr.ja){if(yn=At,Vt=(rt=rr).rb[rt.sb-1],Wr=rt.rb[rt.sb+rt.ja],Xt=rt.ya[rt.aa+rt.ja],ga=rt.kc?Xt.Ad:0)Vt.la=Wr.la=0,Xt.Za||(Vt.Na=Wr.Na=0),Xt.Hc=0,Xt.Gc=0,Xt.ia=0;else{var un,gr;if(Vt=Wr,Wr=yn,ga=rt.Pa.Xc,Ha=rt.ya[rt.aa+rt.ja],cn=rt.pb[Ha.$b],ar=Ha.ad,ka=0,Va=rt.rb[rt.sb-1],or=Gn=0,a(ar,ka,0,384),Ha.Za)var va=0,ps=ga[3];else{xr=i(16);var wn=Vt.Na+Va.Na;if(wn=mf(Wr,ga[1],wn,cn.Eb,0,xr,0),Vt.Na=Va.Na=(0<wn)+0,1<wn)Cl(xr,0,ar,ka);else{var oi=xr[0]+3>>3;for(xr=0;256>xr;xr+=16)ar[ka+xr]=oi}va=1,ps=ga[0]}var Mr=15&Vt.la,Kn=15&Va.la;for(xr=0;4>xr;++xr){var ji=1&Kn;for(oi=gr=0;4>oi;++oi)Mr=Mr>>1|(ji=(wn=mf(Wr,ps,wn=ji+(1&Mr),cn.Sc,va,ar,ka))>va)<<7,gr=gr<<2|(3<wn?3:1<wn?2:ar[ka+0]!=0),ka+=16;Mr>>=4,Kn=Kn>>1|ji<<7,Gn=(Gn<<8|gr)>>>0}for(ps=Mr,va=Kn>>4,un=0;4>un;un+=2){for(gr=0,Mr=Vt.la>>4+un,Kn=Va.la>>4+un,xr=0;2>xr;++xr){for(ji=1&Kn,oi=0;2>oi;++oi)wn=ji+(1&Mr),Mr=Mr>>1|(ji=0<(wn=mf(Wr,ga[2],wn,cn.Qc,0,ar,ka)))<<3,gr=gr<<2|(3<wn?3:1<wn?2:ar[ka+0]!=0),ka+=16;Mr>>=2,Kn=Kn>>1|ji<<5}or|=gr<<4*un,ps|=Mr<<4<<un,va|=(240&Kn)<<un}Vt.la=ps,Va.la=va,Ha.Hc=Gn,Ha.Gc=or,Ha.ia=43690&or?0:cn.ia,ga=!(Gn|or)}if(0<rt.L&&(rt.wa[rt.Y+rt.ja]=rt.gd[Xt.$b][Xt.Za],rt.wa[rt.Y+rt.ja].La|=!ga),yn.Ka)return kn(rr,7,"Premature end-of-file encountered.")}if(l0(rr),rt=Vn,yn=1,Xt=(At=rr).D,Vt=0<At.L&&At.M>=At.zb&&At.M<=At.Va,At.Aa==0)t:{if(Xt.M=At.M,Xt.uc=Vt,Hi(At,Xt),yn=1,Xt=(gr=At.D).Nb,Vt=(or=E0[At.L])*At.R,Wr=or/2*At.B,xr=16*Xt*At.R,oi=8*Xt*At.B,ga=At.sa,Ha=At.ta-Vt+xr,cn=At.qa,ar=At.ra-Wr+oi,ka=At.Ha,Va=At.Ia-Wr+oi,Kn=(Mr=gr.M)==0,Gn=Mr>=At.Va-1,At.Aa==2&&Hi(At,gr),gr.uc)for(ji=(wn=At).D.M,t(wn.D.uc),gr=wn.yb;gr<wn.Hb;++gr){va=gr,ps=ji;var Ga=(_i=(ba=wn).D).Nb;un=ba.R;var _i=_i.wa[_i.Y+va],Ai=ba.sa,li=ba.ta+16*Ga*un+16*va,Si=_i.dd,qr=_i.tc;if(qr!=0)if(t(3<=qr),ba.L==1)0<va&&Vy(Ai,li,un,qr+4),_i.La&&Ky(Ai,li,un,qr),0<ps&&Hy(Ai,li,un,qr+4),_i.La&&Gy(Ai,li,un,qr);else{var Ci=ba.B,xs=ba.qa,Ec=ba.ra+8*Ga*Ci+8*va,Eo=ba.Ha,ba=ba.Ia+8*Ga*Ci+8*va;Ga=_i.ld,0<va&&(Hn(Ai,li,un,qr+4,Si,Ga),ff(xs,Ec,Eo,ba,Ci,qr+4,Si,Ga)),_i.La&&(y0(Ai,li,un,qr,Si,Ga),Wy(xs,Ec,Eo,ba,Ci,qr,Si,Ga)),0<ps&&(bn(Ai,li,un,qr+4,Si,Ga),Co(xs,Ec,Eo,ba,Ci,qr+4,Si,Ga)),_i.La&&(Iu(Ai,li,un,qr,Si,Ga),Uy(xs,Ec,Eo,ba,Ci,qr,Si,Ga))}}if(At.ia&&alert("todo:DitherRow"),rt.put!=null){if(gr=16*Mr,Mr=16*(Mr+1),Kn?(rt.y=At.sa,rt.O=At.ta+xr,rt.f=At.qa,rt.N=At.ra+oi,rt.ea=At.Ha,rt.W=At.Ia+oi):(gr-=or,rt.y=ga,rt.O=Ha,rt.f=cn,rt.N=ar,rt.ea=ka,rt.W=Va),Gn||(Mr-=or),Mr>rt.o&&(Mr=rt.o),rt.F=null,rt.J=null,At.Fa!=null&&0<At.Fa.length&&gr<Mr&&(rt.J=Br(At,rt,gr,Mr-gr),rt.F=At.mb,rt.F==null&&rt.F.length==0)){yn=kn(At,3,"Could not decode alpha data.");break t}gr<rt.j&&(or=rt.j-gr,gr=rt.j,t(!(1&or)),rt.O+=At.R*or,rt.N+=At.B*(or>>1),rt.W+=At.B*(or>>1),rt.F!=null&&(rt.J+=rt.width*or)),gr<Mr&&(rt.O+=rt.v,rt.N+=rt.v>>1,rt.W+=rt.v>>1,rt.F!=null&&(rt.J+=rt.v),rt.ka=gr-rt.j,rt.U=rt.va-rt.v,rt.T=Mr-gr,yn=rt.put(rt))}Xt+1!=At.Ic||Gn||(n(At.sa,At.ta-Vt,ga,Ha+16*At.R,Vt),n(At.qa,At.ra-Wr,cn,ar+8*At.B,Wr),n(At.Ha,At.Ia-Wr,ka,Va+8*At.B,Wr))}if(!yn)return kn(rr,6,"Output aborted.")}return 1})(ne,ve)),ve.bc!=null&&ve.bc(ve),ye&=1}return ye?(ne.cb=0,ye):0})(x,D)||(y=x.a)}}else y=x.a}y==0&&G.Oa!=null&&G.Oa.fd&&(y=sf(G.ba))}G=y}H=G!=0?null:11>H?K.f.RGBA.eb:K.f.kb.y}else H=null;return H};var mw=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(O,U){for(var P="",C=0;C<4;C++)P+=String.fromCharCode(O[U++]);return P}function d(O,U){return O[U+0]|O[U+1]<<8}function f(O,U){return(O[U+0]|O[U+1]<<8|O[U+2]<<16)>>>0}function m(O,U){return(O[U+0]|O[U+1]<<8|O[U+2]<<16|O[U+3]<<24)>>>0}new c;var h=[0],g=[0],p=[],v=new c,b=e,j=(function(O,U){var P={},C=0,F=!1,V=0,te=0;if(P.frames=[],!(function(E,R){for(var L=0;L<4;L++)if(E[R+L]!="RIFF".charCodeAt(L))return!0;return!1})(O,U)){for(m(O,U+=4),U+=8;U<O.length;){var de=u(O,U),me=m(O,U+=4);U+=4;var ue=me+(1&me);switch(de){case"VP8 ":case"VP8L":P.frames[C]===void 0&&(P.frames[C]={}),(Ee=P.frames[C]).src_off=F?te:U-8,Ee.src_size=V+me+8,C++,F&&(F=!1,V=0,te=0);break;case"VP8X":(Ee=P.header={}).feature_flags=O[U];var he=U+4;Ee.canvas_width=1+f(O,he),he+=3,Ee.canvas_height=1+f(O,he),he+=3;break;case"ALPH":F=!0,V=ue+8,te=U-8;break;case"ANIM":(Ee=P.header).bgcolor=m(O,U),he=U+4,Ee.loop_count=d(O,he),he+=2;break;case"ANMF":var Ne,Ee;(Ee=P.frames[C]={}).offset_x=2*f(O,U),U+=3,Ee.offset_y=2*f(O,U),U+=3,Ee.width=1+f(O,U),U+=3,Ee.height=1+f(O,U),U+=3,Ee.duration=f(O,U),U+=3,Ne=O[U++],Ee.dispose=1&Ne,Ee.blend=Ne>>1&1}de!="ANMF"&&(U+=ue)}return P}})(b,0);j.response=b,j.rgbaoutput=!0,j.dataurl=!1;var A=j.header?j.header:null,_=j.frames?j.frames:null;if(A){A.loop_counter=A.loop_count,h=[A.canvas_height],g=[A.canvas_width];for(var k=0;k<_.length&&_[k].blend!=0;k++);}var I=_[0],T=v.WebPDecodeRGBA(b,I.src_off,I.src_size,g,h);I.rgba=T,I.imgwidth=g[0],I.imgheight=h[0];for(var M=0;M<g[0]*h[0]*4;M++)p[M]=T[M];return this.width=g,this.height=h,this.data=p,this}(function(e){var t,r,n,a,i,o,l,c,u,d=function(E){return E=E||{},this.isStrokeTransparent=E.isStrokeTransparent||!1,this.strokeOpacity=E.strokeOpacity||1,this.strokeStyle=E.strokeStyle||"#000000",this.fillStyle=E.fillStyle||"#000000",this.isFillTransparent=E.isFillTransparent||!1,this.fillOpacity=E.fillOpacity||1,this.font=E.font||"10px sans-serif",this.textBaseline=E.textBaseline||"alphabetic",this.textAlign=E.textAlign||"left",this.lineWidth=E.lineWidth||1,this.lineJoin=E.lineJoin||"miter",this.lineCap=E.lineCap||"butt",this.path=E.path||[],this.transform=E.transform!==void 0?E.transform.clone():new c,this.globalCompositeOperation=E.globalCompositeOperation||"normal",this.globalAlpha=E.globalAlpha||1,this.clip_path=E.clip_path||[],this.currentPoint=E.currentPoint||new o,this.miterLimit=E.miterLimit||10,this.lastPoint=E.lastPoint||new o,this.lineDashOffset=E.lineDashOffset||0,this.lineDash=E.lineDash||[],this.margin=E.margin||[0,0,0,0],this.prevPageLastElemOffset=E.prevPageLastElemOffset||0,this.ignoreClearRect=typeof E.ignoreClearRect!="boolean"||E.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(E){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=E;Object.defineProperty(this,"pdf",{get:function(){return R}});var L=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return L},set:function(Y){L=!!Y}});var z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return z},set:function(Y){z=!!Y}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(Y){isNaN(Y)||(J=Y)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(Y){isNaN(Y)||(le=Y)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Y){var qe;typeof Y=="number"?qe=[Y,Y,Y,Y]:((qe=new Array(4))[0]=Y[0],qe[1]=Y.length>=2?Y[1]:qe[0],qe[2]=Y.length>=3?Y[2]:qe[0],qe[3]=Y.length>=4?Y[3]:qe[1]),u.margin=qe}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(Y){xe=Y}});var Q=0;Object.defineProperty(this,"lastBreak",{get:function(){return Q},set:function(Y){Q=Y}});var ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ce},set:function(Y){ce=Y}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Y){Y instanceof d&&(u=Y)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Y){u.path=Y}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(Y){je=Y}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Y){var qe;qe=m(Y),this.ctx.fillStyle=qe.style,this.ctx.isFillTransparent=qe.a===0,this.ctx.fillOpacity=qe.a,this.pdf.setFillColor(qe.r,qe.g,qe.b,{a:qe.a}),this.pdf.setTextColor(qe.r,qe.g,qe.b,{a:qe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Y){var qe=m(Y);this.ctx.strokeStyle=qe.style,this.ctx.isStrokeTransparent=qe.a===0,this.ctx.strokeOpacity=qe.a,qe.a===0?this.pdf.setDrawColor(255,255,255):(qe.a,this.pdf.setDrawColor(qe.r,qe.g,qe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Y){["butt","round","square"].indexOf(Y)!==-1&&(this.ctx.lineCap=Y,this.pdf.setLineCap(Y))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Y){isNaN(Y)||(this.ctx.lineWidth=Y,this.pdf.setLineWidth(Y))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Y){["bevel","round","miter"].indexOf(Y)!==-1&&(this.ctx.lineJoin=Y,this.pdf.setLineJoin(Y))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Y){isNaN(Y)||(this.ctx.miterLimit=Y,this.pdf.setMiterLimit(Y))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Y){this.ctx.textBaseline=Y}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Y){["right","end","center","left","start"].indexOf(Y)!==-1&&(this.ctx.textAlign=Y)}});var pe=null,ze=null,Te=null;Object.defineProperty(this,"fontFaces",{get:function(){return Te},set:function(Y){pe=null,ze=null,Te=Y}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Y){var qe;if(this.ctx.font=Y,(qe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Y))!==null){var Oe=qe[1];qe[2];var et=qe[3],Re=qe[4];qe[5];var Nt=qe[6],ot=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Re)[2];Re=Math.floor(ot==="px"?parseFloat(Re)*this.pdf.internal.scaleFactor:ot==="em"?parseFloat(Re)*this.pdf.getFontSize():parseFloat(Re)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Re);var kt=(function(wt){var Rr,Qt,Ut=[],Wt=wt.trim();if(Wt==="")return _v;if(Wt in i6)return[i6[Wt]];for(;Wt!=="";){switch(Qt=null,Rr=(Wt=o6(Wt)).charAt(0)){case'"':case"'":Qt=Kfe(Wt.substring(1),Rr);break;default:Qt=Yfe(Wt)}if(Qt===null||(Ut.push(Qt[0]),(Wt=o6(Qt[1]))!==""&&Wt.charAt(0)!==","))return _v;Wt=Wt.replace(/^,/,"")}return Ut})(Nt);if(this.fontFaces){var jt=(function(wt,Rr){var Qt=wt.getFontList(),Ut=JSON.stringify(Qt);if(pe===null||ze!==Ut){var Wt=(function(Ar){var Pt=[];return Object.keys(Ar).forEach(function(hr){Ar[hr].forEach(function(Ke){var at=null;switch(Ke){case"bold":at={family:hr,weight:"bold"};break;case"italic":at={family:hr,style:"italic"};break;case"bolditalic":at={family:hr,weight:"bold",style:"italic"};break;case"":case"normal":at={family:hr}}at!==null&&(at.ref={name:hr,style:Ke},Pt.push(at))})}),Pt})(Qt);pe=(function(Ar){for(var Pt={},hr=0;hr<Ar.length;++hr){var Ke=jv(Ar[hr]),at=Ke.family,ut=Ke.stretch,ct=Ke.style,ft=Ke.weight;Pt[at]=Pt[at]||{},Pt[at][ut]=Pt[at][ut]||{},Pt[at][ut][ct]=Pt[at][ut][ct]||{},Pt[at][ut][ct][ft]=Ke}return Pt})(Wt.concat(Rr)),ze=Ut}return pe})(this.pdf,this.fontFaces),qt=kt.map(function(wt){return{family:wt,stretch:"normal",weight:et,style:Oe}}),zt=(function(wt,Rr,Qt){for(var Ut=(Qt=Qt||{}).defaultFontFamily||"times",Wt=Object.assign({},Gfe,Qt.genericFontFamilies||{}),Ar=null,Pt=null,hr=0;hr<Rr.length;++hr)if(Wt[(Ar=jv(Rr[hr])).family]&&(Ar.family=Wt[Ar.family]),wt.hasOwnProperty(Ar.family)){Pt=wt[Ar.family];break}if(!(Pt=Pt||wt[Ut]))throw new Error("Could not find a font-family for the rule '"+s6(Ar)+"' and default family '"+Ut+"'.");if(Pt=(function(Ke,at){if(at[Ke])return at[Ke];var ut=V2[Ke],ct=ut<=V2.normal?-1:1,ft=a6(at,rD,ut,ct);if(!ft)throw new Error("Could not find a matching font-stretch value for "+Ke);return ft})(Ar.stretch,Pt),Pt=(function(Ke,at){if(at[Ke])return at[Ke];for(var ut=tD[Ke],ct=0;ct<ut.length;++ct)if(at[ut[ct]])return at[ut[ct]];throw new Error("Could not find a matching font-style for "+Ke)})(Ar.style,Pt),!(Pt=(function(Ke,at){if(at[Ke])return at[Ke];if(Ke===400&&at[500])return at[500];if(Ke===500&&at[400])return at[400];var ut=Vfe[Ke],ct=a6(at,nD,ut,Ke<400?-1:1);if(!ct)throw new Error("Could not find a matching font-weight for value "+Ke);return ct})(Ar.weight,Pt)))throw new Error("Failed to resolve a font for the rule '"+s6(Ar)+"'.");return Pt})(jt,qt);this.pdf.setFont(zt.ref.name,zt.ref.style)}else{var It="";(et==="bold"||parseInt(et,10)>=700||Oe==="bold")&&(It="bold"),Oe==="italic"&&(It+="italic"),It.length===0&&(It="normal");for(var Kt="",Rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},vt=0;vt<kt.length;vt++){if(this.pdf.internal.getFont(kt[vt],It,{noFallback:!0,disableWarning:!0})!==void 0){Kt=kt[vt];break}if(It==="bolditalic"&&this.pdf.internal.getFont(kt[vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Kt=kt[vt],It="bold";else if(this.pdf.internal.getFont(kt[vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Kt=kt[vt],It="normal";break}}if(Kt===""){for(var Ft=0;Ft<kt.length;Ft++)if(Rt[kt[Ft]]){Kt=Rt[kt[Ft]];break}}Kt=Kt===""?"Times":Kt,this.pdf.setFont(Kt,It)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Y){this.ctx.globalCompositeOperation=Y}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Y){this.ctx.globalAlpha=Y}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Y){this.ctx.lineDashOffset=Y,Ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Y){this.ctx.lineDash=Y,Ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Y){this.ctx.ignoreClearRect=!!Y}})};f.prototype.setLineDash=function(E){this.lineDash=E},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){_.call(this,"fill",!1)},f.prototype.stroke=function(){_.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(E,R){if(isNaN(E)||isNaN(R))throw Fr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var L=this.ctx.transform.applyToPoint(new o(E,R));this.path.push({type:"mt",x:L.x,y:L.y}),this.ctx.lastPoint=new o(E,R)},f.prototype.closePath=function(){var E=new o(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&Nr(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){E=new o(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(E.x,E.y)},f.prototype.lineTo=function(E,R){if(isNaN(E)||isNaN(R))throw Fr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var L=this.ctx.transform.applyToPoint(new o(E,R));this.path.push({type:"lt",x:L.x,y:L.y}),this.ctx.lastPoint=new o(L.x,L.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},f.prototype.quadraticCurveTo=function(E,R,L,z){if(isNaN(L)||isNaN(z)||isNaN(E)||isNaN(R))throw Fr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new o(L,z)),le=this.ctx.transform.applyToPoint(new o(E,R));this.path.push({type:"qct",x1:le.x,y1:le.y,x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},f.prototype.bezierCurveTo=function(E,R,L,z,J,le){if(isNaN(J)||isNaN(le)||isNaN(E)||isNaN(R)||isNaN(L)||isNaN(z))throw Fr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new o(J,le)),Q=this.ctx.transform.applyToPoint(new o(E,R)),ce=this.ctx.transform.applyToPoint(new o(L,z));this.path.push({type:"bct",x1:Q.x,y1:Q.y,x2:ce.x,y2:ce.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new o(xe.x,xe.y)},f.prototype.arc=function(E,R,L,z,J,le){if(isNaN(E)||isNaN(R)||isNaN(L)||isNaN(z)||isNaN(J))throw Fr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new o(E,R));E=xe.x,R=xe.y;var Q=this.ctx.transform.applyToPoint(new o(0,L)),ce=this.ctx.transform.applyToPoint(new o(0,0));L=Math.sqrt(Math.pow(Q.x-ce.x,2)+Math.pow(Q.y-ce.y,2))}Math.abs(J-z)>=2*Math.PI&&(z=0,J=2*Math.PI),this.path.push({type:"arc",x:E,y:R,radius:L,startAngle:z,endAngle:J,counterclockwise:le})},f.prototype.arcTo=function(E,R,L,z,J){throw new Error("arcTo not implemented.")},f.prototype.rect=function(E,R,L,z){if(isNaN(E)||isNaN(R)||isNaN(L)||isNaN(z))throw Fr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(E,R),this.lineTo(E+L,R),this.lineTo(E+L,R+z),this.lineTo(E,R+z),this.lineTo(E,R),this.lineTo(E+L,R),this.lineTo(E,R)},f.prototype.fillRect=function(E,R,L,z){if(isNaN(E)||isNaN(R)||isNaN(L)||isNaN(z))throw Fr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(E,R,L,z),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},f.prototype.strokeRect=function(E,R,L,z){if(isNaN(E)||isNaN(R)||isNaN(L)||isNaN(z))throw Fr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(E,R,L,z),this.stroke())},f.prototype.clearRect=function(E,R,L,z){if(isNaN(E)||isNaN(R)||isNaN(L)||isNaN(z))throw Fr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(E,R,L,z))},f.prototype.save=function(E){E=typeof E!="boolean"||E;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,L=0;L<this.pdf.internal.getNumberOfPages();L++)this.pdf.setPage(L+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),E){this.ctx.fontSize=this.pdf.internal.getFontSize();var z=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=z}},f.prototype.restore=function(E){E=typeof E!="boolean"||E;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,L=0;L<this.pdf.internal.getNumberOfPages();L++)this.pdf.setPage(L+1),this.pdf.internal.out("Q");this.pdf.setPage(R),E&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(E){var R,L,z,J;if(E.isCanvasGradient===!0&&(E=E.getColor()),!E)return{r:0,g:0,b:0,a:0,style:E};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(E))R=0,L=0,z=0,J=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(E);if(le!==null)R=parseInt(le[1]),L=parseInt(le[2]),z=parseInt(le[3]),J=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(E))!==null)R=parseInt(le[1]),L=parseInt(le[2]),z=parseInt(le[3]),J=parseFloat(le[4]);else{if(J=1,typeof E=="string"&&E.charAt(0)!=="#"){var xe=new KO(E);E=xe.ok?xe.toHex():"#000000"}E.length===4?(R=E.substring(1,2),R+=R,L=E.substring(2,3),L+=L,z=E.substring(3,4),z+=z):(R=E.substring(1,3),L=E.substring(3,5),z=E.substring(5,7)),R=parseInt(R,16),L=parseInt(L,16),z=parseInt(z,16)}}return{r:R,g:L,b:z,a:J,style:E}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(E,R,L,z){if(isNaN(R)||isNaN(L)||typeof E!="string")throw Fr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(z=isNaN(z)?void 0:z,!h.call(this)){var J=ue(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;C.call(this,{text:E,x:R,y:L,scale:le,angle:J,align:this.textAlign,maxWidth:z})}},f.prototype.strokeText=function(E,R,L,z){if(isNaN(R)||isNaN(L)||typeof E!="string")throw Fr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){z=isNaN(z)?void 0:z;var J=ue(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;C.call(this,{text:E,x:R,y:L,scale:le,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:z})}},f.prototype.measureText=function(E){if(typeof E!="string")throw Fr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,L=this.pdf.internal.scaleFactor,z=R.internal.getFontSize(),J=R.getStringUnitWidth(E)*z/R.internal.scaleFactor;return new function(le){var xe=(le=le||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xe}}),this}({width:J*=Math.round(96*L/72*1e4)/1e4})},f.prototype.scale=function(E,R){if(isNaN(E)||isNaN(R))throw Fr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var L=new c(E,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(L)},f.prototype.rotate=function(E){if(isNaN(E))throw Fr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new c(Math.cos(E),Math.sin(E),-Math.sin(E),Math.cos(E),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},f.prototype.translate=function(E,R){if(isNaN(E)||isNaN(R))throw Fr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var L=new c(1,0,0,1,E,R);this.ctx.transform=this.ctx.transform.multiply(L)},f.prototype.transform=function(E,R,L,z,J,le){if(isNaN(E)||isNaN(R)||isNaN(L)||isNaN(z)||isNaN(J)||isNaN(le))throw Fr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new c(E,R,L,z,J,le);this.ctx.transform=this.ctx.transform.multiply(xe)},f.prototype.setTransform=function(E,R,L,z,J,le){E=isNaN(E)?1:E,R=isNaN(R)?0:R,L=isNaN(L)?0:L,z=isNaN(z)?1:z,J=isNaN(J)?0:J,le=isNaN(le)?0:le,this.ctx.transform=new c(E,R,L,z,J,le)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(E,R,L,z,J,le,xe,Q,ce){var je=this.pdf.getImageProperties(E),pe=1,ze=1,Te=1,Y=1;z!==void 0&&Q!==void 0&&(Te=Q/z,Y=ce/J,pe=je.width/z*Q/z,ze=je.height/J*ce/J),le===void 0&&(le=R,xe=L,R=0,L=0),z!==void 0&&Q===void 0&&(Q=z,ce=J),z===void 0&&Q===void 0&&(Q=je.width,ce=je.height);var qe=this.ctx.transform.decompose(),Oe=ue(qe.rotate.shx),et=new c,Re=(et=(et=(et=et.multiply(qe.translate)).multiply(qe.skew)).multiply(qe.scale)).applyToRectangle(new l(le-R*Te,xe-L*Y,z*pe,J*ze));if(this.autoPaging){for(var Nt,ot=v.call(this,Re),kt=[],jt=0;jt<ot.length;jt+=1)kt.indexOf(ot[jt])===-1&&kt.push(ot[jt]);A(kt);for(var qt=kt[0],zt=kt[kt.length-1],It=qt;It<zt+1;It++){this.pdf.setPage(It);var Kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=It===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=It===1?0:vt+(It-2)*Ft;if(this.ctx.clip_path.length!==0){var Rr=this.path;Nt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Nt,this.posX+this.margin[3],-wt+Rt+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=Rr}var Qt=JSON.parse(JSON.stringify(Re));Qt=j([Qt],this.posX+this.margin[3],-wt+Rt+this.ctx.prevPageLastElemOffset)[0];var Ut=(It>qt||It<zt)&&p.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Kt,Ft,null).clip().discardPath()),this.pdf.addImage(E,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,Oe),Ut&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(E,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,Oe)};var v=function(E,R,L){var z=[];R=R||this.pdf.internal.pageSize.width,L=L||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(E.type){default:case"mt":case"lt":z.push(Math.floor((E.y+J)/L)+1);break;case"arc":z.push(Math.floor((E.y+J-E.radius)/L)+1),z.push(Math.floor((E.y+J+E.radius)/L)+1);break;case"qct":var le=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x,E.y);z.push(Math.floor((le.y+J)/L)+1),z.push(Math.floor((le.y+le.h+J)/L)+1);break;case"bct":var xe=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x2,E.y2,E.x,E.y);z.push(Math.floor((xe.y+J)/L)+1),z.push(Math.floor((xe.y+xe.h+J)/L)+1);break;case"rect":z.push(Math.floor((E.y+J)/L)+1),z.push(Math.floor((E.y+E.h+J)/L)+1)}for(var Q=0;Q<z.length;Q+=1)for(;this.pdf.internal.getNumberOfPages()<z[Q];)b.call(this);return z},b=function(){var E=this.fillStyle,R=this.strokeStyle,L=this.font,z=this.lineCap,J=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=E,this.strokeStyle=R,this.font=L,this.lineCap=z,this.lineWidth=J,this.lineJoin=le},j=function(E,R,L){for(var z=0;z<E.length;z++)switch(E[z].type){case"bct":E[z].x2+=R,E[z].y2+=L;case"qct":E[z].x1+=R,E[z].y1+=L;default:E[z].x+=R,E[z].y+=L}return E},A=function(E){return E.sort(function(R,L){return R-L})},_=function(E,R){var L=this.fillStyle,z=this.strokeStyle,J=this.lineCap,le=this.lineWidth,xe=Math.abs(le*this.ctx.transform.scaleX),Q=this.lineJoin;if(this.autoPaging){for(var ce,je,pe=JSON.parse(JSON.stringify(this.path)),ze=JSON.parse(JSON.stringify(this.path)),Te=[],Y=0;Y<ze.length;Y++)if(ze[Y].x!==void 0)for(var qe=v.call(this,ze[Y]),Oe=0;Oe<qe.length;Oe+=1)Te.indexOf(qe[Oe])===-1&&Te.push(qe[Oe]);for(var et=0;et<Te.length;et++)for(;this.pdf.internal.getNumberOfPages()<Te[et];)b.call(this);A(Te);for(var Re=Te[0],Nt=Te[Te.length-1],ot=Re;ot<Nt+1;ot++){this.pdf.setPage(ot),this.fillStyle=L,this.strokeStyle=z,this.lineCap=J,this.lineWidth=xe,this.lineJoin=Q;var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jt=ot===1?this.posY+this.margin[0]:this.margin[0],qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],It=ot===1?0:qt+(ot-2)*zt;if(this.ctx.clip_path.length!==0){var Kt=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(ce,this.posX+this.margin[3],-It+jt+this.ctx.prevPageLastElemOffset),k.call(this,E,!0),this.path=Kt}if(je=JSON.parse(JSON.stringify(pe)),this.path=j(je,this.posX+this.margin[3],-It+jt+this.ctx.prevPageLastElemOffset),R===!1||ot===0){var Rt=(ot>Re||ot<Nt)&&p.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,zt,null).clip().discardPath()),k.call(this,E,R),Rt&&this.pdf.restoreGraphicsState()}this.lineWidth=le}this.path=pe}else this.lineWidth=xe,k.call(this,E,R),this.lineWidth=le},k=function(E,R){if((E!=="stroke"||R||!g.call(this))&&(E==="stroke"||R||!h.call(this))){for(var L,z,J=[],le=this.path,xe=0;xe<le.length;xe++){var Q=le[xe];switch(Q.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:Q,deltas:[],abs:[]});break;case"lt":var ce=J.length;if(le[xe-1]&&!isNaN(le[xe-1].x)&&(L=[Q.x-le[xe-1].x,Q.y-le[xe-1].y],ce>0)){for(;ce>=0;ce--)if(J[ce-1].close!==!0&&J[ce-1].begin!==!0){J[ce-1].deltas.push(L),J[ce-1].abs.push(Q);break}}break;case"bct":L=[Q.x1-le[xe-1].x,Q.y1-le[xe-1].y,Q.x2-le[xe-1].x,Q.y2-le[xe-1].y,Q.x-le[xe-1].x,Q.y-le[xe-1].y],J[J.length-1].deltas.push(L);break;case"qct":var je=le[xe-1].x+2/3*(Q.x1-le[xe-1].x),pe=le[xe-1].y+2/3*(Q.y1-le[xe-1].y),ze=Q.x+2/3*(Q.x1-Q.x),Te=Q.y+2/3*(Q.y1-Q.y),Y=Q.x,qe=Q.y;L=[je-le[xe-1].x,pe-le[xe-1].y,ze-le[xe-1].x,Te-le[xe-1].y,Y-le[xe-1].x,qe-le[xe-1].y],J[J.length-1].deltas.push(L);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(Q)}}z=R?null:E==="stroke"?"stroke":"fill";for(var Oe=!1,et=0;et<J.length;et++)if(J[et].arc)for(var Re=J[et].abs,Nt=0;Nt<Re.length;Nt++){var ot=Re[Nt];ot.type==="arc"?M.call(this,ot.x,ot.y,ot.radius,ot.startAngle,ot.endAngle,ot.counterclockwise,void 0,R,!Oe):F.call(this,ot.x,ot.y),Oe=!0}else if(J[et].close===!0)this.pdf.internal.out("h"),Oe=!1;else if(J[et].begin!==!0){var kt=J[et].start.x,jt=J[et].start.y;V.call(this,J[et].deltas,kt,jt),Oe=!0}z&&O.call(this,z),R&&U.call(this)}},I=function(E){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,L=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return E-L;case"top":return E+R-L;case"hanging":return E+R-2*L;case"middle":return E+R/2-L;default:return E}},T=function(E){return E+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var E=function(){};return E.colorStops=[],E.addColorStop=function(R,L){this.colorStops.push([R,L])},E.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},E.isCanvasGradient=!0,E},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(E,R,L,z,J,le,xe,Q,ce){for(var je=de.call(this,L,z,J,le),pe=0;pe<je.length;pe++){var ze=je[pe];pe===0&&(ce?P.call(this,ze.x1+E,ze.y1+R):F.call(this,ze.x1+E,ze.y1+R)),te.call(this,E,R,ze.x2,ze.y2,ze.x3,ze.y3,ze.x4,ze.y4)}Q?U.call(this):O.call(this,xe)},O=function(E){switch(E){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(E,R){this.pdf.internal.out(r(E)+" "+n(R)+" m")},C=function(E){var R;switch(E.align){case"right":case"end":R="right";break;case"center":R="center";break;default:R="left"}var L,z,J,le=this.pdf.getTextDimensions(E.text),xe=I.call(this,E.y),Q=T.call(this,xe)-le.h,ce=this.ctx.transform.applyToPoint(new o(E.x,xe));if(this.autoPaging){var je=this.ctx.transform.decompose(),pe=new c;pe=(pe=(pe=pe.multiply(je.translate)).multiply(je.skew)).multiply(je.scale);for(var ze=this.ctx.transform.applyToRectangle(new l(E.x,xe,le.w,le.h)),Te=pe.applyToRectangle(new l(E.x,Q,le.w,le.h)),Y=v.call(this,Te),qe=[],Oe=0;Oe<Y.length;Oe+=1)qe.indexOf(Y[Oe])===-1&&qe.push(Y[Oe]);A(qe);for(var et=qe[0],Re=qe[qe.length-1],Nt=et;Nt<Re+1;Nt++){this.pdf.setPage(Nt);var ot=Nt===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[2],qt=jt-this.margin[0],zt=this.pdf.internal.pageSize.width-this.margin[1],It=zt-this.margin[3],Kt=Nt===1?0:kt+(Nt-2)*qt;if(this.ctx.clip_path.length!==0){var Rt=this.path;L=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(L,this.posX+this.margin[3],-1*Kt+ot),k.call(this,"fill",!0),this.path=Rt}var vt=j([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-Kt+ot+this.ctx.prevPageLastElemOffset)[0];E.scale>=.01&&(z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(z*E.scale),J=this.lineWidth,this.lineWidth=J*E.scale);var Ft=this.autoPaging!=="text";if(Ft||vt.y+vt.h<=jt){if(Ft||vt.y>=ot&&vt.x<=zt){var wt=Ft?E.text:this.pdf.splitTextToSize(E.text,E.maxWidth||zt-vt.x)[0],Rr=j([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-Kt+ot+this.ctx.prevPageLastElemOffset)[0],Qt=Ft&&(Nt>et||Nt<Re)&&p.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],It,qt,null).clip().discardPath()),this.pdf.text(wt,Rr.x,Rr.y,{angle:E.angle,align:R,renderingMode:E.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else vt.y<jt&&(this.ctx.prevPageLastElemOffset+=jt-vt.y);E.scale>=.01&&(this.pdf.setFontSize(z),this.lineWidth=J)}}else E.scale>=.01&&(z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(z*E.scale),J=this.lineWidth,this.lineWidth=J*E.scale),this.pdf.text(E.text,ce.x+this.posX,ce.y+this.posY,{angle:E.angle,align:R,renderingMode:E.renderingMode,maxWidth:E.maxWidth}),E.scale>=.01&&(this.pdf.setFontSize(z),this.lineWidth=J)},F=function(E,R,L,z){L=L||0,z=z||0,this.pdf.internal.out(r(E+L)+" "+n(R+z)+" l")},V=function(E,R,L){return this.pdf.lines(E,R,L,null,null)},te=function(E,R,L,z,J,le,xe,Q){this.pdf.internal.out([t(a(L+E)),t(i(z+R)),t(a(J+E)),t(i(le+R)),t(a(xe+E)),t(i(Q+R)),"c"].join(" "))},de=function(E,R,L,z){for(var J=2*Math.PI,le=Math.PI/2;R>L;)R-=J;var xe=Math.abs(L-R);xe<J&&z&&(xe=J-xe);for(var Q=[],ce=z?-1:1,je=R;xe>1e-5;){var pe=je+ce*Math.min(xe,le);Q.push(me.call(this,E,je,pe)),xe-=Math.abs(pe-je),je=pe}return Q},me=function(E,R,L){var z=(L-R)/2,J=E*Math.cos(z),le=E*Math.sin(z),xe=J,Q=-le,ce=xe*xe+Q*Q,je=ce+xe*J+Q*le,pe=4/3*(Math.sqrt(2*ce*je)-je)/(xe*le-Q*J),ze=xe-pe*Q,Te=Q+pe*xe,Y=ze,qe=-Te,Oe=z+R,et=Math.cos(Oe),Re=Math.sin(Oe);return{x1:E*Math.cos(R),y1:E*Math.sin(R),x2:ze*et-Te*Re,y2:ze*Re+Te*et,x3:Y*et-qe*Re,y3:Y*Re+qe*et,x4:E*Math.cos(L),y4:E*Math.sin(L)}},ue=function(E){return 180*E/Math.PI},he=function(E,R,L,z,J,le){var xe=E+.5*(L-E),Q=R+.5*(z-R),ce=J+.5*(L-J),je=le+.5*(z-le),pe=Math.min(E,J,xe,ce),ze=Math.max(E,J,xe,ce),Te=Math.min(R,le,Q,je),Y=Math.max(R,le,Q,je);return new l(pe,Te,ze-pe,Y-Te)},Ne=function(E,R,L,z,J,le,xe,Q){var ce,je,pe,ze,Te,Y,qe,Oe,et,Re,Nt,ot,kt,jt,qt=L-E,zt=z-R,It=J-L,Kt=le-z,Rt=xe-J,vt=Q-le;for(je=0;je<41;je++)et=(qe=(pe=E+(ce=je/40)*qt)+ce*((Te=L+ce*It)-pe))+ce*(Te+ce*(J+ce*Rt-Te)-qe),Re=(Oe=(ze=R+ce*zt)+ce*((Y=z+ce*Kt)-ze))+ce*(Y+ce*(le+ce*vt-Y)-Oe),je==0?(Nt=et,ot=Re,kt=et,jt=Re):(Nt=Math.min(Nt,et),ot=Math.min(ot,Re),kt=Math.max(kt,et),jt=Math.max(jt,Re));return new l(Math.round(Nt),Math.round(ot),Math.round(kt-Nt),Math.round(jt-ot))},Ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var E,R,L=(E=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:E,lineDashOffset:R}));this.prevLineDash!==L&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=L)}}})(yt.API),(function(e){var t=function(o){var l,c,u,d,f,m,h,g,p,v;for(c=[],u=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(f=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(m=(f=((f=((f=((f=(f-(v=f%85))/85)-(p=f%85))/85)-(g=f%85))/85)-(h=f%85))/85)%85,c.push(m+33,h+33,g+33,p+33,v+33)):c.push(122);return(function(b,j){for(var A=j;A>0;A--)b.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,d,f,m=String,h="length",g=255,p="charCodeAt",v="slice",b="replace";for(o[v](-2),o=o[v](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),u=[],d=0,f=(o+=l="uuuuu"[v](o[h]%5||5))[h];f>d;d+=5)c=52200625*(o[p](d)-33)+614125*(o[p](d+1)-33)+7225*(o[p](d+2)-33)+85*(o[p](d+3)-33)+(o[p](d+4)-33),u.push(g&c>>24,g&c>>16,g&c>>8,g&c);return(function(j,A){for(var _=A;_>0;_--)j.pop()})(u,l[h]),m.fromCharCode.apply(m,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=B2(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(o,l){var c=0,u=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(yt.API),(function(e){e.loadFile=function(t,r,n){return(function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,u,d){var f=new XMLHttpRequest,m=0,h=function(g){var p=g.length,v=[],b=String.fromCharCode;for(m=0;m<p;m+=1)v.push(b(255&g.charCodeAt(m)));return v.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)})(a,i,o)}catch{}return l})(t,r,n)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile})(yt.API),(function(e){function t(){return(Lt.html2canvas?Promise.resolve(Lt.html2canvas):vm(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Lt.DOMPurify?Promise.resolve(Lt.DOMPurify):vm(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Nr(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},i=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(u){return this.set({src:a("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var g=d[h],p=g.src.find(function(v){return v.format==="truetype"});p&&u.addFont(p.url,g.ref.name,g.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,d),m}).then(d,f).then(function(m){return u.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),m=u.call(f,l,c);return o.convert(m,d.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,yt.getPageSize=function(l,c,u){if(Nr(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var f,m=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var g,p=0,v=0;if(h.hasOwnProperty(m))p=h[m][1]/f,v=h[m][0]/f;else try{p=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",v>p&&(g=v,v=p,p=g);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",p>v&&(g=v,v=p,p=g)}return{width:v,height:p,unit:c,k:f,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(jv):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}})(yt.API),yt.API.addJS=function(e){return c6=e,this.internal.events.subscribe("postPutResources",function(){pm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(pm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),l6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+c6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){pm!==void 0&&l6!==void 0&&this.internal.out("/Names <</JavaScript "+pm+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var m=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(yt.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(f){for(var m,h=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,p={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=h,t.indexOf(f.charCodeAt(v+1))!==-1){m=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),p={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:m,numcomponents:f.charCodeAt(v+9)};break}h=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return p})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}})(yt.API),yt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=Ofe(e,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,u=i.palette,d=i.depth;a=u&&c===1?(function(M){for(var O=M.width,U=M.height,P=M.data,C=M.palette,F=M.depth,V=!1,te=[],de=[],me=void 0,ue=!1,he=0,Ne=0;Ne<C.length;Ne++){var Ee=hA(C[Ne],4),E=Ee[0],R=Ee[1],L=Ee[2],z=Ee[3];te.push(E,R,L),z!=null&&(z===0?(he++,de.length<1&&de.push(Ne)):z<255&&(ue=!0))}if(ue||he>1){V=!0,de=void 0;var J=O*U;me=new Uint8Array(J);for(var le=new DataView(P.buffer),xe=0;xe<J;xe++){var Q=Av(le,xe,F),ce=hA(C[Q],4)[3];me[xe]=ce}}else he===0&&(de=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:V?8:void 0,colorBytes:P,alphaBytes:me,needSMask:V,palette:te,mask:de}})(i):c===2||c===4?(function(M){for(var O=M.data,U=M.width,P=M.height,C=M.channels,F=M.depth,V=C===2?"DeviceGray":"DeviceRGB",te=C-1,de=U*P,me=te,ue=de*me,he=1*de,Ne=Math.ceil(ue*F/8),Ee=Math.ceil(he*F/8),E=new Uint8Array(Ne),R=new Uint8Array(Ee),L=new DataView(O.buffer),z=new DataView(E.buffer),J=new DataView(R.buffer),le=!1,xe=0;xe<de;xe++){for(var Q=xe*C,ce=0;ce<me;ce++)v6(z,Av(L,Q+ce,F),xe*me+ce,F);var je=Av(L,Q+me,F);je<(1<<F)-1&&(le=!0),v6(J,je,1*xe,F)}return{colorSpace:V,colorsPerPixel:te,sMaskBitsPerComponent:le?F:void 0,colorBytes:E,alphaBytes:R,needSMask:le}})(i):(function(M){var O=M.data,U=M.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:U,colorsPerPixel:U==="DeviceGray"?1:3,colorBytes:O instanceof Uint16Array?(function(P){for(var C=P.length,F=new Uint8Array(2*C),V=new DataView(F.buffer,F.byteOffset,F.byteLength),te=0;te<C;te++)V.setUint16(2*te,P[te],!1);return F})(O):O,needSMask:!1}})(i);var f,m,h,g=a,p=g.colorSpace,v=g.colorsPerPixel,b=g.sMaskBitsPerComponent,j=g.colorBytes,A=g.alphaBytes,_=g.needSMask,k=g.palette,I=g.mask,T=null;return n!==yt.API.image_compression.NONE&&typeof B2=="function"?(T=(function(M){var O;switch(M){case yt.API.image_compression.FAST:O=11;break;case yt.API.image_compression.MEDIUM:O=13;break;case yt.API.image_compression.SLOW:O=14;break;default:O=12}return O})(n),f=this.decode.FLATE_DECODE,m="/Predictor ".concat(T," /Colors ").concat(v," /BitsPerComponent ").concat(d," /Columns ").concat(o),e=h6(j,Math.ceil(o*v*d/8),v,d,n),_&&(h=h6(A,Math.ceil(o*b/8),1,b,n))):(f=void 0,m=void 0,e=j,_&&(h=A)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:e,index:t,filter:f,decodeParameters:m,transparency:I,palette:k,sMask:h,predictor:T,width:o,height:l,bitsPerComponent:d,sMaskBitsPerComponent:b,colorSpace:p}}},(function(e){e.processGIF89A=function(t,r,n,a){var i=new Qfe(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new Sv(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A})(yt.API),ys.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ys.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Fr.log("bit decode error:"+r)}},ys.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},ys.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},ys.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},ys.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},ys.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},ys.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},ys.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},ys.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,a){var i=new ys(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new Sv(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}})(yt.API),y6.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,a){var i=new y6(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new Sv(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}})(yt.API),yt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],m=n[u+2],h=n[u+3];i[l++]=d,i[l++]=f,i[l++]=m,o[c++]=h}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},yt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ku=yt.API,xm=Ku.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,m=0,h=e.length,g=0,p=l[0]||c,v=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(m=f&&Nr(u[n])==="object"&&!isNaN(parseInt(u[n][g],10))?u[n][g]/d:0,v.push((l[n]||p)/c+m)),g=n;return v},u6=Ku.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Ku.processArabic&&(e=Ku.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:xm.apply(this,arguments).reduce(function(i,o){return i+o},0)},d6=function(e,t,r,n){for(var a=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>n&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},f6=function(e,t,r){r||(r={});var n,a,i,o,l,c,u,d=[],f=[d],m=r.textIndent||0,h=0,g=0,p=e.split(" "),v=xm.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?p[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),j=[];p.map(function(_){(_=_.split(/\s*\n/)).length>1?j=j.concat(_.map(function(k,I){return(I&&k.length?`
`:"")+k})):j.push(_[0])}),p=j,c=u6.apply(this,[b,r])}for(i=0,o=p.length;i<o;i++){var A=0;if(n=p[i],c&&n[0]==`
`&&(n=n.substr(1),A=1),m+h+(g=(a=xm.apply(this,[n,r])).reduce(function(_,k){return _+k},0))>t||A){if(g>t){for(l=d6.apply(this,[n,a,t-(m+h),t]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);g=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(_,k){return _+k},0)}else d=[n];f.push(d),m=g+c,h=v}else d.push(n),m+=h+g,h=v}return u=c?function(_,k){return(k?b:"")+_.join(" ")}:function(_){return _.join(" ")},f.map(u)},Ku.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return f.metadata[m]?{widths:f.metadata[m].widths||{0:1},kerning:f.metadata[m].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(f6.apply(this,[n[l],o,i]));return u},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=t[i],a[t[i]]=r[i];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=e.__fontmetrics__.compress=function(m){var h,g,p,v,b=["{"];for(var j in m){if(h=m[j],isNaN(parseInt(j,10))?g="'"+j+"'":(j=parseInt(j,10),g=(g=o(j).slice(2)).slice(0,-1)+a[g.slice(-1)]),typeof h=="number")h<0?(p=o(h).slice(3),v="-"):(p=o(h).slice(2),v=""),p=v+p.slice(0,-1)+a[p.slice(-1)];else{if(Nr(h)!=="object")throw new Error("Don't know what to do with value type "+Nr(h)+".");p=l(h)}b.push(g+p)}return b.push("}"),b.join("")},c=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,g,p,v,b={},j=1,A=b,_=[],k="",I="",T=m.length-1,M=1;M<T;M+=1)(v=m[M])=="'"?h?(p=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(_.push([A,p]),A={},p=void 0):v=="}"?((g=_.pop())[0][g[1]]=A,p=void 0,A=g[0]):v=="-"?j=-1:p===void 0?n.hasOwnProperty(v)?(k+=n[v],p=parseInt(k,16)*j,j=1,k=""):k+=v:n.hasOwnProperty(v)?(I+=n[v],A[p]=parseInt(I,16)*j,j=1,p=void 0,I=""):I+=v;return b},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var h=m.font,g=f.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var p=d.Unicode[h.postScriptName];p&&(h.metadata.Unicode.encoding=p,h.encoding=p.codePages[0])}])})(yt.API),(function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(_m(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])})(yt),yt.API.addSvgAsImage=function(e,t,r,n,a,i,o,l){if(isNaN(t)||isNaN(r))throw Fr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Fr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Lt.canvg?Promise.resolve(Lt.canvg):vm(()=>import("./index.es-Ccpz8Mwt.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),t,r,n,a,o,l)})},yt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},yt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,f=0;function m(g,p){var v,b=!1;for(v=0;v<g.length;v+=1)g[v]===p&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=l.length;for(f=0;f<h;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(Nr(e)==="object"){for(a in e)if(i=e[a],m(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&m(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,p=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?p.push("/"+g+" /"+r[g].value):p.push("/"+g+" "+r[g].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(yt.API),(function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,m=i.length;f<m;++f){if(l=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(i){var o,l,c,u,d,f,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,m=(l=Object.keys(i).sort(function(h,g){return h-g})).length;f<m;f++)o=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",g=0;g<m.length;g++)h+=String.fromCharCode(m[g]);var p=u();d({data:h,addLength1:!0,objectId:p}),c("endobj");var v=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Ju(l.fontName)),c("/FontFile2 "+p+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var j=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Ju(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+Ju(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+j+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,m="",h=0;h<f.length;h++)m+=String.fromCharCode(f[h]);var g=u();d({data:m,addLength1:!0,objectId:g}),c("endobj");var p=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:p}),c("endobj");var v=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Ju(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+Ju(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},m=f.pdfEscape,h=f.activeFontKey,g=f.fonts,p=h,v="",b=0,j="",A=g[p].encoding;if(g[p].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(j=l,p=h,Array.isArray(l)&&(j=l[0]),b=0;b<j.length;b+=1)g[p].metadata.hasOwnProperty("cmap")&&(o=g[p].metadata.cmap.unicode.codeMap[j[b].charCodeAt(0)]),o||j[b].charCodeAt(0)<256&&g[p].metadata.hasOwnProperty("Unicode")?v+=j[b]:v+="";var _="";return parseInt(p.slice(1))<14||A==="WinAnsiEncoding"?_=m(v,p).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(_=r(v,g[p])),f.isHex=!0,{text:_,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])})(yt),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(yt.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,o,l,c,u,d,f=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,A=0;this.__bidiEngine__={};var _=function(P){var C=P.charCodeAt(),F=C>>8,V=p[F];return V!==void 0?f[256*V+(255&C)]:F===252||F===253?"AL":b.test(F)?"L":F===8?"R":"N"},k=function(P){for(var C,F=0;F<P.length;F++){if((C=_(P.charAt(F)))==="L")return!1;if(C==="R")return!0}return!1},I=function(P,C,F,V){var te,de,me,ue,he=C[V];switch(he){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(he="AN");break;case"AL":j=!0,he="R";break;case"WS":case"BN":he="N";break;case"CS":V<1||V+1>=C.length||(te=F[V-1])!=="EN"&&te!=="AN"||(de=C[V+1])!=="EN"&&de!=="AN"?he="N":j&&(de="AN"),he=de===te?de:"N";break;case"ES":he=(te=V>0?F[V-1]:"B")==="EN"&&V+1<C.length&&C[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&F[V-1]==="EN"){he="EN";break}if(j){he="N";break}for(me=V+1,ue=C.length;me<ue&&C[me]==="ET";)me++;he=me<ue&&C[me]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(ue=C.length,me=V+1;me<ue&&C[me]==="NSM";)me++;if(me<ue){var Ne=P[V],Ee=Ne>=1425&&Ne<=2303||Ne===64286;if(te=C[me],Ee&&(te==="R"||te==="AL")){he="R";break}}}he=V<1||(te=C[V-1])==="B"?"N":F[V-1];break;case"B":j=!1,a=!0,he=A;break;case"S":i=!0,he="N"}return he},T=function(P,C,F){var V=P.split("");return F&&M(V,F,{hiLevel:A}),V.reverse(),C&&C.reverse(),V.join("")},M=function(P,C,F){var V,te,de,me,ue,he=-1,Ne=P.length,Ee=0,E=[],R=A?h:m,L=[];for(j=!1,a=!1,i=!1,te=0;te<Ne;te++)L[te]=_(P[te]);for(de=0;de<Ne;de++){if(ue=Ee,E[de]=I(P,L,E,de),V=240&(Ee=R[ue][g[E[de]]]),Ee&=15,C[de]=me=R[Ee][5],V>0)if(V===16){for(te=he;te<de;te++)C[te]=1;he=-1}else he=-1;if(R[Ee][6])he===-1&&(he=de);else if(he>-1){for(te=he;te<de;te++)C[te]=me;he=-1}L[de]==="B"&&(C[de]=0),F.hiLevel|=me}i&&(function(z,J,le){for(var xe=0;xe<le;xe++)if(z[xe]==="S"){J[xe]=A;for(var Q=xe-1;Q>=0&&z[Q]==="WS";Q--)J[Q]=A}})(L,C,Ne)},O=function(P,C,F,V,te){if(!(te.hiLevel<P)){if(P===1&&A===1&&!a)return C.reverse(),void(F&&F.reverse());for(var de,me,ue,he,Ne=C.length,Ee=0;Ee<Ne;){if(V[Ee]>=P){for(ue=Ee+1;ue<Ne&&V[ue]>=P;)ue++;for(he=Ee,me=ue-1;he<me;he++,me--)de=C[he],C[he]=C[me],C[me]=de,F&&(de=F[he],F[he]=F[me],F[me]=de);Ee=ue}Ee++}}},U=function(P,C,F){var V=P.split(""),te={hiLevel:A};return F||(F=[]),M(V,F,te),(function(de,me,ue){if(ue.hiLevel!==0&&d)for(var he,Ne=0;Ne<de.length;Ne++)me[Ne]===1&&(he=v.indexOf(de[Ne]))>=0&&(de[Ne]=v[he+1])})(V,F,te),O(2,V,C,F,te),O(1,V,C,F,te),V.join("")};return this.__bidiEngine__.doBidiReorder=function(P,C,F){if((function(te,de){if(de)for(var me=0;me<te.length;me++)de[me]=me;l===void 0&&(l=k(te)),u===void 0&&(u=k(te))})(P,C),o||!c||u)if(o&&c&&l^u)A=l?1:0,P=T(P,C,F);else if(!o&&c&&u)A=l?1:0,P=U(P,C,F),P=T(P,C);else if(!o||l||c||u){if(o&&!c&&l^u)P=T(P,C),l?(A=0,P=U(P,C,F)):(A=1,P=U(P,C,F),P=T(P,C));else if(o&&l&&!c&&u)A=1,P=U(P,C,F),P=T(P,C);else if(!o&&!c&&l^u){var V=d;l?(A=1,P=U(P,C,F),A=0,d=!1,P=U(P,C,F),d=V):(A=0,P=U(P,C,F),P=T(P,C),A=1,d=!1,P=U(P,C,F),d=V,P=T(P,C))}}else A=0,P=U(P,C,F);else A=l?1:0,P=U(P,C,F);return P},this.__bidiEngine__.setOptions=function(P){P&&(o=P.isInputVisual,c=P.isOutputVisual,l=P.isInputRtl,u=P.isOutputRtl,d=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(yt),yt.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new cc(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new mhe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new ehe(this.contents),this.head=new rhe(this),this.name=new ohe(this),this.cmap=new iD(this),this.toUnicode={},this.hhea=new nhe(this),this.maxp=new lhe(this),this.hmtx=new che(this),this.post=new ihe(this),this.os2=new ahe(this),this.loca=new hhe(this),this.glyf=new uhe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var ks,cc=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e})(),ehe=(function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,o,l,c,u,d,f,m,h,g,p;for(p in h=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(h)/c),o=Math.floor(f/c),d=16*h-f,(a=new cc).writeInt(this.scalarType),a.writeShort(h),a.writeShort(f),a.writeShort(o),a.writeShort(d),i=16*h,u=a.pos+i,l=null,g=[],r)for(m=r[p],a.writeString(p),a.writeInt(e(m)),a.writeInt(u),a.writeInt(m.length),g=g.concat(m),p==="head"&&(l=u),u+=m.length;u%4;)g.push(0),u++;return a.write(g),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,o;for(r=sD.call(r);r.length%4;)r.push(0);for(i=new cc(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},t})(),the={}.hasOwnProperty,po=function(e,t){for(var r in t)the.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ks=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var rhe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return po(e,ks),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new cc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),w6=(function(){function e(t,r){var n,a,i,o,l,c,u,d,f,m,h,g,p,v,b,j,A;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(h=t.readUInt16(),m=h/2,t.pos+=6,i=(function(){var _,k;for(k=[],c=_=0;0<=m?_<m:_>m;c=0<=m?++_:--_)k.push(t.readUInt16());return k})(),t.pos+=2,p=(function(){var _,k;for(k=[],c=_=0;0<=m?_<m:_>m;c=0<=m?++_:--_)k.push(t.readUInt16());return k})(),u=(function(){var _,k;for(k=[],c=_=0;0<=m?_<m:_>m;c=0<=m?++_:--_)k.push(t.readUInt16());return k})(),d=(function(){var _,k;for(k=[],c=_=0;0<=m?_<m:_>m;c=0<=m?++_:--_)k.push(t.readUInt16());return k})(),a=(this.length-t.pos+this.offset)/2,l=(function(){var _,k;for(k=[],c=_=0;0<=a?_<a:_>a;c=0<=a?++_:--_)k.push(t.readUInt16());return k})(),c=b=0,A=i.length;b<A;c=++b)for(v=i[c],n=j=g=p[c];g<=v?j<=v:j>=v;n=g<=v?++j:--j)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-g)-(m-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,a,i,o,l,c,u,d,f,m,h,g,p,v,b,j,A,_,k,I,T,M,O,U,P,C,F,V,te,de,me,ue,he,Ne,Ee,E,R,L,z,J,le,xe,Q,ce,je,pe;switch(V=new cc,o=Object.keys(t).sort(function(ze,Te){return ze-Te}),r){case"macroman":for(p=0,v=(function(){var ze=[];for(g=0;g<256;++g)ze.push(0);return ze})(),j={0:0},i={},te=0,he=o.length;te<he;te++)j[Q=t[a=o[te]]]==null&&(j[Q]=++p),i[a]={old:t[a],new:j[t[a]]},v[a]=j[t[a]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(v),{charMap:i,subtable:V.data,maxGlyphID:p+1};case"unicode":for(C=[],f=[],A=0,j={},n={},b=u=null,de=0,Ne=o.length;de<Ne;de++)j[k=t[a=o[de]]]==null&&(j[k]=++A),n[a]={old:k,new:j[k]},l=j[k]-a,b!=null&&l===u||(b&&f.push(b),C.push(a),u=l),b=a;for(b&&f.push(b),f.push(65535),C.push(65535),U=2*(O=C.length),M=2*Math.pow(Math.log(O)/Math.LN2,2),m=Math.log(M/2)/Math.LN2,T=2*O-M,c=[],I=[],h=[],g=me=0,Ee=C.length;me<Ee;g=++me){if(P=C[g],d=f[g],P===65535){c.push(0),I.push(0);break}if(P-(F=n[P].new)>=32768)for(c.push(0),I.push(2*(h.length+O-g)),a=ue=P;P<=d?ue<=d:ue>=d;a=P<=d?++ue:--ue)h.push(n[a].new);else c.push(F-P),I.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*O+2*h.length),V.writeUInt16(0),V.writeUInt16(U),V.writeUInt16(M),V.writeUInt16(m),V.writeUInt16(T),le=0,E=f.length;le<E;le++)a=f[le],V.writeUInt16(a);for(V.writeUInt16(0),xe=0,R=C.length;xe<R;xe++)a=C[xe],V.writeUInt16(a);for(ce=0,L=c.length;ce<L;ce++)l=c[ce],V.writeUInt16(l);for(je=0,z=I.length;je<z;je++)_=I[je],V.writeUInt16(_);for(pe=0,J=h.length;pe<J;pe++)p=h[pe],V.writeUInt16(p);return{charMap:n,subtable:V.data,maxGlyphID:A+1}}},e})(),iD=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return po(e,ks),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new w6(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=w6.encode(t,r),(a=new cc).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e})(),nhe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return po(e,ks),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),ahe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return po(e,ks),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),ihe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return po(e,ks),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e})(),she=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},ohe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return po(e,ks),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,i,o,l,c,u,d,f,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},i=d=0,f=n.length;d<f;i=++d)a=n[i],t.pos=a.offset,u=t.readString(a.length),o=new she(u,a),c[m=a.nameID]==null&&(c[m]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e})(),lhe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return po(e,ks),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),che=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return po(e,ks),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,i,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)d.push(t.readInt16());return d})(),this.widths=(function(){var u,d,f,m;for(m=[],u=0,d=(f=this.metrics).length;u<d;u++)i=f[u],m.push(i.advance);return m}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),sD=[].slice,uhe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return po(e,ks),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,i,o,l,c,u,d,f;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new cc(r.read(a))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=o===-1?new fhe(l,u,f,c,d):new dhe(l,o,u,f,c,d),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)a=t[r[l]],i.push(o.length),a&&(o=o.concat(a.encode(n)));return i.push(o.length),{table:o,offsets:i}},e})(),dhe=(function(){function e(t,r,n,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),fhe=(function(){function e(t,r,n,a,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new cc(sD.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),hhe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return po(e,ks),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<n.length;++o)if(n[o]=a,i<r.length&&r[i]==o){++i,n[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},e})(),mhe=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,o,l,c,u,d,f,m,h,g,p,v,b;for(a in n=iD.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},b=n.charMap)h[(c=b[a]).old]=c.new;for(g in m=n.maxGlyphID,o)g in h||(h[g]=m++);return d=(function(j){var A,_;for(A in _={},j)_[j[A]]=A;return _})(h),f=Object.keys(d).sort(function(j,A){return j-A}),p=(function(){var j,A,_;for(_=[],j=0,A=f.length;j<A;j++)l=f[j],_.push(d[l]);return _})(),i=this.font.glyf.encode(o,p,h),u=this.font.loca.encode(i.offsets,p),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e})();yt.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+(function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t})();function oD(e,t,r,n,a){n=n||{};var i=1.15,o=a.internal.scaleFactor,l=a.internal.getFontSize()/o,c=a.getLineHeightFactor?a.getLineHeightFactor():i,u=l*c,d=/\r\n|\r|\n/g,f="",m=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(d):e,m=f.length||1),r+=l*(2-i),n.valign==="middle"?r-=m/2*u:n.valign==="bottom"&&(r-=m*u),n.halign==="center"||n.halign==="right"){var h=l;if(n.halign==="center"&&(h*=.5),f&&m>=1){for(var g=0;g<f.length;g++)a.text(f[g],t-a.getStringUnitWidth(f[g])*h,r),r+=u;return a}t-=a.getStringUnitWidth(e)*h}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var N6={},hd=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:N6=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=e.unifyColor(t.textColor),d&&(a=this.jsPDFDocument).setTextColor.apply(a,d),d=e.unifyColor(t.lineColor),d&&(i=this.jsPDFDocument).setDrawColor.apply(i,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return N6||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),G2=function(e,t){return G2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},G2(e,t)};function lD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");G2(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var cD=(function(e){lD(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t})(Array);function phe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function xhe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Mp(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return a}function uD(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var o=dD(a,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,o)}function dD(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function z1(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function fD(e,t){var r=z1(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function ghe(e,t,r,n,a){var i={},o=1.3333333333333333,l=Cv(t,function(A){return a.getComputedStyle(A).backgroundColor});l!=null&&(i.fillColor=l);var c=Cv(t,function(A){return a.getComputedStyle(A).color});c!=null&&(i.textColor=c);var u=bhe(n,r);u&&(i.cellPadding=u);var d="borderTopColor",f=o*r,m=n.borderTopWidth;if(n.borderBottomWidth===m&&n.borderRightWidth===m&&n.borderLeftWidth===m){var h=(parseFloat(m)||0)/f;h&&(i.lineWidth=h)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?d="borderRightColor":i.lineWidth.bottom?d="borderBottomColor":i.lineWidth.left&&(d="borderLeftColor"));var g=Cv(t,function(A){return a.getComputedStyle(A)[d]});g!=null&&(i.lineColor=g);var p=["left","right","center","justify"];p.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),p=["middle","bottom","top"],p.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(i.fontSize=v/o);var b=vhe(n);b&&(i.fontStyle=b);var j=(n.fontFamily||"").toLowerCase();return e.indexOf(j)!==-1&&(i.font=j),i}function vhe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function Cv(e,t){var r=hD(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function hD(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:hD(e.parentElement,t):r}function bhe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(l){return parseInt(l||"0")/n}),o=z1(i,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}function mD(e,t,r,n,a){var i,o;n===void 0&&(n=!1),a===void 0&&(a=!1);var l;typeof t=="string"?l=r.document.querySelector(t):l=t;var c=Object.keys(e.getFontList()),u=e.scaleFactor(),d=[],f=[],m=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:d,body:f,foot:m};for(var h=0;h<l.rows.length;h++){var g=l.rows[h],p=(o=(i=g?.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),v=yhe(c,u,r,g,n,a);v&&(p==="thead"?d.push(v):p==="tfoot"?m.push(v):f.push(v))}return{head:d,body:f,foot:m}}function yhe(e,t,r,n,a,i){for(var o=new cD(n),l=0;l<n.cells.length;l++){var c=n.cells[l],u=r.getComputedStyle(c);if(a||u.display!=="none"){var d=void 0;i&&(d=ghe(e,c,t,u,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:whe(c)})}}var f=r.getComputedStyle(n);if(o.length>0&&(a||f.display!=="none"))return o}function whe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function Nhe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Uo(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i}function pD(e,t){var r=new hd(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();Nhe(a,n,t);var i=Uo({},a,n,t),o;typeof window<"u"&&(o=window);var l=jhe(a,n,t),c=_he(a,n,t),u=Ahe(r,i),d=Che(r,i,o);return{id:t.tableId,content:d,hooks:c,styles:l,settings:u}}function jhe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var u=e[c],d=t[c],f=r[c];n.columnStyles=Uo({},u,d,f)}else{var m=[e,t,r],h=m.map(function(g){return g[c]||{}});n[c]=Uo({},h[0],h[1],h[2])}},i=0,o=Object.keys(n);i<o.length;i++){var l=o[i];a(l)}return n}function _he(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=n;i<o.length;i++){var l=o[i];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function Ahe(e,t){var r,n,a,i,o,l,c,u,d,f,m,h,g=z1(t.margin,40/e.scaleFactor()),p=(r=She(e,t.startY))!==null&&r!==void 0?r:g.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var b;t.showHead===!0?b="everyPage":t.showHead===!1?b="never":b=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var j=(i=t.useCss)!==null&&i!==void 0?i:!1,A=t.theme||(j?"plain":"striped"),_=!!t.horizontalPageBreak,k=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:j,theme:A,startY:p,margin:g,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:b,showFoot:v,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(m=t.tableLineColor)!==null&&m!==void 0?m:200,horizontalPageBreak:_,horizontalPageBreakRepeat:k,horizontalPageBreakBehaviour:(h=t.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function She(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;i=o===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&r?.finalY!=null?r.finalY+20/n:null}function Che(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var l=mD(e,t.html,r,o,t.useCss)||{};n=l.head||n,a=l.body||n,i=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||Phe(n,a,i);return{columns:c,head:n,body:a,foot:i}}function Phe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,l;Array.isArray(n)?l=n[parseInt(i)]:l=n[i],typeof l=="object"&&!Array.isArray(l)&&(o=l?.colSpan||1);for(var c=0;c<o;c++){var u=void 0;Array.isArray(n)?u=a.length:u=i+(c>0?"_".concat(c):"");var d={dataKey:u};a.push(d)}}),a}var K2=(function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e})(),Ehe=(function(e){lD(t,e);function t(r,n,a,i,o,l){var c=e.call(this,r,n,l)||this;return c.cell=a,c.row=i,c.column=o,c.section=i.section,c}return t})(K2),khe=(function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,o){for(var l=0,c=r;l<c.length;l++){var u=c[l],d=new Ehe(t,this,n,a,i,o),f=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new K2(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new K2(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e})(),xD=(function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof cD&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var o=n.cells[i.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),u=c+l;return u>a?u:a},0)},e})(),gD=(function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=z1(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e})(),The=(function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e})();function Ohe(e,t){Dhe(e,t);var r=[],n=0;t.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(t);o?i.width=o:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=Y2(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=Y2(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.log("Of the table content, ".concat(a," units width could not fit page"))),Mhe(t),Fhe(t,e),Ihe(t)}function Dhe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=fD(e,t);t.allRows().forEach(function(i){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],u=i.cells[c.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(e,d,u,i,c,null);var f=u.padding("horizontal");u.contentWidth=Mp(u.text,u.styles,e)+f;var m=Mp(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=m+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var h=10/r;u.minWidth=u.styles.minCellWidth||h,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(i){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],u=i.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},f=d.cellWidth||d.minCellWidth;f&&typeof f=="number"&&(c.minWidth=f,c.wrappedWidth=f)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function Y2(e,t,r){for(var n=t,a=e.reduce(function(h,g){return h+g.wrappedWidth},0),i=0;i<e.length;i++){var o=e[i],l=o.wrappedWidth/a,c=n*l,u=o.width+c,d=r(o),f=u<d?d:u;t-=f-o.width,o.width=f}if(t=Math.round(t*1e10)/1e10,t){var m=e.filter(function(h){return t<0?h.width>r(h):!0});m.length&&(t=Y2(m,t,r))}return t}function Ihe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],o=0,l=e.columns;o<l.length;o++){var c=l[o],u=t[c.index];if(r>1)r--,delete i.cells[c.index];else if(u)u.cell.height+=i.height,r=u.cell.colSpan,delete i.cells[c.index],u.left--,u.left<=1&&delete t[c.index];else{var d=i.cells[c.index];if(!d)continue;if(d.height=i.height,d.rowSpan>1){var f=n.length-a,m=d.rowSpan>f?f:d.rowSpan;t[c.index]={cell:d,left:m,row:i}}}}}function Mhe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,o=0,l=0;l<e.columns.length;l++){var c=e.columns[l];if(o-=1,o>1&&e.columns[l+1])i+=c.width,delete n.cells[c.index];else if(a){var u=a;delete n.cells[c.index],a=null,u.width=c.width+i}else{var u=n.cells[c.index];if(!u)continue;if(o=u.colSpan,i=0,u.colSpan>1){a=u,i+=c.width;continue}u.width=c.width+i}}}function Fhe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],o=0,l=e.columns;o<l.length;o++){var c=l[o],u=i.cells[c.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=j6(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=j6(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,d);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var m=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<m*u.rowSpan?r={height:m,count:u.rowSpan}:r&&r.count>0&&r.height>m&&(m=r.height),m>i.height&&(i.height=m)}}r.count--}}function j6(e,t,r,n,a){return e.map(function(i){return Lhe(i,t,r,n,a)})}function Lhe(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Mp(e,r,n))return e;for(;t<Mp(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function vD(e,t){var r=new hd(e),n=Rhe(t,r.scaleFactor()),a=new khe(t,n);return Ohe(r,a),r.applyStyles(r.userStyles),a}function Rhe(e,t){var r=e.content,n=qhe(r.columns);if(r.head.length===0){var a=_6(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=_6(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,o=e.styles;return{columns:n,head:Pv("head",r.head,n,o,i,t),body:Pv("body",r.body,n,o,i,t),foot:Pv("foot",r.foot,n,o,i,t)}}function Pv(e,t,r,n,a,i){var o={},l=t.map(function(c,u){for(var d=0,f={},m=0,h=0,g=0,p=r;g<p.length;g++){var v=p[g];if(o[v.index]==null||o[v.index].left===0)if(h===0){var b=void 0;Array.isArray(c)?b=c[v.index-m-d]:b=c[v.dataKey];var j={};typeof b=="object"&&!Array.isArray(b)&&(j=b?.styles||{});var A=zhe(e,v,u,a,n,i,j),_=new gD(b,A,e);f[v.dataKey]=_,f[v.index]=_,h=_.colSpan-1,o[v.index]={left:_.rowSpan-1,times:h}}else h--,m++;else o[v.index].left--,h=o[v.index].times,d++}return new xD(c,u,e,f)});return l}function _6(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=Bhe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function Bhe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function qhe(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new The(a,t,r)})}function zhe(e,t,r,n,a,i,o){var l=xhe(n),c;e==="head"?c=a.headStyles:e==="body"?c=a.bodyStyles:e==="foot"&&(c=a.footStyles);var u=Uo({},l.table,l[e],a.styles,c),d=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?d:{},m=e==="body"&&r%2===0?Uo({},l.alternateRow,a.alternateRowStyles):{},h=phe(i),g=Uo({},h,u,m,f);return Uo(g,o)}function $he(e,t,r){var n;r===void 0&&(r={});var a=fD(e,t),i=new Map,o=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(m){var h=t.columns.find(function(g){return g.dataKey===m||g.index===m});h&&!i.has(h.index)&&(i.set(h.index,!0),o.push(h.index),l.push(t.columns[h.index]),a-=h.wrappedWidth)});for(var u=!0,d=(n=r?.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(i.has(d)){d++;continue}var f=t.columns[d].wrappedWidth;if(u||a>=f)u=!1,o.push(d),l.push(t.columns[d]),a-=f;else break;d++}return{colIndexes:o,columns:l,lastIndex:d-1}}function Uhe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=$he(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function bD(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=n+a.bottom+o;if(r.pageBreak==="avoid"){var c=t.body,u=c.reduce(function(m,h){return m+h.height},0);l+=u}var d=new hd(e);(r.pageBreak==="always"||r.startY!=null&&l>d.pageSize().height)&&(wD(d),i.y=a.top),t.callWillDrawPageHooks(d,i);var f=Uo({},i);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?Whe(d,t,f,i):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(m){return ll(d,t,m,i,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(m,h){var g=h===t.body.length-1;Fp(d,t,m,g,f,i,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(m){return ll(d,t,m,i,t.columns)})),uD(d,t,f,i),t.callEndPageHooks(d,i),t.finalY=i.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function Whe(e,t,r,n){var a=Uhe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,d){e.applyStyles(e.userStyles),d>0?Zf(e,t,r,n,u.columns,!0):A6(e,t,n,u.columns),Hhe(e,t,r,n,u.columns),Ev(e,t,n,u.columns)});else for(var o=-1,l=a[0],c=function(){var u=o;if(l){e.applyStyles(e.userStyles);var d=l.columns;o>=0?Zf(e,t,r,n,d,!0):A6(e,t,n,d),u=S6(e,t,o+1,n,d),Ev(e,t,n,d)}var f=u-o;a.slice(1).forEach(function(m){e.applyStyles(e.userStyles),Zf(e,t,r,n,m.columns,!0),S6(e,t,o+1,n,m.columns,f),Ev(e,t,n,m.columns)}),o=u};o<t.body.length-1;)c()}function A6(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return ll(e,t,i,r,n)})}function Hhe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,o){var l=o===t.body.length-1;Fp(e,t,i,l,r,n,a)})}function S6(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var o=Math.min(r+i,t.body.length),l=-1;return t.body.slice(r,o).forEach(function(c,u){var d=r+u===t.body.length-1,f=yD(e,t,d,n);c.canEntireRowFit(f,a)&&(ll(e,t,c,n,a),l=r+u)}),l}function Ev(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return ll(e,t,i,r,n)})}function Vhe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function Ghe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],u=e.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new gD(u.raw,u.styles,u.section);d=Uo(d,u),d.text=[];var f=Vhe(u,t,n);u.text.length>f&&(d.text=u.text.splice(f,u.text.length));var m=n.scaleFactor(),h=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(m,h),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),d.contentHeight=d.getContentHeight(m,h),d.contentHeight>i&&(i=d.contentHeight),a[c.index]=d}}var g=new xD(e.raw,-1,e.section,a,!0);g.height=i;for(var p=0,v=r.columns;p<v.length;p++){var c=v[p],d=g.cells[c.index];d&&(d.height=g.height);var u=e.cells[c.index];u&&(u.height=e.height)}return g}function Khe(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,o=i.top+i.bottom,l=a-o;t.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),u=c<r;if(c>l)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>l;return f?(d&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function Fp(e,t,r,n,a,i,o){var l=yD(e,t,n,i);if(r.canEntireRowFit(l,o))ll(e,t,r,i,o);else if(Khe(e,r,l,t)){var c=Ghe(r,l,t,e);ll(e,t,r,i,o),Zf(e,t,a,i,o),Fp(e,t,c,n,a,i,o)}else Zf(e,t,a,i,o),Fp(e,t,r,n,a,i,o)}function ll(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,o=a;i<o.length;i++){var l=o[i],c=r.cells[l.index];if(!c){n.x+=l.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,c,r,l,n);if(u===!1){n.x+=l.width;continue}Yhe(e,c,n);var d=c.getTextPos();oD(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function Yhe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=dD(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),Xhe(e,t,r,n.lineWidth))}function Xhe(e,t,r,n){var a,i,o,l;n.top&&(a=r.x,i=r.y,o=r.x+t.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,i,o,l)),n.bottom&&(a=r.x,i=r.y+t.height,o=r.x+t.width,l=r.y+t.height,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,i,o,l)),n.left&&(a=r.x,i=r.y,o=r.x,l=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,a,i,o,l)),n.right&&(a=r.x+t.width,i=r.y,o=r.x+t.width,l=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,a,i,o,l));function c(u,d,f,m,h){e.getDocument().setLineWidth(u),e.getDocument().line(d,f,m,h,"S")}}function yD(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function Zf(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(l){return ll(e,t,l,n,a)}),t.callEndPageHooks(e,n);var o=t.settings.margin;uD(e,t,r,n),wD(e),t.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return ll(e,t,l,n,a)}),e.applyStyles(e.userStyles))}function wD(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function Zhe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=pD(this,n),i=vD(this,a);return bD(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){oD(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return hd.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){hd.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new hd(this),i=mD(a,t,window,r,!1),o=i.head,l=i.body,c=((n=o[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var kv;function uo(e,t){var r=pD(e,t),n=vD(e,r);bD(e,n)}try{if(typeof window<"u"&&window){var C6=window,P6=C6.jsPDF||((kv=C6.jspdf)===null||kv===void 0?void 0:kv.jsPDF);P6&&Zhe(P6)}}catch(e){console.error("Could not apply autoTable plugin",e)}function wh(e){return new Date(e).toLocaleDateString("es-CO",{day:"2-digit",month:"2-digit",year:"numeric"})}function a0(e,t){e.setFontSize(20),e.setTextColor(139,92,246),e.text(t,14,22),e.setFontSize(10),e.setTextColor(107,114,128),e.text(`Generado: ${wh(Jo())}`,14,30),e.setDrawColor(139,92,246),e.setLineWidth(.5),e.line(14,33,196,33)}function i0(e,t){const r=e.internal.pageSize.height;e.setFontSize(8),e.setTextColor(156,163,175),e.text(`Chetango - Página ${t}`,e.internal.pageSize.width/2,r-10,{align:"center"})}function Jhe(e){const t=new yt;a0(t,"Reporte de Alumnos");const r=(e.totalActivos||0)+(e.totalInactivos||0);let n=40;t.setFontSize(12),t.setTextColor(255,255,255),t.setFillColor(30,30,30),t.rect(14,n,182,30,"F"),t.setFontSize(10),t.setTextColor(200,200,200),t.text("Total Alumnos:",20,n+10),t.text("Activos:",70,n+10),t.text("Inactivos:",120,n+10),t.text("Nuevos (mes):",160,n+10),t.setFontSize(14),t.setTextColor(139,92,246),t.text(r.toString(),20,n+20),t.text((e.totalActivos||0).toString(),70,n+20),t.text((e.totalInactivos||0).toString(),120,n+20),t.text((e.nuevosEsteMes||0).toString(),160,n+20),n+=40,e.alumnosInactivos&&e.alumnosInactivos.length>0&&(t.setFontSize(12),t.setTextColor(239,68,68),t.text("Alumnos Inactivos",14,n),n+=5,uo(t,{startY:n,head:[["Alumno","Correo","Última Asistencia","Días Inactivo"]],body:e.alumnosInactivos.map(a=>[a.nombreAlumno,a.correo,a.ultimaAsistencia?wh(a.ultimaAsistencia):"N/A",a.diasInactivo.toString()]),theme:"grid",headStyles:{fillColor:[239,68,68],textColor:[255,255,255],fontSize:9},bodyStyles:{textColor:[200,200,200],fontSize:8},alternateRowStyles:{fillColor:[20,20,20]}}),n=t.lastAutoTable.finalY+10),e.alumnosPorVencer&&e.alumnosPorVencer.length>0&&(t.setFontSize(12),t.setTextColor(251,191,36),t.text("Paquetes por Vencer",14,n),n+=5,uo(t,{startY:n,head:[["Alumno","Correo","Fecha Vencimiento","Días Restantes"]],body:e.alumnosPorVencer.map(a=>[a.nombreAlumno,a.correo,wh(a.fechaVencimiento),a.diasRestantes.toString()]),theme:"grid",headStyles:{fillColor:[251,191,36],textColor:[0,0,0],fontSize:9},bodyStyles:{textColor:[200,200,200],fontSize:8},alternateRowStyles:{fillColor:[20,20,20]}})),i0(t,1),t.save("reporte-alumnos.pdf")}function ND(e){const t=new yt;a0(t,"Reporte de Clases");let r=40;t.setFontSize(12),t.setFillColor(30,30,30),t.rect(14,r,182,30,"F"),t.setFontSize(10),t.setTextColor(200,200,200),t.text("Total:",20,r+10),t.text("Promedio Asistencia:",70,r+10),t.text("Ocupación Promedio:",130,r+10),t.setFontSize(14),t.setTextColor(139,92,246),t.text((e.totalClases||0).toString(),20,r+20),t.text(`${(e.promedioAsistencia||0).toFixed(1)}`,70,r+20),t.text(`${(e.ocupacionPromedio||0).toFixed(1)}%`,130,r+20),r+=40,e.clasesMasPopulares&&e.clasesMasPopulares.length>0&&(t.setFontSize(12),t.setTextColor(139,92,246),t.text("Clases Más Populares",14,r),r+=5,uo(t,{startY:r,head:[["Tipo de Clase","Total Clases","Promedio Asistencia","Ocupación %"]],body:e.clasesMasPopulares.map(n=>[n.nombreTipoClase,n.totalClases.toString(),n.promedioAsistencia.toFixed(1),`${n.ocupacionPorcentaje.toFixed(1)}%`]),theme:"grid",headStyles:{fillColor:[139,92,246],textColor:[255,255,255],fontSize:9},bodyStyles:{textColor:[200,200,200],fontSize:8},alternateRowStyles:{fillColor:[20,20,20]}}),r=t.lastAutoTable.finalY+10),e.desgloseporTipo&&e.desgloseporTipo.length>0&&(t.setFontSize(12),t.setTextColor(139,92,246),t.text("Desglose por Tipo",14,r),r+=5,uo(t,{startY:r,head:[["Tipo de Clase","Cantidad","Promedio Asistencia"]],body:e.desgloseporTipo.map(n=>[n.nombreTipoClase,n.cantidadClases.toString(),n.promedioAsistencia.toFixed(1)]),theme:"grid",headStyles:{fillColor:[139,92,246],textColor:[255,255,255],fontSize:9},bodyStyles:{textColor:[200,200,200],fontSize:8},alternateRowStyles:{fillColor:[20,20,20]}})),i0(t,1),t.save("reporte-clases.pdf")}function Qhe(e){const t=new yt;a0(t,"Reporte de Ingresos");let r=40;t.setFillColor(30,30,30),t.rect(14,r,182,30,"F"),t.setFontSize(10),t.setTextColor(200,200,200),t.text("Total Recaudado:",20,r+10),t.text("Cantidad:",80,r+10),t.text("Promedio:",140,r+10),t.setFontSize(14),t.setTextColor(16,185,129),t.text(Mo(e.totalRecaudado||0),20,r+20),t.text((e.cantidad||0).toString(),80,r+20),t.text(Mo(e.promedio||0),140,r+20),r+=40,e.tendenciaMensual&&e.tendenciaMensual.length>0&&(t.setFontSize(12),t.setTextColor(16,185,129),t.text("Tendencia Mensual",14,r),r+=5,uo(t,{startY:r,head:[["Mes","Total Ingresos","Cantidad Pagos"]],body:e.tendenciaMensual.map(n=>[n.mesNombre,Mo(n.totalIngresos),n.cantidadPagos.toString()]),theme:"grid",headStyles:{fillColor:[16,185,129],textColor:[255,255,255],fontSize:9},bodyStyles:{textColor:[200,200,200],fontSize:8},alternateRowStyles:{fillColor:[20,20,20]},columnStyles:{1:{halign:"right",fontStyle:"bold",textColor:[16,185,129]},2:{halign:"right"}}}),r=t.lastAutoTable.finalY+10),e.desgloseMetodosPago&&e.desgloseMetodosPago.length>0&&(t.setFontSize(12),t.setTextColor(16,185,129),t.text("Desglose por Método de Pago",14,r),r+=5,uo(t,{startY:r,head:[["Método","Total","Cantidad","%"]],body:e.desgloseMetodosPago.map(n=>[n.metodoPago,Mo(n.totalRecaudado),n.cantidadPagos.toString(),`${n.porcentajeDelTotal.toFixed(1)}%`]),theme:"grid",headStyles:{fillColor:[16,185,129],textColor:[255,255,255],fontSize:9},bodyStyles:{textColor:[200,200,200],fontSize:8},alternateRowStyles:{fillColor:[20,20,20]},columnStyles:{1:{halign:"right"},2:{halign:"right"},3:{halign:"right"}}})),i0(t,1),t.save("reporte-ingresos.pdf")}function e0e(e){const t=new yt;a0(t,"Reporte de Paquetes");let r=40;t.setFillColor(30,30,30),t.rect(14,r,182,30,"F"),t.setFontSize(10),t.setTextColor(200,200,200),t.text("Activos:",20,r+10),t.text("Vencidos:",70,r+10),t.text("Por Vencer:",120,r+10),t.text("Agotados:",170,r+10),t.setFontSize(14),t.setTextColor(139,92,246),t.text((e.totalActivos||0).toString(),20,r+20),t.text((e.totalVencidos||0).toString(),70,r+20),t.text((e.totalPorVencer||0).toString(),120,r+20),t.text((e.totalAgotados||0).toString(),170,r+20),r+=40,e.alertasPorVencer&&e.alertasPorVencer.length>0&&(t.setFontSize(12),t.setTextColor(251,191,36),t.text("Alertas - Paquetes por Vencer",14,r),r+=5,uo(t,{startY:r,head:[["Alumno","Tipo Paquete","Vencimiento","Días","Clases"]],body:e.alertasPorVencer.map(n=>[n.nombreAlumno,n.nombreTipoPaquete,wh(n.fechaVencimiento),n.diasRestantes.toString(),n.clasesRestantes.toString()]),theme:"grid",headStyles:{fillColor:[251,191,36],textColor:[0,0,0],fontSize:9},bodyStyles:{textColor:[200,200,200],fontSize:8},alternateRowStyles:{fillColor:[20,20,20]}}),r=t.lastAutoTable.finalY+10),e.desgloseEstados&&e.desgloseEstados.length>0&&(t.setFontSize(12),t.setTextColor(139,92,246),t.text("Desglose por Estado",14,r),r+=5,uo(t,{startY:r,head:[["Estado","Cantidad","Porcentaje"]],body:e.desgloseEstados.map(n=>[n.estado,n.cantidad.toString(),`${n.porcentajeDelTotal.toFixed(1)}%`]),theme:"grid",headStyles:{fillColor:[139,92,246],textColor:[255,255,255],fontSize:9},bodyStyles:{textColor:[200,200,200],fontSize:8},alternateRowStyles:{fillColor:[20,20,20]},columnStyles:{1:{halign:"right"},2:{halign:"right"}}})),i0(t,1),t.save("reporte-paquetes.pdf")}function t0e(e){const t=new yt;a0(t,"Reporte de Asistencias");let r=40;t.setFillColor(30,30,30),t.rect(14,r,182,30,"F"),t.setFontSize(10),t.setTextColor(200,200,200),t.text("Total:",20,r+10),t.text("Presentes:",70,r+10),t.text("Ausentes:",120,r+10),t.text("Justificadas:",160,r+10),t.setFontSize(14),t.setTextColor(139,92,246),t.text((e.totalAsistencias||0).toString(),20,r+20),t.text((e.presentes||0).toString(),70,r+20),t.text((e.ausentes||0).toString(),120,r+20),t.text((e.justificadas||0).toString(),160,r+20),r+=35,t.setFontSize(10),t.setTextColor(200,200,200),t.text("Porcentaje de Asistencia:",20,r),t.setFontSize(16),t.setTextColor(16,185,129),t.text(`${(e.porcentajeAsistencia||0).toFixed(1)}%`,90,r),r+=10,e.listaDetallada&&e.listaDetallada.length>0&&(t.setFontSize(12),t.setTextColor(139,92,246),t.text("Lista Detallada de Asistencias",14,r),r+=5,uo(t,{startY:r,head:[["Fecha","Alumno","Clase","Estado","Profesor"]],body:e.listaDetallada.map(n=>[wh(n.fecha),n.nombreAlumno,n.nombreClase,n.estado,n.nombreProfesor||"N/A"]),theme:"grid",headStyles:{fillColor:[139,92,246],textColor:[255,255,255],fontSize:9},bodyStyles:{textColor:[200,200,200],fontSize:8},alternateRowStyles:{fillColor:[20,20,20]}})),i0(t,1),t.save("reporte-asistencias.pdf")}const r0e=()=>{const[e,t]=w.useState({preset:"month",fechaDesde:void 0,fechaHasta:void 0}),[r,n]=w.useState(null),[a,i]=w.useState(!1),o=Ire(),{data:l,isLoading:c}=Nre(e,{enabled:r==="alumnos"}),{data:u,isLoading:d}=Dk(e,{enabled:r==="clases"}),{data:f,isLoading:m}=Are(e,{enabled:r==="ingresos"}),{data:h,isLoading:g}=_re(e,{enabled:r==="paquetes"}),{data:p,isLoading:v}=jre(e,{enabled:r==="asistencias"}),b=F=>{console.log("Opening report:",F),n(F)},j=()=>{n(null),i(!1)},A=async()=>{if(l){i(!0);try{Jhe(l)}finally{i(!1)}}},_=async()=>{if(l){i(!0);try{jue(l)}finally{i(!1)}}},k=async()=>{if(u){i(!0);try{ND(u)}finally{i(!1)}}},I=async()=>{if(u){i(!0);try{pO(u)}finally{i(!1)}}},T=async()=>{if(f){i(!0);try{Qhe(f)}finally{i(!1)}}},M=async()=>{if(f){i(!0);try{_ue(f)}finally{i(!1)}}},O=async()=>{if(h){i(!0);try{e0e(h)}finally{i(!1)}}},U=async()=>{if(h){i(!0);try{Aue(h)}finally{i(!1)}}},P=async()=>{if(p){i(!0);try{t0e(p)}finally{i(!1)}}},C=async()=>{if(p){i(!0);try{Sue(p)}finally{i(!1)}}};return s.jsxs("div",{className:Jr["page-container"],children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:Jr["page-title"],children:"📊 Reportes - Chetango"}),s.jsx("p",{className:Jr["page-description"],children:"Consulta estadísticas detalladas y exporta reportes del sistema"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[s.jsx(Ja,{label:"Reportes Disponibles",value:o.length,icon:s.jsx(ua,{className:"w-5 h-5"})}),s.jsx(Ja,{label:"Período Seleccionado",value:e.preset==="month"?"Este Mes":"Personalizado",icon:s.jsx(ua,{className:"w-5 h-5"})}),s.jsx(Ja,{label:"Última Actualización",value:"Hoy",icon:s.jsx(ua,{className:"w-5 h-5"})})]}),s.jsxs(Ye,{className:"p-6 mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Filtros Globales"}),s.jsx(Ik,{value:e,onChange:t,showLabel:!0}),s.jsx("p",{className:"text-gray-400 text-sm mt-3",children:"Los filtros se aplicarán a todos los reportes que consultes"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Reportes Disponibles"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(F=>{const V=Dre[F.icon];return s.jsx(kre,{id:F.id,title:F.title,description:F.description,icon:V,color:F.color,stats:[{label:"Estado",value:"Activo"},{label:"Formato",value:"PDF/Excel"}],onView:b},F.id)})})]}),s.jsx(Ye,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`\r
            w-10 h-10 flex-shrink-0\r
            flex items-center justify-center\r
            rounded-lg\r
            bg-blue-500/20\r
            text-blue-400\r
          `,children:s.jsx(rn,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"¿Cómo usar los reportes?"}),s.jsxs("ul",{className:"text-gray-400 text-sm space-y-1",children:[s.jsx("li",{children:"• Selecciona el período de fechas que deseas consultar"}),s.jsx("li",{children:'• Haz clic en "Ver Reporte" en cualquier tarjeta'}),s.jsx("li",{children:"• Aplica filtros específicos dentro de cada reporte"}),s.jsx("li",{children:"• Exporta los datos a PDF o Excel según necesites"})]})]})]})}),s.jsx(Tre,{isOpen:r==="alumnos",onClose:j,data:l||null,isLoading:c,onExportPDF:A,onExportExcel:_,isExporting:a}),s.jsx(Cre,{isOpen:r==="clases",onClose:j,data:u||null,isLoading:d,onExportPDF:k,onExportExcel:I,isExporting:a}),s.jsx(Pre,{isOpen:r==="ingresos",onClose:j,data:f||null,isLoading:m,onExportPDF:T,onExportExcel:M,isExporting:a}),s.jsx(Ere,{isOpen:r==="paquetes",onClose:j,data:h||null,isLoading:g,onExportPDF:O,onExportExcel:U,isExporting:a}),s.jsx(Sre,{isOpen:r==="asistencias",onClose:j,data:p||null,isLoading:v,onExportPDF:P,onExportExcel:C,isExporting:a})]})},Zs={all:["users"],lists:()=>[...Zs.all,"list"],list:e=>[...Zs.lists(),e],details:()=>[...Zs.all,"detail"],detail:e=>[...Zs.details(),e]},n0e=e=>dr({queryKey:Zs.list(e),queryFn:async()=>{const t=new URLSearchParams;e.busqueda&&t.append("busqueda",e.busqueda),e.rol&&e.rol!=="todos"&&t.append("rol",e.rol),e.estado&&e.estado!=="todos"&&t.append("estado",e.estado),e.pageNumber&&t.append("pageNumber",e.pageNumber.toString()),e.pageSize&&t.append("pageSize",e.pageSize.toString());const r=await Dt.get(`/api/usuarios?${t.toString()}`);return{items:r.data.usuarios,totalCount:r.data.totalItems,pageNumber:r.data.page,pageSize:r.data.pageSize,totalPages:r.data.totalPages}}}),a0e=e=>dr({queryKey:Zs.detail(e),queryFn:async()=>(await Dt.get(`/api/usuarios/${e}`)).data,enabled:!!e}),i0e=()=>{const e=an();return sn({mutationFn:async t=>(await Dt.post("/api/usuarios",t)).data,onSuccess:()=>{e.invalidateQueries({queryKey:Zs.lists()})}})},s0e=()=>{const e=an();return sn({mutationFn:async t=>(await Dt.put(`/api/usuarios/${t.idUsuario}`,t)).data,onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Zs.lists()}),e.invalidateQueries({queryKey:Zs.detail(r.idUsuario)})}})},o0e=()=>{const e=an();return sn({mutationFn:async t=>(await Dt.delete(`/api/usuarios/${t.idUsuario}`,{data:t})).data,onSuccess:()=>{e.invalidateQueries({queryKey:Zs.lists()})}})},l0e=({onNext:e,onBack:t,userEmail:r})=>{const n=Cd(!0),[a,i]=w.useState(r),[o,l]=w.useState(""),[c,u]=w.useState(!0),[d,f]=w.useState(!0),m=h=>{h.preventDefault(),e({email:a,temporaryPassword:o,sendWhatsApp:c,sendEmail:d})};return s.jsxs("div",{ref:n,className:"absolute inset-0 z-[100] pt-20 overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md -z-10",onClick:t}),s.jsx("div",{className:"relative flex items-start justify-center p-4 min-h-full",children:s.jsxs("div",{className:"bg-[rgba(26,26,26,0.98)] border border-[rgba(64,64,64,0.3)] rounded-2xl w-full max-w-2xl overflow-hidden",children:[s.jsxs("div",{className:"sticky top-0 bg-[rgba(26,26,26,0.98)] border-b border-[rgba(64,64,64,0.3)] p-6",children:[s.jsx("h2",{className:"text-[#f9fafb] text-2xl font-semibold",children:"🔐 Credenciales de Azure"}),s.jsx("p",{className:"text-[#9ca3af] text-sm mt-2",children:"Paso 2 de 3: Crear usuario en Azure Entra ID y pegar credenciales"})]}),s.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-[rgba(201,52,72,0.1)] border border-[rgba(201,52,72,0.2)] rounded-lg p-4",children:[s.jsx("h3",{className:"text-[#f9fafb] font-semibold mb-3 flex items-center gap-2",children:"📋 Instrucciones"}),s.jsxs("ol",{className:"text-[#d1d5db] text-sm space-y-2 list-decimal list-inside",children:[s.jsx("li",{children:"Abre el portal de Azure Entra ID en una nueva pestaña"}),s.jsxs("li",{children:["Ve a ",s.jsx("strong",{children:"Usuarios"})," → ",s.jsx("strong",{children:"Nuevo usuario"})]}),s.jsxs("li",{children:["Crea el usuario con el email: ",s.jsx("span",{className:"text-[#c93448] font-mono",children:r})]}),s.jsx("li",{children:"Genera una contraseña temporal y márcala para cambiar en primer inicio"}),s.jsx("li",{children:"Copia las credenciales y pégalas abajo"})]}),s.jsxs("a",{href:"https://portal.azure.com/#view/Microsoft_AAD_UsersAndTenants/UserManagementMenuBlade/~/AllUsers",target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-[#0078d4] hover:bg-[#106ebe] text-white rounded-lg transition-colors text-sm",children:[s.jsx(X6,{size:16}),"Abrir Azure Portal"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-[#f9fafb] font-semibold mb-4",children:"🔑 Credenciales Generadas"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Email de Azure *"}),s.jsx("input",{type:"email",required:!0,value:a,onChange:h=>i(h.target.value),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors font-mono text-sm",placeholder:"usuario@chetango.onmicrosoft.com"}),s.jsx("p",{className:"text-[#6b7280] text-xs mt-1",children:"Confirma o edita el email generado en Azure"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Contraseña Temporal *"}),s.jsx("input",{type:"text",required:!0,value:o,onChange:h=>l(h.target.value),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors font-mono text-sm",placeholder:"Pega aquí la contraseña temporal generada"}),s.jsx("p",{className:"text-[#6b7280] text-xs mt-1",children:"Esta contraseña se enviará al usuario y deberá cambiarla en su primer inicio de sesión"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-[#f9fafb] font-semibold mb-4",children:"📢 Enviar Credenciales"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[s.jsx("input",{type:"checkbox",checked:c,onChange:h=>u(h.target.checked),className:"w-5 h-5 rounded border-[rgba(255,255,255,0.2)] bg-[rgba(255,255,255,0.05)] checked:bg-[#c93448] checked:border-[#c93448] focus:ring-2 focus:ring-[rgba(201,52,72,0.3)] transition-all"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[#f9fafb] group-hover:text-[#c93448] transition-colors",children:[s.jsx(lb,{size:18}),s.jsx("span",{className:"font-medium",children:"Enviar por WhatsApp"})]}),s.jsx("p",{className:"text-[#9ca3af] text-xs mt-0.5",children:"Envía un mensaje con las credenciales al número registrado"})]})]}),s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[s.jsx("input",{type:"checkbox",checked:d,onChange:h=>f(h.target.checked),className:"w-5 h-5 rounded border-[rgba(255,255,255,0.2)] bg-[rgba(255,255,255,0.05)] checked:bg-[#c93448] checked:border-[#c93448] focus:ring-2 focus:ring-[rgba(201,52,72,0.3)] transition-all"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[#f9fafb] group-hover:text-[#c93448] transition-colors",children:[s.jsx(uu,{size:18}),s.jsx("span",{className:"font-medium",children:"Enviar por Email"})]}),s.jsx("p",{className:"text-[#9ca3af] text-xs mt-0.5",children:"Envía un correo con las credenciales al email personal registrado"})]})]})]}),!c&&!d&&s.jsx("div",{className:"mt-3 p-3 bg-[rgba(245,158,11,0.1)] border border-[rgba(245,158,11,0.2)] rounded-lg",children:s.jsx("p",{className:"text-[#fbbf24] text-sm",children:"⚠️ No se enviará notificación. Deberás compartir las credenciales manualmente."})})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs("button",{type:"button",onClick:t,className:"flex items-center gap-2 px-6 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] transition-all",children:[s.jsx(ib,{size:18}),"Atrás"]}),s.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 rounded-lg bg-[#c93448] hover:bg-[#b02d3c] text-white font-medium transition-all",children:"Continuar →"})]})]})]})})]})},c0e=({userData:e,credentials:t,onConfirm:r,onBack:n,isLoading:a,mode:i="create"})=>{const o=Cd(!0);return s.jsxs("div",{ref:o,className:"absolute inset-0 z-[100] pt-20 overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md -z-10",onClick:n}),s.jsx("div",{className:"relative flex items-start justify-center p-4 min-h-full",children:s.jsxs("div",{className:"bg-[rgba(26,26,26,0.98)] border border-[rgba(64,64,64,0.3)] rounded-2xl w-full max-w-2xl overflow-hidden",children:[s.jsxs("div",{className:"sticky top-0 bg-[rgba(26,26,26,0.98)] border-b border-[rgba(64,64,64,0.3)] p-6",children:[s.jsxs("h2",{className:"text-[#f9fafb] text-2xl font-semibold",children:["✅ ",i==="edit"?"Confirmar Edición":"Confirmar Creación"]}),s.jsx("p",{className:"text-[#9ca3af] text-sm mt-2",children:i==="edit"?"Revisa los cambios antes de actualizar el usuario":"Paso 3 de 3: Revisa los datos antes de crear el usuario"})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"bg-[rgba(64,64,64,0.2)] border border-[rgba(64,64,64,0.3)] rounded-lg p-5",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"w-16 h-16 rounded-full bg-[rgba(201,52,72,0.15)] border-2 border-[rgba(201,52,72,0.3)] flex items-center justify-center text-[#c93448] text-2xl",children:[e.rol==="admin"&&"👨‍💼",e.rol==="profesor"&&"👨‍🏫",e.rol==="alumno"&&"🧑‍🎓"]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:e.nombreUsuario}),s.jsxs("p",{className:"text-[#c93448] text-sm font-medium mt-1",children:[e.rol==="admin"&&"Administrador",e.rol==="profesor"&&"Profesor",e.rol==="alumno"&&"Alumno"]})]})]})}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-[#f9fafb] font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Jn,{size:18}),"Información Personal"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsx(Zi,{label:"Email Personal",value:e.correo}),s.jsx(Zi,{label:"Teléfono",value:e.telefono}),s.jsx(Zi,{label:"Documento",value:`${e.tipoDocumento} ${e.numeroDocumento}`}),s.jsx(Zi,{label:"Fecha Nacimiento",value:e.fechaNacimiento})]})]}),e.rol==="alumno"&&e.datosAlumno&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-[#f9fafb] font-semibold mb-3",children:"👤 Datos de Alumno"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsx(Zi,{label:"Contacto Emergencia",value:e.datosAlumno.contactoEmergencia}),s.jsx(Zi,{label:"Teléfono Emergencia",value:e.datosAlumno.telefonoEmergencia}),e.datosAlumno.observacionesMedicas&&s.jsx("div",{className:"col-span-2",children:s.jsx(Zi,{label:"Observaciones Médicas",value:e.datosAlumno.observacionesMedicas})})]})]}),e.rol==="profesor"&&e.datosProfesor&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-[#f9fafb] font-semibold mb-3",children:"🎓 Datos de Profesor"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsx(Zi,{label:"Tipo",value:e.datosProfesor.tipoProfesor}),s.jsx(Zi,{label:"Fecha Ingreso",value:e.datosProfesor.fechaIngreso}),s.jsx(Zi,{label:"Tarifa por Hora",value:e.datosProfesor.tarifaActual?`$${e.datosProfesor.tarifaActual.toLocaleString("es-CO")} COP`:"No especificada"}),e.datosProfesor.especialidades&&e.datosProfesor.especialidades.length>0&&s.jsx("div",{className:"col-span-2",children:s.jsx(Zi,{label:"Especialidades",value:e.datosProfesor.especialidades.join(", ")})}),e.datosProfesor.biografia&&s.jsx("div",{className:"col-span-2",children:s.jsx(Zi,{label:"Biografía",value:e.datosProfesor.biografia})})]})]}),i==="create"&&s.jsxs("div",{className:"bg-[rgba(201,52,72,0.1)] border border-[rgba(201,52,72,0.2)] rounded-lg p-4",children:[s.jsx("h4",{className:"text-[#f9fafb] font-semibold mb-3",children:"🔐 Credenciales de Azure"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-[#9ca3af]",children:"Email Azure:"}),s.jsx("span",{className:"text-[#f9fafb] font-mono",children:t.email})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-[#9ca3af]",children:"Contraseña Temporal:"}),s.jsx("span",{className:"text-[#f9fafb] font-mono",children:"*".repeat(t.temporaryPassword.length)})]})]})]}),i==="create"&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-[#f9fafb] font-semibold mb-3",children:"📢 Notificaciones"}),s.jsxs("div",{className:"space-y-2",children:[t.sendWhatsApp&&s.jsxs("div",{className:"flex items-center gap-2 text-[#10b981] text-sm",children:[s.jsx(zf,{size:16}),s.jsx(lb,{size:16}),s.jsx("span",{children:"Se enviará mensaje por WhatsApp"})]}),t.sendEmail&&s.jsxs("div",{className:"flex items-center gap-2 text-[#10b981] text-sm",children:[s.jsx(zf,{size:16}),s.jsx(uu,{size:16}),s.jsx("span",{children:"Se enviará correo electrónico"})]}),!t.sendWhatsApp&&!t.sendEmail&&s.jsx("div",{className:"text-[#fbbf24] text-sm",children:"⚠️ No se enviará notificación automática"})]})]}),i==="create"&&s.jsx("div",{className:"bg-[rgba(245,158,11,0.1)] border border-[rgba(245,158,11,0.2)] rounded-lg p-4",children:s.jsxs("p",{className:"text-[#fbbf24] text-sm",children:["⚠️ ",s.jsx("strong",{children:"Importante:"})," Asegúrate de que el usuario fue creado correctamente en Azure Entra ID antes de confirmar."]})}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs("button",{type:"button",onClick:n,disabled:a,className:"flex items-center gap-2 px-6 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(ib,{size:18}),"Atrás"]}),s.jsx("button",{type:"button",onClick:r,disabled:a,className:"flex-1 px-6 py-3 rounded-lg bg-[#10b981] hover:bg-[#059669] text-white font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),i==="edit"?"Guardando cambios...":"Creando usuario..."]}):s.jsxs(s.Fragment,{children:[s.jsx(zf,{size:18}),i==="edit"?"Guardar Cambios":"Crear Usuario"]})})]})]})]})})]})},Zi=({label:e,value:t})=>t?s.jsxs("div",{children:[s.jsx("p",{className:"text-[#6b7280] text-xs mb-1",children:e}),s.jsx("p",{className:"text-[#f9fafb]",children:t})]}):null,u0e=({onNext:e,onCancel:t,initialData:r,mode:n="create"})=>{const a=Cd(!0),[i,o]=w.useState({rol:r?.rol||"alumno",tipoDocumento:r?.tipoDocumento||"Cédula de Ciudadanía",...r});w.useEffect(()=>{r&&Object.keys(r).length>0&&(console.log("DEBUG UserFormStep - Actualizando formData con initialData:",r),console.log("DEBUG UserFormStep - Rol detectado:",r.rol),o(u=>({...u,rol:r.rol||u.rol,tipoDocumento:r.tipoDocumento||u.tipoDocumento,...r})))},[r]);const l=u=>{u.preventDefault(),console.log("DEBUG UserFormStep - formData al hacer submit:",i),e(i)},c=(u,d)=>{o(f=>({...f,[u]:d}))};return s.jsxs("div",{ref:a,className:"absolute inset-0 z-[100] pt-20 overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md -z-10",onClick:t}),s.jsx("div",{className:"relative flex items-start justify-center p-4 min-h-full",children:s.jsxs("div",{className:"bg-[rgba(26,26,26,0.98)] border border-[rgba(64,64,64,0.3)] rounded-2xl w-full max-w-2xl overflow-hidden",children:[s.jsxs("div",{className:"sticky top-0 bg-[rgba(26,26,26,0.98)] border-b border-[rgba(64,64,64,0.3)] p-6 flex items-center justify-between",children:[s.jsxs("h2",{className:"text-[#f9fafb] text-2xl font-semibold",children:["✨ ",n==="edit"?"Editar Usuario":"Crear Nuevo Usuario"]}),s.jsx("button",{onClick:t,className:"text-[#9ca3af] hover:text-[#f9fafb] transition-colors",children:s.jsx($r,{size:24})})]}),s.jsxs("form",{onSubmit:l,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#f9fafb] text-sm font-medium mb-3",children:"Tipo de Usuario:"}),s.jsx("div",{className:"flex gap-3",children:["admin","profesor","alumno"].map(u=>s.jsxs("button",{type:"button",onClick:()=>n==="create"&&c("rol",u),disabled:n==="edit",className:`flex-1 py-3 px-4 rounded-lg border transition-all ${i.rol===u?"bg-[rgba(201,52,72,0.15)] border-[rgba(201,52,72,0.3)] text-[#c93448]":"bg-[rgba(64,64,64,0.2)] border-[rgba(64,64,64,0.3)] text-[#9ca3af] hover:border-[rgba(201,52,72,0.2)]"} ${n==="edit"?"cursor-not-allowed opacity-60":""}`,children:[u==="admin"&&"👨‍💼 Admin",u==="profesor"&&"👨‍🏫 Profesor",u==="alumno"&&"🧑‍🎓 Alumno"]},u))}),n==="edit"&&s.jsx("p",{className:"text-[#6b7280] text-xs mt-2",children:"ℹ️ El rol no puede modificarse en modo edición"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-[#f9fafb] font-semibold mb-4 flex items-center gap-2",children:"📋 DATOS BÁSICOS"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Nombre Completo *"}),s.jsx("input",{type:"text",required:!0,value:i.nombreUsuario||"",onChange:u=>c("nombreUsuario",u.target.value),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors",placeholder:"Ej: Juan Pérez González"})]}),s.jsxs("div",{className:"col-span-2 md:col-span-1",children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Email *"}),s.jsx("input",{type:"email",required:!0,disabled:n==="edit",value:i.correo||"",onChange:u=>c("correo",u.target.value),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"usuario@chetango.com"})]}),s.jsxs("div",{className:"col-span-2 md:col-span-1",children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Teléfono *"}),s.jsx("input",{type:"tel",required:!0,value:i.telefono||"",onChange:u=>c("telefono",u.target.value),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors",placeholder:"+57 300 123 4567"})]}),s.jsxs("div",{className:"col-span-2 md:col-span-1",children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Tipo Documento *"}),s.jsx("select",{required:!0,disabled:n==="edit",value:i.tipoDocumento||"Cédula de Ciudadanía",onChange:u=>c("tipoDocumento",u.target.value),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx("option",{value:"Cédula de Ciudadanía",children:"Cédula de Ciudadanía"})})]}),s.jsxs("div",{className:"col-span-2 md:col-span-1",children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Número Documento *"}),s.jsx("input",{type:"text",required:!0,disabled:n==="edit",value:i.numeroDocumento||"",onChange:u=>c("numeroDocumento",u.target.value),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"1234567890"})]}),s.jsxs("div",{className:"col-span-2 md:col-span-1",children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Fecha Nacimiento"}),s.jsx("input",{type:"date",value:i.fechaNacimiento||"",onChange:u=>c("fechaNacimiento",u.target.value),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors"})]})]})]}),i.rol==="alumno"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-[#f9fafb] font-semibold mb-4 flex items-center gap-2",children:"👤 DATOS DE ALUMNO"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2 md:col-span-1",children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Contacto Emergencia"}),s.jsx("input",{type:"text",value:i.datosAlumno?.contactoEmergencia||"",onChange:u=>c("datosAlumno",{...i.datosAlumno,contactoEmergencia:u.target.value}),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors",placeholder:"Nombre del contacto"})]}),s.jsxs("div",{className:"col-span-2 md:col-span-1",children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Teléfono Emergencia"}),s.jsx("input",{type:"tel",value:i.datosAlumno?.telefonoEmergencia||"",onChange:u=>c("datosAlumno",{...i.datosAlumno,telefonoEmergencia:u.target.value}),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors",placeholder:"+57 300 123 4567"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Observaciones Médicas"}),s.jsx("textarea",{rows:3,value:i.datosAlumno?.observacionesMedicas||"",onChange:u=>c("datosAlumno",{...i.datosAlumno,observacionesMedicas:u.target.value}),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors resize-none",placeholder:"Alergias, condiciones especiales..."})]})]})]}),i.rol==="profesor"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-[#f9fafb] font-semibold mb-4 flex items-center gap-2",children:"🎓 DATOS DE PROFESOR"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2 md:col-span-1",children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Tipo Profesor *"}),s.jsxs("select",{required:!0,value:i.datosProfesor?.tipoProfesor||"",onChange:u=>c("datosProfesor",{...i.datosProfesor,tipoProfesor:u.target.value,especialidades:i.datosProfesor?.especialidades||[],fechaIngreso:i.datosProfesor?.fechaIngreso||ho(),tarifaActual:i.datosProfesor?.tarifaActual||0}),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors",children:[s.jsx("option",{value:"",children:"Seleccionar..."}),s.jsx("option",{value:"Principal",children:"Principal"}),s.jsx("option",{value:"Monitor",children:"Monitor"})]})]}),s.jsxs("div",{className:"col-span-2 md:col-span-1",children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Fecha Ingreso *"}),s.jsx("input",{type:"date",required:!0,value:i.datosProfesor?.fechaIngreso||"",onChange:u=>c("datosProfesor",{...i.datosProfesor,fechaIngreso:u.target.value,especialidades:i.datosProfesor?.especialidades||[],tipoProfesor:i.datosProfesor?.tipoProfesor||"",tarifaActual:i.datosProfesor?.tarifaActual||0}),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors"})]}),s.jsxs("div",{className:"col-span-2 md:col-span-1",children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Tarifa por Hora (COP) *"}),s.jsx("input",{type:"number",required:!0,min:"0",step:"1000",value:i.datosProfesor?.tarifaActual||0,onChange:u=>c("datosProfesor",{...i.datosProfesor,tarifaActual:parseFloat(u.target.value)||0,especialidades:i.datosProfesor?.especialidades||[],tipoProfesor:i.datosProfesor?.tipoProfesor||"",fechaIngreso:i.datosProfesor?.fechaIngreso||""}),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors",placeholder:"50000"})]}),s.jsxs("div",{className:"col-span-2 md:col-span-1",children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Especialidades"}),s.jsx("input",{type:"text",placeholder:"Separadas por coma: Salsa, Bachata, Tango",value:(i.datosProfesor?.especialidades||[]).join(", "),onChange:u=>{const d=u.target.value.split(",").map(f=>f.trim()).filter(f=>f.length>0);c("datosProfesor",{...i.datosProfesor,especialidades:d,tipoProfesor:i.datosProfesor?.tipoProfesor||"",fechaIngreso:i.datosProfesor?.fechaIngreso||"",tarifaActual:i.datosProfesor?.tarifaActual||0})},className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Biografía"}),s.jsx("textarea",{rows:3,value:i.datosProfesor?.biografia||"",onChange:u=>c("datosProfesor",{...i.datosProfesor,biografia:u.target.value,especialidades:i.datosProfesor?.especialidades||[],tipoProfesor:i.datosProfesor?.tipoProfesor||"",fechaIngreso:i.datosProfesor?.fechaIngreso||"",tarifaActual:i.datosProfesor?.tarifaActual||0}),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors resize-none",placeholder:"Breve descripción profesional..."})]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] transition-all",children:"Cancelar"}),s.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 rounded-lg bg-[#c93448] hover:bg-[#b02d3c] text-white font-medium transition-all",children:"Siguiente →"})]})]})]})})]})},d0e=({isOpen:e,onClose:t,onSuccess:r,mode:n="create",initialUser:a})=>{const[i,o]=w.useState("form"),[l,c]=w.useState({}),[u,d]=w.useState({email:"",temporaryPassword:"",sendWhatsApp:!0,sendEmail:!0}),f=i0e(),m=s0e();if(w.useEffect(()=>{e||(o("form"),c({}),d({email:"",temporaryPassword:"",sendWhatsApp:!0,sendEmail:!0}))},[e]),w.useEffect(()=>{if(n==="edit"&&a&&e){console.log("DEBUG - Cargando datos del usuario para edición:",a);let b="alumno";a.datosProfesor?b="profesor":a.datosAlumno?b="alumno":b="admin";const j=a.roles?.[0],A=j||b;console.log("DEBUG - Rol inferido desde datos:",b),console.log("DEBUG - Rol desde array:",j),console.log("DEBUG - Rol final:",A),c({nombreUsuario:a.nombreUsuario,correo:a.correo,telefono:a.telefono,tipoDocumento:a.tipoDocumento,numeroDocumento:a.numeroDocumento,rol:A,fechaNacimiento:a.datosAlumno?.fechaNacimiento,datosProfesor:a.datosProfesor,datosAlumno:a.datosAlumno})}},[n,a,e]),!e)return null;const h=b=>{c(b),n==="edit"?o("confirmation"):(d(j=>({...j,email:b.correo||""})),o("azure"))},g=b=>{d(b),o("confirmation")},p=async()=>{if(n==="edit"&&a){console.log("DEBUG - initialUser completo:",a);const b=a.idUsuario||a.IdUsuario||a.id;if(console.log("DEBUG - userId encontrado:",b),!b){console.error("ERROR - No se pudo encontrar el ID del usuario en initialUser:",a);return}const j={idUsuario:b,nombreUsuario:l.nombreUsuario,telefono:l.telefono,fechaNacimiento:l.fechaNacimiento,datosProfesor:l.datosProfesor,datosAlumno:l.datosAlumno};console.log("DEBUG - UpdateUserRequest:",j),console.log("DEBUG - URL que se construirá:",`/api/usuarios/${j.idUsuario}`);try{await m.mutateAsync(j),r?.(),v()}catch(A){console.error("Error updating user:",A)}}else{console.log("DEBUG - userData antes de crear request:",l);const b={nombreUsuario:l.nombreUsuario,correo:l.correo,telefono:l.telefono,tipoDocumento:l.tipoDocumento,numeroDocumento:l.numeroDocumento,rol:l.rol,fechaNacimiento:l.fechaNacimiento,datosProfesor:l.datosProfesor,datosAlumno:l.datosAlumno,correoAzure:u.email,contrasenaTemporalAzure:u.temporaryPassword,enviarWhatsApp:u.sendWhatsApp,enviarEmail:u.sendEmail};console.log("DEBUG - requestData a enviar:",b);try{await f.mutateAsync(b),r?.(),v()}catch(j){console.error("Error creating user:",j)}}},v=()=>{o("form"),c({}),d({email:"",temporaryPassword:"",sendWhatsApp:!0,sendEmail:!0}),t()};return s.jsxs(s.Fragment,{children:[i==="form"&&s.jsx(u0e,{onNext:h,onCancel:v,initialData:l,mode:n}),i==="azure"&&n==="create"&&s.jsx(l0e,{onNext:g,onBack:()=>o("form"),userEmail:l.correo||""}),i==="confirmation"&&s.jsx(c0e,{userData:l,credentials:u,onConfirm:p,onBack:()=>o(n==="edit"?"form":"azure"),isLoading:f.isPending||m.isPending,mode:n})]})},f0e=()=>{const e=Z6(),[t,r]=w.useState(!1),[n,a]=w.useState(null),[i,o]=w.useState({pageNumber:1,pageSize:10,estado:"activo"}),{data:l,isLoading:c}=n0e(i),u=o0e(),{data:d}=a0e(n||"");lt.useEffect(()=>{e.state?.editUserId&&(a(e.state.editUserId),r(!0),window.history.replaceState({},document.title))},[e.state]),lt.useEffect(()=>{d&&(console.log("DEBUG - userDetail cargado:",d),console.log("DEBUG - roles en userDetail:",d.roles))},[d]);const f=_=>{o(k=>({...k,busqueda:_,pageNumber:1}))},m=_=>{o(k=>({...k,rol:_,pageNumber:1}))},h=_=>{o(k=>({...k,estado:_,pageNumber:1}))},g=()=>{a(null),r(!0)},p=_=>{console.log("DEBUG - Abriendo modal de edición para usuario:",_);const k=l?.items.find(I=>I.idUsuario===_);console.log("DEBUG - Usuario en lista:",k),console.log("DEBUG - Roles del usuario:",k?.roles),a(_),setTimeout(()=>{r(!0)},100)},v=()=>{r(!1),a(null)},b=async _=>{if(console.log("DEBUG - Intentando eliminar usuario:",_),!!confirm("¿Estás seguro de que deseas eliminar este usuario?"))try{console.log("DEBUG - Ejecutando mutación de eliminación..."),await u.mutateAsync({idUsuario:_}),console.log("DEBUG - Usuario eliminado exitosamente")}catch(k){console.error("Error eliminando usuario:",k)}},j=_=>{let k;if(Array.isArray(_)?k=_[0]:k=_,!k)return s.jsx("span",{className:"text-[#9ca3af] text-sm",children:"Sin rol"});const I={admin:"bg-[rgba(139,92,246,0.15)] text-[#a78bfa] border-[rgba(139,92,246,0.3)]",profesor:"bg-[rgba(59,130,246,0.15)] text-[#60a5fa] border-[rgba(59,130,246,0.3)]",alumno:"bg-[rgba(34,197,94,0.15)] text-[#4ade80] border-[rgba(34,197,94,0.3)]"},T={admin:"👨‍💼 Admin",profesor:"👨‍🏫 Profesor",alumno:"🧑‍🎓 Alumno"};return s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${I[k]}`,children:T[k]})},A=_=>{const k={activo:"bg-[rgba(34,197,94,0.15)] text-[#4ade80] border-[rgba(34,197,94,0.3)]",inactivo:"bg-[rgba(156,163,175,0.15)] text-[#9ca3af] border-[rgba(156,163,175,0.3)]",pendiente_azure:"bg-[rgba(245,158,11,0.15)] text-[#fbbf24] border-[rgba(245,158,11,0.3)]"},I={activo:"Activo",inactivo:"Inactivo",pendiente_azure:"Pendiente Azure"};return s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${k[_]}`,children:I[_]})};return s.jsxs("div",{className:"p-8 max-w-[1400px] mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-[#f9fafb] text-3xl font-bold mb-2",children:"👥 Gestión de Usuarios"}),s.jsx("p",{className:"text-[#9ca3af]",children:"Administra usuarios del sistema: alumnos, profesores y administradores"})]}),s.jsxs("div",{className:"mb-6 flex flex-col lg:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Xc,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#6b7280]",size:20}),s.jsx("input",{type:"text",placeholder:"Buscar por nombre, email o documento...",onChange:_=>f(_.target.value),className:"w-full pl-12 pr-4 py-3 rounded-lg bg-[rgba(64,64,64,0.2)] border border-[rgba(64,64,64,0.3)] text-[#f9fafb] placeholder:text-[#6b7280] focus:outline-none focus:border-[#c93448] transition-colors"})]}),s.jsxs("select",{onChange:_=>m(_.target.value?_.target.value:void 0),className:"px-4 py-3 rounded-lg bg-[rgba(64,64,64,0.2)] border border-[rgba(64,64,64,0.3)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors",children:[s.jsx("option",{value:"",children:"Todos los roles"}),s.jsx("option",{value:"admin",children:"Administradores"}),s.jsx("option",{value:"profesor",children:"Profesores"}),s.jsx("option",{value:"alumno",children:"Alumnos"})]}),s.jsxs("select",{onChange:_=>h(_.target.value?_.target.value:void 0),className:"px-4 py-3 rounded-lg bg-[rgba(64,64,64,0.2)] border border-[rgba(64,64,64,0.3)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors",children:[s.jsx("option",{value:"",children:"Todos los estados"}),s.jsx("option",{value:"activo",children:"Activos"}),s.jsx("option",{value:"inactivo",children:"Inactivos"}),s.jsx("option",{value:"pendiente_azure",children:"Pendientes Azure"})]}),s.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-6 py-3 bg-[#c93448] hover:bg-[#b02d3c] text-white rounded-lg font-medium transition-all whitespace-nowrap",children:[s.jsx(Ql,{size:20}),"Crear Usuario"]})]}),s.jsxs("div",{className:"bg-[rgba(64,64,64,0.2)] border border-[rgba(64,64,64,0.3)] rounded-lg overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-[rgba(26,26,26,0.5)] border-b border-[rgba(64,64,64,0.3)]",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left px-6 py-4 text-[#9ca3af] text-sm font-semibold",children:"Usuario"}),s.jsx("th",{className:"text-left px-6 py-4 text-[#9ca3af] text-sm font-semibold",children:"Contacto"}),s.jsx("th",{className:"text-left px-6 py-4 text-[#9ca3af] text-sm font-semibold",children:"Rol"}),s.jsx("th",{className:"text-left px-6 py-4 text-[#9ca3af] text-sm font-semibold",children:"Estado"}),s.jsx("th",{className:"text-right px-6 py-4 text-[#9ca3af] text-sm font-semibold",children:"Acciones"})]})}),s.jsx("tbody",{children:c?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-[#9ca3af]",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 border-2 border-[#c93448]/30 border-t-[#c93448] rounded-full animate-spin"}),"Cargando usuarios..."]})})}):l?.items?.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-[#9ca3af]",children:"No se encontraron usuarios"})}):(l?.items||[]).map(_=>s.jsxs("tr",{className:"border-b border-[rgba(64,64,64,0.3)] hover:bg-[rgba(255,255,255,0.02)] transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-[#f9fafb] font-medium",children:_.nombreUsuario}),s.jsxs("p",{className:"text-[#9ca3af] text-sm",children:[_.tipoDocumento," ",_.numeroDocumento]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-[#f9fafb] text-sm",children:_.correo}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:_.telefono})]})}),s.jsx("td",{className:"px-6 py-4",children:j(_.rol||_.roles)}),s.jsx("td",{className:"px-6 py-4",children:A(_.estado)}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[_.estado==="pendiente_azure"&&s.jsx("button",{className:"p-2 text-[#10b981] hover:bg-[rgba(16,185,129,0.1)] rounded-lg transition-colors",title:"Activar usuario",children:s.jsx(bS,{size:18})}),_.estado==="activo"&&s.jsx("button",{className:"p-2 text-[#f59e0b] hover:bg-[rgba(245,158,11,0.1)] rounded-lg transition-colors",title:"Desactivar usuario",children:s.jsx(qv,{size:18})}),s.jsx("button",{className:"p-2 text-[#60a5fa] hover:bg-[rgba(96,165,250,0.1)] rounded-lg transition-colors",title:"Editar usuario",onClick:()=>p(_.usuarioId||_.idUsuario),children:s.jsx(ub,{size:18})}),s.jsx("button",{className:"p-2 text-[#ef4444] hover:bg-[rgba(239,68,68,0.1)] rounded-lg transition-colors",title:"Eliminar usuario",onClick:()=>b(_.usuarioId||_.idUsuario),children:s.jsx(rb,{size:18})})]})})]},_.idUsuario))})]})}),l&&l.totalPages>1&&s.jsxs("div",{className:"px-6 py-4 border-t border-[rgba(64,64,64,0.3)] flex items-center justify-between",children:[s.jsxs("p",{className:"text-[#9ca3af] text-sm",children:["Mostrando ",l.items?.length||0," de ",l.totalCount," usuarios"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>o(_=>({..._,pageNumber:(_.pageNumber||1)-1})),disabled:i.pageNumber===1,className:"px-4 py-2 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] text-[#f9fafb] disabled:opacity-30 disabled:cursor-not-allowed transition-all",children:"Anterior"}),s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:l?.totalPages||0},(_,k)=>k+1).map(_=>s.jsx("button",{onClick:()=>o(k=>({...k,page:_})),className:`w-10 h-10 rounded-lg transition-all ${_===i.pageNumber?"bg-[#c93448] text-white":"bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] text-[#f9fafb]"}`,children:_},_))}),s.jsx("button",{onClick:()=>o(_=>({..._,pageNumber:(_.pageNumber||1)+1})),disabled:i.pageNumber===l.totalPages,className:"px-4 py-2 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] text-[#f9fafb] disabled:opacity-30 disabled:cursor-not-allowed transition-all",children:"Siguiente"})]})]})]}),s.jsx(d0e,{isOpen:t,onClose:v,onSuccess:()=>{v()},mode:n?"edit":"create",initialUser:n&&d?d:void 0})]})};function jD({isPresent:e,onToggle:t,disabled:r=!1,isLoading:n=!1}){const a=r||n;return s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{type:"button",onClick:t,disabled:a,"aria-label":e?"Marcar como ausente":"Marcar como presente","aria-pressed":e,className:"group/check relative",children:[s.jsx("div",{className:`
          w-11 h-11
          rounded-xl
          border-2
          backdrop-blur-xl
          transition-all duration-300
          flex items-center justify-center
          shadow-[0_4px_16px_rgba(0,0,0,0.2)]
          ${e?"bg-gradient-to-br from-[#34d399] to-[#059669] border-[#34d399] shadow-[0_8px_24px_rgba(52,211,153,0.4)]":"bg-[rgba(30,30,36,0.6)] border-[rgba(255,255,255,0.15)] hover:border-[rgba(255,255,255,0.3)] hover:bg-[rgba(42,42,48,0.8)]"}
          ${a?"opacity-50 cursor-not-allowed":"cursor-pointer group-hover/check:scale-110"}
        `,children:n?s.jsx(Zo,{className:"w-6 h-6 text-white animate-spin"}):e?s.jsx(da,{className:"w-6 h-6 text-white",strokeWidth:2.5}):s.jsx("div",{className:"w-4 h-4 rounded-sm border-2 border-[#6b7280] group-hover/check:border-[#9ca3af]"})}),s.jsx("p",{className:`
          text-[11px] mt-1.5 uppercase tracking-wider font-medium text-center
          ${e?"text-[#34d399]":"text-[#6b7280] group-hover/check:text-[#9ca3af]"}
        `,children:e?"Presente":"Ausente"})]})})}function _D({package:e}){if(!e||e.estado==="SinPaquete")return s.jsx("div",{className:"space-y-2",role:"status","aria-label":"Sin paquete activo",children:s.jsxs(B0,{variant:"none",className:"text-[13px]",children:[s.jsx(rn,{className:"w-3.5 h-3.5"}),"Sin paquete activo"]})});if(e.estado==="Activo"){const t=e.clasesTotales&&e.clasesUsadas!==null?e.clasesUsadas/e.clasesTotales*100:0;return s.jsxs("div",{className:"space-y-2",role:"status","aria-label":`Paquete activo: ${e.descripcion||"Paquete Activo"}`,children:[s.jsxs(B0,{variant:"active",className:"text-[13px]",children:[s.jsx(Tr,{className:"w-3.5 h-3.5"}),e.descripcion||"Paquete Activo"]}),e.clasesTotales!==null&&e.clasesUsadas!==null&&s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("div",{className:"flex-1 h-1.5 bg-[rgba(255,255,255,0.08)] rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-[#34d399] to-[#6ee7b7] rounded-full transition-all duration-500",style:{width:`${t}%`}})}),s.jsxs("span",{className:"text-[#9ca3af] text-[12px] whitespace-nowrap",children:[e.clasesUsadas,"/",e.clasesTotales]})]})]})}if(e.estado==="Agotado"){const t=e.clasesTotales&&e.clasesUsadas!==null?e.clasesUsadas/e.clasesTotales*100:100;return s.jsxs("div",{className:"space-y-2",role:"status","aria-label":"Paquete agotado",children:[s.jsxs(B0,{variant:"depleted",className:"text-[13px]",children:[s.jsx(rn,{className:"w-3.5 h-3.5"}),"Paquete Agotado"]}),e.clasesTotales!==null&&e.clasesUsadas!==null&&s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("div",{className:"flex-1 h-1.5 bg-[rgba(255,255,255,0.08)] rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-[#f59e0b] to-[#fcd34d] rounded-full transition-all duration-500",style:{width:`${t}%`}})}),s.jsxs("span",{className:"text-[#9ca3af] text-[12px] whitespace-nowrap",children:[e.clasesUsadas,"/",e.clasesTotales]})]})]})}return e.estado==="Congelado"?s.jsxs("div",{role:"status","aria-label":"Paquete congelado",children:[s.jsxs(B0,{variant:"frozen",className:"text-[13px]",children:[s.jsx(Jf,{className:"w-3.5 h-3.5"}),"Paquete Congelado"]}),s.jsxs("p",{className:"text-[#93c5fd] text-[11px] mt-2 italic flex items-start gap-1",children:[s.jsx(Hc,{className:"w-3 h-3 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:"Si marcas presente, se reactivará automáticamente"})]})]}):null}function h0e({value:e,onChange:t}){return s.jsxs("div",{role:"search","aria-label":"Buscar estudiantes",children:[s.jsxs("label",{className:"block text-[#d1d5db] mb-2 text-[14px]",children:[s.jsx(Xc,{className:"w-4 h-4 inline mr-2"}),"Buscar Estudiante"]}),s.jsx(Nn,{type:"search",placeholder:"Nombre o documento...",value:e,onChange:r=>t(r.target.value),icon:s.jsx(Xc,{className:"w-5 h-5","aria-hidden":"true"}),"aria-label":"Buscar estudiantes por nombre o documento","aria-describedby":"search-hint"}),s.jsx("span",{id:"search-hint",className:"sr-only",children:"Escribe para filtrar la lista de estudiantes"})]})}function m0e({presentes:e,ausentes:t,sinPaquete:r}){return s.jsx("div",{className:"p-6 border-t border-[rgba(255,255,255,0.08)] bg-[rgba(255,255,255,0.02)] backdrop-blur-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-8",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-lg bg-[rgba(52,211,153,0.15)] backdrop-blur-sm",children:s.jsx(da,{className:"w-5 h-5 text-[#34d399]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#9ca3af] text-[12px]",children:"Presentes"}),s.jsx("p",{className:"text-[#f9fafb] font-semibold",style:{fontSize:"20px"},children:e})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-lg bg-[rgba(156,163,175,0.15)] backdrop-blur-sm",children:s.jsx(ns,{className:"w-5 h-5 text-[#9ca3af]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#9ca3af] text-[12px]",children:"Ausentes"}),s.jsx("p",{className:"text-[#f9fafb] font-semibold",style:{fontSize:"20px"},children:t})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-lg bg-[rgba(245,158,11,0.15)] backdrop-blur-sm",children:s.jsx(rn,{className:"w-5 h-5 text-[#f59e0b]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#9ca3af] text-[12px]",children:"Sin Paquete"}),s.jsx("p",{className:"text-[#f9fafb] font-semibold",style:{fontSize:"20px"},children:r})]})]})]}),s.jsx("p",{className:"text-[#6b7280] text-[13px] italic hidden sm:block",children:"Los cambios se guardan automáticamente"})]})})}function p0e(e){const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`}function If(e){const[t,r,n]=e.split("-").map(Number);return new Date(t,r-1,n)}function Lp(e){const[t,r]=e.split(":");return`${t}:${r}`}function x0e({selectedDate:e,dateRange:t,onDateChange:r,isLoading:n}){const[a,i]=w.useState(!1),o=If(e),l=t?If(t.desde):void 0,c=t?If(t.hasta):void 0,u=t?t.diasConClases.map(m=>If(m)):void 0,d=m=>{m&&(r(p0e(m)),i(!1))},f=m=>If(m).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"});return n?s.jsxs("div",{children:[s.jsxs("label",{className:"block text-[#d1d5db] mb-2 text-[14px]",children:[s.jsx(St,{className:"w-4 h-4 inline mr-2"}),"Fecha de la Clase"]}),s.jsx(Ge,{className:"h-12 w-full","aria-label":"Cargando selector de fecha"})]}):s.jsxs("div",{role:"group","aria-label":"Filtro de fecha",children:[s.jsxs("label",{className:"block text-[#d1d5db] mb-2 text-[14px]",children:[s.jsx(St,{className:"w-4 h-4 inline mr-2"}),"Fecha de la Clase"]}),s.jsxs(Q6,{open:a,onOpenChange:i,children:[s.jsx(eS,{asChild:!0,children:s.jsxs("button",{type:"button","aria-label":`Fecha seleccionada: ${f(e)}. Presiona para cambiar`,"aria-expanded":a,"aria-haspopup":"dialog",className:`
              w-full
              flex items-center gap-3
              px-4 py-3
              backdrop-blur-xl
              bg-[rgba(30,30,36,0.6)]
              border border-[rgba(255,255,255,0.12)]
              rounded-xl
              text-[#f9fafb]
              transition-all duration-300
              shadow-[inset_0_2px_4px_rgba(0,0,0,0.3)]
              hover:border-[rgba(255,255,255,0.25)]
              focus:border-[#c93448]
              focus:ring-2 focus:ring-[rgba(201,52,72,0.3)]
              focus:outline-none
            `,children:[s.jsx(St,{className:"w-5 h-5 text-[#6b7280]","aria-hidden":"true"}),s.jsx("span",{className:"text-sm",children:f(e)})]})}),s.jsx(tS,{className:"w-auto p-0",align:"start",children:s.jsx(JS,{selected:o,onSelect:d,fromDate:l,toDate:c,enabledDates:u,defaultMonth:o})})]})]})}function g0e(e,t,r,n){return`${e} - ${Lp(t)} a ${Lp(r)} (${n})`}function v0e({selectedClassId:e,classes:t,onClassChange:r,isLoading:n}){if(n)return s.jsxs("div",{children:[s.jsxs("label",{className:"block text-[#d1d5db] mb-2 text-[14px]",children:[s.jsx(kr,{className:"w-4 h-4 inline mr-2"}),"Clase del Día"]}),s.jsx(Ge,{className:"h-12 w-full","aria-label":"Cargando selector de clases"})]});if(!(t&&t.clases.length>0))return s.jsxs("div",{children:[s.jsxs("label",{className:"block text-[#d1d5db] mb-2 text-[14px]",children:[s.jsx(kr,{className:"w-4 h-4 inline mr-2"}),"Clase del Día"]}),s.jsxs("div",{className:`\r
            flex items-center gap-3\r
            px-4 py-3\r
            w-full\r
            backdrop-blur-xl\r
            bg-[rgba(30,30,36,0.6)]\r
            border border-[rgba(255,255,255,0.12)]\r
            rounded-xl\r
            text-[#6b7280]\r
            text-sm\r
          `,role:"status","aria-label":"No hay clases disponibles para esta fecha",children:[s.jsx(kr,{className:"w-5 h-5","aria-hidden":"true"}),s.jsx("span",{children:"No hay clases para esta fecha"})]})]});const i=t.clases.find(l=>l.idClase===e),o=i?i.nombre:"ninguna";return s.jsxs("div",{role:"group","aria-label":"Selector de clase",children:[s.jsxs("label",{className:"block text-[#d1d5db] mb-2 text-[14px]",children:[s.jsx(kr,{className:"w-4 h-4 inline mr-2"}),"Clase del Día"]}),s.jsxs(Yl,{value:e||void 0,onValueChange:r,children:[s.jsx(Xl,{className:"w-full",icon:s.jsx(kr,{className:"w-5 h-5","aria-hidden":"true"}),"aria-label":`Clase seleccionada: ${o}. Presiona para cambiar`,children:s.jsx(Zl,{placeholder:"Seleccionar clase..."})}),s.jsx(Jl,{children:t.clases.map(l=>s.jsx(Xa,{value:l.idClase,"aria-label":`${l.nombre}, ${Lp(l.horaInicio)} a ${Lp(l.horaFin)}, profesor ${l.profesorPrincipal}`,children:g0e(l.nombre,l.horaInicio,l.horaFin,l.profesorPrincipal)},l.idClase))})]})]})}function AD(e){return e.substring(0,2).toUpperCase()}function b0e({student:e,onToggleAttendance:t,onObservationChange:r,isUpdating:n}){const[a,i]=w.useState(e.asistencia.observacion||"");w.useEffect(()=>{i(e.asistencia.observacion||"")},[e.asistencia.observacion]),w.useEffect(()=>{const d=e.asistencia.observacion||"";if(a===d)return;const f=setTimeout(()=>{r(a)},500);return()=>clearTimeout(f)},[a,e.asistencia.observacion,r]);const o=w.useCallback(()=>{const d=e.asistencia.observacion||"";a!==d&&r(a)},[a,e.asistencia.observacion,r]),l=e.asistencia.estado==="Presente",c=e.paquete?.esCompartido||!1,u=e.paquete?.nombresAlumnosCompartidos||[];return s.jsxs(md,{children:[s.jsx(La,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`\r
              w-10 h-10\r
              rounded-xl\r
              flex items-center justify-center\r
              backdrop-blur-sm\r
              bg-gradient-to-br from-[rgba(201,52,72,0.2)] to-[rgba(124,90,248,0.2)]\r
              border border-[rgba(255,255,255,0.1)]\r
              text-[#f9fafb]\r
              font-medium\r
            `,"aria-label":`Avatar de ${e.nombreCompleto}`,children:AD(e.avatarIniciales)}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#f9fafb] font-medium",style:{fontSize:"15px"},children:e.nombreCompleto}),s.jsxs("p",{className:"text-[#9ca3af] text-[13px] mt-0.5",children:["DNI: ",e.documentoIdentidad]})]})]})}),s.jsx(La,{children:s.jsxs("div",{children:[s.jsx(_D,{package:e.paquete}),c&&u.length>0&&s.jsxs("p",{className:"text-[#7c5af8] text-[11px] mt-2 italic flex items-center gap-1",children:[s.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-[#7c5af8]"}),s.jsxs("span",{children:["Paquete compartido con: ",u.join(", ")]})]})]})}),s.jsx(La,{children:s.jsx(jD,{isPresent:l,onToggle:t,disabled:n,isLoading:n})}),s.jsx(La,{children:s.jsx("input",{type:"text",value:a,onChange:d=>i(d.target.value),onBlur:o,disabled:n,placeholder:"Agregar nota...","aria-label":`Observación para ${e.nombreCompleto}`,className:`\r
            w-full \r
            px-3 py-2 \r
            backdrop-blur-xl \r
            bg-[rgba(30,30,36,0.4)] \r
            border border-[rgba(255,255,255,0.08)] \r
            focus:border-[#c93448] \r
            focus:bg-[rgba(30,30,36,0.6)] \r
            rounded-lg \r
            text-[#f9fafb] \r
            text-[13px]\r
            placeholder-[#6b7280] \r
            outline-none \r
            transition-all duration-200\r
            disabled:opacity-50\r
            min-w-[200px]\r
          `})})]})}function y0e({student:e,onToggleAttendance:t,onObservationChange:r,isUpdating:n}){const[a,i]=w.useState(e.asistencia.observacion||"");w.useEffect(()=>{i(e.asistencia.observacion||"")},[e.asistencia.observacion]),w.useEffect(()=>{const d=e.asistencia.observacion||"";if(a===d)return;const f=setTimeout(()=>{r(a)},500);return()=>clearTimeout(f)},[a,e.asistencia.observacion,r]);const o=w.useCallback(()=>{const d=e.asistencia.observacion||"";a!==d&&r(a)},[a,e.asistencia.observacion,r]),l=e.asistencia.estado==="Presente",c=e.paquete?.esCompartido||!1,u=e.paquete?.nombresAlumnosCompartidos||[];return s.jsxs("div",{className:"p-4 hover:bg-[rgba(255,255,255,0.02)] transition-colors duration-200",role:"listitem","aria-label":`Asistencia de ${e.nombreCompleto}`,children:[s.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:`\r
              w-10 h-10 flex-shrink-0\r
              rounded-xl\r
              flex items-center justify-center\r
              backdrop-blur-sm\r
              bg-gradient-to-br from-[rgba(201,52,72,0.2)] to-[rgba(124,90,248,0.2)]\r
              border border-[rgba(255,255,255,0.1)]\r
              text-[#f9fafb]\r
              font-medium\r
            `,"aria-hidden":"true",children:AD(e.avatarIniciales)}),s.jsxs("div",{className:"flex flex-col min-w-0",children:[s.jsx("p",{className:"text-[#f9fafb] font-medium text-[15px] truncate",children:e.nombreCompleto}),s.jsxs("p",{className:"text-[#9ca3af] text-[13px] truncate",children:["DNI: ",e.documentoIdentidad]})]})]}),s.jsx(jD,{isPresent:l,onToggle:t,disabled:n,isLoading:n})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx(_D,{package:e.paquete}),c&&u.length>0&&s.jsxs("p",{className:"text-[#7c5af8] text-[11px] mt-2 italic flex items-center gap-1",children:[s.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-[#7c5af8]"}),s.jsxs("span",{children:["Paquete compartido con: ",u.join(", ")]})]})]}),s.jsx("input",{type:"text",value:a,onChange:d=>i(d.target.value),onBlur:o,disabled:n,placeholder:"Agregar nota...","aria-label":`Observación para ${e.nombreCompleto}`,className:`\r
          w-full \r
          px-3 py-2 \r
          backdrop-blur-xl \r
          bg-[rgba(30,30,36,0.4)] \r
          border border-[rgba(255,255,255,0.08)] \r
          focus:border-[#c93448] \r
          focus:bg-[rgba(30,30,36,0.6)] \r
          rounded-lg \r
          text-[#f9fafb] \r
          text-[13px]\r
          placeholder-[#6b7280] \r
          outline-none \r
          transition-all duration-200\r
          disabled:opacity-50\r
        `})]})}function w0e({students:e,searchTerm:t,onToggleAttendance:r,onObservationChange:n,isUpdating:a}){return e.length===0?s.jsxs("div",{className:`\r
          flex flex-col items-center justify-center\r
          py-12 sm:py-16\r
        `,role:"status","aria-live":"polite",children:[s.jsx(Xc,{className:"w-10 h-10 sm:w-12 sm:h-12 text-[#6b7280] mb-4","aria-hidden":"true"}),s.jsx("p",{className:"text-[#9ca3af] text-base sm:text-lg text-center px-4",children:t?"No se encontraron estudiantes":"No hay estudiantes en esta clase"}),t&&s.jsx("p",{className:"text-[#6b7280] text-sm mt-2 text-center px-4",children:"Intenta con otro término de búsqueda"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsxs(Iv,{showContainer:!1,children:[s.jsx(Mv,{children:s.jsxs(md,{children:[s.jsx(Ma,{children:"ALUMNO"}),s.jsx(Ma,{children:"PAQUETE"}),s.jsx(Ma,{children:"ASISTENCIA"}),s.jsx(Ma,{children:"OBSERVACIÓN"})]})}),s.jsx(Fv,{children:e.map(i=>s.jsx(b0e,{student:i,onToggleAttendance:()=>r(i.idAlumno,i.paquete?.idPaquete??null),onObservationChange:o=>n(i.idAlumno,i.paquete?.idPaquete??null,o),isUpdating:a[i.idAlumno]||!1},`${i.idAlumno}-${i.paquete?.idPaquete}`))})]})}),s.jsx("div",{className:"md:hidden divide-y divide-[rgba(255,255,255,0.08)]",children:e.map(i=>s.jsx(y0e,{student:i,onToggleAttendance:()=>r(i.idAlumno,i.paquete?.idPaquete??null),onObservationChange:o=>n(i.idAlumno,i.paquete?.idPaquete??null,o),isUpdating:a[i.idAlumno]||!1},`${i.idAlumno}-${i.paquete?.idPaquete}`))})]})}const In={all:["attendance"],dateRange:()=>[...In.all,"dateRange"],classesByDate:e=>[...In.all,"classes",e],summary:e=>[...In.all,"summary",e]};function N0e(){return dr({queryKey:In.dateRange(),queryFn:async()=>(await Dt.get("/api/admin/asistencias/dias-con-clases")).data})}function j0e(e){return dr({queryKey:In.classesByDate(e),queryFn:async()=>(await Dt.get("/api/admin/asistencias/clases-del-dia",{params:{fecha:e}})).data,enabled:!!e})}function _0e(e){return dr({queryKey:In.summary(e??""),queryFn:async()=>{const t=await Dt.get(`/api/admin/asistencias/clase/${e}/resumen`);return{...t.data,alumnos:t.data.alumnos.map(n=>({...n,paquete:n.paquete?{...n.paquete,estado:A0e(n.paquete.estado),esCompartido:n.paquete.esCompartido??!1,idsAlumnosCompartidos:n.paquete.idsAlumnosCompartidos??null,nombresAlumnosCompartidos:n.paquete.nombresAlumnosCompartidos??null}:null,asistencia:{...n.asistencia,estado:S0e(n.asistencia.estado)}}))}},enabled:!!e})}function A0e(e){if(typeof e=="string")return e;switch(e){case 0:return"Activo";case 1:return"Agotado";case 2:return"Congelado";case 3:return"SinPaquete";default:return"SinPaquete"}}function S0e(e){if(typeof e=="string")return e;switch(e){case 0:return"Ausente";case 1:return"Presente";default:return"Ausente"}}const Kl={all:["profesorAttendance"],clases:(e,t,r)=>[...Kl.all,"clases",e,t,r],clasesDelDia:(e,t)=>[...Kl.all,"clasesDelDia",e,t],asistenciasClase:e=>[...Kl.all,"asistenciasClase",e]};function C0e(e,t,r){return dr({queryKey:Kl.clases(e??"",t,r),queryFn:async()=>{const n={pagina:1,tamanoPagina:100};return t&&(n.fechaDesde=t),r&&(n.fechaHasta=r),(await Dt.get(`/api/profesores/${e}/clases`,{params:n})).data},enabled:!!e})}function P0e(e){return dr({queryKey:Kl.asistenciasClase(e??""),queryFn:async()=>(await Dt.get(`/api/clases/${e}/asistencias`)).data.map(n=>({idAsistencia:n.idAsistencia??null,idAlumno:n.idAlumno,nombreAlumno:n.nombreAlumno,presente:n.presente??!1,observacion:n.observacion??"",estadoPaquete:n.estadoPaquete??"SinPaquete",clasesRestantes:n.clasesRestantes??null})),enabled:!!e})}const E0e={NORMAL:1},E6={PRESENTE:1,AUSENTE:2};function SD(){const e=an();return sn({mutationFn:async({data:t})=>{const r=t.presente?1:2;await Dt.put(`/api/asistencias/${t.idAsistencia}/estado`,{idAsistencia:t.idAsistencia,nuevoEstado:r,observacion:t.observacion||null})},onMutate:async({idClase:t})=>(await e.cancelQueries({queryKey:In.summary(t)}),{previousData:e.getQueryData(In.summary(t))}),onError:(t,{idClase:r},n)=>{n?.previousData&&e.setQueryData(In.summary(r),n.previousData),Wc.error("Error al actualizar asistencia")},onSuccess:async(t,{idClase:r,idAlumno:n,data:a})=>{console.log("=== MUTATION SUCCESS - BEFORE REFETCH ===");const o=e.getQueryData(In.summary(r))?.alumnos.find(d=>d.idAlumno===n);console.log("Previous student state:",{nombre:o?.nombreCompleto,paqueteEstado:o?.paquete?.estado,clasesUsadas:o?.paquete?.clasesUsadas,clasesTotales:o?.paquete?.clasesTotales});const l=o?.paquete?.estado==="Congelado";await Promise.all([e.invalidateQueries({queryKey:In.summary(r),refetchType:"active"}),e.invalidateQueries({queryKey:Kl.asistenciasClase(r),refetchType:"active"})]),await new Promise(d=>setTimeout(d,100));const u=e.getQueryData(In.summary(r))?.alumnos.find(d=>d.idAlumno===n);console.log("Updated student state:",{nombre:u?.nombreCompleto,paqueteEstado:u?.paquete?.estado,clasesUsadas:u?.paquete?.clasesUsadas,clasesTotales:u?.paquete?.clasesTotales}),console.log("=== MUTATION SUCCESS - AFTER REFETCH ==="),l&&a.presente&&u?.paquete?.estado==="Activo"&&Wc.packageReactivated()},onSettled:()=>{}})}function CD(){const e=an();return sn({mutationFn:async({idClase:t,idAlumno:r,data:n})=>{const i=e.getQueryData(In.summary(t))?.alumnos.find(u=>u.idAlumno===r);if(!i)throw new Error("Estudiante no encontrado");const o=n.idPaquete||i.paquete?.idPaquete;if(console.log("=== REGISTER ATTENDANCE MUTATION ==="),console.log("idPaquete from data:",n.idPaquete),console.log("idPaquete from cache:",i.paquete?.idPaquete),console.log("idPaquete to use:",o),console.log("Package description:",i.paquete?.descripcion),console.log("===================================="),!o)throw new Error("No se especificó un paquete para usar");const l=n.presente?E6.PRESENTE:E6.AUSENTE;return(await Dt.post("/api/asistencias",{idClase:n.idClase,idAlumno:n.idAlumno,idTipoAsistencia:E0e.NORMAL,idPaqueteUsado:o,idEstadoAsistencia:l,observaciones:n.observacion||null})).data},onMutate:async({idClase:t,idAlumno:r,data:n})=>{await e.cancelQueries({queryKey:In.summary(t)});const a=e.getQueryData(In.summary(t));if(a){const i=n.presente?"Presente":"Ausente",o=a.alumnos.map(u=>u.idAlumno===r?{...u,asistencia:{idAsistencia:`temp-${Date.now()}`,estado:i,observacion:n.observacion??null}}:u),l=o.filter(u=>u.asistencia.estado==="Presente").length,c=o.filter(u=>u.asistencia.estado==="Ausente").length;e.setQueryData(In.summary(t),{...a,alumnos:o,presentes:l,ausentes:c})}return{previousData:a}},onError:(t,{idClase:r},n)=>{n?.previousData&&e.setQueryData(In.summary(r),n.previousData),Wc.error("Error al registrar asistencia")},onSuccess:async(t,{idClase:r,idAlumno:n})=>{const a=e.getQueryData(In.summary(r));if(a){const i=a.alumnos.map(o=>o.idAlumno===n?{...o,asistencia:{...o.asistencia,idAsistencia:t}}:o);e.setQueryData(In.summary(r),{...a,alumnos:i})}await e.invalidateQueries({queryKey:Kl.asistenciasClase(r),refetchType:"active"}),Wc.attendanceMarked()},onSettled:(t,r,{idClase:n})=>{e.invalidateQueries({queryKey:In.summary(n)}),e.invalidateQueries({queryKey:Kl.asistenciasClase(n)})}})}function k0e(e,t){let r=null;return(...n)=>{r&&clearTimeout(r),r=setTimeout(()=>{e(...n),r=null},t)}}function T0e(){const e=cu(),t=Hl(k=>k.attendance.selectedDate),r=Hl(k=>k.attendance.selectedClassId),n=Hl(k=>k.attendance.updatingStudents),{data:a,isLoading:i,error:o}=N0e(),{data:l,isLoading:c,error:u}=j0e(t),{data:d,isLoading:f,error:m}=_0e(r),h=SD(),g=CD(),p=w.useRef({}),v=w.useCallback(k=>{e(B9(k))},[e]),b=w.useCallback(k=>{e(q9(k))},[e]),j=w.useCallback(async(k,I)=>{if(!r||!d)return;const T=d.alumnos.find(O=>O.idAlumno===k);if(!T)return;const M=T.asistencia.estado!=="Presente";console.log("=== TOGGLE ATTENDANCE ==="),console.log("Student:",T.nombreCompleto),console.log("idPaquete:",I),console.log("Current estado:",T.asistencia.estado),console.log("idAsistencia:",T.asistencia.idAsistencia),console.log("New presente:",M),console.log("Will use:",T.asistencia.idAsistencia?"UPDATE (PUT)":"REGISTER (POST)"),console.log("========================"),e(L0({studentId:k,isUpdating:!0}));try{const O=T.asistencia.idAsistencia;O?await h.mutateAsync({idClase:r,idAlumno:k,data:{idAsistencia:O,presente:M,observacion:T.asistencia.observacion??void 0}}):await g.mutateAsync({idClase:r,idAlumno:k,data:{idClase:r,idAlumno:k,idPaquete:I??void 0,presente:M,observacion:T.asistencia.observacion??void 0}})}finally{e(L0({studentId:k,isUpdating:!1}))}},[r,d,e,h,g]),A=w.useCallback(async(k,I,T)=>{if(!r||!d)return;const M=d.alumnos.find(O=>O.idAlumno===k);if(M){e(L0({studentId:k,isUpdating:!0}));try{const O=M.asistencia.idAsistencia;O?await h.mutateAsync({idClase:r,idAlumno:k,data:{idAsistencia:O,presente:M.asistencia.estado==="Presente",observacion:T||void 0}}):await g.mutateAsync({idClase:r,idAlumno:k,data:{idClase:r,idAlumno:k,idPaquete:I??void 0,presente:M.asistencia.estado==="Presente",observacion:T||void 0}})}finally{e(L0({studentId:k,isUpdating:!1}))}}},[r,d,e,h,g]),_=w.useCallback(async(k,I,T)=>{const M=`${k}-${I}`;p.current[M]||(p.current[M]=k0e(O=>{A(k,I,O)},500)),p.current[M](T)},[A]);return{dateRange:a,isLoadingDateRange:i,dateRangeError:o,classes:l,isLoadingClasses:c,classesError:u,attendanceSummary:d,isLoadingAttendance:f,attendanceError:m,selectedDate:t,selectedClassId:r,setSelectedDate:v,setSelectedClassId:b,toggleAttendance:j,updateObservation:_,isUpdatingAttendance:n}}function O0e(e,t){if(!t.trim())return e;const r=t.toLowerCase().trim();return e.filter(n=>{const a=n.nombreCompleto.toLowerCase().includes(r),i=n.documentoIdentidad.includes(t.trim());return a||i})}function D0e(e){let t=0,r=0,n=0;for(const a of e)a.asistencia.estado==="Presente"?t++:r++,(!a.paquete||a.paquete.estado==="SinPaquete")&&n++;return{presentes:t,ausentes:r,sinPaquete:n}}const I0e=300;function M0e(e){const t=cu(),r=Hl(c=>c.attendance.searchTerm),[n,a]=w.useState(r),i=w.useRef(null);w.useEffect(()=>(i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{a(r)},I0e),()=>{i.current&&clearTimeout(i.current)}),[r]);const o=w.useCallback(c=>{t(z9(c))},[t]),l=w.useMemo(()=>O0e(e,n),[e,n]);return{searchTerm:r,debouncedSearchTerm:n,setSearchTerm:o,filteredStudents:l}}const F0e=()=>{const[e]=rS(),t=e.get("claseId"),{dateRange:r,isLoadingDateRange:n,dateRangeError:a,classes:i,isLoadingClasses:o,classesError:l,attendanceSummary:c,isLoadingAttendance:u,attendanceError:d,selectedDate:f,selectedClassId:m,setSelectedDate:h,setSelectedClassId:g,toggleAttendance:p,updateObservation:v,isUpdatingAttendance:b}=T0e(),{searchTerm:j,setSearchTerm:A,filteredStudents:_}=M0e(c?.alumnos??[]);w.useEffect(()=>{t&&i?.clases&&(i.clases.find(M=>M.idClase===t)?g(t):m||g(t))},[t,i?.clases,g,m]);const k=D0e(_),I=c?.alumnos?.length??0;return s.jsxs(s.Fragment,{children:[s.jsx(Ph,{}),s.jsx(jh,{position:"bottom-center"}),s.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-[#0a0a0b]",children:[s.jsx(Mn,{variant:"warm"}),s.jsx(Ch,{text:"ASIST",orientation:"vertical",position:"right",size:280,opacity:.35}),s.jsx("div",{className:"absolute inset-0 opacity-[0.02] pointer-events-none",style:{backgroundImage:`
              linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
              linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)
            `,backgroundSize:"60px 60px"}}),m&&!u&&s.jsxs(s.Fragment,{children:[s.jsx(Ow,{icon:s.jsx(Zn,{className:"w-5 h-5 text-[#34d399]"}),label:"Total hoy",value:I,position:"top-[12%] right-[3%]",delay:"0s"}),s.jsx(Ow,{icon:s.jsx(da,{className:"w-5 h-5 text-[#7c5af8]"}),label:"Confirmados",value:k.presentes,position:"top-[26%] right-[3%]",delay:"0.5s"})]}),s.jsx(no,{size:"w-28 h-28",position:"top-[50%] right-[2%]",color:"primary",delay:"0s"}),s.jsx(no,{size:"w-20 h-20",position:"bottom-[15%] left-[3%]",color:"success",delay:"1s"}),s.jsx(ei,{position:"top-[15%] right-[15%]",color:"#c93448",size:"w-3 h-3",delay:"0s"}),s.jsx(ei,{position:"top-[60%] left-[8%]",color:"#34d399",size:"w-2 h-2",delay:"1s"}),s.jsx(ei,{position:"bottom-[25%] right-[20%]",color:"#7c5af8",size:"w-4 h-4",delay:"1.5s"}),s.jsxs("div",{className:"relative z-10 p-4 sm:p-6 md:p-8 md:pl-[4%] md:pr-[4%] lg:pl-[6%] lg:pr-[6%]",children:[s.jsx("div",{className:"mb-6 md:mb-10 max-w-[1600px]",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(db,{color:"primary",className:"mb-4 sm:mb-6",icon:s.jsx(Zn,{className:"w-4 h-4"}),children:"Registro de Asistencia"}),s.jsx("h1",{className:"text-[#f9fafb] mb-3 sm:mb-4 tracking-tight text-3xl sm:text-4xl md:text-5xl lg:text-[64px]",style:{fontWeight:600,lineHeight:"1.1",letterSpacing:"-0.03em"},children:"Asistencia"}),s.jsx("p",{className:"text-[#d1d5db] max-w-2xl text-sm sm:text-base md:text-lg",style:{lineHeight:"1.6"},children:"Marca la asistencia de cada estudiante en tiempo real. Los cambios se guardan automáticamente."})]}),s.jsxs("div",{className:"hidden lg:flex items-center gap-4 backdrop-blur-xl bg-[rgba(42,42,48,0.6)] border border-[rgba(255,255,255,0.12)] rounded-2xl px-6 py-4 shadow-[0_8px_24px_rgba(0,0,0,0.3)] flex-shrink-0",children:[s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsx("p",{className:"text-[#f9fafb]",style:{fontSize:"15px"},children:"Admin"}),s.jsx("p",{className:"text-[#9ca3af] text-[13px]",children:"Chetango"})]}),s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-[#c93448] to-[#a8243a] flex items-center justify-center shadow-[0_4px_16px_rgba(201,52,72,0.4)]",children:s.jsx("span",{className:"text-white font-semibold",children:"AC"})})]})]})}),s.jsx("div",{className:"max-w-[1600px]",children:s.jsxs(Ye,{className:"overflow-hidden",children:[s.jsx("div",{className:"p-4 sm:p-6 border-b border-[rgba(255,255,255,0.08)] bg-[rgba(255,255,255,0.02)] backdrop-blur-sm",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-3 sm:gap-4 items-end",children:[s.jsx("div",{className:"sm:col-span-1 lg:col-span-3",children:s.jsx(x0e,{selectedDate:f,dateRange:r,onDateChange:h,isLoading:n})}),s.jsx("div",{className:"sm:col-span-1 lg:col-span-4",children:s.jsx(v0e,{selectedClassId:m,classes:i,onClassChange:g,isLoading:o})}),s.jsx("div",{className:"sm:col-span-2 lg:col-span-5",children:s.jsx(h0e,{value:j,onChange:A})})]})}),d?s.jsx(Tv,{message:"Error al cargar las asistencias",error:d,onRetry:()=>g(m)}):m?u?s.jsx(R0e,{}):s.jsx(w0e,{students:_,searchTerm:j,onToggleAttendance:(T,M)=>p(T,M),onObservationChange:(T,M,O)=>v(T,M,O),isUpdating:b}):a?s.jsx(Tv,{message:"Error al cargar el rango de fechas",error:a,onRetry:()=>window.location.reload()}):l?s.jsx(Tv,{message:"Error al cargar las clases",error:l,onRetry:()=>h(f)}):s.jsx(L0e,{}),m&&!u&&!d&&s.jsx(m0e,{presentes:k.presentes,ausentes:k.ausentes,sinPaquete:k.sinPaquete})]})})]})]})]})};function Tv({message:e,onRetry:t,error:r}){const a=r?.status===403,i=!a&&t!==void 0,o=a?Mf[403]:e;return s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[s.jsx("div",{className:`w-16 h-16 mb-4 rounded-full flex items-center justify-center ${a?"bg-[rgba(251,191,36,0.1)]":"bg-[rgba(239,68,68,0.1)]"}`,children:a?s.jsx("svg",{className:"w-8 h-8 text-[#fbbf24]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}):s.jsx("svg",{className:"w-8 h-8 text-[#ef4444]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsx("p",{className:`text-lg mb-2 ${a?"text-[#fbbf24]":"text-[#ef4444]"}`,children:o}),s.jsx("p",{className:"text-[#6b7280] text-sm mb-4",children:a?"Contacta al administrador si crees que deberías tener acceso":"Por favor, intenta de nuevo"}),i&&s.jsx("button",{onClick:t,className:"px-4 py-2 rounded-xl backdrop-blur-xl bg-[rgba(201,52,72,0.2)] border border-[rgba(201,52,72,0.4)] text-[#f9fafb] font-medium transition-all duration-300 hover:bg-[rgba(201,52,72,0.3)] hover:scale-105",children:"Reintentar"})]})}function L0e(){return s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[s.jsx("div",{className:"w-16 h-16 mb-4 rounded-full bg-[rgba(156,163,175,0.1)] flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-[#6b7280]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),s.jsx("p",{className:"text-[#9ca3af] text-lg mb-2",children:"Selecciona una clase"}),s.jsx("p",{className:"text-[#6b7280] text-sm",children:"Elige una fecha y clase para ver las asistencias"})]})}function R0e(){return s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex gap-4 pb-4 border-b border-[rgba(255,255,255,0.1)]",children:[s.jsx(Ge,{className:"h-4 w-32"}),s.jsx(Ge,{className:"h-4 w-24"}),s.jsx(Ge,{className:"h-4 w-20"}),s.jsx(Ge,{className:"h-4 w-28"})]}),[1,2,3,4,5].map(e=>s.jsxs("div",{className:"flex items-center gap-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-3 w-48",children:[s.jsx(Vp,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jn,{className:"w-28"}),s.jsx(jn,{className:"w-20 h-3"})]})]}),s.jsx("div",{className:"w-32",children:s.jsx(Ge,{className:"h-8 w-24 rounded-full"})}),s.jsx("div",{className:"w-20",children:s.jsx(Ge,{variant:"circular",className:"h-10 w-10"})}),s.jsx("div",{className:"flex-1",children:s.jsx(Ge,{className:"h-10 w-full rounded-xl"})})]},e))]})}const Ba={all:["packages"],alumnos:()=>[...Ba.all,"alumnos"],tiposPaquete:()=>[...Ba.all,"tipos-paquete"],paquetesByAlumno:(e,t)=>[...Ba.all,"by-alumno",e,t],allPaquetes:e=>[...Ba.all,"list",e],paqueteDetail:e=>[...Ba.all,"detail",e]};function B0e(){return dr({queryKey:Ba.alumnos(),queryFn:async()=>(await Dt.get("/api/alumnos")).data,staleTime:300*1e3,retry:(e,t)=>t.status===401||t.status===403||t.status===404?!1:e<2})}function q0e(){return dr({queryKey:Ba.tiposPaquete(),queryFn:async()=>(await Dt.get("/api/tipos-paquete")).data,staleTime:300*1e3,retry:(e,t)=>t.status===401||t.status===403||t.status===404?!1:e<2})}function z0e(e,t=!0){return dr({queryKey:Ba.paqueteDetail(e),queryFn:async()=>(await Dt.get(`/api/paquetes/${e}`)).data,enabled:t&&!!e,retry:(r,n)=>n.status===401||n.status===403||n.status===404?!1:r<2})}function $0e(){const e=an();return sn({mutationFn:async t=>(await Dt.post("/api/paquetes",t)).data,onSuccess:()=>{Jt.success("Paquete creado exitosamente"),e.invalidateQueries({queryKey:Ba.all})},onError:t=>{if(!t.handled){const r=t.message||"Error al crear el paquete";Jt.error(r)}}})}function U0e(){const e=an();return sn({mutationFn:async({idPaquete:t,data:r})=>{await Dt.post(`/api/paquetes/${t}/congelar`,r)},onSuccess:(t,r)=>{Jt.success("Paquete congelado exitosamente"),e.invalidateQueries({queryKey:Ba.paqueteDetail(r.idPaquete)}),e.invalidateQueries({queryKey:Ba.all})},onError:t=>{if(!t.handled){const r=t.message||"Error al congelar el paquete";Jt.error(r)}}})}function W0e(){const e=an();return sn({mutationFn:async({idPaquete:t,idCongelacion:r})=>{await Dt.post(`/api/paquetes/${t}/descongelar?idCongelacion=${r}`)},onSuccess:(t,r)=>{Jt.success("Paquete descongelado exitosamente"),e.invalidateQueries({queryKey:Ba.paqueteDetail(r.idPaquete)}),e.invalidateQueries({queryKey:Ba.all})},onError:t=>{if(!t.handled){const r=t.message||"Error al descongelar el paquete";Jt.error(r)}}})}function H0e(){const e=an();return sn({mutationFn:async t=>(await Dt.post("/api/tipos-paquete",t)).data,onSuccess:()=>{Jt.success("Tipo de paquete creado exitosamente"),e.invalidateQueries({queryKey:Ba.tiposPaquete()})},onError:t=>{t.handled||Jt.error(t.message||"Error al crear tipo de paquete")}})}function V0e(){const e=an();return sn({mutationFn:async({idTipoPaquete:t,...r})=>{await Dt.put(`/api/tipos-paquete/${t}`,r)},onSuccess:()=>{Jt.success("Tipo de paquete actualizado exitosamente"),e.invalidateQueries({queryKey:Ba.tiposPaquete()})},onError:t=>{t.handled||Jt.error(t.message||"Error al actualizar tipo de paquete")}})}function G0e(){const e=an();return sn({mutationFn:async t=>(await Dt.patch(`/api/tipos-paquete/${t}/toggle-active`)).data,onSuccess:t=>{Jt.success(t.activo?"Tipo de paquete activado":"Tipo de paquete desactivado"),e.invalidateQueries({queryKey:Ba.tiposPaquete()})},onError:t=>{t.handled||Jt.error(t.message||"Error al cambiar estado del tipo de paquete")}})}function K0e({isOpen:e,onClose:t,tiposPaquete:r}){const[n,a]=w.useState(null),[i,o]=w.useState({nombre:"",numeroClases:0,precio:0,diasVigencia:30,descripcion:"",activo:!0}),l=H0e(),c=V0e(),u=G0e();if(!e)return null;const d=p=>{a(p.idTipoPaquete),o({idTipoPaquete:p.idTipoPaquete,nombre:p.nombre,numeroClases:p.numeroClases,precio:p.precio,diasVigencia:p.diasVigencia,descripcion:p.descripcion||"",activo:p.activo})},f=()=>{a(null),o({nombre:"",numeroClases:0,precio:0,diasVigencia:30,descripcion:"",activo:!0})},m=async()=>{n==="new"?await l.mutateAsync({nombre:i.nombre,numeroClases:i.numeroClases,precio:i.precio,diasVigencia:i.diasVigencia,descripcion:i.descripcion}):n&&await c.mutateAsync({idTipoPaquete:n,nombre:i.nombre,numeroClases:i.numeroClases,precio:i.precio,diasVigencia:i.diasVigencia,descripcion:i.descripcion}),f()},h=async p=>{await u.mutateAsync(p.idTipoPaquete)},g=l.isPending||c.isPending||u.isPending;return e?s.jsxs("div",{className:"absolute inset-0 z-[100] flex items-start justify-center pt-20 px-4 pb-8 overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm -z-10",onClick:t}),s.jsxs(Ye,{className:"relative z-10 w-full max-w-4xl flex flex-col max-h-[calc(100vh-6rem)]",children:[s.jsx("div",{className:"p-6 pb-4 flex-shrink-0 border-b border-[rgba(255,255,255,0.1)]",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Configurar Paquetes"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Gestiona los tipos de paquetes disponibles para asignar a alumnos"})]}),s.jsx(nt,{variant:"icon",onClick:t,className:"!p-2",children:s.jsx($r,{className:"w-5 h-5"})})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-6",children:[s.jsx("div",{className:"space-y-4",children:r.map(p=>s.jsx("div",{className:"p-4 rounded-xl bg-[rgba(255,255,255,0.02)] border border-[rgba(255,255,255,0.1)]",children:n===p.idTipoPaquete?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Nn,{label:"Nombre",value:i.nombre,onChange:v=>o({...i,nombre:v.target.value})}),s.jsx(Nn,{label:"Número de clases",type:"number",value:i.numeroClases,onChange:v=>o({...i,numeroClases:parseInt(v.target.value)})}),s.jsx(Nn,{label:"Precio",type:"number",value:i.precio,onChange:v=>o({...i,precio:parseFloat(v.target.value)})}),s.jsx(Nn,{label:"Días de vigencia",type:"number",value:i.diasVigencia,onChange:v=>o({...i,diasVigencia:parseInt(v.target.value)})})]}),s.jsx(Nn,{label:"Descripción",value:i.descripcion,onChange:v=>o({...i,descripcion:v.target.value})}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsxs(nt,{variant:"secondary",onClick:f,disabled:g,children:[s.jsx(ns,{className:"w-4 h-4"}),"Cancelar"]}),s.jsxs(nt,{variant:"primary",onClick:m,disabled:g,children:[s.jsx(pd,{className:"w-4 h-4"}),"Guardar"]})]})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-white font-medium",children:p.nombre}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${p.activo?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:p.activo?"Activo":"Inactivo"})]}),s.jsxs("div",{className:"flex gap-6 text-sm text-gray-400",children:[s.jsxs("span",{children:[p.numeroClases," clases"]}),s.jsxs("span",{children:["$",p.precio.toLocaleString()]}),s.jsxs("span",{children:[p.diasVigencia," días"]})]}),p.descripcion&&s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:p.descripcion})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(nt,{variant:"icon",onClick:()=>d(p),title:"Editar",disabled:g,children:s.jsx(cb,{className:"w-4 h-4"})}),s.jsx(nt,{variant:"icon",onClick:()=>h(p),title:p.activo?"Desactivar":"Activar",disabled:g,children:p.activo?s.jsx(rb,{className:"w-4 h-4 text-red-400"}):s.jsx(Ql,{className:"w-4 h-4 text-green-400"})})]})]})},p.idTipoPaquete))}),n===null&&s.jsx("div",{className:"mt-6 pt-6 border-t border-[rgba(255,255,255,0.1)]",children:s.jsxs(nt,{variant:"secondary",onClick:()=>a("new"),className:"w-full",children:[s.jsx(Ql,{className:"w-4 h-4"}),"Agregar Nuevo Tipo de Paquete"]})}),n==="new"&&s.jsxs("div",{className:"mt-6 pt-6 border-t border-[rgba(255,255,255,0.1)]",children:[s.jsx("h3",{className:"text-white font-medium mb-4",children:"Nuevo Tipo de Paquete"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Nn,{label:"Nombre",value:i.nombre,onChange:p=>o({...i,nombre:p.target.value}),placeholder:"ej: Paquete 10 clases"}),s.jsx(Nn,{label:"Número de clases",type:"number",value:i.numeroClases,onChange:p=>o({...i,numeroClases:parseInt(p.target.value)}),placeholder:"10"}),s.jsx(Nn,{label:"Precio",type:"number",value:i.precio,onChange:p=>o({...i,precio:parseFloat(p.target.value)}),placeholder:"150000"}),s.jsx(Nn,{label:"Días de vigencia",type:"number",value:i.diasVigencia,onChange:p=>o({...i,diasVigencia:parseInt(p.target.value)}),placeholder:"30"})]}),s.jsx(Nn,{label:"Descripción (opcional)",value:i.descripcion,onChange:p=>o({...i,descripcion:p.target.value}),placeholder:"Descripción del paquete..."}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsxs(nt,{variant:"secondary",onClick:f,disabled:g,children:[s.jsx(ns,{className:"w-4 h-4"}),"Cancelar"]}),s.jsxs(nt,{variant:"primary",onClick:m,disabled:g,children:[s.jsx(pd,{className:"w-4 h-4"}),"Crear Paquete"]})]})]})]})]})]})]}):null}function PD(){return ho()}function Y0e(e,t){if(!e||t<=0)return"";const r=new Date(e);if(isNaN(r.getTime()))return"";const n=new Date(r);return n.setDate(n.getDate()+t),J2(n)}function X0e(e){const t={};return(!e.idAlumno||e.idAlumno.trim()==="")&&(t.idAlumno="El alumno es requerido"),(!e.idTipoPaquete||e.idTipoPaquete.trim()==="")&&(t.idTipoPaquete="El tipo de paquete es requerido"),(!e.fechaInicio||e.fechaInicio.trim()==="")&&(t.fechaInicio="La fecha de inicio es requerida"),t}function Z0e(e){return`${e.nombre} - ${e.numeroDocumento||"Sin documento"}`}function J0e(e){return`${e.nombre} (${e.numeroClases} clases)`}const k6=(e,t)=>({idAlumno:e||"",idTipoPaquete:t||"",fechaInicio:PD(),fechaFin:"",notasInternas:""});function Q0e({isOpen:e,onClose:t,onSubmit:r,alumnos:n,tiposPaquete:a,isCatalogsLoading:i=!1,isSubmitting:o=!1,preselectedAlumnoId:l,preselectedTipoPaqueteId:c}){const[u,d]=w.useState(()=>k6(l,c)),[f,m]=w.useState({}),[h,g]=w.useState({}),p=w.useMemo(()=>a.find(k=>k.idTipoPaquete===u.idTipoPaquete),[a,u.idTipoPaquete]);w.useEffect(()=>{e&&(d(k6(l,c)),m({}),g({}))},[e,l,c]),w.useEffect(()=>{if(u.fechaInicio&&p){const k=Y0e(u.fechaInicio,p.diasVigencia);d(I=>({...I,fechaFin:k}))}},[u.fechaInicio,p]);const v=w.useCallback(()=>X0e(u),[u]),b=w.useCallback((k,I)=>{d(T=>({...T,[k]:I})),g(T=>({...T,[k]:!0}))},[]),j=w.useCallback(k=>{g(I=>({...I,[k]:!0}))},[]);w.useEffect(()=>{const k=v();m(k)},[v]);const A=async k=>{k.preventDefault(),g({idAlumno:!0,idTipoPaquete:!0,fechaInicio:!0});const I=v();if(m(I),!(Object.keys(I).length>0))try{await r(u),t()}catch(T){console.error("[CreatePackageModal] Error al crear paquete:",T),m(M=>({...M,general:"Error al crear el paquete. Intenta de nuevo."}))}};if(!e)return null;const _=Object.keys(v()).length===0;return s.jsxs("div",{className:"absolute inset-0 z-[100] flex items-start justify-center pt-20 px-4 pb-8 overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm -z-10",onClick:t}),s.jsxs(Ye,{className:"relative z-10 w-full max-w-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Asignar Paquete"}),s.jsx(nt,{variant:"icon",onClick:t,disabled:o,className:"!p-2",children:s.jsx($r,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:A,className:"space-y-4",children:[f.general&&s.jsx("div",{className:"p-3 rounded-lg bg-red-500/20 border border-red-500/40 text-red-300 text-sm",children:f.general}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-gray-300 mb-2 text-sm",children:["Alumno ",s.jsx("span",{className:"text-red-400",children:"*"})]}),i?s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ge,{className:"h-12 w-full rounded-xl"}),s.jsx(jn,{className:"w-32"})]}):s.jsxs(Yl,{value:u.idAlumno,onValueChange:k=>b("idAlumno",k),children:[s.jsx(Xl,{className:h.idAlumno&&f.idAlumno?"border-red-500":"",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jn,{className:"w-4 h-4 text-gray-400"}),s.jsx(Zl,{placeholder:"Seleccionar alumno"})]})}),s.jsx(Jl,{children:n.map(k=>s.jsx(Xa,{value:k.idAlumno,children:Z0e(k)},k.idAlumno))})]}),h.idAlumno&&f.idAlumno&&s.jsx("p",{className:"text-red-400 text-sm mt-1",children:f.idAlumno})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-gray-300 mb-2 text-sm",children:["Tipo de Paquete ",s.jsx("span",{className:"text-red-400",children:"*"})]}),i?s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ge,{className:"h-12 w-full rounded-xl"}),s.jsx(jn,{className:"w-48"})]}):s.jsxs(Yl,{value:u.idTipoPaquete,onValueChange:k=>b("idTipoPaquete",k),children:[s.jsx(Xl,{className:h.idTipoPaquete&&f.idTipoPaquete?"border-red-500":"",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tr,{className:"w-4 h-4 text-gray-400"}),s.jsx(Zl,{placeholder:"Seleccionar tipo de paquete"})]})}),s.jsx(Jl,{children:a.map(k=>s.jsx(Xa,{value:k.idTipoPaquete,children:J0e(k)},k.idTipoPaquete))})]}),h.idTipoPaquete&&f.idTipoPaquete&&s.jsx("p",{className:"text-red-400 text-sm mt-1",children:f.idTipoPaquete}),p&&s.jsxs("p",{className:"text-gray-400 text-xs mt-1",children:["Vigencia: ",p.diasVigencia," días • Precio: $",p.precio.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-gray-300 mb-2 text-sm",children:["Fecha de Inicio ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(Nn,{type:"date",value:u.fechaInicio,onChange:k=>b("fechaInicio",k.target.value),onBlur:()=>j("fechaInicio"),min:PD(),icon:s.jsx(St,{className:"w-4 h-4"}),error:h.fechaInicio?f.fechaInicio:void 0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-gray-300 mb-2 text-sm",children:["Fecha de Vencimiento"," ",s.jsx("span",{className:"text-gray-500 text-xs",children:"(calculada automáticamente)"})]}),s.jsx(Nn,{type:"date",value:u.fechaFin,disabled:!0,icon:s.jsx(St,{className:"w-4 h-4"}),className:"opacity-70"}),p&&u.fechaFin&&s.jsxs("p",{className:"text-gray-400 text-xs mt-1",children:["Basado en ",p.diasVigencia," días de vigencia"]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-gray-300 mb-2 text-sm",children:["Notas Internas"," ",s.jsx("span",{className:"text-gray-500 text-xs",children:"(opcional)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-4 top-3 text-gray-500",children:s.jsx(to,{className:"w-4 h-4"})}),s.jsx("textarea",{value:u.notasInternas,onChange:k=>b("notasInternas",k.target.value),placeholder:"Notas adicionales sobre el paquete...",rows:3,className:`\r
                  w-full pl-12 pr-4 py-3\r
                  backdrop-blur-xl\r
                  bg-[rgba(30,30,36,0.6)]\r
                  border border-[rgba(255,255,255,0.12)]\r
                  focus:border-[#c93448]\r
                  focus:ring-2 focus:ring-[rgba(201,52,72,0.3)]\r
                  rounded-xl\r
                  text-[#f9fafb]\r
                  placeholder-[#6b7280]\r
                  outline-none\r
                  transition-all duration-300\r
                  shadow-[inset_0_2px_4px_rgba(0,0,0,0.3),0_1px_2px_rgba(255,255,255,0.05)]\r
                  focus:shadow-[inset_0_2px_4px_rgba(0,0,0,0.3),0_0_0_3px_rgba(201,52,72,0.2)]\r
                  resize-none\r
                `})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[s.jsx(nt,{type:"button",variant:"secondary",onClick:t,disabled:o,children:"Cancelar"}),s.jsx(nt,{type:"submit",variant:"primary",disabled:o||!_,children:o?s.jsxs(s.Fragment,{children:[s.jsx(Zo,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Creando..."})]}):"Crear Paquete"})]})]})]})]})}const eme=[{value:"todos",label:"Todos los estados"},{value:"Activo",label:"Activo"},{value:"Agotado",label:"Agotado"},{value:"Congelado",label:"Congelado"},{value:"Vencido",label:"Vencido"}],tme=300;function rme({searchTerm:e,onSearchChange:t,filterEstado:r,onEstadoChange:n,filterTipoPaquete:a,onTipoPaqueteChange:i,tiposPaquete:o,isLoading:l=!1}){const[c,u]=w.useState(e);w.useEffect(()=>{u(e)},[e]),w.useEffect(()=>{const m=setTimeout(()=>{c!==e&&t(c)},tme);return()=>clearTimeout(m)},[c,e,t]);const d=w.useCallback(m=>{u(m.target.value)},[]),f=[{value:"todos",label:"Todos los tipos"},...o.map(m=>({value:m.nombre,label:`${m.nombre} (${m.numeroClases} clases)`}))];return l?s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx(Ge,{className:"h-12 w-full rounded-xl"})}),s.jsx("div",{className:"w-full sm:w-48",children:s.jsx(Ge,{className:"h-12 w-full rounded-xl"})}),s.jsx("div",{className:"w-full sm:w-56",children:s.jsx(Ge,{className:"h-12 w-full rounded-xl"})})]}):s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx(Nn,{type:"text",placeholder:"Buscar por nombre o documento...",value:c,onChange:d,icon:s.jsx(Xc,{className:"w-5 h-5"}),"aria-label":"Buscar paquetes por nombre o documento"})}),s.jsx("div",{className:"w-full sm:w-48",children:s.jsxs(Yl,{value:r,onValueChange:n,children:[s.jsx(Xl,{icon:s.jsx(xS,{className:"w-4 h-4"}),"aria-label":"Filtrar por estado",children:s.jsx(Zl,{placeholder:"Estado"})}),s.jsx(Jl,{children:eme.map(m=>s.jsx(Xa,{value:m.value,children:m.label},m.value))})]})}),s.jsx("div",{className:"w-full sm:w-56",children:s.jsxs(Yl,{value:a,onValueChange:i,disabled:o.length===0,children:[s.jsx(Xl,{icon:s.jsx(Tr,{className:"w-4 h-4"}),"aria-label":"Filtrar por tipo de paquete",children:s.jsx(Zl,{placeholder:"Tipo de paquete"})}),s.jsx(Jl,{children:f.map(m=>s.jsx(Xa,{value:m.value,children:m.label},m.value))})]})})]})}function nme(e){return e==="Activo"}function ame(e){return e==="Congelado"}function ime(e){return{Activo:"active",Agotado:"depleted",Congelado:"frozen",Vencido:"expired"}[e]}function T6(e){try{return new Date(e).toLocaleDateString("es-CO",{day:"2-digit",month:"short",year:"numeric"})}catch{return e}}function sme(e){return e.toLowerCase().includes("privada")}function ome(e){return e.toLowerCase().includes("2 personas")||e.toLowerCase().includes("2p")}function lme(e){return e>=100?"bg-[rgba(239,68,68,0.8)]":e>=75?"bg-[rgba(245,158,11,0.8)]":"bg-[rgba(52,211,153,0.8)]"}function cme({paquete:e,onViewDetail:t,onCongelar:r,onDescongelar:n,getConsumoPercentage:a}){const i=a(e),o=lme(i),l=ime(e.estado),c=nme(e.estado),u=ame(e.estado),d=sme(e.nombreTipoPaquete),f=ome(e.nombreTipoPaquete);return s.jsxs(md,{children:[s.jsx(La,{children:s.jsx(hI,{userId:e.idAlumno,userType:"alumno",nombre:e.nombreAlumno,secondaryText:e.documentoAlumno,showInfo:!0,size:"md"})}),s.jsx(La,{children:s.jsxs("div",{className:"flex items-start gap-2",children:[d&&s.jsx("div",{className:`
                flex-shrink-0 mt-0.5
                ${f?"text-blue-400":"text-purple-400"}
              `,title:f?"Paquete privado para 2 personas":"Paquete privado individual",children:f?s.jsx(Zn,{className:"w-4 h-4"}):s.jsx(Jn,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex flex-col min-w-0",children:[s.jsx("span",{className:"text-[#f9fafb] font-medium truncate",children:e.nombreTipoPaquete}),s.jsxs("span",{className:"text-[#6b7280] text-sm",children:[e.clasesDisponibles," clases"]}),d&&s.jsx("span",{className:`
                text-xs mt-1 inline-block
                ${f?"text-blue-400":"text-purple-400"}
              `,children:f?"👥 Pareja":"👤 Individual"})]})]})}),s.jsx(La,{children:s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsxs("span",{className:"text-[#d1d5db] text-sm",children:[e.clasesUsadas," / ",e.clasesDisponibles]}),s.jsx("div",{className:"w-24 h-2 bg-[rgba(255,255,255,0.1)] rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${o} transition-all duration-300`,style:{width:`${Math.min(i,100)}%`}})}),s.jsxs("span",{className:"text-[#6b7280] text-xs",children:[i,"%"]})]})}),s.jsx(La,{children:s.jsx(di,{variant:l,shape:"pill",children:e.estado})}),s.jsx(La,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[#d1d5db] text-sm",children:T6(e.fechaActivacion)}),s.jsxs("span",{className:"text-[#6b7280] text-sm",children:["al ",T6(e.fechaVencimiento)]})]})}),s.jsx(La,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nt,{variant:"ghost",size:"sm",onClick:t,"aria-label":`Ver detalle del paquete de ${e.nombreAlumno}`,className:"p-2",children:s.jsx(du,{className:"w-4 h-4"})}),c&&r&&s.jsx(nt,{variant:"ghost",size:"sm",onClick:r,"aria-label":`Congelar paquete de ${e.nombreAlumno}`,className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-500/20",children:s.jsx(Jf,{className:"w-4 h-4"})}),u&&n&&s.jsx(nt,{variant:"ghost",size:"sm",onClick:n,"aria-label":`Descongelar paquete de ${e.nombreAlumno}`,className:"p-2 text-amber-400 hover:text-amber-300 hover:bg-amber-500/20",children:s.jsx($v,{className:"w-4 h-4"})})]})})]})}function ume(){return s.jsxs(md,{children:[s.jsx(La,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vp,{}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(jn,{className:"w-32"}),s.jsx(jn,{className:"w-24"})]})]})}),s.jsx(La,{children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(jn,{className:"w-28"}),s.jsx(jn,{className:"w-20"})]})}),s.jsx(La,{children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(jn,{className:"w-16"}),s.jsx(Ge,{className:"h-2 w-24 rounded-full"})]})}),s.jsx(La,{children:s.jsx(Ge,{className:"h-7 w-20 rounded-lg"})}),s.jsx(La,{children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(jn,{className:"w-24"}),s.jsx(jn,{className:"w-24"})]})}),s.jsx(La,{children:s.jsx(Ge,{className:"h-8 w-8 rounded-lg"})})]})}function dme({searchTerm:e,hasFilters:t}){const r=e.trim().length>0;return s.jsx("div",{className:`\r
        flex flex-col items-center justify-center\r
        py-16\r
        backdrop-blur-xl\r
        bg-[rgba(26,26,32,0.5)]\r
        border border-[rgba(255,255,255,0.1)]\r
        rounded-xl\r
      `,children:r||t?s.jsxs(s.Fragment,{children:[s.jsx(Xc,{className:"w-12 h-12 text-[#6b7280] mb-4"}),s.jsx("p",{className:"text-[#9ca3af] text-lg",children:"No se encontraron paquetes con los filtros aplicados"}),s.jsx("p",{className:"text-[#6b7280] text-sm mt-2",children:"Intenta con otros criterios de búsqueda"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Tr,{className:"w-12 h-12 text-[#6b7280] mb-4"}),s.jsx("p",{className:"text-[#9ca3af] text-lg",children:"No hay paquetes registrados"}),s.jsx("p",{className:"text-[#6b7280] text-sm mt-2",children:"Crea un nuevo paquete para comenzar"})]})})}function fme({paquetes:e,isLoading:t,searchTerm:r,hasFilters:n,onViewDetail:a,onCongelar:i,onDescongelar:o,getInitials:l,getConsumoPercentage:c}){return t?s.jsxs(Iv,{children:[s.jsx(Mv,{children:s.jsxs(md,{children:[s.jsx(Ma,{children:"ALUMNO"}),s.jsx(Ma,{children:"PAQUETE"}),s.jsx(Ma,{children:"CONSUMO"}),s.jsx(Ma,{children:"ESTADO"}),s.jsx(Ma,{children:"VIGENCIA"}),s.jsx(Ma,{children:"ACCIONES"})]})}),s.jsx(Fv,{children:Array.from({length:5}).map((u,d)=>s.jsx(ume,{},d))})]}):e.length===0?s.jsx(dme,{searchTerm:r,hasFilters:n}):s.jsxs(Iv,{children:[s.jsx(Mv,{children:s.jsxs(md,{children:[s.jsx(Ma,{children:"ALUMNO"}),s.jsx(Ma,{children:"PAQUETE"}),s.jsx(Ma,{children:"CONSUMO"}),s.jsx(Ma,{children:"ESTADO"}),s.jsx(Ma,{children:"VIGENCIA"}),s.jsx(Ma,{children:"ACCIONES"})]})}),s.jsx(Fv,{children:e.map(u=>s.jsx(cme,{paquete:u,onViewDetail:()=>a(u.idPaquete),onCongelar:i?()=>i(u.idPaquete):void 0,onDescongelar:o?()=>o(u.idPaquete):void 0,getInitials:l,getConsumoPercentage:c},u.idPaquete))})]})}const hme={Activo:{color:"green",bgColor:"bg-[rgba(52,211,153,0.1)]",borderColor:"border-[rgba(52,211,153,0.3)]",textColor:"text-[#6ee7b7]",icon:s.jsx(da,{className:"w-5 h-5 text-[#6ee7b7]"}),label:"Activos"},Agotado:{color:"orange",bgColor:"bg-[rgba(245,158,11,0.1)]",borderColor:"border-[rgba(245,158,11,0.3)]",textColor:"text-[#fcd34d]",icon:s.jsx(rn,{className:"w-5 h-5 text-[#fcd34d]"}),label:"Agotados"},Congelado:{color:"blue",bgColor:"bg-[rgba(59,130,246,0.1)]",borderColor:"border-[rgba(59,130,246,0.3)]",textColor:"text-[#93c5fd]",icon:s.jsx(Jf,{className:"w-5 h-5 text-[#93c5fd]"}),label:"Congelados"},Vencido:{color:"gray",bgColor:"bg-[rgba(156,163,175,0.1)]",borderColor:"border-[rgba(156,163,175,0.3)]",textColor:"text-[#d1d5db]",icon:s.jsx(ns,{className:"w-5 h-5 text-[#9ca3af]"}),label:"Vencidos"}};function mme({stats:e}){const t=[{estado:"Activo",count:e.activos},{estado:"Agotado",count:e.agotados},{estado:"Congelado",count:e.congelados},{estado:"Vencido",count:e.vencidos}];return s.jsx("div",{className:"relative",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 w-full",children:t.map(({estado:r,count:n})=>{const a=hme[r];return s.jsxs("div",{className:`
                flex items-center gap-3
                px-5 py-4
                backdrop-blur-xl
                border
                rounded-xl
                transition-all duration-300
                hover:scale-[1.02]
                cursor-default
                min-w-0
                ${a.bgColor}
                ${a.borderColor}
              `,children:[a.icon,s.jsxs("div",{className:"flex flex-col min-w-0",children:[s.jsx("span",{className:`${a.textColor} font-semibold text-2xl`,children:n}),s.jsx("span",{className:"text-[#9ca3af] text-sm truncate",children:a.label})]})]},r)})})})}function pme(e){try{return new Date(e).toLocaleDateString("es-CO",{weekday:"short",day:"2-digit",month:"short",year:"numeric"})}catch{return e}}function O6(e){const t=e.split(":");return t.length>=2?`${t[0]}:${t[1]}`:e}function xme(e,t){return`${O6(e)} - ${O6(t)}`}function gme(e){return e?{variant:"success",label:"Descontada"}:{variant:"none",label:"No descontada"}}function vme({asistencia:e}){const t=gme(e.descontada);return s.jsxs("div",{className:`\r
        flex items-center justify-between\r
        p-3\r
        rounded-lg\r
        bg-[rgba(255,255,255,0.03)]\r
        border border-[rgba(255,255,255,0.06)]\r
        hover:bg-[rgba(255,255,255,0.05)]\r
        transition-colors duration-200\r
      `,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`\r
            w-9 h-9\r
            rounded-lg\r
            flex items-center justify-center\r
            bg-[rgba(201,52,72,0.15)]\r
            border border-[rgba(201,52,72,0.3)]\r
          `,children:s.jsx(St,{className:"w-4 h-4 text-[#c93448]"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[#f9fafb] font-medium text-sm",children:e.tipoClase}),s.jsxs("div",{className:"flex items-center gap-2 text-[#9ca3af] text-xs",children:[s.jsx("span",{children:pme(e.fecha)}),s.jsx("span",{className:"text-[#6b7280]",children:"•"}),s.jsx("span",{children:xme(e.horaInicio,e.horaFin)})]})]})]}),s.jsx(di,{variant:t.variant,shape:"pill",children:t.label})]})}function bme(e){return{Activo:"active",Agotado:"depleted",Congelado:"frozen",Vencido:"expired"}[e]}function D6(e){try{return new Date(e).toLocaleDateString("es-CO",{day:"2-digit",month:"long",year:"numeric"})}catch{return e}}function yme(e,t){return t===0?0:Math.round(e/t*100)}function wme(e){return e>=100?"bg-[rgba(239,68,68,0.8)]":e>=75?"bg-[rgba(245,158,11,0.8)]":"bg-[rgba(52,211,153,0.8)]"}function Nme(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Vp,{className:"w-14 h-14"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(jn,{className:"w-48"}),s.jsx(jn,{className:"w-32"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ge,{className:"h-6 w-40"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ge,{className:"h-16 rounded-lg"}),s.jsx(Ge,{className:"h-16 rounded-lg"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ge,{className:"h-6 w-36"}),s.jsx(Ge,{className:"h-24 rounded-lg"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ge,{className:"h-6 w-44"}),s.jsx(Ge,{className:"h-16 rounded-lg"}),s.jsx(Ge,{className:"h-16 rounded-lg"}),s.jsx(Ge,{className:"h-16 rounded-lg"})]})]})}function jme({isOpen:e,onClose:t,paqueteDetail:r,isLoading:n=!1,onRenovar:a,getInitials:i}){const o=Cd(e);if(!e)return null;const l=r?i(r.nombreAlumno):"??",c=r?yme(r.clasesUsadas,r.clasesDisponibles):0,u=wme(c),d=r?.historialConsumo||[],f=r?.alumnosDelPago||[],m=f.length>1;return s.jsxs("div",{ref:o,className:"absolute inset-0 z-[100] flex items-start justify-center pt-20 px-4 pb-8 overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm -z-10",onClick:t}),s.jsxs(Ye,{className:"relative z-10 w-full max-w-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Detalle del Paquete"}),s.jsx(nt,{variant:"icon",onClick:t,className:"!p-2",children:s.jsx($r,{className:"w-5 h-5"})})]}),n?s.jsx(Nme,{}):r?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Jn,{className:"w-4 h-4 text-[#c93448]"}),s.jsx("h3",{className:"text-sm font-medium text-[#9ca3af] uppercase tracking-wider",children:m?"Información de Alumnos":"Información del Alumno"})]}),m?s.jsx("div",{className:"space-y-3",children:f.map(h=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Jn,{className:"w-5 h-5 text-[#c93448] flex-shrink-0"}),s.jsx("span",{className:"text-[#f9fafb] font-medium",children:h.nombreAlumno})]},h.idAlumno))}):s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`\r
                      w-14 h-14\r
                      rounded-full\r
                      flex items-center justify-center\r
                      backdrop-blur-xl\r
                      bg-[rgba(201,52,72,0.2)]\r
                      border border-[rgba(201,52,72,0.4)]\r
                      text-[#f9fafb]\r
                      font-semibold\r
                      text-lg\r
                      flex-shrink-0\r
                    `,"aria-label":`Avatar de ${r.nombreAlumno}`,children:l}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[#f9fafb] font-semibold text-lg",children:r.nombreAlumno}),s.jsxs("span",{className:"text-[#9ca3af] text-sm",children:["Documento: ",r.idAlumno.substring(0,8),"..."]})]})]})]}),s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Tr,{className:"w-4 h-4 text-[#c93448]"}),s.jsx("h3",{className:"text-sm font-medium text-[#9ca3af] uppercase tracking-wider",children:"Información del Paquete"})]}),s.jsxs("div",{className:`\r
                  p-4\r
                  rounded-xl\r
                  bg-[rgba(255,255,255,0.03)]\r
                  border border-[rgba(255,255,255,0.08)]\r
                `,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("span",{className:"text-[#f9fafb] font-semibold text-lg",children:r.nombreTipoPaquete}),s.jsx(di,{variant:bme(r.estado),shape:"pill",children:r.estado})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(St,{className:"w-4 h-4 text-[#6b7280]"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[#6b7280] text-xs",children:"Fecha Inicio"}),s.jsx("span",{className:"text-[#d1d5db] text-sm",children:D6(r.fechaActivacion)})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(St,{className:"w-4 h-4 text-[#6b7280]"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[#6b7280] text-xs",children:"Fecha Fin"}),s.jsx("span",{className:"text-[#d1d5db] text-sm",children:D6(r.fechaVencimiento)})]})]})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-medium text-[#9ca3af] uppercase tracking-wider mb-3",children:"Consumo de Clases"}),s.jsxs("div",{className:`\r
                  p-4\r
                  rounded-xl\r
                  bg-[rgba(255,255,255,0.03)]\r
                  border border-[rgba(255,255,255,0.08)]\r
                `,children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"text-[#6b7280] text-xs block mb-1",children:"Total"}),s.jsx("span",{className:"text-[#f9fafb] font-bold text-2xl",children:r.clasesDisponibles})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"text-[#6b7280] text-xs block mb-1",children:"Usadas"}),s.jsx("span",{className:"text-[#fcd34d] font-bold text-2xl",children:r.clasesUsadas})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"text-[#6b7280] text-xs block mb-1",children:"Restantes"}),s.jsx("span",{className:"text-[#6ee7b7] font-bold text-2xl",children:r.clasesRestantes})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-xs text-[#9ca3af]",children:[s.jsx("span",{children:"Progreso de consumo"}),s.jsxs("span",{children:[c,"%"]})]}),s.jsx("div",{className:"w-full h-3 bg-[rgba(255,255,255,0.1)] rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${u} transition-all duration-300 rounded-full`,style:{width:`${Math.min(c,100)}%`}})})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-medium text-[#9ca3af] uppercase tracking-wider mb-3",children:"Historial de Consumo"}),d.length>0?s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-1",children:d.map(h=>s.jsx(vme,{asistencia:h},h.idAsistencia))}):s.jsxs("div",{className:`\r
                    p-6\r
                    rounded-xl\r
                    bg-[rgba(255,255,255,0.03)]\r
                    border border-[rgba(255,255,255,0.08)]\r
                    text-center\r
                  `,children:[s.jsx(St,{className:"w-10 h-10 text-[#6b7280] mx-auto mb-2"}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Este paquete aún no tiene consumos registrados"})]}),s.jsxs("div",{className:`\r
                  flex items-start gap-2\r
                  mt-3\r
                  p-3\r
                  rounded-lg\r
                  bg-[rgba(59,130,246,0.1)]\r
                  border border-[rgba(59,130,246,0.2)]\r
                `,children:[s.jsx(xd,{className:"w-4 h-4 text-[#93c5fd] flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-[#93c5fd] text-xs",children:"Este historial es solo lectura. Las asistencias se editan en el módulo de Asistencias."})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-[rgba(255,255,255,0.08)]",children:[a&&s.jsxs(nt,{variant:"secondary",onClick:a,children:[s.jsx(ro,{className:"w-4 h-4"}),s.jsx("span",{children:"Renovar"})]}),s.jsx(nt,{variant:"primary",onClick:t,children:"Cerrar"})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Tr,{className:"w-12 h-12 text-[#6b7280] mx-auto mb-3"}),s.jsx("p",{className:"text-[#9ca3af]",children:"El paquete especificado no existe"})]})]})]})}function X2(){return ho()}function _me(e){if(!e||e.trim()==="")return"La fecha de inicio es requerida";const t=new Date;t.setHours(0,0,0,0);const r=new Date(e);if(r.setHours(0,0,0,0),r<t)return"La fecha de inicio debe ser hoy o posterior"}function Ame(e,t){if(!t||t.trim()==="")return"La fecha de fin es requerida";if(!e)return;const r=new Date(e);if(new Date(t)<=r)return"La fecha de fin debe ser posterior a la fecha de inicio"}function Sme(e){const t={},r=_me(e.fechaInicio);r&&(t.fechaInicio=r);const n=Ame(e.fechaInicio,e.fechaFin);return n&&(t.fechaFin=n),t}function Cme(e,t){if(!e||!t)return 0;const r=new Date(e),n=new Date(t);if(isNaN(r.getTime())||isNaN(n.getTime()))return 0;const a=n.getTime()-r.getTime(),i=Math.ceil(a/(1e3*60*60*24));return Math.max(0,i)}const I6=()=>({fechaInicio:X2(),fechaFin:"",motivo:""});function Pme({isOpen:e,onClose:t,onSubmit:r,nombreAlumno:n,nombreTipoPaquete:a,isSubmitting:i=!1}){const[o,l]=w.useState(I6),[c,u]=w.useState({}),[d,f]=w.useState({}),m=w.useMemo(()=>Cme(o.fechaInicio,o.fechaFin),[o.fechaInicio,o.fechaFin]);w.useEffect(()=>{e&&(l(I6()),u({}),f({}))},[e]);const h=w.useCallback(()=>Sme(o),[o]),g=w.useCallback((j,A)=>{l(_=>({..._,[j]:A})),f(_=>({..._,[j]:!0}))},[]),p=w.useCallback(j=>{f(A=>({...A,[j]:!0}))},[]);w.useEffect(()=>{const j=h();u(j)},[h]);const v=async j=>{j.preventDefault(),f({fechaInicio:!0,fechaFin:!0});const A=h();if(u(A),!(Object.keys(A).length>0))try{await r(o.fechaInicio,o.fechaFin,o.motivo.trim()||void 0),t()}catch{u(_=>({..._,general:"Error al congelar el paquete. Intenta de nuevo."}))}};if(!e)return null;const b=Object.keys(h()).length===0;return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),s.jsxs(Ye,{className:"relative z-10 w-full max-w-md mx-4 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500/20 border border-blue-500/40",children:s.jsx(Jf,{className:"w-5 h-5 text-blue-400"})}),s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Congelar Paquete"})]}),s.jsx(nt,{variant:"icon",onClick:t,disabled:i,className:"!p-2",children:s.jsx($r,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"mb-6 p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("p",{className:"text-gray-300 text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Alumno:"})," ",s.jsx("span",{className:"font-medium text-white",children:n})]}),s.jsxs("p",{className:"text-gray-300 text-sm mt-1",children:[s.jsx("span",{className:"text-gray-500",children:"Paquete:"})," ",s.jsx("span",{className:"font-medium text-white",children:a})]})]}),s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[c.general&&s.jsx("div",{className:"p-3 rounded-lg bg-red-500/20 border border-red-500/40 text-red-300 text-sm",children:c.general}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-gray-300 mb-2 text-sm",children:["Fecha de Inicio ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(Nn,{type:"date",value:o.fechaInicio,onChange:j=>g("fechaInicio",j.target.value),onBlur:()=>p("fechaInicio"),min:X2(),icon:s.jsx(St,{className:"w-4 h-4"}),error:d.fechaInicio?c.fechaInicio:void 0}),d.fechaInicio&&c.fechaInicio&&s.jsx("p",{className:"text-red-400 text-sm mt-1",children:c.fechaInicio})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-gray-300 mb-2 text-sm",children:["Fecha de Fin ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(Nn,{type:"date",value:o.fechaFin,onChange:j=>g("fechaFin",j.target.value),onBlur:()=>p("fechaFin"),min:o.fechaInicio||X2(),icon:s.jsx(St,{className:"w-4 h-4"}),error:d.fechaFin?c.fechaFin:void 0}),d.fechaFin&&c.fechaFin&&s.jsx("p",{className:"text-red-400 text-sm mt-1",children:c.fechaFin}),m>0&&s.jsxs("p",{className:"text-blue-400 text-xs mt-1",children:["Duración: ",m," día",m!==1?"s":""]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-gray-300 mb-2 text-sm",children:["Motivo"," ",s.jsx("span",{className:"text-gray-500 text-xs",children:"(opcional)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-4 top-3 text-gray-500",children:s.jsx(to,{className:"w-4 h-4"})}),s.jsx("textarea",{value:o.motivo,onChange:j=>g("motivo",j.target.value),placeholder:"Motivo de la congelación...",rows:3,className:`\r
                  w-full pl-12 pr-4 py-3\r
                  backdrop-blur-xl\r
                  bg-[rgba(30,30,36,0.6)]\r
                  border border-[rgba(255,255,255,0.12)]\r
                  focus:border-blue-500\r
                  focus:ring-2 focus:ring-blue-500/30\r
                  rounded-xl\r
                  text-[#f9fafb]\r
                  placeholder-[#6b7280]\r
                  outline-none\r
                  transition-all duration-300\r
                  shadow-[inset_0_2px_4px_rgba(0,0,0,0.3),0_1px_2px_rgba(255,255,255,0.05)]\r
                  focus:shadow-[inset_0_2px_4px_rgba(0,0,0,0.3),0_0_0_3px_rgba(59,130,246,0.2)]\r
                  resize-none\r
                `})]})]}),s.jsx("div",{className:"p-3 rounded-lg bg-blue-500/10 border border-blue-500/30 text-blue-300 text-sm",children:s.jsx("p",{children:"Al congelar el paquete, la fecha de vencimiento se extenderá automáticamente por la cantidad de días congelados cuando se descongele."})}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[s.jsx(nt,{type:"button",variant:"secondary",onClick:t,disabled:i,children:"Cancelar"}),s.jsx(nt,{type:"submit",variant:"primary",disabled:i||!b,className:"!bg-blue-600 hover:!bg-blue-700",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Zo,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Congelando..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Jf,{className:"w-4 h-4"}),s.jsx("span",{children:"Congelar"})]})})]})]})]})]})}function Eme(e,t){if(!e||!t)return 0;const r=new Date(e),n=new Date(t);if(isNaN(r.getTime())||isNaN(n.getTime()))return 0;const a=n.getTime()-r.getTime(),i=Math.ceil(a/(1e3*60*60*24));return Math.max(0,i)}function kme(e,t){if(!e||t<=0)return e;const r=new Date(e);if(isNaN(r.getTime()))return e;const n=new Date(r);return n.setDate(n.getDate()+t),Jo(n)}function gm(e){try{return new Date(e).toLocaleDateString("es-CO",{day:"2-digit",month:"long",year:"numeric"})}catch{return e}}function Tme({isOpen:e,onClose:t,onConfirm:r,nombreAlumno:n,nombreTipoPaquete:a,fechaVencimiento:i,congelacion:o,isSubmitting:l=!1}){if(!e)return null;const c=Eme(o.fechaInicio,o.fechaFin),u=kme(i,c),d=async()=>{try{await r(),t()}catch{}};return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),s.jsxs(Ye,{className:"relative z-10 w-full max-w-md mx-4 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-amber-500/20 border border-amber-500/40",children:s.jsx($v,{className:"w-5 h-5 text-amber-400"})}),s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Descongelar Paquete"})]}),s.jsx(nt,{variant:"icon",onClick:t,disabled:l,className:"!p-2",children:s.jsx($r,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"mb-6 p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("p",{className:"text-gray-300 text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Alumno:"})," ",s.jsx("span",{className:"font-medium text-white",children:n})]}),s.jsxs("p",{className:"text-gray-300 text-sm mt-1",children:[s.jsx("span",{className:"text-gray-500",children:"Paquete:"})," ",s.jsx("span",{className:"font-medium text-white",children:a})]})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-blue-500/10 border border-blue-500/30",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500/20",children:s.jsx(kr,{className:"w-4 h-4 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Días congelados"}),s.jsxs("p",{className:"text-white font-semibold text-lg",children:[c," día",c!==1?"s":""]})]})]}),s.jsxs("div",{className:"mt-2 text-gray-400 text-xs",children:["Desde ",gm(o.fechaInicio)," hasta"," ",gm(o.fechaFin)]})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-green-500/10 border border-green-500/30",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-500/20",children:s.jsx(St,{className:"w-4 h-4 text-green-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Nueva fecha de vencimiento"}),s.jsx("p",{className:"text-white font-semibold text-lg",children:gm(u)})]})]}),s.jsxs("div",{className:"mt-2 text-gray-400 text-xs",children:["Fecha anterior: ",gm(i)]})]})]}),s.jsx("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/30 text-amber-300 text-sm mb-6",children:s.jsxs("p",{children:["Al descongelar el paquete, la fecha de vencimiento se extenderá automáticamente por ",c," día",c!==1?"s":""," y el paquete volverá al estado Activo."]})}),s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx(nt,{type:"button",variant:"secondary",onClick:t,disabled:l,children:"Cancelar"}),s.jsx(nt,{type:"button",variant:"primary",onClick:d,disabled:l,className:"!bg-amber-600 hover:!bg-amber-700",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Zo,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Descongelando..."})]}):s.jsxs(s.Fragment,{children:[s.jsx($v,{className:"w-4 h-4"}),s.jsx("span",{children:"Descongelar"})]})})]})]})]})}function Ome(e){const t=e.trim();if(!t)return"??";const r=t.split(/\s+/).filter(Boolean);return r.length>=2?(r[0][0]+r[1][0]).toUpperCase():r[0].substring(0,2).toUpperCase()}function Dme(e,t){return t===0?0:Math.round(e/t*100)}function Ime(e){return{total:e.length,activos:e.filter(t=>t.estado==="Activo").length,agotados:e.filter(t=>t.estado==="Agotado").length,congelados:e.filter(t=>t.estado==="Congelado").length,vencidos:e.filter(t=>t.estado==="Vencido").length}}function Mme(e,t){if(!t.trim())return e;const r=t.toLowerCase();return e.filter(n=>n.nombreAlumno.toLowerCase().includes(r)||n.documentoAlumno.toLowerCase().includes(r))}function Fme(e,t){return t==="todos"?e:e.filter(r=>r.estado===t)}function Lme(e,t){return t==="todos"?e:e.filter(r=>r.nombreTipoPaquete===t)}function Rme(e,t,r,n){let a=e;return a=Mme(a,t),a=Fme(a,r),a=Lme(a,n),a}function Bme(){const e=cu(),t=Hl(te=>te.packages),r=B0e(),n=q0e(),[a,i]=w.useState({isRenewing:!1,preselectedAlumnoId:null,preselectedTipoPaqueteId:null}),[o,l]=w.useState([]),[c,u]=w.useState(!0),[d,f]=w.useState(null),[m,h]=w.useState(null),g=z0e(m||"",!!m),p=$0e(),v=U0e(),b=W0e(),j=w.useCallback(async()=>{if(!r.data||r.data.length===0){l([]),u(!1);return}u(!0),f(null);try{const{httpClient:te}=await vm(async()=>{const{httpClient:he}=await import("./index-xg0wAXn9.js").then(Ne=>Ne.aZ);return{httpClient:he}},__vite__mapDeps([1,2])),de=r.data.map(async he=>{try{return(await te.get(`/api/alumnos/${he.idAlumno}/paquetes?pageSize=100`)).data.items||[]}catch{return[]}}),ue=(await Promise.all(de)).flat();l(ue)}catch(te){f(te instanceof Error?te:new Error("Error fetching packages")),l([])}finally{u(!1)}},[r.data]);w.useEffect(()=>{r.data&&!r.isLoading&&j()},[r.data,r.isLoading,j]);const A=w.useMemo(()=>Rme(o,t.searchTerm,t.filterEstado,t.filterTipoPaquete),[o,t.searchTerm,t.filterEstado,t.filterTipoPaquete]),_=w.useMemo(()=>Ime(A),[A]),k=w.useCallback(async te=>{const de=n.data?.find(he=>he.idTipoPaquete===te.idTipoPaquete);if(!de)throw new Error("Tipo de paquete no encontrado");const me={idAlumno:te.idAlumno,idTipoPaquete:te.idTipoPaquete,clasesDisponibles:de.numeroClases,valorPaquete:de.precio,diasVigencia:de.diasVigencia},ue=await p.mutateAsync(me);return await j(),ue},[p,n.data,j]),I=w.useCallback(async(te,de,me,ue)=>{const he={idPaquete:te,fechaInicio:de,fechaFin:me,motivo:ue};await v.mutateAsync({idPaquete:te,data:he}),await j()},[v,j]),T=w.useCallback(async(te,de)=>{await b.mutateAsync({idPaquete:te,idCongelacion:de}),await j()},[b,j]),M=w.useCallback((te,de)=>{i({isRenewing:!0,preselectedAlumnoId:te,preselectedTipoPaqueteId:de}),h(null)},[]),O=w.useCallback(()=>{i({isRenewing:!1,preselectedAlumnoId:null,preselectedTipoPaqueteId:null})},[]),U=w.useCallback(()=>{i({isRenewing:!1,preselectedAlumnoId:null,preselectedTipoPaqueteId:null})},[]),P=w.useCallback(te=>{e($9(te))},[e]),C=w.useCallback(te=>{e(U9(te))},[e]),F=w.useCallback(te=>{e(W9(te))},[e]),V=w.useCallback(()=>{e(H9())},[e]);return{alumnos:r.data||[],tiposPaquete:n.data||[],isCatalogsLoading:r.isLoading||n.isLoading,catalogsError:r.error||n.error,paquetes:A,allPaquetes:o,isPaquetesLoading:c||r.isLoading,paquetesError:d,paqueteDetail:g.data,isDetailLoading:g.isLoading,detailError:g.error,setDetailPaqueteId:h,filters:t,setSearchTerm:P,setFilterEstado:C,setFilterTipoPaquete:F,clearFilters:V,stats:_,getInitials:Ome,getConsumoPercentage:Dme,handleCreatePaquete:k,handleCongelarPaquete:I,handleDescongelarPaquete:T,isCreating:p.isPending,isCongelando:v.isPending,isDescongelando:b.isPending,renewalState:a,handleStartRenewal:M,handleCancelRenewal:O,handleCompleteRenewal:U,refetchPaquetes:j}}function qme(){return s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6",children:[1,2,3,4].map(e=>s.jsxs("div",{className:`\r
            relative\r
            p-4\r
            rounded-xl\r
            backdrop-blur-xl\r
            bg-[rgba(26,26,32,0.5)]\r
            border border-[rgba(255,255,255,0.1)]\r
          `,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Ge,{className:"h-4 w-20 rounded"}),s.jsx(Ge,{className:"h-8 w-8 rounded-lg"})]}),s.jsx(Ge,{className:"h-8 w-12 rounded"})]},e))})}function zme(){return s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx(Ge,{className:"h-12 w-full rounded-xl"})}),s.jsx("div",{className:"w-full sm:w-48",children:s.jsx(Ge,{className:"h-12 w-full rounded-xl"})}),s.jsx("div",{className:"w-full sm:w-56",children:s.jsx(Ge,{className:"h-12 w-full rounded-xl"})})]})}function $me(){return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4 pb-4 border-b border-[rgba(255,255,255,0.1)]",children:[s.jsx(Ge,{className:"h-4 w-32 rounded"}),s.jsx(Ge,{className:"h-4 w-24 rounded"}),s.jsx(Ge,{className:"h-4 w-20 rounded"}),s.jsx(Ge,{className:"h-4 w-20 rounded"}),s.jsx(Ge,{className:"h-4 w-28 rounded"}),s.jsx(Ge,{className:"h-4 w-16 rounded"})]}),[1,2,3,4,5].map(e=>s.jsxs("div",{className:`\r
            flex items-center gap-4 p-4\r
            rounded-xl\r
            bg-[rgba(255,255,255,0.02)]\r
            border border-[rgba(255,255,255,0.05)]\r
          `,children:[s.jsx(Ge,{className:"h-10 w-10 rounded-full flex-shrink-0"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Ge,{className:"h-4 w-32 rounded"}),s.jsx(Ge,{className:"h-3 w-24 rounded"})]}),s.jsxs("div",{className:"hidden sm:block space-y-2",children:[s.jsx(Ge,{className:"h-4 w-28 rounded"}),s.jsx(Ge,{className:"h-3 w-20 rounded"})]}),s.jsxs("div",{className:"hidden md:block space-y-2",children:[s.jsx(Ge,{className:"h-4 w-16 rounded"}),s.jsx(Ge,{className:"h-2 w-24 rounded-full"})]}),s.jsx(Ge,{className:"h-7 w-20 rounded-lg"}),s.jsxs("div",{className:"hidden lg:block space-y-2",children:[s.jsx(Ge,{className:"h-3 w-24 rounded"}),s.jsx(Ge,{className:"h-3 w-24 rounded"})]}),s.jsx(Ge,{className:"h-8 w-8 rounded-lg"})]},e))]})}function Ume({hasFilters:e,onClearFilters:t,onCreatePackage:r}){return s.jsxs(Ye,{className:"p-12 text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-4 rounded-full bg-white/5",children:s.jsx(Tr,{className:"w-12 h-12 text-gray-400"})})}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:e?"No se encontraron paquetes":"No hay paquetes registrados"}),s.jsx("p",{className:"text-gray-400 mb-6 max-w-md mx-auto",children:e?"No hay paquetes que coincidan con los filtros seleccionados. Intenta ajustar los criterios de búsqueda.":"Aún no hay paquetes registrados. Crea un nuevo paquete para comenzar."}),s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e&&s.jsx(nt,{variant:"secondary",onClick:t,children:"Limpiar filtros"}),s.jsxs(nt,{variant:"primary",onClick:r,children:[s.jsx(Ql,{className:"w-4 h-4"}),s.jsx("span",{children:"Asignar Paquete"})]})]})]})}function Wme({message:e,onRetry:t}){return s.jsxs(Ye,{className:"p-8 text-center border-red-500/30",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-4 rounded-full bg-red-500/10",children:s.jsx(rn,{className:"w-10 h-10 text-red-400"})})}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Error al cargar los paquetes"}),s.jsx("p",{className:"text-gray-400 mb-4",children:e}),s.jsxs(nt,{variant:"secondary",onClick:t,children:[s.jsx(ro,{className:"w-4 h-4"}),s.jsx("span",{children:"Reintentar"})]})]})}function Hme(){const{alumnos:e,tiposPaquete:t,isCatalogsLoading:r,paquetes:n,isPaquetesLoading:a,paquetesError:i,paqueteDetail:o,isDetailLoading:l,setDetailPaqueteId:c,filters:u,setSearchTerm:d,setFilterEstado:f,setFilterTipoPaquete:m,clearFilters:h,stats:g,getInitials:p,getConsumoPercentage:v,handleCreatePaquete:b,handleCongelarPaquete:j,handleDescongelarPaquete:A,isCreating:_,isCongelando:k,isDescongelando:I,renewalState:T,handleStartRenewal:M,handleCancelRenewal:O,handleCompleteRenewal:U,refetchPaquetes:P}=Bme(),[C,F]=w.useState(!1),[V,te]=w.useState(!1),[de,me]=w.useState(!1),[ue,he]=w.useState({isOpen:!1,paqueteId:"",nombreAlumno:"",nombreTipoPaquete:""}),[Ne,Ee]=w.useState({isOpen:!1,paqueteId:"",nombreAlumno:"",nombreTipoPaquete:"",congelacion:null,fechaVencimiento:""}),[E,R]=w.useState(u.searchTerm);w.useEffect(()=>{const Oe=setTimeout(()=>{d(E)},300);return()=>clearTimeout(Oe)},[E,d]),w.useEffect(()=>{T.isRenewing&&F(!0)},[T.isRenewing]);const L=w.useCallback(()=>{F(!0)},[]),z=w.useCallback(()=>{F(!1),T.isRenewing&&O()},[T.isRenewing,O]),J=w.useCallback(async Oe=>{await b(Oe),F(!1),T.isRenewing&&U()},[b,T.isRenewing,U]),le=w.useCallback(Oe=>{c(Oe),te(!0)},[c]),xe=w.useCallback(()=>{te(!1),c(null)},[c]),Q=w.useCallback((Oe,et)=>{M(Oe,et),te(!1)},[M]),ce=w.useCallback(Oe=>{const et=n.find(Re=>Re.idPaquete===Oe);et&&he({isOpen:!0,paqueteId:Oe,nombreAlumno:et.nombreAlumno,nombreTipoPaquete:et.nombreTipoPaquete})},[n]),je=w.useCallback(()=>{he({isOpen:!1,paqueteId:"",nombreAlumno:"",nombreTipoPaquete:""})},[]),pe=w.useCallback(async(Oe,et,Re)=>{ue.paqueteId&&(await j(ue.paqueteId,Oe,et,Re),je())},[ue.paqueteId,j,je]),ze=w.useCallback(Oe=>{const et=n.find(Re=>Re.idPaquete===Oe);if(et&&o&&o.idPaquete===Oe&&o.congelaciones.length>0){const Re=o.congelaciones[o.congelaciones.length-1];Ee({isOpen:!0,paqueteId:Oe,nombreAlumno:et.nombreAlumno,nombreTipoPaquete:et.nombreTipoPaquete,congelacion:Re,fechaVencimiento:et.fechaVencimiento})}else c(Oe)},[n,o,c]),Te=w.useCallback(()=>{Ee({isOpen:!1,paqueteId:"",nombreAlumno:"",nombreTipoPaquete:"",congelacion:null,fechaVencimiento:""})},[]),Y=w.useCallback(async()=>{Ne.paqueteId&&Ne.congelacion&&(await A(Ne.paqueteId,Ne.congelacion.idCongelacion),Te())},[Ne.paqueteId,Ne.congelacion,A,Te]),qe=u.searchTerm!==""||u.filterEstado!=="todos"||u.filterTipoPaquete!=="todos";return s.jsxs("div",{className:Jr["page-container"],children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:Jr["page-title"],children:"Gestión de Paquetes"}),s.jsx("p",{className:Jr["page-description"],children:"Administra los paquetes de clases de los alumnos"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(nt,{variant:"secondary",onClick:()=>me(!0),children:[s.jsx(Tr,{className:"w-4 h-4"}),s.jsx("span",{children:"Configurar Paquetes"})]}),s.jsxs(nt,{variant:"primary",onClick:L,children:[s.jsx(Ql,{className:"w-4 h-4"}),s.jsx("span",{children:"Asignar Paquete"})]})]})]}),s.jsx("div",{className:"mb-8",children:a?s.jsx(qme,{}):s.jsx(mme,{stats:g})}),s.jsx(Ye,{className:"p-4 mb-6",children:s.jsx("div",{className:"flex flex-wrap items-center gap-4",children:r?s.jsx(zme,{}):s.jsxs(s.Fragment,{children:[s.jsx(rme,{searchTerm:E,onSearchChange:R,filterEstado:u.filterEstado,onEstadoChange:f,filterTipoPaquete:u.filterTipoPaquete,onTipoPaqueteChange:m,tiposPaquete:t,isLoading:r}),qe&&s.jsx(nt,{variant:"ghost",onClick:h,className:"text-sm",children:"Limpiar"}),s.jsx(nt,{variant:"icon",onClick:P,title:"Actualizar lista",className:"!p-2",children:s.jsx(ro,{className:`w-4 h-4 ${a?"animate-spin":""}`})})]})})}),s.jsx(Ye,{className:"p-6",children:i?s.jsx(Wme,{message:"No se pudieron cargar los paquetes. Verifica tu conexión e intenta de nuevo.",onRetry:P}):a?s.jsx($me,{}):n.length===0?s.jsx(Ume,{hasFilters:qe,onClearFilters:h,onCreatePackage:L}):s.jsx(fme,{paquetes:n,isLoading:!1,searchTerm:u.searchTerm,hasFilters:qe,onViewDetail:le,onCongelar:ce,onDescongelar:ze,getInitials:p,getConsumoPercentage:Oe=>v(Oe.clasesUsadas,Oe.clasesDisponibles)})}),s.jsx(Q0e,{isOpen:C,onClose:z,onSubmit:J,alumnos:e,tiposPaquete:t,isCatalogsLoading:r,isSubmitting:_,preselectedAlumnoId:T.preselectedAlumnoId??void 0,preselectedTipoPaqueteId:T.preselectedTipoPaqueteId??void 0}),s.jsx(jme,{isOpen:V,onClose:xe,paqueteDetail:o??null,isLoading:l,onRenovar:o?()=>Q(o.idAlumno,o.idTipoPaquete):void 0,getInitials:p}),s.jsx(Pme,{isOpen:ue.isOpen,onClose:je,onSubmit:pe,idPaquete:ue.paqueteId,nombreAlumno:ue.nombreAlumno,nombreTipoPaquete:ue.nombreTipoPaquete,isSubmitting:k}),Ne.congelacion&&s.jsx(Tme,{isOpen:Ne.isOpen,onClose:Te,onConfirm:Y,idPaquete:Ne.paqueteId,nombreAlumno:Ne.nombreAlumno,nombreTipoPaquete:Ne.nombreTipoPaquete,fechaVencimiento:Ne.fechaVencimiento,congelacion:Ne.congelacion,isSubmitting:I}),s.jsx(K0e,{isOpen:de,onClose:()=>me(!1),tiposPaquete:t,isLoading:r})]})}function Vme({estado:e}){const t={Activo:"bg-[#34d399]/20 text-[#34d399] border-[#34d399]/30",Vencido:"bg-[#6b7280]/20 text-[#9ca3af] border-[#6b7280]/30",Congelado:"bg-[#60a5fa]/20 text-[#60a5fa] border-[#60a5fa]/30",Agotado:"bg-[#f59e0b]/20 text-[#f59e0b] border-[#f59e0b]/30"},r=t[e]||t.Vencido;return s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium border ${r}`,children:e})}function M6(e){return new Date(e).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"})}const Gme=e=>"nota"in e,Kme=e=>"paquetes"in e&&Array.isArray(e.paquetes);function Yme({pago:e,isLoading:t=!1,isOpen:r,formatCurrency:n,onClose:a,onEdit:i}){if(!r)return null;const o=e&&Kme(e)?e.paquetes:[],l=e&&Gme(e)?e.nota:null,c=o.length?Array.from(new Map(o.map(u=>[u.idAlumno,u.nombreAlumno])).entries()):e&&e.nombreAlumno?[[e.idPago,e.nombreAlumno]]:[];return s.jsxs("div",{className:"absolute inset-0 z-[100] flex items-start justify-center pt-20 px-4 pb-8 overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm -z-10",onClick:a}),s.jsxs(Ye,{className:"relative z-10 w-full max-w-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-[#f9fafb] text-xl font-semibold",children:"Detalle del Pago"}),s.jsx(nt,{variant:"ghost",size:"sm",onClick:a,"aria-label":"Cerrar",children:s.jsx($r,{className:"w-5 h-5"})})]}),t?s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ge,{className:"h-24 rounded-lg"}),s.jsx(Ge,{className:"h-20 rounded-lg"}),s.jsx(Ge,{className:"h-32 rounded-lg"})]}):e?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("section",{children:[s.jsxs("h3",{className:"text-[#9ca3af] text-sm uppercase tracking-wide mb-3 flex items-center gap-2",children:[s.jsx(Lv,{className:"w-4 h-4"}),"Información del Pago"]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-[#9ca3af]",children:"Fecha"}),s.jsx("span",{className:"text-[#f9fafb]",children:M6(e.fechaPago)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-[#9ca3af]",children:"Monto"}),s.jsx("span",{className:"text-[#34d399] font-semibold",children:n(e.montoTotal)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-[#9ca3af]",children:"Método"}),s.jsx("span",{className:"text-[#f9fafb]",children:e.nombreMetodoPago})]}),l&&s.jsxs("div",{children:[s.jsx("span",{className:"text-[#9ca3af] block mb-1",children:"Nota"}),s.jsx("p",{className:"text-[#f9fafb] text-sm bg-white/5 rounded p-2",children:l})]})]})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-[#9ca3af] text-sm uppercase tracking-wide mb-3 flex items-center gap-2",children:[s.jsx(Jn,{className:"w-4 h-4"}),c.length>1?"Información de Alumnos":"Información del Alumno"]}),s.jsx("div",{className:"bg-white/5 rounded-lg p-4 space-y-2",children:c.length?c.map(([u,d],f)=>{const m=u||`alumno-${f}`,h=o.filter(g=>g.idAlumno===u);return s.jsxs("div",{className:"pb-2 last:pb-0 border-b border-white/5 last:border-0",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[#f9fafb] font-medium",children:[s.jsx(Jn,{className:"w-4 h-4 text-[#c93448]"}),d||"Alumno sin nombre"]}),o.length>0&&s.jsxs("div",{className:"text-xs text-[#9ca3af] mt-1 ml-6",children:[h.length," paquete(s)"]})]},m)}):s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Sin información de alumnos"})})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-[#9ca3af] text-sm uppercase tracking-wide mb-3 flex items-center gap-2",children:[s.jsx(Tr,{className:"w-4 h-4"}),"Paquetes Generados (",o.length,")"]}),s.jsx("div",{className:"space-y-2",children:o.length?o.map(u=>s.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Jn,{className:"w-3 h-3 text-[#c93448]"}),s.jsx("span",{className:"text-[#9ca3af] text-xs",children:u.nombreAlumno})]}),s.jsx("span",{className:"text-[#f9fafb] font-medium",children:u.nombreTipoPaquete})]}),s.jsx(Vme,{estado:u.estado})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-[#6b7280]",children:"Clases: "}),s.jsxs("span",{className:"text-[#f9fafb]",children:[u.clasesRestantes,"/",u.clasesDisponibles]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[#6b7280]",children:"Valor: "}),s.jsx("span",{className:"text-[#34d399]",children:n(u.valorPaquete)})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"text-[#6b7280]",children:"Vence: "}),s.jsx("span",{className:"text-[#f9fafb]",children:M6(u.fechaVencimiento)})]})]})]},u.idPaquete)):s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"No se registraron paquetes para este pago."})})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-white/10",children:[s.jsx(nt,{variant:"ghost",onClick:a,className:"flex-1",children:"Cerrar"}),s.jsxs(nt,{variant:"primary",onClick:i,className:"flex-1",children:[s.jsx(cb,{className:"w-4 h-4 mr-2"}),"Editar Pago"]})]})]}):s.jsx("p",{className:"text-[#9ca3af] text-center py-8",children:"No se encontró el pago"})]})]})}const Xme=({payment:e,onVerify:t,onReject:r,onViewDetail:n})=>{const a=l=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(l),i=l=>new Date(l).toLocaleDateString("es-CO",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}),o=l=>{switch(l.toLowerCase()){case"transferencia":return"🏦";case"efectivo":return"💵";case"qr":return"📱";default:return"💳"}};return s.jsxs("div",{className:"bg-[rgba(64,64,64,0.2)] border border-[rgba(245,158,11,0.3)] rounded-lg p-4 hover:border-[rgba(245,158,11,0.5)] transition-all group",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-[rgba(201,52,72,0.15)] border-2 border-[rgba(201,52,72,0.3)] flex items-center justify-center text-[#c93448] font-semibold text-lg overflow-hidden",children:e.nombreAlumno.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-[#f9fafb] font-medium truncate",children:e.nombreAlumno}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-[#9ca3af]",children:[s.jsx(kr,{size:12}),s.jsx("span",{children:i(e.fechaPago)})]})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-2xl font-bold text-[#f9fafb]",children:a(e.montoTotal)}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#9ca3af] mt-1",children:[s.jsx("span",{className:"text-lg",children:o(e.nombreMetodoPago)}),s.jsx("span",{children:e.nombreMetodoPago})]})]}),e.referenciaTransferencia&&s.jsxs("div",{className:"mb-3 p-2 bg-[rgba(255,255,255,0.05)] rounded text-xs",children:[s.jsx("span",{className:"text-[#9ca3af]",children:"Ref:"})," ",s.jsx("span",{className:"text-[#f9fafb] font-mono",children:e.referenciaTransferencia})]}),e.urlComprobante&&s.jsx("div",{className:"mb-3",children:s.jsx("img",{src:e.urlComprobante,alt:"Comprobante",className:"w-full h-32 object-cover rounded border border-[rgba(255,255,255,0.1)] cursor-pointer hover:border-[#c93448] transition-colors",onClick:()=>n(e)})}),e.cantidadPaquetes>0&&s.jsxs("div",{className:"mb-3 text-xs text-[#9ca3af]",children:[s.jsx(to,{size:12,className:"inline mr-1"}),e.cantidadPaquetes," paquete(s) asociado(s)"]}),s.jsxs("div",{className:"flex gap-2 pt-3 border-t border-[rgba(64,64,64,0.3)]",children:[s.jsxs("button",{onClick:()=>n(e),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-[rgba(59,130,246,0.15)] hover:bg-[rgba(59,130,246,0.25)] text-[#60a5fa] rounded-lg transition-all text-sm",children:[s.jsx(du,{size:16}),"Ver"]}),s.jsxs("button",{onClick:()=>t(e),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-[rgba(34,197,94,0.15)] hover:bg-[rgba(34,197,94,0.25)] text-[#4ade80] rounded-lg transition-all text-sm",children:[s.jsx(zf,{size:16}),"Aprobar"]}),s.jsx("button",{onClick:()=>r(e),className:"flex items-center justify-center px-3 py-2 bg-[rgba(239,68,68,0.15)] hover:bg-[rgba(239,68,68,0.25)] text-[#ef4444] rounded-lg transition-all",children:s.jsx($r,{size:16})})]})]})},F6=({payment:e,onViewDetail:t,onEdit:r,onDelete:n})=>{const a=l=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(l),i=l=>new Date(l).toLocaleDateString("es-CO",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}),o=l=>{switch(l.toLowerCase()){case"transferencia":return"🏦";case"efectivo":return"💵";case"qr":return"📱";default:return"💳"}};return s.jsxs("div",{className:"bg-[rgba(64,64,64,0.2)] border border-[rgba(34,197,94,0.3)] rounded-lg p-4 hover:border-[rgba(34,197,94,0.5)] transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-[rgba(34,197,94,0.15)] text-[#4ade80] text-xs rounded-full border border-[rgba(34,197,94,0.3)]",children:[s.jsx(As,{size:12}),"Verificado"]}),s.jsx("span",{className:"text-xs text-[#9ca3af]",children:i(e.fechaPago)})]}),s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-[rgba(201,52,72,0.15)] border-2 border-[rgba(201,52,72,0.3)] flex items-center justify-center text-[#c93448] font-semibold overflow-hidden",children:e.nombreAlumno.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-[#f9fafb] font-medium text-sm truncate",children:e.nombreAlumno}),s.jsx("div",{className:"text-xl font-bold text-[#4ade80]",children:a(e.montoTotal)})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-[#9ca3af] mb-3",children:[s.jsx("span",{className:"text-base",children:o(e.nombreMetodoPago)}),s.jsx("span",{children:e.nombreMetodoPago}),e.referenciaTransferencia&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"•"}),s.jsx("span",{className:"font-mono",children:e.referenciaTransferencia})]})]}),e.cantidadPaquetes>0&&s.jsxs("div",{className:"text-xs text-[#9ca3af] mb-3",children:[s.jsx(to,{size:12,className:"inline mr-1"}),e.cantidadPaquetes," paquete(s)"]}),s.jsxs("div",{className:"flex gap-2 pt-3 border-t border-[rgba(64,64,64,0.3)]",children:[s.jsxs("button",{onClick:()=>t(e),className:"flex-1 flex items-center justify-center gap-1 px-2 py-1.5 bg-[rgba(59,130,246,0.15)] hover:bg-[rgba(59,130,246,0.25)] text-[#60a5fa] rounded text-xs transition-all",children:[s.jsx(du,{size:14}),"Ver"]}),s.jsx("button",{onClick:()=>r(e),className:"flex items-center justify-center px-2 py-1.5 bg-[rgba(156,163,175,0.15)] hover:bg-[rgba(156,163,175,0.25)] text-[#9ca3af] rounded transition-all",children:s.jsx(ub,{size:14})}),s.jsx("button",{onClick:()=>n(e),className:"flex items-center justify-center px-2 py-1.5 bg-[rgba(239,68,68,0.15)] hover:bg-[rgba(239,68,68,0.25)] text-[#ef4444] rounded transition-all",children:s.jsx(rb,{size:14})})]})]})},Zme=({payment:e,isOpen:t,onClose:r,onSuccess:n})=>{const[a,i]=w.useState(""),[o,l]=w.useState(!0),[c,u]=w.useState(!1),d=rI();if(!t||!e)return null;const f=async h=>{try{await d.mutateAsync({idPago:e.idPago,accion:h,nota:a||void 0,notificarAlumno:o}),n?.(),r(),i("")}catch(g){console.error("Error verificando pago:",g)}},m=h=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(h);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-[rgba(26,26,26,0.98)] border border-[rgba(64,64,64,0.3)] rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-[rgba(26,26,26,0.98)] border-b border-[rgba(64,64,64,0.3)] p-6 flex items-center justify-between",children:[s.jsx("h2",{className:"text-[#f9fafb] text-2xl font-semibold",children:"🔍 Verificar Pago"}),s.jsx("button",{onClick:r,className:"text-[#9ca3af] hover:text-[#f9fafb] transition-colors",children:s.jsx($r,{size:24})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-[rgba(64,64,64,0.2)] border border-[rgba(64,64,64,0.3)] rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-[rgba(201,52,72,0.15)] border-2 border-[rgba(201,52,72,0.3)] flex items-center justify-center text-[#c93448] text-2xl font-bold",children:e.nombreAlumno.charAt(0).toUpperCase()}),s.jsx("div",{children:s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:e.nombreAlumno})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-[#9ca3af]",children:"Monto:"}),s.jsx("p",{className:"text-[#f9fafb] text-2xl font-bold mt-1",children:m(e.montoTotal)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[#9ca3af]",children:"Método:"}),s.jsx("p",{className:"text-[#f9fafb] font-medium mt-1",children:e.nombreMetodoPago})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[#9ca3af]",children:"Fecha:"}),s.jsx("p",{className:"text-[#f9fafb] font-medium mt-1",children:new Date(e.fechaPago).toLocaleDateString("es-CO",{dateStyle:"long"})})]}),e.referenciaTransferencia&&s.jsxs("div",{children:[s.jsx("span",{className:"text-[#9ca3af]",children:"Referencia:"}),s.jsx("p",{className:"text-[#f9fafb] font-mono mt-1",children:e.referenciaTransferencia})]})]})]}),e.urlComprobante&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#f9fafb] text-sm font-medium mb-2",children:"Comprobante"}),s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:e.urlComprobante,alt:"Comprobante de pago",className:"w-full rounded-lg border border-[rgba(255,255,255,0.1)] cursor-pointer hover:border-[#c93448] transition-colors"}),s.jsx("button",{onClick:()=>u(!0),className:"absolute top-4 right-4 p-2 bg-black/50 hover:bg-black/70 text-white rounded-lg transition-all opacity-0 group-hover:opacity-100",children:s.jsx(S7,{size:20})})]})]}),e.cantidadPaquetes>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#f9fafb] text-sm font-medium mb-2",children:"Paquetes Asociados"}),s.jsx("div",{className:"bg-[rgba(64,64,64,0.2)] border border-[rgba(64,64,64,0.3)] rounded-lg p-3",children:s.jsxs("p",{className:"text-[#f9fafb]",children:[e.cantidadPaquetes," paquete(s) registrado(s)"]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#f9fafb] text-sm font-medium mb-2",children:"Nota de Verificación (opcional)"}),s.jsx("textarea",{rows:3,value:a,onChange:h=>i(h.target.value),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors resize-none",placeholder:"Ej: Comprobante validado con el banco..."})]}),s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[s.jsx("input",{type:"checkbox",checked:o,onChange:h=>l(h.target.checked),className:"w-5 h-5 rounded border-[rgba(255,255,255,0.2)] bg-[rgba(255,255,255,0.05)] checked:bg-[#c93448] checked:border-[#c93448] focus:ring-2 focus:ring-[rgba(201,52,72,0.3)] transition-all"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[#f9fafb] group-hover:text-[#c93448] transition-colors",children:[s.jsx(lb,{size:18}),s.jsx("span",{className:"font-medium",children:"Notificar al alumno por WhatsApp"})]}),s.jsx("p",{className:"text-[#9ca3af] text-xs mt-0.5",children:"Se enviará un mensaje confirmando la recepción del pago"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs("button",{onClick:()=>f("rechazar"),disabled:d.isPending,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 rounded-lg bg-[rgba(239,68,68,0.15)] hover:bg-[rgba(239,68,68,0.25)] text-[#ef4444] border border-[rgba(239,68,68,0.3)] transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx($r,{size:18}),"Rechazar"]}),s.jsxs("button",{onClick:()=>f("aprobar"),disabled:d.isPending,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 rounded-lg bg-[#10b981] hover:bg-[#059669] text-white font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(zf,{size:18}),d.isPending?"Verificando...":"Aprobar Pago"]})]})]})]})}),c&&e.urlComprobante&&s.jsxs("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-[60] p-4",onClick:()=>u(!1),children:[s.jsx("img",{src:e.urlComprobante,alt:"Comprobante completo",className:"max-w-full max-h-full object-contain"}),s.jsx("button",{onClick:()=>u(!1),className:"absolute top-4 right-4 p-3 bg-black/50 hover:bg-black/70 text-white rounded-full transition-all",children:s.jsx($r,{size:24})})]})]})},Jme=()=>{const[e,t]=w.useState(!1),[r,n]=w.useState(!1),[a,i]=w.useState(!1),[o,l]=w.useState(null),{data:c,isLoading:u,refetch:d}=nI(),{data:f,isLoading:m,refetch:h}=aI(),{data:g,refetch:p}=iI(),{data:v,isLoading:b,refetch:j}=sI(),{data:A,isLoading:_}=oI(o?.idPago||""),k=O=>{l(O),n(!0)},I=O=>{l(O),n(!0)},T=O=>{l(O),i(!0)},M=O=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(O);return s.jsxs("div",{className:"p-8 max-w-[1600px] mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-[#f9fafb] text-3xl font-bold mb-2",children:"💰 Gestión de Pagos"}),s.jsx("p",{className:"text-[#9ca3af]",children:"Verifica y administra los pagos de los alumnos"})]}),s.jsxs("button",{onClick:()=>t(!0),className:"flex items-center gap-2 px-6 py-3 bg-[#c93448] hover:bg-[#b02d3c] text-white rounded-lg font-medium transition-all",children:[s.jsx(Ql,{size:20}),"Registrar Pago"]})]}),g&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-[rgba(64,64,64,0.2)] border border-[rgba(34,197,94,0.3)] rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-[#9ca3af] text-sm",children:"Ingresos Hoy"}),s.jsx(Fi,{className:"text-[#4ade80]",size:20})]}),s.jsx("p",{className:"text-[#f9fafb] text-2xl font-bold",children:M(g.totalIngresos)}),s.jsxs("p",{className:"text-[#4ade80] text-xs mt-1",children:[g.totalPagosHoy," pago(s) registrado(s)"]})]}),s.jsxs("div",{className:"bg-[rgba(64,64,64,0.2)] border border-[rgba(245,158,11,0.3)] rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-[#9ca3af] text-sm",children:"Pendientes"}),s.jsx(kr,{className:"text-[#fbbf24]",size:20})]}),s.jsx("p",{className:"text-[#f9fafb] text-2xl font-bold",children:g.totalPendientesVerificacion}),s.jsx("p",{className:"text-[#fbbf24] text-xs mt-1",children:"Requieren verificación"})]}),s.jsxs("div",{className:"bg-[rgba(64,64,64,0.2)] border border-[rgba(59,130,246,0.3)] rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-[#9ca3af] text-sm",children:"Verificados Hoy"}),s.jsx(As,{className:"text-[#60a5fa]",size:20})]}),s.jsx("p",{className:"text-[#f9fafb] text-2xl font-bold",children:g.totalVerificadosHoy}),s.jsx("p",{className:"text-[#60a5fa] text-xs mt-1",children:"Pagos confirmados"})]}),s.jsxs("div",{className:"bg-[rgba(64,64,64,0.2)] border border-[rgba(139,92,246,0.3)] rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-[#9ca3af] text-sm",children:"Mes Actual"}),s.jsx(ua,{className:"text-[#a78bfa]",size:20})]}),s.jsx("p",{className:"text-[#f9fafb] text-2xl font-bold",children:M(g.ingresosMesActual)}),s.jsxs("p",{className:`text-xs mt-1 ${g.comparacionMesAnterior>=0?"text-[#4ade80]":"text-[#ef4444]"}`,children:[g.comparacionMesAnterior>=0?"+":"",g.comparacionMesAnterior.toFixed(1),"% vs mes anterior"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-[rgba(26,26,26,0.5)] border border-[rgba(245,158,11,0.3)] rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(kr,{className:"text-[#fbbf24]",size:20}),s.jsx("h2",{className:"text-[#f9fafb] text-lg font-semibold",children:"Pendientes"}),s.jsx("span",{className:"ml-auto bg-[rgba(245,158,11,0.15)] text-[#fbbf24] px-2 py-1 rounded-full text-sm font-medium",children:c?.length||0})]}),s.jsx("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2",children:u?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"w-8 h-8 border-2 border-[#fbbf24]/30 border-t-[#fbbf24] rounded-full animate-spin"})}):c&&c.length>0?c.map(O=>s.jsx(Xme,{payment:O,onVerify:k,onReject:I,onViewDetail:T},O.idPago)):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(rn,{className:"mx-auto text-[#6b7280] mb-3",size:48}),s.jsx("p",{className:"text-[#9ca3af]",children:"No hay pagos pendientes"}),s.jsx("p",{className:"text-[#6b7280] text-sm mt-1",children:"Los pagos por verificar aparecerán aquí"})]})})]}),s.jsxs("div",{className:"bg-[rgba(26,26,26,0.5)] border border-[rgba(34,197,94,0.3)] rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(As,{className:"text-[#4ade80]",size:20}),s.jsx("h2",{className:"text-[#f9fafb] text-lg font-semibold",children:"Verificados Hoy"}),s.jsx("span",{className:"ml-auto bg-[rgba(34,197,94,0.15)] text-[#4ade80] px-2 py-1 rounded-full text-sm font-medium",children:f?.length||0})]}),s.jsx("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2",children:m?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"w-8 h-8 border-2 border-[#4ade80]/30 border-t-[#4ade80] rounded-full animate-spin"})}):f&&f.length>0?f.map(O=>s.jsx(F6,{payment:O,onViewDetail:T,onEdit:U=>console.log("Edit",U),onDelete:U=>console.log("Delete",U)},O.idPago)):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(As,{className:"mx-auto text-[#6b7280] mb-3",size:48}),s.jsx("p",{className:"text-[#9ca3af]",children:"No hay pagos verificados hoy"}),s.jsx("p",{className:"text-[#6b7280] text-sm mt-1",children:"Los pagos aprobados aparecerán aquí"})]})})]}),s.jsxs("div",{className:"bg-[rgba(26,26,26,0.5)] border border-[rgba(64,64,64,0.3)] rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Fi,{className:"text-[#9ca3af]",size:20}),s.jsx("h2",{className:"text-[#f9fafb] text-lg font-semibold",children:"Últimos Pagos"})]}),s.jsx("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2",children:b?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"w-8 h-8 border-2 border-[#9ca3af]/30 border-t-[#9ca3af] rounded-full animate-spin"})}):v&&v.length>0?v.slice(0,10).map(O=>s.jsx(F6,{payment:O,onViewDetail:T,onEdit:U=>console.log("Edit",U),onDelete:U=>console.log("Delete",U)},O.idPago)):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Fi,{className:"mx-auto text-[#6b7280] mb-3",size:48}),s.jsx("p",{className:"text-[#9ca3af]",children:"No hay pagos registrados"}),s.jsx("p",{className:"text-[#6b7280] text-sm mt-1",children:"Los pagos aparecerán aquí"})]})})]})]}),s.jsx(lS,{isOpen:e,onClose:()=>t(!1),onSuccess:()=>{}}),s.jsx(Zme,{payment:o,isOpen:r,onClose:()=>{n(!1),l(null)},onSuccess:()=>{d(),h(),j(),p()}}),s.jsx(Yme,{pago:A,isLoading:_,isOpen:a,formatCurrency:M,onClose:()=>{i(!1),l(null)},onEdit:()=>{console.log("Edit payment",o)}})]})},Qme="_container_bz2i9_1",epe="_header_bz2i9_13",tpe="_header__top_bz2i9_16",rpe="_header__title_bz2i9_22",npe="_header__actions_bz2i9_28",ape="_backButton_bz2i9_33",ipe="_grid_bz2i9_53",spe="_leftColumn_bz2i9_64",ope="_rightColumn_bz2i9_65",lpe="_card_bz2i9_71",cpe="_card__header_bz2i9_79",upe="_userProfile_bz2i9_97",dpe="_userProfile__avatar_bz2i9_102",fpe="_userProfile__info_bz2i9_115",hpe="_userProfile__name_bz2i9_121",mpe="_userProfile__document_bz2i9_127",ppe="_badge_bz2i9_133",xpe="_infoGrid_bz2i9_158",gpe="_infoItem_bz2i9_164",vpe="_infoItem__icon_bz2i9_177",bpe="_infoItem__content_bz2i9_191",ype="_infoItem__label_bz2i9_197",wpe="_infoItem__value_bz2i9_204",Npe="_statsGrid_bz2i9_210",jpe="_statCard_bz2i9_216",_pe="_statCard__icon_bz2i9_230",Ape="_statCard__content_bz2i9_244",Spe="_statCard__value_bz2i9_249",Cpe="_statCard__label_bz2i9_255",Ppe="_actionsGrid_bz2i9_261",Epe="_paymentInfo_bz2i9_267",kpe="_paymentInfo__amount_bz2i9_272",Tpe="_paymentInfo__details_bz2i9_278",Ope="_infoRow_bz2i9_284",Dpe="_packagesList_bz2i9_300",Ipe="_packageItem_bz2i9_306",Mpe="_packageItem__info_bz2i9_312",Fpe="_packageItem__name_bz2i9_318",Lpe="_packageItem__status_bz2i9_323",Rpe="_packageItem__progress_bz2i9_327",Bpe="_progressBar_bz2i9_331",qpe="_progressBar__fill_bz2i9_338",zpe="_loading_bz2i9_345",$pe="_error_bz2i9_346",Upe="_spinner_bz2i9_361",Ze={container:Qme,header:epe,header__top:tpe,header__title:rpe,header__actions:npe,backButton:ape,grid:ipe,leftColumn:spe,rightColumn:ope,card:lpe,card__header:cpe,userProfile:upe,userProfile__avatar:dpe,userProfile__info:fpe,userProfile__name:hpe,userProfile__document:mpe,badge:ppe,"badge--success":"_badge--success_bz2i9_142",infoGrid:xpe,infoItem:gpe,infoItem__icon:vpe,infoItem__content:bpe,infoItem__label:ype,infoItem__value:wpe,statsGrid:Npe,statCard:jpe,statCard__icon:_pe,statCard__content:Ape,statCard__value:Spe,statCard__label:Cpe,actionsGrid:Ppe,paymentInfo:Epe,paymentInfo__amount:kpe,paymentInfo__details:Tpe,infoRow:Ope,packagesList:Dpe,packageItem:Ipe,packageItem__info:Mpe,packageItem__name:Fpe,packageItem__status:Lpe,packageItem__progress:Rpe,progressBar:Bpe,progressBar__fill:qpe,loading:zpe,error:$pe,spinner:Upe};function Wpe(){const{id:e}=V9(),[t]=rS(),r=t.get("type")||"alumno",n=ii(),{data:a,isLoading:i}=CL(r==="alumno"?e:null),{data:o,isLoading:l}=PL(r==="profesor"?e:null),c=i||l,u=r==="alumno"?a:o,d=()=>n(-1),f=()=>{const _=u?.idUsuario;_&&n("/admin/users",{state:{editUserId:_}})},m=()=>n("/admin/payments",{state:{alumnoId:e,alumnoNombre:u?.nombre}}),h=()=>n("/admin/paquetes",{state:{alumnoId:e}}),g=()=>n("/admin/attendance",{state:{alumnoId:e}}),p=()=>n("/admin/classes",{state:{profesorId:e,profesorNombre:u?.nombre}}),v=()=>n("/admin/payroll"),b=()=>n("/admin/classes",{state:{profesorId:e}}),j=_=>_.split(" ").map(k=>k[0]).join("").toUpperCase().slice(0,2),A=_=>_?new Date(_).toLocaleDateString("es-CO",{day:"2-digit",month:"short",year:"numeric"}):"N/A";return c?s.jsx("div",{className:Ze.container,children:s.jsxs("div",{className:Ze.loading,children:[s.jsx(Zo,{size:48,className:Ze.spinner}),s.jsx("p",{children:"Cargando información del usuario..."})]})}):u?s.jsxs("div",{className:Ze.container,children:[s.jsxs("div",{className:Ze.header,children:[s.jsxs("div",{className:Ze.header__top,children:[s.jsxs("button",{onClick:d,className:Ze.backButton,children:[s.jsx(ib,{size:20}),s.jsx("span",{children:"Volver"})]}),s.jsx("div",{className:Ze.header__actions,children:s.jsx(nt,{variant:"secondary",size:"md",onClick:f,icon:s.jsx(ub,{size:18}),children:"Editar"})})]}),s.jsx("h1",{className:Ze.header__title,children:r==="alumno"?"Perfil de Alumno":"Perfil de Profesor"})]}),s.jsxs("div",{className:Ze.grid,children:[s.jsxs("div",{className:Ze.leftColumn,children:[s.jsxs("div",{className:Ze.card,children:[s.jsxs("div",{className:Ze.card__header,children:[s.jsx(UI,{size:20}),s.jsx("h2",{children:"Información Personal"})]}),s.jsxs("div",{className:Ze.userProfile,children:[s.jsx("div",{className:Ze.userProfile__avatar,children:j(u.nombre)}),s.jsxs("div",{className:Ze.userProfile__info,children:[s.jsx("h3",{className:Ze.userProfile__name,children:u.nombre}),s.jsxs("p",{className:Ze.userProfile__document,children:[u.tipoDocumento," ",u.documento]}),s.jsx("span",{className:`${Ze.badge} ${Ze["badge--success"]}`,children:u.estado})]})]}),s.jsxs("div",{className:Ze.infoGrid,children:[s.jsxs("div",{className:Ze.infoItem,children:[s.jsx("div",{className:Ze.infoItem__icon,children:s.jsx(uu,{size:18})}),s.jsxs("div",{className:Ze.infoItem__content,children:[s.jsx("span",{className:Ze.infoItem__label,children:"Correo electrónico"}),s.jsx("span",{className:Ze.infoItem__value,children:u.correo})]})]}),u.telefono&&s.jsxs("div",{className:Ze.infoItem,children:[s.jsx("div",{className:Ze.infoItem__icon,children:s.jsx(Sd,{size:18})}),s.jsxs("div",{className:Ze.infoItem__content,children:[s.jsx("span",{className:Ze.infoItem__label,children:"Teléfono"}),s.jsx("span",{className:Ze.infoItem__value,children:u.telefono})]})]}),s.jsxs("div",{className:Ze.infoItem,children:[s.jsx("div",{className:Ze.infoItem__icon,children:s.jsx(kr,{size:18})}),s.jsxs("div",{className:Ze.infoItem__content,children:[s.jsx("span",{className:Ze.infoItem__label,children:"Miembro desde"}),s.jsx("span",{className:Ze.infoItem__value,children:A(u.fechaRegistro)})]})]})]})]}),r==="alumno"&&"paquetesActivos"in u&&s.jsxs("div",{className:Ze.card,children:[s.jsxs("div",{className:Ze.card__header,children:[s.jsx(bf,{size:20}),s.jsx("h2",{children:"Estadísticas"})]}),s.jsxs("div",{className:Ze.statsGrid,children:[s.jsxs("div",{className:Ze.statCard,children:[s.jsx("div",{className:Ze.statCard__icon,children:s.jsx(Tr,{size:24})}),s.jsxs("div",{className:Ze.statCard__content,children:[s.jsx("span",{className:Ze.statCard__value,children:u.paquetesActivos}),s.jsx("span",{className:Ze.statCard__label,children:"Paquetes activos"})]})]}),s.jsxs("div",{className:Ze.statCard,children:[s.jsx("div",{className:Ze.statCard__icon,children:s.jsx(St,{size:24})}),s.jsxs("div",{className:Ze.statCard__content,children:[s.jsx("span",{className:Ze.statCard__value,children:u.clasesTomadas}),s.jsx("span",{className:Ze.statCard__label,children:"Clases tomadas"})]})]}),s.jsxs("div",{className:Ze.statCard,children:[s.jsx("div",{className:Ze.statCard__icon,children:s.jsx(bf,{size:24})}),s.jsxs("div",{className:Ze.statCard__content,children:[s.jsxs("span",{className:Ze.statCard__value,children:[u.asistenciaPromedio,"%"]}),s.jsx("span",{className:Ze.statCard__label,children:"Asistencia"})]})]})]})]}),r==="profesor"&&"clasesAsignadas"in u&&s.jsxs("div",{className:Ze.card,children:[s.jsxs("div",{className:Ze.card__header,children:[s.jsx(bf,{size:20}),s.jsx("h2",{children:"Estadísticas"})]}),s.jsxs("div",{className:Ze.statsGrid,children:[s.jsxs("div",{className:Ze.statCard,children:[s.jsx("div",{className:Ze.statCard__icon,children:s.jsx(St,{size:24})}),s.jsxs("div",{className:Ze.statCard__content,children:[s.jsx("span",{className:Ze.statCard__value,children:u.clasesAsignadas}),s.jsx("span",{className:Ze.statCard__label,children:"Clases asignadas"})]})]}),s.jsxs("div",{className:Ze.statCard,children:[s.jsx("div",{className:Ze.statCard__icon,children:s.jsx(bf,{size:24})}),s.jsxs("div",{className:Ze.statCard__content,children:[s.jsx("span",{className:Ze.statCard__value,children:u.clasesImpartidas}),s.jsx("span",{className:Ze.statCard__label,children:"Clases impartidas"})]})]})]})]})]}),s.jsxs("div",{className:Ze.rightColumn,children:[s.jsxs("div",{className:Ze.card,children:[s.jsx("div",{className:Ze.card__header,children:s.jsx("h2",{children:"Acciones Rápidas"})}),s.jsxs("div",{className:Ze.actionsGrid,children:[r==="alumno"&&s.jsxs(s.Fragment,{children:[s.jsx(nt,{variant:"primary",size:"md",onClick:m,icon:s.jsx(Fi,{size:18}),children:"Registrar Pago"}),s.jsx(nt,{variant:"secondary",size:"md",onClick:h,icon:s.jsx(Tr,{size:18}),children:"Asignar Paquete"}),s.jsx(nt,{variant:"secondary",size:"md",onClick:g,icon:s.jsx(bf,{size:18}),children:"Registrar Asistencia"})]}),r==="profesor"&&s.jsxs(s.Fragment,{children:[s.jsx(nt,{variant:"primary",size:"md",onClick:p,icon:s.jsx(St,{size:18}),children:"Asignar Clase"}),s.jsx(nt,{variant:"secondary",size:"md",onClick:v,icon:s.jsx(Fi,{size:18}),children:"Ver Nómina"}),s.jsx(nt,{variant:"secondary",size:"md",onClick:b,icon:s.jsx(kr,{size:18}),children:"Ver Horario"})]})]})]}),r==="alumno"&&"ultimoPago"in u&&u.ultimoPago&&s.jsxs("div",{className:Ze.card,children:[s.jsxs("div",{className:Ze.card__header,children:[s.jsx(Lv,{size:20}),s.jsx("h2",{children:"Último Pago"})]}),s.jsxs("div",{className:Ze.paymentInfo,children:[s.jsxs("div",{className:Ze.paymentInfo__amount,children:["$",u.ultimoPago.monto.toLocaleString("es-CO")]}),s.jsxs("div",{className:Ze.paymentInfo__details,children:[s.jsxs("div",{className:Ze.infoRow,children:[s.jsx(St,{size:16}),s.jsx("span",{children:A(u.ultimoPago.fecha)})]}),s.jsxs("div",{className:Ze.infoRow,children:[s.jsx(Tr,{size:16}),s.jsx("span",{children:u.ultimoPago.concepto})]}),s.jsxs("div",{className:Ze.infoRow,children:[s.jsx(Lv,{size:16}),s.jsx("span",{children:u.ultimoPago.metodoPago})]})]})]})]}),r==="alumno"&&"paquetesActivosDetalle"in u&&u.paquetesActivosDetalle.length>0&&s.jsxs("div",{className:Ze.card,children:[s.jsxs("div",{className:Ze.card__header,children:[s.jsx(Tr,{size:20}),s.jsx("h2",{children:"Paquetes Activos"})]}),s.jsx("div",{className:Ze.packagesList,children:u.paquetesActivosDetalle.map(_=>s.jsxs("div",{className:Ze.packageItem,children:[s.jsxs("div",{className:Ze.packageItem__info,children:[s.jsx("span",{className:Ze.packageItem__name,children:_.nombreTipoPaquete}),s.jsxs("span",{className:Ze.packageItem__status,children:[_.clasesRestantes," de ",_.clasesDisponibles," clases restantes"]})]}),s.jsx("div",{className:Ze.packageItem__progress,children:s.jsx("div",{className:Ze.progressBar,children:s.jsx("div",{className:Ze.progressBar__fill,style:{width:`${_.clasesUsadas/_.clasesDisponibles*100}%`}})})})]},_.idPaquete))})]})]})]})]}):s.jsx("div",{className:Ze.container,children:s.jsxs("div",{className:Ze.error,children:[s.jsx("p",{children:"No se pudo cargar la información del usuario"}),s.jsx(nt,{onClick:d,children:"Volver"})]})})}function ED(e,t){return e>=t.horaInicio&&e<=t.horaFin}function Hpe(e,t){return e.find(r=>ED(t,r))??null}function L6(e){const[t,r]=e.split(":"),n=parseInt(t,10),a=n>=12?"PM":"AM";return`${n%12||12}:${r} ${a}`}function Vpe({clases:e,selectedClassId:t,onClassChange:r,currentTime:n}){return e.length===0?s.jsxs("div",{className:`\r
          flex items-center gap-2 sm:gap-3\r
          px-3 sm:px-4 py-2.5 sm:py-3\r
          backdrop-blur-xl\r
          bg-[rgba(30,30,36,0.6)]\r
          border border-[rgba(255,255,255,0.12)]\r
          rounded-xl\r
          text-[#6b7280]\r
          text-xs sm:text-sm\r
        `,role:"status","aria-label":"No hay clases programadas",children:[s.jsx(Tr,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0","aria-hidden":"true"}),s.jsx("span",{children:"No tienes clases programadas para hoy"})]}):e.length===1?null:s.jsxs("div",{className:"mb-4 sm:mb-6",role:"group","aria-label":"Selector de clases",children:[s.jsx("p",{className:"text-[#9ca3af] mb-2 sm:mb-3 text-xs sm:text-[14px] uppercase tracking-wide",children:"Tus clases de hoy"}),s.jsx("div",{className:"flex gap-2 sm:gap-3 overflow-x-auto pb-2 sm:pb-0 sm:flex-wrap -mx-4 px-4 sm:mx-0 sm:px-0 scrollbar-hide",children:e.map(a=>{const i=a.id===t,o=ED(n,a);return s.jsxs("button",{onClick:()=>r(a.id),"aria-pressed":i,"aria-label":`Seleccionar clase ${a.nombre}${o?", en curso":""}`,className:`
                group
                px-4 sm:px-6 py-3 sm:py-4 rounded-xl sm:rounded-2xl
                backdrop-blur-xl
                border-2
                transition-all duration-300
                flex items-center gap-3 sm:gap-4
                flex-shrink-0 sm:flex-shrink
                min-w-[200px] sm:min-w-0
                ${i?"bg-gradient-to-br from-[rgba(201,52,72,0.2)] to-[rgba(168,36,58,0.15)] border-[rgba(201,52,72,0.5)] shadow-[0_8px_24px_rgba(201,52,72,0.3)]":"bg-[rgba(42,42,48,0.6)] border-[rgba(255,255,255,0.15)] hover:border-[rgba(255,255,255,0.3)] hover:bg-[rgba(42,42,48,0.8)]"}
              `,children:[s.jsx("div",{className:`
                  p-2 sm:p-2.5 rounded-lg sm:rounded-xl backdrop-blur-sm flex-shrink-0
                  ${i?"bg-[rgba(201,52,72,0.3)]":"bg-[rgba(255,255,255,0.08)]"}
                `,children:s.jsx(Tr,{className:`
                    w-4 h-4 sm:w-5 sm:h-5
                    ${i?"text-[#e54d5e]":"text-[#9ca3af]"}
                  `,"aria-hidden":"true"})}),s.jsxs("div",{className:"text-left min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-0.5 sm:mb-1",children:[s.jsx("p",{className:`
                      font-semibold text-sm sm:text-base truncate
                      ${i?"text-[#f9fafb]":"text-[#d1d5db]"}
                    `,children:a.nombre}),o&&s.jsx("span",{className:`\r
                        px-1.5 sm:px-2 py-0.5 rounded-md text-[9px] sm:text-[11px] font-bold uppercase\r
                        bg-[rgba(201,52,72,0.3)] border border-[rgba(201,52,72,0.5)]\r
                        text-[#e54d5e] whitespace-nowrap flex-shrink-0\r
                      `,"data-testid":"en-curso-badge",role:"status",children:"En curso"})]}),s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[s.jsx(kr,{className:`
                      w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0
                      ${i?"text-[#9ca3af]":"text-[#6b7280]"}
                    `,"aria-hidden":"true"}),s.jsxs("p",{className:`
                      text-xs sm:text-[13px]
                      ${i?"text-[#d1d5db]":"text-[#9ca3af]"}
                    `,children:[L6(a.horaInicio)," - ",L6(a.horaFin)]})]})]}),i&&s.jsx("div",{className:"ml-auto flex-shrink-0",children:s.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-gradient-to-br from-[#e54d5e] to-[#c93448] flex items-center justify-center shadow-[0_4px_12px_rgba(201,52,72,0.4)]",children:s.jsx(da,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white",strokeWidth:3,"aria-hidden":"true"})})})]},a.id)})})]})}function R6({isPresent:e,onToggle:t,disabled:r=!1,isLoading:n=!1}){const a=r||n;return s.jsx("button",{type:"button",onClick:t,disabled:a,"aria-label":e?"Marcar como ausente":"Marcar como presente","aria-pressed":e,className:`
        group/toggle
        px-5 py-2.5 rounded-xl
        border-2
        backdrop-blur-xl
        transition-all duration-300
        flex items-center justify-center gap-2
        min-w-[120px]
        shadow-[0_4px_12px_rgba(0,0,0,0.2)]
        ${e?`
              bg-gradient-to-br from-[rgba(52,211,153,0.2)] to-[rgba(5,150,105,0.15)]
              border-[#34d399]
              shadow-[0_4px_16px_rgba(52,211,153,0.3)]
            `:`
              bg-[rgba(30,30,36,0.6)]
              border-[rgba(255,255,255,0.15)]
              hover:border-[rgba(255,255,255,0.25)]
              hover:bg-[rgba(42,42,48,0.7)]
            `}
        ${a?"opacity-50 cursor-not-allowed":"cursor-pointer group-hover/toggle:scale-105"}
      `,children:n?s.jsx(Zo,{className:"w-4 h-4 animate-spin text-[#9ca3af]"}):e?s.jsxs(s.Fragment,{children:[s.jsx(da,{className:"w-4 h-4 text-[#34d399]",strokeWidth:2.5}),s.jsx("span",{className:"text-[#34d399] font-semibold text-[13px] uppercase tracking-wide",children:"Presente"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ns,{className:"w-4 h-4 text-[#6b7280]",strokeWidth:2}),s.jsx("span",{className:"text-[#9ca3af] font-medium text-[13px] uppercase tracking-wide",children:"Ausente"})]})})}const Gpe={activo:{bgColor:"bg-[rgba(52,211,153,0.12)]",borderColor:"border-[rgba(52,211,153,0.25)]",textColor:"text-[#34d399]",icon:zI,label:"Paquete activo"},agotado:{bgColor:"bg-[rgba(239,68,68,0.15)]",borderColor:"border-[rgba(239,68,68,0.3)]",textColor:"text-[#fca5a5]",icon:rn,label:"Agotado"},sin_paquete:{bgColor:"bg-[rgba(245,158,11,0.15)]",borderColor:"border-[rgba(245,158,11,0.3)]",textColor:"text-[#fcd34d]",icon:rn,label:"Sin paquete"},clase_prueba:{bgColor:"bg-[rgba(124,90,248,0.15)]",borderColor:"border-[rgba(124,90,248,0.3)]",textColor:"text-[#9b8afb]",icon:Hc,label:"Clase prueba"}};function B6({estado:e}){const t=Gpe[e],r=t.icon;return s.jsxs("span",{className:`
        px-3 py-1.5 rounded-lg text-[12px] font-medium
        backdrop-blur-sm
        ${t.bgColor}
        border ${t.borderColor}
        ${t.textColor}
        flex items-center gap-1.5
      `,"data-testid":`package-badge-${e}`,"data-estado":e,role:"status","aria-label":`Estado del paquete: ${t.label}`,children:[s.jsx(r,{className:"w-3.5 h-3.5","aria-hidden":"true"}),t.label]})}function Kpe(e,t){let r=null;return(...n)=>{r&&clearTimeout(r),r=setTimeout(()=>{e(...n),r=null},t)}}function q6(){const e=new Date;return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}`}function Ype(e){return{id:e.idClase,nombre:e.tipoClase,horaInicio:e.horaInicio,horaFin:e.horaFin,tipoClase:e.tipoClase,totalAlumnos:e.totalAsistencias}}function Xpe(e){if(!e)return"sin_paquete";switch(e.toLowerCase()){case"activo":return"activo";case"agotado":return"agotado";case"congelado":return"sin_paquete";case"sinpaquete":case"sin_paquete":return"sin_paquete";default:return"sin_paquete"}}function Zpe(e,t){const[r,n]=w.useState(null),[a,i]=w.useState(q6()),[o,l]=w.useState({}),[c,u]=w.useState([]),d=w.useRef({}),{data:f,isLoading:m,error:h}=C0e(e,t,t),{data:g,isLoading:p,error:v}=P0e(r),b=SD(),j=CD(),A=w.useMemo(()=>f?.items?f.items.map(Ype):[],[f]),_=w.useMemo(()=>Hpe(A,a),[A,a]);w.useEffect(()=>{const P=setInterval(()=>{i(q6())},6e4);return()=>clearInterval(P)},[]),w.useEffect(()=>{A.length>0&&!r&&n(_?_.id:A[0].id)},[A,r,_]),w.useEffect(()=>{if(g){const P=g.map(C=>({id:C.idAlumno,nombre:C.nombreAlumno,documento:"",asistencia:C.presente,observacion:C.observacion||"",estadoPaquete:Xpe(typeof C.estadoPaquete=="number"?["Activo","Agotado","Congelado","SinPaquete"][C.estadoPaquete]:C.estadoPaquete),idAsistencia:C.idAsistencia||null}));u(P)}else u([])},[g]);const k=w.useMemo(()=>{const P=c.filter(V=>V.asistencia).length,C=c.filter(V=>!V.asistencia).length,F=c.filter(V=>V.estadoPaquete==="sin_paquete"||V.estadoPaquete==="clase_prueba").length;return{presentes:P,ausentes:C,alertas:F}},[c]),I=w.useCallback((P,C)=>{l(F=>{if(C)return{...F,[P]:!0};{const{[P]:V,...te}=F;return te}})},[]),T=w.useCallback(async P=>{if(!r)return;const C=c.find(V=>V.id===P);if(!C)return;const F=!C.asistencia;u(V=>V.map(te=>te.id===P?{...te,asistencia:F}:te)),I(P,!0);try{if(C.idAsistencia)await b.mutateAsync({idClase:r,idAlumno:P,data:{idAsistencia:C.idAsistencia,presente:F,observacion:C.observacion||void 0}});else{const V=await j.mutateAsync({idClase:r,idAlumno:P,data:{idClase:r,idAlumno:P,presente:F,observacion:C.observacion||void 0}});u(te=>te.map(de=>de.id===P?{...de,idAsistencia:V}:de))}F&&Wc.attendanceMarked()}catch{u(V=>V.map(te=>te.id===P?{...te,asistencia:!F}:te)),Wc.error("Error al actualizar asistencia")}finally{I(P,!1)}},[r,c,b,j,I]),M=w.useCallback(async(P,C)=>{if(!r)return;const F=c.find(V=>V.id===P);if(F){I(P,!0);try{if(F.idAsistencia)await b.mutateAsync({idClase:r,idAlumno:P,data:{idAsistencia:F.idAsistencia,presente:F.asistencia,observacion:C||void 0}});else{const V=await j.mutateAsync({idClase:r,idAlumno:P,data:{idClase:r,idAlumno:P,presente:F.asistencia,observacion:C||void 0}});u(te=>te.map(de=>de.id===P?{...de,idAsistencia:V}:de))}}catch{Wc.error("Error al guardar observación")}finally{I(P,!1)}}},[r,c,b,j,I]),O=w.useCallback((P,C)=>{u(F=>F.map(V=>V.id===P?{...V,observacion:C}:V)),d.current[P]||(d.current[P]=Kpe(F=>{M(P,F)},500)),d.current[P](C)},[M]),U=w.useCallback(P=>{n(P),u([]),d.current={}},[]);return{clasesDelDia:A,claseActual:_,estudiantes:c,selectedClassId:r,currentTime:a,isLoadingClases:m,isLoadingEstudiantes:p,isUpdatingAttendance:o,error:h||v,setSelectedClassId:U,toggleAttendance:T,updateObservation:O,counters:k}}function Jpe(e){if(!e)return"generic";const r=e?.status;return r===401?"auth":r===403?"permission":r===404?"notFound":e.message?.toLowerCase().includes("network")||e.message?.toLowerCase().includes("conexión")||e.message?.toLowerCase().includes("connection")?"network":"generic"}function Qpe(e){switch(e){case"auth":return s.jsx(gS,{className:"w-8 h-8 text-[#fbbf24]"});case"permission":return s.jsx(zv,{className:"w-8 h-8 text-[#fbbf24]"});case"notFound":return s.jsx(YI,{className:"w-8 h-8 text-[#9ca3af]"});case"network":return s.jsx(_7,{className:"w-8 h-8 text-[#ef4444]"});default:return s.jsx($p,{className:"w-8 h-8 text-[#ef4444]"})}}function e1e(e){switch(e){case"auth":case"permission":return"bg-[rgba(251,191,36,0.1)]";case"notFound":return"bg-[rgba(156,163,175,0.1)]";default:return"bg-[rgba(239,68,68,0.1)]"}}function t1e(e){switch(e){case"auth":case"permission":return"text-[#fbbf24]";case"notFound":return"text-[#9ca3af]";default:return"text-[#ef4444]"}}function r1e(e,t){const r=t;if(r?.message&&r.message!==Mf.DEFAULT)return r.message;switch(e){case"auth":return"Tu sesión ha expirado. Por favor, inicia sesión nuevamente.";case"permission":return Mf[403];case"notFound":return Mf[404];case"network":return"Error de conexión. Verifica tu conexión a internet.";default:return Mf.DEFAULT}}function n1e(e){switch(e){case"auth":return"Serás redirigido a la página de inicio de sesión";case"permission":return"Contacta al administrador si crees que deberías tener acceso";case"notFound":return"El recurso que buscas no existe o fue eliminado";case"network":return"Verifica tu conexión e intenta de nuevo";default:return"Por favor, intenta de nuevo más tarde"}}function a1e(e){return e!=="auth"&&e!=="permission"}function kD({message:e,error:t,onRetry:r,title:n,compact:a=!1}){const i=ii(),o=Jpe(t),l=e||r1e(o,t),c=n1e(o),u=a1e(o)&&r!==void 0,d=o==="auth",f=w.useCallback(()=>{i(Lo.LOGIN)},[i]);return a?s.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-[rgba(239,68,68,0.1)] border border-[rgba(239,68,68,0.2)]",children:[s.jsx($p,{className:"w-5 h-5 text-[#ef4444] flex-shrink-0"}),s.jsx("p",{className:"text-[#ef4444] text-sm",children:l}),u&&s.jsxs("button",{onClick:r,className:`\r
              ml-auto flex items-center gap-1.5\r
              px-3 py-1.5\r
              rounded-lg\r
              text-sm font-medium\r
              text-[#f9fafb]\r
              bg-[rgba(239,68,68,0.2)]\r
              hover:bg-[rgba(239,68,68,0.3)]\r
              transition-colors duration-200\r
            `,children:[s.jsx(ro,{className:"w-4 h-4"}),"Reintentar"]})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[s.jsx("div",{className:`
          w-16 h-16 mb-4 rounded-full 
          flex items-center justify-center
          ${e1e(o)}
        `,children:Qpe(o)}),n&&s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold mb-2",children:n}),s.jsx("p",{className:`text-lg mb-2 ${t1e(o)}`,children:l}),s.jsx("p",{className:"text-[#6b7280] text-sm mb-6 max-w-md",children:c}),s.jsxs("div",{className:"flex items-center gap-3",children:[u&&s.jsxs("button",{onClick:r,className:`\r
              flex items-center gap-2\r
              px-5 py-2.5\r
              rounded-xl\r
              backdrop-blur-xl\r
              bg-[rgba(201,52,72,0.2)]\r
              border border-[rgba(201,52,72,0.4)]\r
              text-[#f9fafb]\r
              font-medium\r
              transition-all duration-300\r
              hover:bg-[rgba(201,52,72,0.3)]\r
              hover:border-[rgba(201,52,72,0.6)]\r
              hover:scale-105\r
            `,children:[s.jsx(ro,{className:"w-4 h-4"}),"Reintentar"]}),d&&s.jsxs("button",{onClick:f,className:`\r
              flex items-center gap-2\r
              px-5 py-2.5\r
              rounded-xl\r
              backdrop-blur-xl\r
              bg-[rgba(251,191,36,0.2)]\r
              border border-[rgba(251,191,36,0.4)]\r
              text-[#fbbf24]\r
              font-medium\r
              transition-all duration-300\r
              hover:bg-[rgba(251,191,36,0.3)]\r
              hover:border-[rgba(251,191,36,0.6)]\r
              hover:scale-105\r
            `,children:[s.jsx(gS,{className:"w-4 h-4"}),"Iniciar sesión"]})]})]})}function i1e(e){const t=new Date(e+"T00:00:00"),r={weekday:"long",day:"numeric",month:"long"},n=t.toLocaleDateString("es-ES",r);return n.charAt(0).toUpperCase()+n.slice(1)}function s1e(e){const t=ho();return e===t}function o1e(){const e=new Date,t={weekday:"long",day:"numeric",month:"long"},r=e.toLocaleDateString("es-ES",t);return`Hoy · ${r.charAt(0).toUpperCase()+r.slice(1)}`}function z6(e){return e.substring(0,5)}function l1e(e,t,r){return r>=e&&r<=t}const c1e=()=>{const{session:e}=fo(),[t,r]=w.useState(()=>ho()),[n,a]=w.useState(!1),{data:i,isLoading:o,error:l}=Up(e.isAuthenticated),c=i?.idProfesor??null,{clasesDelDia:u,estudiantes:d,selectedClassId:f,currentTime:m,isLoadingClases:h,isLoadingEstudiantes:g,isUpdatingAttendance:p,error:v,setSelectedClassId:b,toggleAttendance:j,updateObservation:A,counters:_}=Zpe(c,t),k=o||c&&h,I=l||v,T=w.useMemo(()=>u.find(C=>C.id===f)??null,[u,f]),M=w.useMemo(()=>T?l1e(T.horaInicio,T.horaFin,m):!1,[T,m]),O=w.useMemo(()=>new Date(t+"T00:00:00"),[t]),U=C=>{if(C){const F=C.getFullYear(),V=String(C.getMonth()+1).padStart(2,"0"),te=String(C.getDate()).padStart(2,"0"),de=`${F}-${V}-${te}`;r(de),a(!1)}},P=C=>new Date(C+"T00:00:00").toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"});return s.jsxs(s.Fragment,{children:[s.jsx(Ph,{}),s.jsx(jh,{position:"bottom-right"}),s.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-[#0a0a0b]",children:[s.jsx(Mn,{variant:"warm"}),s.jsx(Ch,{text:"ASIST",orientation:"vertical",position:"right",size:240,opacity:.25}),s.jsx("div",{className:"absolute inset-0 opacity-[0.015] pointer-events-none",style:{backgroundImage:`
              linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
              linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)
            `,backgroundSize:"60px 60px"}}),s.jsx(no,{size:"w-20 h-20",position:"top-[12%] left-[5%]",color:"primary",delay:"0s"}),s.jsx(no,{size:"w-14 h-14",position:"bottom-[25%] right-[6%]",color:"secondary",delay:"1s"}),s.jsx(ei,{position:"top-[15%] right-[18%]",color:"#c93448",size:"w-3 h-3",delay:"0s"}),s.jsx(ei,{position:"top-[65%] left-[8%]",color:"#34d399",size:"w-2 h-2",delay:"1s"}),s.jsx(ei,{position:"bottom-[20%] right-[25%]",color:"#7c5af8",size:"w-4 h-4",delay:"1.5s"}),s.jsxs("div",{className:"relative z-10 p-4 sm:p-6 md:p-8 max-w-[1400px] mx-auto",children:[s.jsxs("header",{className:"mb-6 sm:mb-8",children:[s.jsxs("div",{className:`\r
                inline-flex items-center gap-2\r
                px-3 py-1.5 sm:px-4 sm:py-2 mb-4 sm:mb-5\r
                rounded-full\r
                backdrop-blur-xl\r
                bg-[rgba(201,52,72,0.15)]\r
                border border-[rgba(201,52,72,0.3)]\r
                text-[#e54d5e]\r
                text-xs sm:text-sm font-medium\r
                shadow-[0_4px_16px_rgba(201,52,72,0.2)]\r
              `,role:"status","aria-label":"Vista Profesor",children:[s.jsx(Zn,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4","aria-hidden":"true"}),"Vista Profesor"]}),s.jsx("h1",{className:"text-[#f9fafb] mb-2 sm:mb-3 tracking-tight text-3xl sm:text-4xl md:text-[48px]",style:{fontWeight:600,lineHeight:"1.1",letterSpacing:"-0.03em"},children:"Asistencia"}),s.jsx("p",{className:"text-[#d1d5db] max-w-xl mb-4 sm:mb-6 text-sm sm:text-base md:text-[17px]",style:{lineHeight:"1.6"},children:"Marca la asistencia de tu clase. Los cambios se guardan automáticamente."}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 mb-4 sm:mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"p-2 sm:p-2.5 rounded-xl bg-[rgba(124,90,248,0.15)] backdrop-blur-sm border border-[rgba(124,90,248,0.3)]",children:s.jsx(St,{className:"w-4 h-4 sm:w-5 sm:h-5 text-[#9b8afb]","aria-hidden":"true"})}),s.jsx("p",{className:"text-[#d1d5db] font-medium text-sm sm:text-base md:text-lg",children:s1e(t)?o1e():i1e(t)})]}),s.jsxs(Q6,{open:n,onOpenChange:a,children:[s.jsx(eS,{asChild:!0,children:s.jsxs("button",{type:"button","aria-label":`Fecha seleccionada: ${P(t)}. Presiona para cambiar`,"aria-expanded":n,"aria-haspopup":"dialog",className:`\r
                      flex items-center gap-2\r
                      px-3 py-2\r
                      backdrop-blur-xl\r
                      bg-[rgba(30,30,36,0.4)]\r
                      border border-[rgba(255,255,255,0.08)]\r
                      hover:border-[rgba(255,255,255,0.25)]\r
                      focus:border-[#c93448]\r
                      focus:bg-[rgba(30,30,36,0.6)]\r
                      focus:ring-2\r
                      focus:ring-[rgba(201,52,72,0.2)]\r
                      rounded-lg\r
                      text-[#f9fafb]\r
                      text-sm\r
                      outline-none\r
                      transition-all duration-200\r
                      cursor-pointer\r
                      shadow-[inset_0_2px_4px_rgba(0,0,0,0.3)]\r
                    `,children:[s.jsx(St,{className:"w-4 h-4 text-[#6b7280]","aria-hidden":"true"}),s.jsx("span",{children:P(t)})]})}),s.jsx(tS,{className:"w-auto p-0",align:"start",children:s.jsx(JS,{selected:O,onSelect:U,defaultMonth:O})})]})]}),k?s.jsxs("div",{className:"flex gap-3 mb-6",children:[s.jsx(Ge,{className:"h-20 w-64 rounded-2xl"}),s.jsx(Ge,{className:"h-20 w-64 rounded-2xl"})]}):s.jsx(Vpe,{clases:u,selectedClassId:f,onClassChange:b,currentTime:m}),T&&s.jsx(u1e,{clase:T,isEnCurso:M,totalAlumnos:d.length,presentes:_.presentes,ausentes:_.ausentes})]}),s.jsx(Ye,{className:"overflow-hidden",children:I?s.jsx(kD,{message:"Error al cargar las asistencias",error:I,onRetry:()=>b(f)}):f?g?s.jsx(p1e,{}):d.length===0?s.jsx(m1e,{}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block p-6 border-b border-[rgba(255,255,255,0.08)] bg-[rgba(255,255,255,0.02)]",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsx("div",{className:"col-span-4",children:s.jsx("p",{className:"text-[#9ca3af] uppercase tracking-[0.1em] text-[12px] font-medium",children:"Alumno"})}),s.jsx("div",{className:"col-span-2 text-center",children:s.jsx("p",{className:"text-[#9ca3af] uppercase tracking-[0.1em] text-[12px] font-medium",children:"Estado"})}),s.jsx("div",{className:"col-span-3",children:s.jsx("p",{className:"text-[#9ca3af] uppercase tracking-[0.1em] text-[12px] font-medium",children:"Observación"})}),s.jsx("div",{className:"col-span-3",children:s.jsx("p",{className:"text-[#9ca3af] uppercase tracking-[0.1em] text-[12px] font-medium",children:"Info"})})]})}),s.jsx("div",{className:"divide-y divide-[rgba(255,255,255,0.05)]",role:"list","aria-label":"Lista de estudiantes",children:d.map(C=>s.jsx(d1e,{estudiante:C,onToggle:()=>j(C.id),onObservacionChange:F=>A(C.id,F),isUpdating:p[C.id]??!1},C.id))}),s.jsx(f1e,{presentes:_.presentes,ausentes:_.ausentes,alertas:_.alertas})]}):s.jsx(h1e,{})})]})]})]})};function u1e({clase:e,isEnCurso:t,totalAlumnos:r,presentes:n,ausentes:a}){return s.jsx("div",{className:`\r
        backdrop-blur-2xl\r
        bg-gradient-to-br from-[rgba(201,52,72,0.15)] to-[rgba(168,36,58,0.1)]\r
        border border-[rgba(201,52,72,0.3)]\r
        rounded-2xl\r
        p-4 sm:p-6\r
        shadow-[0_12px_32px_rgba(201,52,72,0.2),inset_0_2px_4px_rgba(255,255,255,0.1)]\r
      `,role:"region","aria-label":`Información de la clase ${e.nombre}`,children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-start sm:items-center gap-3 sm:gap-4",children:[s.jsx("div",{className:"p-2.5 sm:p-3 rounded-xl bg-[rgba(201,52,72,0.3)] backdrop-blur-sm flex-shrink-0",children:s.jsx(Tr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#e54d5e]","aria-hidden":"true"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mb-1",children:[s.jsx("h2",{className:"text-[#f9fafb] font-semibold text-lg sm:text-xl md:text-2xl truncate",children:e.nombre}),t&&s.jsx("span",{className:`\r
                    px-2 sm:px-3 py-0.5 sm:py-1 rounded-lg text-[10px] sm:text-[12px] font-bold uppercase\r
                    bg-[rgba(201,52,72,0.3)] border border-[rgba(201,52,72,0.5)]\r
                    text-[#e54d5e] whitespace-nowrap flex-shrink-0\r
                  `,role:"status","aria-label":"Clase en curso",children:"🔥 En curso ahora"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[#d1d5db]",children:[s.jsx(kr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-[#9ca3af] flex-shrink-0","aria-hidden":"true"}),s.jsxs("span",{className:"text-sm sm:text-[15px]",children:[z6(e.horaInicio)," - ",z6(e.horaFin)]})]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 pt-4 border-t border-[rgba(255,255,255,0.15)]",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zn,{className:"w-4 h-4 text-[#9ca3af]","aria-hidden":"true"}),s.jsxs("span",{className:"text-[#d1d5db] text-xs sm:text-[14px]",children:[r," alumnos"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(da,{className:"w-4 h-4 text-[#34d399]","aria-hidden":"true"}),s.jsxs("span",{className:"text-[#34d399] text-xs sm:text-[14px] font-medium",children:[n," presentes"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ns,{className:"w-4 h-4 text-[#6b7280]","aria-hidden":"true"}),s.jsxs("span",{className:"text-[#6b7280] text-xs sm:text-[14px]",children:[a," ausentes"]})]})]})]})})}function d1e({estudiante:e,onToggle:t,onObservacionChange:r,isUpdating:n}){const a=e.nombre.split(" ").map(i=>i[0]).join("").substring(0,2).toUpperCase();return s.jsxs("div",{className:"p-4 sm:p-6 hover:bg-[rgba(255,255,255,0.02)] transition-colors duration-200 group",role:"listitem","aria-label":`Asistencia de ${e.nombre}`,children:[s.jsxs("div",{className:"md:hidden",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:`
                w-10 h-10 rounded-xl flex-shrink-0
                flex items-center justify-center
                backdrop-blur-sm border
                transition-all duration-300
                ${e.asistencia?"bg-gradient-to-br from-[rgba(52,211,153,0.25)] to-[rgba(5,150,105,0.2)] border-[rgba(52,211,153,0.4)]":"bg-gradient-to-br from-[rgba(156,163,175,0.15)] to-[rgba(107,114,128,0.1)] border-[rgba(255,255,255,0.1)]"}
              `,"aria-hidden":"true",children:s.jsx("span",{className:`
                  font-medium text-[13px]
                  ${e.asistencia?"text-[#6ee7b7]":"text-[#9ca3af]"}
                `,children:a})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-[#f9fafb] font-medium text-sm truncate",children:e.nombre}),e.documento&&s.jsxs("p",{className:"text-[#6b7280] text-xs mt-0.5 truncate",children:["DNI: ",e.documento]})]})]}),s.jsx(R6,{isPresent:e.asistencia,onToggle:t,isLoading:n})]}),s.jsx("div",{className:"mb-3",children:s.jsx(B6,{estado:e.estadoPaquete})}),s.jsx("input",{type:"text",value:e.observacion,onChange:i=>r(i.target.value),placeholder:"Nota opcional...","aria-label":`Observación para ${e.nombre}`,className:`\r
            w-full\r
            px-3 py-2\r
            backdrop-blur-xl\r
            bg-[rgba(30,30,36,0.4)]\r
            border border-[rgba(255,255,255,0.08)]\r
            focus:border-[#c93448]\r
            focus:bg-[rgba(30,30,36,0.6)]\r
            focus:ring-2\r
            focus:ring-[rgba(201,52,72,0.2)]\r
            rounded-lg\r
            text-[#f9fafb]\r
            text-sm\r
            placeholder-[#4b5563]\r
            outline-none\r
            transition-all duration-200\r
          `})]}),s.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-4 items-center",children:[s.jsx("div",{className:"col-span-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`
                w-11 h-11 rounded-xl
                flex items-center justify-center
                backdrop-blur-sm border
                transition-all duration-300
                ${e.asistencia?"bg-gradient-to-br from-[rgba(52,211,153,0.25)] to-[rgba(5,150,105,0.2)] border-[rgba(52,211,153,0.4)]":"bg-gradient-to-br from-[rgba(156,163,175,0.15)] to-[rgba(107,114,128,0.1)] border-[rgba(255,255,255,0.1)]"}
              `,"aria-hidden":"true",children:s.jsx("span",{className:`
                  font-medium text-[14px]
                  ${e.asistencia?"text-[#6ee7b7]":"text-[#9ca3af]"}
                `,children:a})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#f9fafb] font-medium",style:{fontSize:"15px"},children:e.nombre}),e.documento&&s.jsxs("p",{className:"text-[#6b7280] text-[13px] mt-0.5",children:["DNI: ",e.documento]})]})]})}),s.jsx("div",{className:"col-span-2",children:s.jsx("div",{className:"flex justify-center",children:s.jsx(R6,{isPresent:e.asistencia,onToggle:t,isLoading:n})})}),s.jsx("div",{className:"col-span-3",children:s.jsx("input",{type:"text",value:e.observacion,onChange:i=>r(i.target.value),placeholder:"Nota opcional...","aria-label":`Observación para ${e.nombre}`,className:`\r
              w-full\r
              px-3 py-2\r
              backdrop-blur-xl\r
              bg-[rgba(30,30,36,0.4)]\r
              border border-[rgba(255,255,255,0.08)]\r
              focus:border-[#c93448]\r
              focus:bg-[rgba(30,30,36,0.6)]\r
              focus:ring-2\r
              focus:ring-[rgba(201,52,72,0.2)]\r
              rounded-lg\r
              text-[#f9fafb]\r
              text-[13px]\r
              placeholder-[#4b5563]\r
              outline-none\r
              transition-all duration-200\r
            `})}),s.jsx("div",{className:"col-span-3 flex items-center gap-2 flex-wrap",children:s.jsx(B6,{estado:e.estadoPaquete})})]})]})}function f1e({presentes:e,ausentes:t,alertas:r}){return s.jsx("div",{className:"p-4 sm:p-6 border-t border-[rgba(255,255,255,0.08)] bg-[rgba(255,255,255,0.02)] backdrop-blur-sm",role:"region","aria-label":"Resumen de asistencias",children:s.jsxs("div",{className:"flex flex-col gap-4 sm:gap-6 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 md:gap-8",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"p-2 sm:p-2.5 rounded-lg bg-[rgba(52,211,153,0.15)] backdrop-blur-sm",children:s.jsx(da,{className:"w-4 h-4 sm:w-5 sm:h-5 text-[#34d399]","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#9ca3af] text-[11px] sm:text-[12px]",children:"Presentes"}),s.jsx("p",{className:"text-[#f9fafb] font-semibold text-base sm:text-lg md:text-xl","aria-live":"polite",children:e})]})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"p-2 sm:p-2.5 rounded-lg bg-[rgba(156,163,175,0.15)] backdrop-blur-sm",children:s.jsx(ns,{className:"w-4 h-4 sm:w-5 sm:h-5 text-[#9ca3af]","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#9ca3af] text-[11px] sm:text-[12px]",children:"Ausentes"}),s.jsx("p",{className:"text-[#f9fafb] font-semibold text-base sm:text-lg md:text-xl","aria-live":"polite",children:t})]})]}),r>0&&s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"p-2 sm:p-2.5 rounded-lg bg-[rgba(245,158,11,0.15)] backdrop-blur-sm",children:s.jsx(rn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-[#f59e0b]","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#9ca3af] text-[11px] sm:text-[12px]",children:"Alertas"}),s.jsx("p",{className:"text-[#f9fafb] font-semibold text-base sm:text-lg md:text-xl","aria-live":"polite",children:r})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-xl backdrop-blur-sm bg-[rgba(124,90,248,0.1)] border border-[rgba(124,90,248,0.2)]",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-[#7c5af8] animate-pulse","aria-hidden":"true"}),s.jsx("p",{className:"text-[#9b8afb] text-xs sm:text-[13px] font-medium",children:"Los cambios se guardan automáticamente"})]})]})})}function h1e(){return s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[s.jsx("div",{className:"w-16 h-16 mb-4 rounded-full bg-[rgba(156,163,175,0.1)] flex items-center justify-center",children:s.jsx(St,{className:"w-8 h-8 text-[#6b7280]"})}),s.jsx("p",{className:"text-[#9ca3af] text-lg mb-2",children:"No hay clases seleccionadas"}),s.jsx("p",{className:"text-[#6b7280] text-sm",children:"Selecciona una clase para ver los alumnos"})]})}function m1e(){return s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[s.jsx("div",{className:"w-16 h-16 mb-4 rounded-full bg-[rgba(156,163,175,0.1)] flex items-center justify-center",children:s.jsx(Zn,{className:"w-8 h-8 text-[#6b7280]"})}),s.jsx("p",{className:"text-[#9ca3af] text-lg mb-2",children:"No hay alumnos en esta clase"}),s.jsx("p",{className:"text-[#6b7280] text-sm",children:"Esta clase no tiene alumnos inscritos"})]})}function p1e(){return s.jsxs("div",{className:"space-y-4 p-6",children:[s.jsxs("div",{className:"flex gap-4 pb-4 border-b border-[rgba(255,255,255,0.1)]",children:[s.jsx(Ge,{className:"h-4 w-32"}),s.jsx(Ge,{className:"h-4 w-24"}),s.jsx(Ge,{className:"h-4 w-28"}),s.jsx(Ge,{className:"h-4 w-20"})]}),[1,2,3,4,5].map(e=>s.jsxs("div",{className:"flex items-center gap-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-3 w-48",children:[s.jsx(Vp,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jn,{className:"w-28"}),s.jsx(jn,{className:"w-20 h-3"})]})]}),s.jsx("div",{className:"w-32",children:s.jsx(Ge,{className:"h-10 w-28 rounded-xl"})}),s.jsx("div",{className:"flex-1",children:s.jsx(Ge,{className:"h-10 w-full rounded-lg"})}),s.jsx("div",{className:"w-28",children:s.jsx(Ge,{className:"h-8 w-24 rounded-lg"})})]},e))]})}function x1e(){return s.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>s.jsx(Tm,{className:"h-48"},e))})}function $6(){return s.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(e=>s.jsx(Ge,{className:"h-20"},e))})}function g1e(){return s.jsxs(Ye,{className:"p-8 text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-4 rounded-full bg-white/5",children:s.jsx(Wp,{className:"w-10 h-10 text-gray-400"})})}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"No tienes clases hoy"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Disfruta tu día libre o revisa tus próximas clases"})]})}function v1e(){return s.jsxs("div",{className:"p-6 text-center",children:[s.jsx(St,{className:"w-8 h-8 text-gray-500 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"No hay clases próximas programadas"})]})}function b1e({clase:e,onViewDetail:t}){const r=kd(e.fecha);return s.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/[0.08] transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx(di,{variant:"info",shape:"pill",className:"mb-2 text-xs",children:r}),s.jsx("h4",{className:"text-white font-medium",children:e.nombre})]}),s.jsx("button",{onClick:()=>t(e),className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Ver detalle"})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[s.jsxs("span",{children:[hi(e.horaInicio)," - ",hi(e.horaFin)]}),s.jsx("span",{children:e.ubicacion}),s.jsxs("span",{children:[e.inscriptos," inscriptos"]})]})]})}function y1e({clase:e,onViewResumen:t,onViewDetail:r}){const n=e.porcentajeAsistencia||0,a=n>=80?"text-emerald-400":n>=65?"text-yellow-400":"text-red-400";return s.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-xs mb-1 capitalize",children:kd(e.fecha,!0)}),s.jsx("h4",{className:"text-white font-medium",children:e.nombre}),s.jsx("p",{className:"text-gray-400 text-sm",children:e.tipo})]}),s.jsx(di,{variant:e.estado==="finalizada"?"success":"none",shape:"pill",children:e.estado==="finalizada"?"Dictada":"Cancelada"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Asistencia:"}),s.jsxs("span",{className:`font-semibold ${a}`,children:[n,"%"]}),s.jsxs("span",{className:"text-gray-500 text-sm",children:["(",e.asistenciaReal||0,"/",e.inscriptos,")"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(nt,{variant:"ghost",size:"sm",onClick:()=>t(e),className:"text-xs",children:[s.jsx(Uc,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:"Ver Resumen"})]}),s.jsxs(nt,{variant:"ghost",size:"sm",onClick:()=>r(e),className:"text-xs",children:[s.jsx(du,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:"Ver"})]})]})]})]})}function w1e({selected:e,onChange:t}){const r=[{value:"ultimos_7",label:"Últimos 7 días"},{value:"ultimos_30",label:"Últimos 30 días"},{value:"este_mes",label:"Este mes"}];return s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(n=>s.jsx("button",{onClick:()=>t(n.value),className:`px-3 py-1.5 rounded-lg text-sm transition-all ${e===n.value?"bg-[#c93448]/20 border border-[#c93448]/40 text-white":"bg-white/5 border border-white/10 text-gray-400 hover:bg-white/10"}`,children:n.label},n.value))})}function N1e(){const{clasesHoy:e,proximasClases:t,clasesAnteriores:r,isLoading:n,error:a,filtroAnterior:i,showClasesAnteriores:o,setFiltroAnterior:l,toggleClasesAnteriores:c,setResumenClaseId:u,setSelectedClaseId:d,fechaFormateada:f,diaSemanaActual:m}=YL(),[h,g]=w.useState(!1),[p,v]=w.useState(!1),[b,j]=w.useState(null),A=w.useCallback(T=>{j(T),d(T.id),g(!0)},[d]),_=w.useCallback(T=>{j(T),u(T.id),v(!0)},[u]),k=w.useCallback(()=>{g(!1),j(null),d(null)},[d]),I=w.useCallback(()=>{v(!1),j(null),u(null)},[u]);return s.jsxs(s.Fragment,{children:[s.jsx(Ph,{}),s.jsx(jh,{position:"bottom-center"}),s.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-[#0a0a0b]",children:[s.jsx(Mn,{variant:"warm"}),s.jsx(Ch,{text:"CLASES",orientation:"vertical",position:"right",size:240,opacity:.3}),s.jsx("div",{className:"absolute inset-0 opacity-[0.02] pointer-events-none",style:{backgroundImage:`
              linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
              linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)
            `,backgroundSize:"60px 60px"}}),s.jsx(no,{size:"w-24 h-24",position:"top-[40%] right-[2%]",color:"primary",delay:"0s"}),s.jsx(no,{size:"w-16 h-16",position:"bottom-[20%] left-[3%]",color:"success",delay:"1s"}),s.jsx(ei,{position:"top-[20%] right-[12%]",color:"#c93448",size:"w-3 h-3",delay:"0s"}),s.jsx(ei,{position:"top-[55%] left-[6%]",color:"#34d399",size:"w-2 h-2",delay:"1s"}),s.jsx(ei,{position:"bottom-[30%] right-[18%]",color:"#7c5af8",size:"w-4 h-4",delay:"1.5s"}),s.jsxs("div",{className:"relative z-10 p-4 sm:p-6 md:p-8 md:pl-[4%] md:pr-[4%] lg:pl-[6%] lg:pr-[6%]",children:[s.jsxs("div",{className:"mb-6 md:mb-10 max-w-[1600px]",children:[s.jsx(db,{color:"info",className:"mb-4 sm:mb-6",children:"Vista Profesor"}),s.jsx("h1",{className:"text-[#f9fafb] mb-3 sm:mb-4 tracking-tight text-3xl sm:text-4xl md:text-[48px]",style:{fontWeight:600,lineHeight:"1.1",letterSpacing:"-0.03em"},children:"Mis Clases"}),s.jsx("p",{className:"text-[#d1d5db] max-w-2xl text-sm sm:text-base md:text-lg",style:{lineHeight:"1.6"},children:"Consulta tus clases programadas y accede al registro de asistencia"})]}),s.jsxs("div",{className:"max-w-[1600px] grid grid-cols-1 lg:grid-cols-12 gap-6",children:[s.jsxs("div",{className:"lg:col-span-7",children:[s.jsxs(Ye,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 rounded-lg bg-[#c93448]/20",children:s.jsx(Wp,{className:"w-5 h-5 text-[#c93448]"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Clases de Hoy"}),s.jsxs("p",{className:"text-gray-400 text-sm capitalize",children:[m,", ",f]})]})]}),n?s.jsx(x1e,{}):a?s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-red-400",children:"Error al cargar las clases"})}):e.length===0?s.jsx(g1e,{}):s.jsx("div",{className:"space-y-4",children:e.map(T=>s.jsx(FL,{clase:T,onViewDetail:A},T.id))})]}),s.jsxs(Ye,{className:"p-6 mt-6",children:[s.jsxs("button",{onClick:c,className:"w-full flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-gray-500/20",children:s.jsx(ob,{className:"w-5 h-5 text-gray-400"})}),s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Clases Anteriores"})]}),o?s.jsx(Bp,{className:"w-5 h-5 text-gray-400"}):s.jsx(qp,{className:"w-5 h-5 text-gray-400"})]}),o&&s.jsxs("div",{className:"mt-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx(w1e,{selected:i,onChange:l})}),n?s.jsx($6,{}):r.length===0?s.jsx("p",{className:"text-gray-400 text-sm text-center py-6",children:"No hay clases en este período"}):s.jsx("div",{className:"space-y-3",children:r.map(T=>s.jsx(y1e,{clase:T,onViewResumen:_,onViewDetail:A},T.id))})]})]})]}),s.jsx("div",{className:"lg:col-span-5",children:s.jsxs(Ye,{className:"p-6 sticky top-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-500/20",children:s.jsx(St,{className:"w-5 h-5 text-purple-400"})}),s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Próximas Clases"})]}),n?s.jsx($6,{}):t.length===0?s.jsx(v1e,{}):s.jsxs("div",{className:"space-y-3",children:[t.slice(0,5).map(T=>s.jsx(b1e,{clase:T,onViewDetail:A},T.id)),t.length>5&&s.jsxs("p",{className:"text-gray-500 text-sm text-center pt-2",children:["+",t.length-5," clases más"]})]})]})})]})]})]}),s.jsx(gb,{idClase:b?.id||null,isOpen:h,onClose:k}),s.jsx(zL,{isOpen:p,onClose:I,clase:b})]})}const j1e=({grafica:e})=>{if(!e||!e.datasets||e.datasets.length===0)return s.jsxs(Ye,{className:"p-6 lg:col-span-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold mb-1",children:"Asistencia en Mis Clases"}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Últimos 30 días"})]}),s.jsx("div",{className:"p-2 rounded-lg bg-[rgba(52,211,153,0.15)] border border-[rgba(52,211,153,0.3)]",children:s.jsx(Bv,{className:"w-5 h-5 text-[#34d399]"})})]}),s.jsx("div",{className:"h-[250px] flex items-center justify-center",children:s.jsx("p",{className:"text-[#9ca3af]",children:"No hay datos disponibles"})})]});const t=e.labels.map((r,n)=>({fecha:r,porcentaje:e.datasets[0]?.data[n]||0}));return s.jsxs(Ye,{className:"p-6 lg:col-span-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold mb-1",children:"Asistencia en Mis Clases"}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Últimos 30 días"})]}),s.jsx("div",{className:"p-2 rounded-lg bg-[rgba(52,211,153,0.15)] border border-[rgba(52,211,153,0.3)]",children:s.jsx(Bv,{className:"w-5 h-5 text-[#34d399]"})})]}),s.jsx(ni,{width:"100%",height:250,children:s.jsxs(nu,{data:t,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorAsistenciaProfesor",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#34d399",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#059669",stopOpacity:.6})]})}),s.jsx(Bi,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.05)"}),s.jsx(qi,{dataKey:"fecha",stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(zi,{stroke:"#6b7280",style:{fontSize:"12px"},tickFormatter:r=>`${r}%`}),s.jsx(ai,{contentStyle:{backgroundColor:"rgba(26, 26, 32, 0.9)",border:"1px solid rgba(255,255,255,0.15)",borderRadius:"12px",backdropFilter:"blur(20px)",color:"#f9fafb"},formatter:r=>r!==void 0?[`${r}%`,"Asistencia"]:["0%","Asistencia"]}),s.jsx(ic,{dataKey:"porcentaje",fill:"url(#colorAsistenciaProfesor)",radius:[8,8,0,0]})]})}),s.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2",children:[s.jsx(ua,{className:"w-4 h-4 text-[#34d399]"}),s.jsx("span",{className:"text-[#34d399] text-sm font-medium",children:"+3% vs semana anterior"})]})]})};function Z2(e){if(!e)return"";const t=e.split(":");return t.length<2?e:`${t[0]}:${t[1]}`}function _1e(){const e=new Date().getHours();return e<12?"Buenos días":e<19?"Buenas tardes":"Buenas noches"}function A1e(){return new Date().toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})}function S1e(e){return new Date(e).toLocaleDateString("es-ES",{weekday:"short"}).toUpperCase().substring(0,3)}function C1e(e){return new Date(e).getDate().toString()}function P1e(e){const r=new Date(e).toLocaleDateString("es-ES",{weekday:"long"});return r.charAt(0).toUpperCase()+r.slice(1)}const E1e=({clase:e,onRegistrarAsistencia:t})=>{const r=e.estado==="en-curso",n=e.minutosParaInicio&&e.minutosParaInicio<30,a={programada:{bg:"rgba(59, 130, 246, 0.15)",border:"rgba(59, 130, 246, 0.3)",text:"#93c5fd",label:"Programada"},"en-curso":{bg:"rgba(52, 211, 153, 0.15)",border:"rgba(52, 211, 153, 0.3)",text:"#6ee7b7",label:"En curso"},finalizada:{bg:"rgba(156, 163, 175, 0.15)",border:"rgba(156, 163, 175, 0.3)",text:"#d1d5db",label:"Finalizada"}}[e.estado],i=()=>{if(!e.minutosParaInicio)return"";const o=e.minutosParaInicio;if(o<60)return`Empieza en ${o} min`;const l=Math.floor(o/60),c=o%60;return`Empieza en ${l}h ${c}min`};return s.jsxs(Ye,{className:`p-6 group transition-all duration-300 ${r?"ring-2 ring-[#34d399] shadow-[0_8px_32px_rgba(52,211,153,0.3)]":"hover:scale-[1.02]"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-[#f9fafb] text-lg font-semibold mb-1",children:e.nombre}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[#9ca3af] text-sm",children:e.nivel}),s.jsx("span",{className:"w-1 h-1 rounded-full bg-[#6b7280]"}),s.jsx("span",{className:"text-[#9ca3af] text-sm capitalize",children:e.tipo})]})]}),s.jsx("span",{className:"px-3 py-1 rounded-lg text-xs font-medium border whitespace-nowrap",style:{background:a.bg,borderColor:a.border,color:a.text},children:a.label})]}),s.jsxs("div",{className:"flex items-center gap-3 mb-4 p-3 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.05)]",children:[s.jsx(kr,{className:"w-5 h-5 text-[#7c5af8]"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-[#f9fafb] font-medium",children:[Z2(e.horaInicio)," - ",Z2(e.horaFin)]}),e.minutosParaInicio!==void 0&&e.estado==="programada"&&s.jsx("p",{className:`text-sm ${n?"text-[#f59e0b]":"text-[#9ca3af]"}`,children:i()})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-5 text-[#d1d5db] text-sm",children:[s.jsx(Zn,{className:"w-4 h-4 text-[#9ca3af]"}),s.jsx("span",{children:e.alumnosPresentes!==void 0?`${e.alumnosPresentes}/${e.alumnosEsperados} presentes`:`${e.alumnosEsperados} alumnos esperados`})]}),s.jsx("button",{onClick:()=>t(e.idClase),className:`
          w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl transition-all duration-300
          ${r?"bg-gradient-to-r from-[#34d399] to-[#059669] text-white shadow-[0_4px_16px_rgba(52,211,153,0.4)] hover:shadow-[0_8px_24px_rgba(52,211,153,0.5)]":"bg-gradient-to-r from-[#7c5af8] to-[#6938ef] text-white shadow-[0_4px_16px_rgba(124,90,248,0.4)] hover:shadow-[0_8px_24px_rgba(124,90,248,0.5)]"}
          hover:scale-[1.02] font-medium
        `,children:r?s.jsxs(s.Fragment,{children:[s.jsx(l7,{className:"w-5 h-5"}),"Registrar Asistencia Ahora"]}):s.jsxs(s.Fragment,{children:[s.jsx(da,{className:"w-5 h-5"}),"Registrar Asistencia"]})})]})},k1e=({clases:e,onRegistrarAsistencia:t})=>s.jsxs("div",{className:"mb-8 md:mb-10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(St,{className:"w-6 h-6 text-[#7c5af8]"}),s.jsx("h2",{className:"text-[#f9fafb] text-2xl font-bold",children:"Clases de Hoy"}),s.jsxs("span",{className:"px-3 py-1 rounded-full bg-[rgba(124,90,248,0.15)] border border-[rgba(124,90,248,0.3)] text-[#9b8afb] text-sm font-medium",children:[e.length," ",e.length===1?"clase":"clases"]}),s.jsx("div",{className:"flex-1 h-[2px] bg-gradient-to-r from-[rgba(255,255,255,0.08)] to-transparent"})]}),e.length>0?s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:e.map(r=>s.jsx(E1e,{clase:r,onRegistrarAsistencia:t},r.idClase))}):s.jsxs(Ye,{className:"p-12 text-center",children:[s.jsx(St,{className:"w-16 h-16 text-[#6b7280] mx-auto mb-4"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold mb-2",children:"Hoy no tienes clases programadas"}),s.jsx("p",{className:"text-[#9ca3af]",children:"¡Disfruta tu día!"})]})]}),T1e=({nombreProfesor:e,academyName:t="Academia Chetango",rating:r=4.9})=>{const n=_1e(),a=A1e();return s.jsx("header",{className:"mb-10 md:mb-12",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-[#7c5af8] shadow-[0_0_8px_rgba(124,90,248,0.6)] animate-pulse"}),s.jsx("p",{className:"text-[#9ca3af] tracking-[0.2em] uppercase text-sm",children:"Dashboard Profesor"})]}),s.jsxs("h1",{className:"text-[#f9fafb] text-3xl md:text-4xl font-bold mb-3",children:[n,", Prof. ",e]}),s.jsxs("p",{className:"text-[#d1d5db] text-lg",children:["Estas son tus clases y actividad de hoy – ",a]})]}),s.jsxs(Ye,{className:"p-5 md:min-w-[280px]",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-[#7c5af8] to-[#6938ef] flex items-center justify-center shadow-[0_4px_16px_rgba(124,90,248,0.4)]",children:s.jsx(Jn,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-[#f9fafb] font-medium mb-0.5",children:e}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Profesor"})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-[rgba(255,255,255,0.1)]",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cS,{className:"w-4 h-4 text-[#9ca3af]"}),s.jsx("p",{className:"text-[#d1d5db] text-sm",children:t})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(zp,{className:"w-4 h-4 text-[#f59e0b] fill-[#f59e0b]"}),s.jsx("span",{className:"text-[#f59e0b] text-sm font-medium",children:r})]})]})})]})]})})},O1e=({title:e,value:t,subtitle:r,icon:n,color:a,bgColor:i})=>s.jsxs(Ye,{className:"p-6 group hover:scale-[1.03] transition-all duration-300 cursor-pointer",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsx("div",{className:"p-3 backdrop-blur-md rounded-xl",style:{background:i,color:a},children:s.jsx(n,{className:"w-5 h-5"})})}),s.jsx("h3",{className:"text-[#f9fafb] text-2xl md:text-3xl font-bold mb-1",children:t}),s.jsx("p",{className:"text-[#9ca3af] text-sm mb-1",children:e}),s.jsx("p",{className:"text-[#6b7280] text-xs",children:r})]}),D1e=({kpis:e})=>{const t=[{id:"clases-mes",title:"Clases Dictadas",value:e.clasesDictadasMes,subtitle:"En enero 2026",icon:mS,color:"#7c5af8",bgColor:"rgba(124, 90, 248, 0.15)"},{id:"promedio-asistencia",title:"Promedio de Asistencia",value:`${e.promedioAsistencia30Dias}%`,subtitle:"Últimos 30 días",icon:ua,color:"#34d399",bgColor:"rgba(52, 211, 153, 0.15)"},{id:"alumnos-unicos",title:"Alumnos Únicos",value:e.alumnosUnicosMes,subtitle:"Este mes",icon:Zn,color:"#c93448",bgColor:"rgba(201, 52, 72, 0.15)"},{id:"clases-semana",title:"Clases Esta Semana",value:e.clasesEstaSemana,subtitle:`${e.clasesCompletadasSemana} completadas`,icon:St,color:"#f59e0b",bgColor:"rgba(245, 158, 11, 0.15)"}];return s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8 md:mb-10",children:t.map(r=>s.jsx(O1e,{...r},r.id))})},I1e=({clases:e})=>{const t=ii(),r=e.slice(0,4);return r.length===0?null:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(kr,{className:"w-5 h-5 text-[#f59e0b]"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Próximas Clases"}),s.jsx("div",{className:"flex-1 h-[2px] bg-gradient-to-r from-[rgba(255,255,255,0.08)] to-transparent"})]}),s.jsxs(Ye,{className:"p-6",children:[s.jsx("div",{className:"space-y-3",children:r.map(n=>s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-[rgba(255,255,255,0.02)] hover:bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.05)] hover:border-[rgba(255,255,255,0.1)] transition-all duration-300 cursor-pointer group",onClick:()=>t("/profesor/classes"),children:[s.jsxs("div",{className:"flex-shrink-0 text-center p-3 rounded-lg bg-[rgba(124,90,248,0.15)] border border-[rgba(124,90,248,0.3)]",children:[s.jsx("p",{className:"text-[#9b8afb] text-xs font-medium uppercase",children:S1e(n.fecha)}),s.jsx("p",{className:"text-[#7c5af8] font-semibold text-lg",children:C1e(n.fecha)})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-[#f9fafb] font-medium mb-1",children:n.tipoClase}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kr,{className:"w-3.5 h-3.5 text-[#9ca3af]"}),s.jsx("span",{className:"text-[#9ca3af] text-sm",children:Z2(n.horaInicio)}),s.jsx("span",{className:"w-1 h-1 rounded-full bg-[#6b7280]"}),s.jsx("span",{className:"text-[#9ca3af] text-sm",children:P1e(n.fecha)})]})]}),s.jsx(ec,{className:"w-5 h-5 text-[#6b7280] opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex-shrink-0"})]},n.idClase))}),e.length>4&&s.jsx("div",{className:"mt-6 pt-4 border-t border-[rgba(255,255,255,0.08)] text-center",children:s.jsx("button",{onClick:()=>t("/profesor/classes"),className:"text-[#7c5af8] text-sm font-medium hover:underline",children:"Ver todas las clases →"})})]})]})},M1e=()=>{const e=ii(),t=[{id:"asistencias",title:"Ir a Asistencias",description:"Registrar asistencia de hoy",icon:da,color:"#34d399",path:"/profesor/attendance"},{id:"clases",title:"Ver Mis Clases",description:"Gestionar clases programadas",icon:St,color:"#7c5af8",path:"/profesor/classes"},{id:"reportes",title:"Ver Reportes",description:"Análisis de desempeño",icon:Uc,color:"#f59e0b",path:"/profesor/reports"}];return s.jsxs("div",{className:"lg:col-span-1",children:[s.jsx("div",{className:"flex items-center gap-3 mb-6",children:s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Acciones Rápidas"})}),s.jsx("div",{className:"space-y-3",children:t.map(r=>{const n=r.icon;return s.jsx(Ye,{className:"p-4 group hover:scale-[1.02] transition-all duration-300 cursor-pointer",onClick:()=>e(r.path),children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl flex-shrink-0 transition-transform duration-300 group-hover:scale-110",style:{background:`${r.color}26`,color:r.color},children:s.jsx(n,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-[#f9fafb] font-medium mb-0.5",children:r.title}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:r.description})]}),s.jsx(ec,{className:"w-5 h-5 text-[#6b7280] opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex-shrink-0"})]})},r.id)})})]})},TD={all:["profesor-dashboard"],data:()=>[...TD.all,"data"]};function F1e(){return dr({queryKey:TD.data(),queryFn:async()=>(await Dt.get("/api/reportes/dashboard/profesor")).data,staleTime:300*1e3,refetchInterval:300*1e3,retry:2,refetchOnWindowFocus:!0})}const L1e=()=>{const e=ii(),{data:t,isLoading:r,isError:n,error:a,refetch:i}=F1e();if(r)return s.jsxs("div",{className:"relative overflow-hidden min-h-screen",children:[s.jsx(Mn,{variant:"cool"}),s.jsx("div",{className:"relative z-10",children:s.jsx("div",{className:"max-w-[1600px] mx-auto px-6 md:px-8 lg:px-12 py-8 md:py-12",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-[#7c5af8] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-[#9ca3af] text-lg",children:"Cargando dashboard..."})]})})})})]});if(n)return s.jsxs("div",{className:"relative overflow-hidden min-h-screen",children:[s.jsx(Mn,{variant:"cool"}),s.jsx("div",{className:"relative z-10",children:s.jsx("div",{className:"max-w-[1600px] mx-auto px-6 md:px-8 lg:px-12 py-8 md:py-12",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-[rgba(239,68,68,0.15)] border-2 border-[#ef4444] flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-[#ef4444] text-2xl",children:"⚠"})}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-bold mb-2",children:"Error al cargar el dashboard"}),s.jsx("p",{className:"text-[#9ca3af] mb-4",children:a instanceof Error?a.message:"Ha ocurrido un error inesperado"}),s.jsx("button",{onClick:()=>i(),className:"px-4 py-2 bg-[#7c5af8] text-white rounded-lg hover:bg-[#6845e8] transition-colors",children:"Reintentar"})]})})})})]});if(!t)return s.jsxs("div",{className:"relative overflow-hidden min-h-screen",children:[s.jsx(Mn,{variant:"cool"}),s.jsx("div",{className:"relative z-10",children:s.jsx("div",{className:"max-w-[1600px] mx-auto px-6 md:px-8 lg:px-12 py-8 md:py-12",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-[#9ca3af] text-lg",children:"No hay datos disponibles"})})})})})]});const o=l=>{e(`/profesor/attendance?claseId=${l}`)};return s.jsxs("div",{className:"relative overflow-hidden min-h-screen",children:[s.jsx(Mn,{variant:"cool"}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 md:px-8 lg:px-12 py-8 md:py-12",children:[s.jsx(T1e,{nombreProfesor:t.nombreProfesor,correo:t.correo}),s.jsx(k1e,{clases:t.clasesHoy,onRegistrarAsistencia:o}),s.jsx(D1e,{kpis:t.kpIs}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8 md:mb-10",children:[s.jsx(M1e,{}),s.jsx(j1e,{grafica:t.graficaAsistencia30Dias})]}),s.jsx(I1e,{clases:t.proximasClases}),s.jsx(Ok,{eventos:t.eventosProximos})]})})]})},R1e=()=>{const[e,t]=w.useState(new Date().getFullYear()),[r,n]=w.useState(null),{data:a,isLoading:i}=mI(),o=a?.[0],{data:l,isLoading:c}=pI(e),{data:u}=xI({idLiquidacion:r||void 0},!!r),d=Cd(!!r),f=Array.from({length:5},(b,j)=>new Date().getFullYear()-j),m=b=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(b),h=b=>["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][b-1],g=b=>{switch(b){case"Pagada":return s.jsx(As,{size:18,className:"text-green-600"});case"Cerrada":return s.jsx(kr,{size:18,className:"text-blue-600"});case"EnProceso":return s.jsx(rn,{size:18,className:"text-yellow-600"});default:return s.jsx(kr,{size:18,className:"text-gray-600"})}},p=b=>({Pagada:"bg-green-100 text-green-800",Cerrada:"bg-blue-100 text-blue-800",EnProceso:"bg-yellow-100 text-yellow-800"})[b]||"bg-gray-100 text-gray-800",v=b=>{console.log("Downloading receipt for:",b),alert("Función de descarga en desarrollo")};return i?s.jsx("div",{className:Jr["page-container"],children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-[#c93448] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"Cargando información de pagos..."})]})})}):s.jsxs("div",{className:Jr["page-container"],children:[s.jsx("div",{className:Jr["page-header"],children:s.jsxs("div",{children:[s.jsxs("h1",{className:Jr["page-title"],children:[s.jsx(J6,{className:"w-8 h-8"}),"Mis Pagos"]}),s.jsx("p",{className:Jr["page-subtitle"],children:"Historial de liquidaciones y pagos mensuales"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[s.jsx(Ja,{title:"Total Pagado",value:m(o?.totalPagado||0),icon:s.jsx(As,{className:"w-6 h-6"}),trend:void 0,subtitle:"Acumulado recibido en total"}),s.jsx(Ja,{title:"Total Liquidado",value:m(o?.totalLiquidado||0),icon:s.jsx(kr,{className:"w-6 h-6"}),trend:void 0,subtitle:"Pendiente de pago por el admin"}),s.jsx(Ja,{title:"Total Aprobado",value:m(o?.totalAprobado||0),icon:s.jsx(ua,{className:"w-6 h-6"}),trend:void 0,subtitle:"Pendiente de liquidación mensual"}),s.jsx(Ja,{title:"Clases Pagadas",value:o?.clasesPagadas||0,icon:s.jsx(St,{className:"w-6 h-6"}),trend:void 0,subtitle:"Total de clases finalizadas"})]}),!o&&s.jsx(Ye,{className:"mb-6",children:s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-[rgba(255,255,255,0.05)] rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(rn,{className:"w-10 h-10 text-gray-500"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:"No hay información disponible"}),s.jsx("p",{className:"text-gray-400 text-sm max-w-md mx-auto",children:"Aún no tienes clases registradas o pagos procesados. Una vez que dictes clases y sean aprobadas, podrás ver aquí tu historial de pagos y liquidaciones."})]})}),o&&s.jsxs(Ye,{children:[s.jsx("div",{className:"p-6 border-b border-white/10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-white text-lg font-semibold flex items-center gap-2 mb-1",children:[s.jsx(km,{className:"w-5 h-5"}),"Historial de Liquidaciones"]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Consulta tus liquidaciones mensuales y descarga comprobantes"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{htmlFor:"year-filter",className:"text-sm text-gray-400",children:"Año:"}),s.jsx("select",{id:"year-filter",value:e,onChange:b=>t(Number(b.target.value)),className:"px-4 py-2 bg-[rgba(255,255,255,0.05)] border border-white/10 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-[#c93448] focus:border-transparent transition-all",children:f.map(b=>s.jsx("option",{value:b,children:b},b))})]})]})}),s.jsx("div",{className:"p-6",children:c?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"w-8 h-8 border-2 border-purple-500/30 border-t-purple-500 rounded-full animate-spin"})}):l&&l.length>0?s.jsx("div",{className:"space-y-4",children:l.map(b=>s.jsxs("div",{className:"bg-[rgba(255,255,255,0.02)] border border-white/10 rounded-lg p-4 hover:bg-[rgba(255,255,255,0.05)] transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Periodo"}),s.jsxs("p",{className:"text-white font-semibold",children:[h(b.mes)," ",b.año]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Clases"}),s.jsxs("p",{className:"text-white font-semibold flex items-center gap-1",children:[s.jsx(St,{className:"w-4 h-4"}),b.totalClases]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Horas Totales"}),s.jsxs("p",{className:"text-white font-semibold",children:[b.totalHoras.toFixed(1),"h"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Monto"}),s.jsx("p",{className:"text-[#4ade80] font-bold text-lg",children:m(b.totalPagar)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Estado"}),s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${p(b.estado)}`,children:[g(b.estado),b.estado]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx(nt,{variant:"secondary",onClick:()=>n(b.idLiquidacion),className:"!p-2",children:s.jsx(du,{className:"w-4 h-4"})}),b.estado==="Pagada"&&s.jsx(nt,{variant:"primary",onClick:()=>v(b.idLiquidacion),className:"!p-2",children:s.jsx(Qs,{className:"w-4 h-4"})})]})]}),b.fechaPago&&s.jsx("div",{className:"mt-3 pt-3 border-t border-white/10",children:s.jsxs("p",{className:"text-gray-400 text-xs",children:["Pagado el"," ",s.jsx("span",{className:"text-white font-medium",children:new Date(b.fechaPago).toLocaleDateString("es-MX",{day:"2-digit",month:"long",year:"numeric"})})]})})]},b.idLiquidacion))}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"w-16 h-16 bg-[rgba(255,255,255,0.05)] rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(km,{className:"w-8 h-8 text-gray-500"})}),s.jsxs("h3",{className:"text-white text-lg font-semibold mb-2",children:["No hay liquidaciones para ",e]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Las liquidaciones aparecerán aquí una vez que se procesen tus clases"})]})})]}),r&&u&&s.jsxs("div",{ref:d,className:"absolute inset-0 z-[100] flex items-start justify-center pt-20 px-4 pb-8 overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md -z-10",onClick:()=>n(null)}),s.jsxs(Ye,{className:"relative z-10 w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between p-6 pb-4 border-b border-white/10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Detalle de Liquidación"}),s.jsxs("p",{className:"text-gray-400 text-sm",children:[h(u.mes)," ",u.año]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[u.fechaPago&&s.jsxs(nt,{variant:"primary",onClick:()=>v(u.idLiquidacion),children:[s.jsx(Qs,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Descargar"})]}),s.jsx(nt,{variant:"icon",onClick:()=>n(null),className:"!p-2",children:s.jsx($r,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-[rgba(255,255,255,0.03)] border border-white/10 rounded-lg p-4",children:[s.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Total Clases"}),s.jsx("p",{className:"text-white text-2xl font-bold",children:u.totalClases})]}),s.jsxs("div",{className:"bg-[rgba(255,255,255,0.03)] border border-white/10 rounded-lg p-4",children:[s.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Total Horas"}),s.jsxs("p",{className:"text-white text-2xl font-bold",children:[u.totalHoras.toFixed(1),"h"]})]}),s.jsxs("div",{className:"bg-[rgba(59,130,246,0.1)] border border-[rgba(59,130,246,0.3)] rounded-lg p-4",children:[s.jsx("p",{className:"text-blue-400 text-xs mb-1",children:"Tarifa Base"}),s.jsx("p",{className:"text-white text-2xl font-bold",children:m(u.totalBase)})]}),s.jsxs("div",{className:"bg-[rgba(34,197,94,0.1)] border border-[rgba(34,197,94,0.3)] rounded-lg p-4",children:[s.jsx("p",{className:"text-green-400 text-xs mb-1",children:"Total a Pagar"}),s.jsx("p",{className:"text-white text-2xl font-bold",children:m(u.totalPagar)})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("h4",{className:"text-white text-sm font-semibold mb-3 flex items-center gap-2",children:[s.jsx(St,{className:"w-4 h-4"}),"Desglose de Clases (",u.clases.length,")"]}),s.jsx("div",{className:"space-y-2",children:u.clases.map(b=>s.jsx("div",{className:"bg-[rgba(255,255,255,0.02)] border border-white/10 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-medium mb-1",children:b.nombreClase}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-400",children:[s.jsx("span",{children:new Date(b.fechaClase).toLocaleDateString("es-MX",{day:"2-digit",month:"short",year:"numeric"})}),s.jsx("span",{children:"•"}),s.jsx("span",{children:b.rolEnClase})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-white font-bold",children:m(b.totalPago)}),b.valorAdicional>0&&s.jsxs("p",{className:"text-green-400 text-xs",children:["+",m(b.valorAdicional)]})]})]})},b.idClaseProfesor))})]}),u.observaciones&&s.jsxs("div",{className:"bg-[rgba(245,158,11,0.1)] border border-[rgba(245,158,11,0.3)] rounded-lg p-4 mb-6",children:[s.jsxs("p",{className:"text-yellow-400 text-xs font-semibold mb-1 flex items-center gap-2",children:[s.jsx(rn,{className:"w-4 h-4"}),"Observaciones"]}),s.jsx("p",{className:"text-gray-300 text-sm",children:u.observaciones})]}),u.fechaPago&&s.jsxs("div",{className:"bg-[rgba(34,197,94,0.1)] border border-[rgba(34,197,94,0.3)] rounded-lg p-4",children:[s.jsxs("p",{className:"text-green-400 text-xs font-semibold mb-1 flex items-center gap-2",children:[s.jsx(As,{className:"w-4 h-4"}),"Información de Pago"]}),s.jsxs("p",{className:"text-gray-300 text-sm",children:["Pagado el"," ",new Date(u.fechaPago).toLocaleDateString("es-MX",{day:"2-digit",month:"long",year:"numeric"})]})]})]}),s.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between p-6 pt-4 border-t border-white/10 bg-black/20",children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"💡 Descarga el comprobante para tus registros"}),u.fechaPago&&s.jsxs(nt,{variant:"primary",onClick:()=>v(u.idLiquidacion),children:[s.jsx(Qs,{className:"w-4 h-4"}),s.jsx("span",{children:"Descargar Comprobante"})]})]})]})]})]})},B1e=({profile:e})=>{const t=n=>n.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2),r=n=>new Date(n).toLocaleDateString("es-ES",{year:"numeric",month:"long"});return s.jsx(Ye,{className:"p-6 md:p-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-center md:items-start",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-[#7c5af8] to-[#6845e8] flex items-center justify-center text-white text-4xl font-bold shadow-lg shadow-[rgba(124,90,248,0.3)]",children:t(e.nombreCompleto)}),s.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 bg-[#10b981] rounded-full border-4 border-[#1e1e2f] flex items-center justify-center",children:s.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})})]}),s.jsxs("div",{className:"flex-1 text-center md:text-left",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-[#f9fafb] mb-2",children:e.nombreCompleto}),s.jsx("div",{className:"inline-block px-4 py-1.5 rounded-full bg-[rgba(124,90,248,0.15)] border border-[rgba(124,90,248,0.3)] mb-4",children:s.jsx("span",{className:"text-[#7c5af8] text-sm font-medium",children:e.tipoProfesor})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[#d1d5db] justify-center md:justify-start",children:[s.jsx(St,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm",children:["Miembro desde ",r(e.fechaIngreso)]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[#d1d5db] justify-center md:justify-start",children:[s.jsx(Jn,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm",children:[e.tipoDocumento," ",e.numeroDocumento]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[#d1d5db] justify-center md:justify-start",children:[s.jsx(uu,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e.correo})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[#d1d5db] justify-center md:justify-start",children:[s.jsx(Sd,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e.telefono||"No registrado"})]})]})]})]})})},s0={all:["profesor-profile"],profile:()=>[...s0.all,"data"]};function q1e(e=!0){return dr({queryKey:s0.profile(),queryFn:async()=>(await Dt.get("/api/profesores/me/perfil")).data,enabled:e,staleTime:300*1e3})}function z1e(){const e=an();return sn({mutationFn:async t=>(await Dt.put("/api/profesores/me/perfil",t)).data,onSuccess:()=>{e.invalidateQueries({queryKey:s0.profile()}),Jt.success("Datos personales actualizados correctamente")},onError:t=>{Jt.error(t?.response?.data?.message||"Error al actualizar datos personales")}})}function $1e(){const e=an();return sn({mutationFn:async t=>(await Dt.put("/api/profesores/me/perfil-profesional",t)).data,onSuccess:()=>{e.invalidateQueries({queryKey:s0.profile()}),Jt.success("Perfil profesional actualizado correctamente")},onError:t=>{Jt.error(t?.response?.data?.message||"Error al actualizar perfil profesional")}})}function U1e(){const e=an();return sn({mutationFn:async t=>(await Dt.put("/api/profesores/me/configuracion",t)).data,onSuccess:()=>{e.invalidateQueries({queryKey:s0.profile()}),Jt.success("Configuración actualizada correctamente")},onError:t=>{Jt.error(t?.response?.data?.message||"Error al actualizar configuración")}})}const W1e=({profile:e})=>{const[t,r]=w.useState(!1),[n,a]=w.useState({nombreCompleto:e.nombreCompleto,telefono:e.telefono}),i=z1e(),o=()=>{i.mutate(n,{onSuccess:()=>{r(!1)}})},l=()=>{a({nombreCompleto:e.nombreCompleto,telefono:e.telefono}),r(!1)};return s.jsxs(Ye,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Jn,{className:"w-5 h-5 text-[#7c5af8]"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Datos Personales"})]}),!t&&s.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] text-sm transition-all duration-300",children:"Editar"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Nombre Completo"}),t?s.jsx("input",{type:"text",value:n.nombreCompleto,onChange:c=>a({...n,nombreCompleto:c.target.value}),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#7c5af8] transition-colors"}):s.jsx("p",{className:"text-[#f9fafb] text-lg",children:e.nombreCompleto})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Correo Electrónico"}),s.jsxs("div",{className:"flex items-center gap-2 text-[#f9fafb]",children:[s.jsx(uu,{className:"w-4 h-4 text-[#9ca3af]"}),s.jsx("span",{children:e.correo})]}),s.jsx("p",{className:"text-[#6b7280] text-xs mt-1",children:"El correo no puede ser modificado"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Teléfono"}),t?s.jsx("input",{type:"tel",value:n.telefono,onChange:c=>a({...n,telefono:c.target.value}),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#7c5af8] transition-colors"}):s.jsxs("div",{className:"flex items-center gap-2 text-[#f9fafb]",children:[s.jsx(Sd,{className:"w-4 h-4 text-[#9ca3af]"}),s.jsx("span",{children:e.telefono})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Documento"}),s.jsxs("p",{className:"text-[#f9fafb]",children:[e.tipoDocumento," ",e.numeroDocumento]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Tipo de Profesor"}),s.jsx("p",{className:"text-[#f9fafb]",children:e.tipoProfesor})]}),t&&s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs("button",{onClick:o,disabled:i.isPending,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-[#7c5af8] hover:bg-[#6845e8] text-white font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(pd,{className:"w-4 h-4"}),i.isPending?"Guardando...":"Guardar Cambios"]}),s.jsx("button",{onClick:l,disabled:i.isPending,className:"px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] transition-all duration-300 disabled:opacity-50",children:s.jsx($r,{className:"w-4 h-4"})})]})]})]})},H1e=["Salón","Escenario","Privadas","Coreografía","Técnica","Iniciación","Avanzado"],V1e=({profile:e})=>{const[t,r]=w.useState(!1),[n,a]=w.useState({biografia:e.biografia||"",especialidades:e.especialidades||[]}),i=$1e(),o=()=>{i.mutate({biografia:n.biografia||null,especialidades:n.especialidades},{onSuccess:()=>{r(!1)}})},l=()=>{a({biografia:e.biografia||"",especialidades:e.especialidades||[]}),r(!1)},c=u=>{a(d=>({...d,especialidades:d.especialidades.includes(u)?d.especialidades.filter(f=>f!==u):[...d.especialidades,u]}))};return s.jsxs(Ye,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(lI,{className:"w-5 h-5 text-[#10b981]"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Perfil Profesional"})]}),!t&&s.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] text-sm transition-all duration-300",children:"Editar"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Biografía"}),t?s.jsx("textarea",{value:n.biografia,onChange:u=>a({...n,biografia:u.target.value}),placeholder:"Cuéntanos sobre tu experiencia, estilo y pasión por la danza...",maxLength:500,rows:4,className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#7c5af8] transition-colors resize-none"}):s.jsx("p",{className:"text-[#d1d5db] text-sm leading-relaxed",children:e.biografia||"Sin biografía registrada"}),t&&s.jsxs("p",{className:"text-[#6b7280] text-xs mt-1",children:[n.biografia.length,"/500 caracteres"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-3",children:"Especialidades"}),t?s.jsx("div",{className:"flex flex-wrap gap-2",children:H1e.map(u=>s.jsx("button",{onClick:()=>c(u),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 ${n.especialidades.includes(u)?"bg-[#7c5af8] text-white":"bg-[rgba(255,255,255,0.05)] text-[#d1d5db] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)]"}`,children:u},u))}):s.jsx("div",{className:"flex flex-wrap gap-2",children:e.especialidades.length>0?e.especialidades.map(u=>s.jsx("span",{className:"px-4 py-2 rounded-lg bg-[rgba(124,90,248,0.15)] border border-[rgba(124,90,248,0.3)] text-[#7c5af8] text-sm font-medium",children:u},u)):s.jsx("p",{className:"text-[#6b7280] text-sm",children:"Sin especialidades registradas"})})]}),t&&s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs("button",{onClick:o,disabled:i.isPending,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-[#7c5af8] hover:bg-[#6845e8] text-white font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(pd,{className:"w-4 h-4"}),i.isPending?"Guardando...":"Guardar Cambios"]}),s.jsx("button",{onClick:l,disabled:i.isPending,className:"px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] transition-all duration-300 disabled:opacity-50",children:s.jsx($r,{className:"w-4 h-4"})})]})]})]})},G1e=({profile:e})=>{const[t,r]=w.useState({notificacionesEmail:e.configuracion?.notificacionesEmail??!0,recordatoriosClase:e.configuracion?.recordatoriosClase??!0,alertasCambios:e.configuracion?.alertasCambios??!0}),n=U1e(),a=i=>{const o={...t,[i]:!t[i]};r(o),n.mutate(o)};return s.jsxs(Ye,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(uS,{className:"w-5 h-5 text-[#6366f1]"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Configuración"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.1)]",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wo,{className:"w-5 h-5 text-[#9ca3af]"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#f9fafb] font-medium",children:"Notificaciones por Email"}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Recibe actualizaciones importantes"})]})]}),s.jsx("button",{onClick:()=>a("notificacionesEmail"),className:`relative w-14 h-7 rounded-full transition-colors duration-300 ${t.notificacionesEmail?"bg-[#10b981]":"bg-[#4b5563]"}`,children:s.jsx("div",{className:`absolute top-1 w-5 h-5 rounded-full bg-white transition-transform duration-300 ${t.notificacionesEmail?"translate-x-8":"translate-x-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.1)]",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wo,{className:"w-5 h-5 text-[#9ca3af]"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#f9fafb] font-medium",children:"Recordatorios de Clase"}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Te avisamos 1 hora antes de tu clase"})]})]}),s.jsx("button",{onClick:()=>a("recordatoriosClase"),className:`relative w-14 h-7 rounded-full transition-colors duration-300 ${t.recordatoriosClase?"bg-[#10b981]":"bg-[#4b5563]"}`,children:s.jsx("div",{className:`absolute top-1 w-5 h-5 rounded-full bg-white transition-transform duration-300 ${t.recordatoriosClase?"translate-x-8":"translate-x-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.1)]",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wo,{className:"w-5 h-5 text-[#9ca3af]"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#f9fafb] font-medium",children:"Alertas de Cambios"}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Notificaciones de clases modificadas o canceladas"})]})]}),s.jsx("button",{onClick:()=>a("alertasCambios"),className:`relative w-14 h-7 rounded-full transition-colors duration-300 ${t.alertasCambios?"bg-[#10b981]":"bg-[#4b5563]"}`,children:s.jsx("div",{className:`absolute top-1 w-5 h-5 rounded-full bg-white transition-transform duration-300 ${t.alertasCambios?"translate-x-8":"translate-x-1"}`})})]})]})]})},K1e=()=>{const e=ii(),t=[{icon:G9,label:"Ver Dashboard",description:"Resumen de tus clases y estadísticas",onClick:()=>e(Lo.TEACHER.ROOT),color:"text-[#7c5af8]",bgColor:"bg-[rgba(124,90,248,0.15)]"},{icon:St,label:"Mis Clases",description:"Ver todas tus clases programadas",onClick:()=>e(Lo.TEACHER.CLASSES),color:"text-[#10b981]",bgColor:"bg-[rgba(16,185,129,0.15)]"},{icon:K9,label:"Registrar Asistencia",description:"Tomar asistencia de tus clases",onClick:()=>e(Lo.TEACHER.ATTENDANCE),color:"text-[#f59e0b]",bgColor:"bg-[rgba(245,158,11,0.15)]"},{icon:Uc,label:"Mis Reportes",description:"Estadísticas y reportes de desempeño",onClick:()=>e(Lo.TEACHER.REPORTS),color:"text-[#06b6d4]",bgColor:"bg-[rgba(6,182,212,0.15)]"}];return s.jsxs(Ye,{className:"p-6",children:[s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold mb-6",children:"Acciones Rápidas"}),s.jsx("div",{className:"space-y-3",children:t.map((r,n)=>{const a=r.icon;return s.jsxs("button",{onClick:r.onClick,className:"w-full flex items-center gap-4 p-4 rounded-lg bg-[rgba(255,255,255,0.03)] hover:bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.1)] transition-all duration-300 group",children:[s.jsx("div",{className:`w-12 h-12 rounded-lg ${r.bgColor} flex items-center justify-center`,children:s.jsx(a,{className:`w-6 h-6 ${r.color}`})}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("p",{className:"text-[#f9fafb] font-medium group-hover:text-[#7c5af8] transition-colors",children:r.label}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:r.description})]})]},n)})})]})},Y1e=()=>{const{session:e}=fo(),{data:t,isLoading:r,error:n}=q1e(e.isAuthenticated);return r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f1419] flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-[#7c5af8] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-[#d1d5db] text-lg",children:"Cargando perfil..."})]})}):n||!t?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f1419] flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-[#ef4444] text-xl mb-4",children:"Error al cargar el perfil"}),s.jsx("p",{className:"text-[#9ca3af]",children:"Por favor, intenta nuevamente"})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f1419] py-8 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[s.jsx(Mn,{variant:"cool"}),s.jsxs("div",{className:"absolute inset-0 opacity-[0.02] pointer-events-none overflow-hidden",children:[s.jsx("div",{className:"text-[200px] font-bold text-white absolute top-20 -left-20 rotate-[-15deg]",children:"PERFIL"}),s.jsx("div",{className:"text-[150px] font-bold text-white absolute bottom-20 -right-20 rotate-[15deg]",children:"PROFESOR"})]}),s.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[s.jsx(B1e,{profile:t}),s.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx(W1e,{profile:t}),s.jsx(V1e,{profile:t})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(G1e,{profile:t}),s.jsx(K1e,{})]})]})]})]})},X1e=()=>{const[e,t]=w.useState({preset:"month",fechaDesde:void 0,fechaHasta:void 0}),[r,n]=w.useState(!1),{data:a,isLoading:i,error:o}=Dk(e),c=(()=>{if(!a)return{text:"N/A",color:"gray"};const f=a.promedioAsistencia||0,m=a.ocupacionPromedio||0,h=(f+m)/2;return h>=80?{text:"Excelente",color:"#10b981"}:h>=60?{text:"Bueno",color:"#3b82f6"}:h>=40?{text:"Regular",color:"#f59e0b"}:{text:"Mejorar",color:"#ef4444"}})(),u=async()=>{if(a){n(!0);try{await ND(a)}finally{n(!1)}}},d=async()=>{if(a){n(!0);try{await pO(a)}finally{n(!1)}}};return s.jsxs("div",{className:Jr["page-container"],children:[s.jsxs("div",{className:Jr["page-header"],children:[s.jsxs("div",{children:[s.jsxs("h1",{className:Jr["page-title"],children:[s.jsx(Uc,{className:"w-8 h-8"}),"Mis Reportes"]}),s.jsx("p",{className:Jr["page-subtitle"],children:"Análisis de desempeño y estadísticas de tus clases"})]}),a&&s.jsxs("div",{className:"px-4 py-2 rounded-full text-white font-semibold flex items-center gap-2",style:{backgroundColor:c.color},children:[s.jsx(Tw,{className:"w-5 h-5"}),"Desempeño: ",c.text]})]}),s.jsx(Ye,{className:"mb-6",children:s.jsx(Ik,{value:e,onChange:t})}),i&&s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-[#c93448] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"Cargando reportes..."})]})}),o&&s.jsx(Ye,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3 text-red-400",children:[s.jsx(rn,{className:"w-6 h-6"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Error al cargar los reportes"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Por favor, intenta de nuevo más tarde"})]})]})}),a&&!i&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[s.jsx(Ja,{title:"Total Clases Impartidas",value:a.totalClases.toString(),icon:s.jsx(St,{className:"w-6 h-6"}),trend:void 0,subtitle:`${a.totalClases===1?"Clase dictada":"Clases dictadas"} en el periodo seleccionado`}),s.jsx(Ja,{title:"Asistencia Promedio",value:a.promedioAsistencia.toFixed(1),icon:s.jsx(Zn,{className:"w-6 h-6"}),trend:void 0,subtitle:`${a.promedioAsistencia.toFixed(1)} alumnos presentes por clase en promedio`}),s.jsx(Ja,{title:"Nivel de Ocupación",value:`${a.ocupacionPromedio.toFixed(0)}%`,icon:s.jsx(ua,{className:"w-6 h-6"}),trend:void 0,subtitle:`${a.ocupacionPromedio.toFixed(0)}% del cupo máximo utilizado en promedio`}),s.jsx(Ja,{title:"Variedad de Clases",value:a.desgloseporTipo.length.toString(),icon:s.jsx(Uc,{className:"w-6 h-6"}),trend:void 0,subtitle:`${a.desgloseporTipo.length===1?"Tipo de clase impartido":"Tipos diferentes de clases impartidas"}`})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.graficaAsistenciaPorDia&&s.jsxs(Ye,{className:"p-6",children:[s.jsxs("h3",{className:"text-white text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(ua,{className:"w-5 h-5"}),"Tendencia de Asistencia"]}),s.jsx(ni,{width:"100%",height:300,children:s.jsxs(Gh,{data:a.graficaAsistenciaPorDia.datasets[0].data.map((f,m)=>({fecha:a.graficaAsistenciaPorDia.labels[m],asistencia:f})),children:[s.jsx(Bi,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(qi,{dataKey:"fecha",stroke:"#9ca3af"}),s.jsx(zi,{stroke:"#9ca3af"}),s.jsx(ai,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),s.jsx(Qo,{}),s.jsx(zd,{type:"monotone",dataKey:"asistencia",stroke:"#c93448",strokeWidth:2,name:"Asistencia"})]})})]}),a.desgloseporTipo.length>0&&s.jsxs(Ye,{className:"p-6",children:[s.jsxs("h3",{className:"text-white text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Uc,{className:"w-5 h-5"}),"Clases por Tipo"]}),s.jsx(ni,{width:"100%",height:300,children:s.jsxs(nu,{data:a.desgloseporTipo.map(f=>({tipo:f.nombreTipoClase,total:f.cantidadClases})),children:[s.jsx(Bi,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(qi,{dataKey:"tipo",stroke:"#9ca3af"}),s.jsx(zi,{stroke:"#9ca3af"}),s.jsx(ai,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),s.jsx(Qo,{}),s.jsx(ic,{dataKey:"total",fill:"#c93448",name:"Total Clases"})]})})]})]}),a.clasesMasPopulares.length>0&&s.jsxs(Ye,{className:"mb-6",children:[s.jsxs("div",{className:"p-6 border-b border-white/10",children:[s.jsxs("h3",{className:"text-white text-lg font-semibold flex items-center gap-2",children:[s.jsx(Tw,{className:"w-5 h-5"}),"Top Clases Más Populares"]}),s.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Tus clases con mejor asistencia y ocupación"})]}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:a.clasesMasPopulares.map((f,m)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg border border-white/10 hover:bg-white/10 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-[#c93448] flex items-center justify-center text-white font-bold",children:m+1}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-semibold",children:f.nombreTipoClase}),s.jsxs("p",{className:"text-gray-400 text-sm",children:[f.totalClases," ",f.totalClases===1?"clase":"clases"]})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-white font-semibold",children:f.promedioAsistencia.toFixed(1)}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Promedio"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-white font-semibold",children:[f.ocupacionPorcentaje.toFixed(0),"%"]}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Ocupación"})]})]})]},m))})})]}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsxs("button",{onClick:u,disabled:r,className:"flex items-center gap-2 px-4 py-2 bg-[#c93448] hover:bg-[#b02d3c] text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Qs,{className:"w-4 h-4"}),r?"Exportando...":"Exportar PDF"]}),s.jsxs("button",{onClick:d,disabled:r,className:"flex items-center gap-2 px-4 py-2 bg-[#10b981] hover:bg-[#059669] text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(km,{className:"w-4 h-4"}),r?"Exportando...":"Exportar Excel"]})]})]})]})};function Z1e(e){const t=e.fechaClase.split("T")[0],r=e.estadoAsistencia.toLowerCase()==="presente",a={Normal:"normal",Cortesía:"cortesia","Clase de Prueba":"prueba",Recuperación:"normal"}[e.tipoAsistencia]??"normal",i=r&&e.idPaqueteUsado!==null;return{id:e.idAsistencia,fecha:t,clase:e.tipoClase,estado:r?"presente":"ausente",tipo:a,descontada:i,nota:e.observacion??void 0,horaInicio:e.horaInicio+":00",horaFin:e.horaFin+":00"}}function J1e(e){return{estado:{Activo:"activo",Vencido:"agotado",Congelado:"congelado",Agotado:"agotado"}[e.estado]??"sin_paquete",clasesTotales:e.clasesDisponibles,clasesUsadas:e.clasesUsadas,clasesRestantes:e.clasesRestantes,nombrePaquete:e.nombreTipoPaquete,fechaVencimiento:e.fechaVencimiento.split("T")[0]}}function Q1e(e){return[...e].sort((t,r)=>r.fecha.localeCompare(t.fecha))}function exe(e){const t=new Date,r=t.getFullYear(),n=t.getMonth();return e.filter(a=>{const[i,o]=a.fecha.split("-").map(Number);return i===r&&o-1===n}).length}function OD(e,t){if(t<=0)return 0;const r=e/t*100;return Math.round(r)}const nd={all:["studentAttendance"],asistencias:e=>[...nd.all,"asistencias",e],asistenciasWithDates:(e,t,r)=>[...nd.all,"asistencias",e,t,r],paquetes:e=>[...nd.all,"paquetes",e],paqueteActivo:e=>[...nd.all,"paqueteActivo",e]};function txe(e,t,r){return dr({queryKey:nd.asistenciasWithDates(e??"",t,r),queryFn:async()=>{const n={},i=(await Dt.get(`/api/alumnos/${e}/asistencias`,{params:n})).data.map(Z1e);return Q1e(i)},enabled:!!e})}function rxe(e){return dr({queryKey:nd.paqueteActivo(e??""),queryFn:async()=>{const t=await Dt.get(`/api/alumnos/${e}/paquetes`,{params:{soloActivos:!0,pageNumber:1,pageSize:1}});return t.data.items.length===0?null:J1e(t.data.items[0])},enabled:!!e})}function nxe(e){const[t,r]=w.useState(null),[n,a]=w.useState(!1),{data:i=[],isLoading:o,error:l}=txe(e),{data:c,isLoading:u,error:d}=rxe(e),f=w.useMemo(()=>{const p=exe(i.filter(j=>j.estado==="presente")),v=c?.clasesRestantes??0,b=c?OD(c.clasesUsadas,c.clasesTotales):0;return{asistenciasEsteMes:p,clasesRestantes:v,progresoPercentage:b}},[i,c]),m=w.useCallback(p=>{r(p),p&&a(!0)},[]),h=w.useCallback(p=>{const v=i.find(b=>b.id===p);v&&(r(v),a(!0))},[i]),g=w.useCallback(()=>{a(!1),setTimeout(()=>{r(null)},200)},[]);return{asistencias:i,estadoPaquete:c??null,selectedAsistencia:t,isLoading:o,isLoadingPaquete:u,error:l,paqueteError:d,summary:f,selectAsistencia:m,openDetailModal:h,closeDetailModal:g,isDetailModalOpen:n}}const U6={clases_mes:{gradient:"from-[rgba(124,90,248,0.15)] to-[rgba(99,72,198,0.1)]",border:"border-[rgba(124,90,248,0.3)]",iconBg:"bg-[rgba(124,90,248,0.3)]",iconColor:"text-[#9b8afb]",badgeBg:"bg-[rgba(124,90,248,0.2)]",badgeBorder:"border-[rgba(124,90,248,0.4)]",badgeText:"text-[#9b8afb]",shadow:"shadow-[0_8px_24px_rgba(124,90,248,0.2),inset_0_2px_4px_rgba(255,255,255,0.1)]"},clases_restantes:{gradient:"from-[rgba(52,211,153,0.15)] to-[rgba(5,150,105,0.1)]",border:"border-[rgba(52,211,153,0.3)]",iconBg:"bg-[rgba(52,211,153,0.3)]",iconColor:"text-[#34d399]",badgeBg:"bg-[rgba(52,211,153,0.2)]",badgeBorder:"border-[rgba(52,211,153,0.4)]",badgeText:"text-[#34d399]",shadow:"shadow-[0_8px_24px_rgba(52,211,153,0.2),inset_0_2px_4px_rgba(255,255,255,0.1)]"},estado_paquete:{gradient:"from-[rgba(52,211,153,0.15)] to-[rgba(5,150,105,0.1)]",border:"border-[rgba(52,211,153,0.3)]",iconBg:"bg-[rgba(52,211,153,0.3)]",iconColor:"text-[#34d399]",badgeBg:"bg-[rgba(52,211,153,0.2)]",badgeBorder:"border-[rgba(52,211,153,0.4)]",badgeText:"text-[#34d399]",shadow:"shadow-[0_8px_24px_rgba(201,52,72,0.2),inset_0_2px_4px_rgba(255,255,255,0.1)]"}},axe={activo:{gradient:"from-[rgba(52,211,153,0.15)] to-[rgba(5,150,105,0.1)]",border:"border-[rgba(52,211,153,0.3)]",iconBg:"bg-[rgba(52,211,153,0.3)]",iconColor:"text-[#34d399]",badgeBg:"bg-[rgba(52,211,153,0.2)]",badgeBorder:"border-[rgba(52,211,153,0.4)]",badgeText:"text-[#34d399]"},congelado:{gradient:"from-[rgba(59,130,246,0.15)] to-[rgba(37,99,235,0.1)]",border:"border-[rgba(59,130,246,0.3)]",iconBg:"bg-[rgba(59,130,246,0.3)]",iconColor:"text-[#3b82f6]",badgeBg:"bg-[rgba(59,130,246,0.2)]",badgeBorder:"border-[rgba(59,130,246,0.4)]",badgeText:"text-[#3b82f6]"},agotado:{gradient:"from-[rgba(239,68,68,0.15)] to-[rgba(220,38,38,0.1)]",border:"border-[rgba(239,68,68,0.3)]",iconBg:"bg-[rgba(239,68,68,0.3)]",iconColor:"text-[#ef4444]",badgeBg:"bg-[rgba(239,68,68,0.2)]",badgeBorder:"border-[rgba(239,68,68,0.4)]",badgeText:"text-[#ef4444]"},sin_paquete:{gradient:"from-[rgba(156,163,175,0.15)] to-[rgba(107,114,128,0.1)]",border:"border-[rgba(156,163,175,0.3)]",iconBg:"bg-[rgba(156,163,175,0.3)]",iconColor:"text-[#9ca3af]",badgeBg:"bg-[rgba(156,163,175,0.2)]",badgeBorder:"border-[rgba(156,163,175,0.4)]",badgeText:"text-[#9ca3af]"}};function ixe(e,t){return e==="estado_paquete"&&t?{...U6.estado_paquete,...axe[t]}:U6[e]}function Ov({icon:e,label:t,value:r,secondaryValue:n,badge:a,variant:i,estadoPaquete:o,subtitle:l,secondarySubtitle:c}){const u=ixe(i,o);return s.jsxs("div",{className:`
        backdrop-blur-2xl 
        bg-gradient-to-br ${u.gradient}
        border ${u.border}
        rounded-xl sm:rounded-2xl 
        p-4 sm:p-6
        ${u.shadow}
      `,"data-testid":`summary-card-${i}`,"data-variant":i,"data-estado-paquete":o,role:"region","aria-label":t,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:[s.jsx("div",{className:`p-2 sm:p-3 rounded-lg sm:rounded-xl ${u.iconBg} backdrop-blur-sm`,children:s.jsx("span",{className:u.iconColor,children:e})}),s.jsx("span",{className:`
            px-2 sm:px-3 py-0.5 sm:py-1 rounded-md sm:rounded-lg text-[10px] sm:text-[11px] font-bold uppercase
            ${u.badgeBg} border ${u.badgeBorder}
            ${u.badgeText}
          `,children:a})]}),s.jsx("p",{className:"text-[#9ca3af] text-xs sm:text-[13px] mb-1 sm:mb-2",children:t}),i==="estado_paquete"?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-[#f9fafb] font-semibold text-sm sm:text-base",style:{lineHeight:"1.4"},children:r}),l&&s.jsx("p",{className:"text-[#6b7280] text-xs sm:text-[13px] mt-1.5 sm:mt-2",children:l})]}):s.jsxs("p",{className:"text-[#f9fafb] font-bold text-2xl sm:text-4xl",style:{lineHeight:"1"},children:[r,n&&s.jsx("span",{className:"text-[#6b7280] text-sm sm:text-lg ml-1 sm:ml-2",children:n})]}),c&&i!=="estado_paquete"&&s.jsx("p",{className:"text-[#6b7280] text-xs sm:text-[13px] mt-1.5 sm:mt-2",children:c})]})}function sxe({clasesUsadas:e,clasesTotales:t,clasesRestantes:r}){const n=OD(e,t),a=r??Math.max(0,t-e);return s.jsxs(Ye,{className:"p-4 sm:p-6","data-testid":"package-progress-bar",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 sm:gap-0 mb-2 sm:mb-3",children:[s.jsx("p",{className:"text-[#d1d5db] font-medium text-sm sm:text-[15px]",children:"Progreso del paquete"}),s.jsxs("p",{className:"text-[#9ca3af] text-xs sm:text-[13px]",children:[e," de ",t," clases usadas"]})]}),s.jsx("div",{className:"relative h-2.5 sm:h-3 rounded-full bg-[rgba(255,255,255,0.05)] overflow-hidden",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Progreso del paquete: ${n}% completado`,children:s.jsx("div",{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-[#7c5af8] to-[#9b8afb] rounded-full transition-all duration-500 shadow-[0_0_12px_rgba(124,90,248,0.5)]",style:{width:`${n}%`},"data-testid":"progress-fill"})}),s.jsxs("div",{className:"flex items-center justify-between mt-2 sm:mt-3",children:[s.jsxs("p",{className:"text-[#7c5af8] text-xs sm:text-[13px] font-medium",children:[n,"% completado"]}),s.jsxs("p",{className:"text-[#34d399] text-xs sm:text-[13px] font-medium",children:[a," clases disponibles"]})]})]})}function DD(e){switch(e){case"presente":return{color:"green",label:"Presente",icon:da};case"ausente":return{color:"gray",label:"Ausente",icon:ns};case"reprogramada":return{color:"blue",label:"Reprogramada",icon:ro};default:return{color:"gray",label:"Desconocido",icon:xd}}}function ID(e){switch(e){case"normal":return{color:"purple",label:"Normal",icon:Tr};case"clase_suelta":return{color:"yellow",label:"Clase suelta",icon:kr};case"cortesia":return{color:"yellow",label:"Cortesía",icon:sb};case"prueba":return{color:"yellow",label:"Prueba",icon:Hc};default:return{color:"purple",label:"Normal",icon:Tr}}}function Dv(e){const t=new Date(e+"T00:00:00"),r={day:"numeric",month:"short",year:"numeric"};return t.toLocaleDateString("es-ES",r)}function Rp(e){const[t,r]=e.split(":"),n=parseInt(t),a=n>=12?"PM":"AM";return`${n%12||12}:${r} ${a}`}function W6(e){switch(e){case"green":return"bg-[rgba(52,211,153,0.15)] border-[rgba(52,211,153,0.3)] text-[#34d399]";case"gray":return"bg-[rgba(156,163,175,0.15)] border-[rgba(156,163,175,0.3)] text-[#9ca3af]";case"blue":return"bg-[rgba(59,130,246,0.15)] border-[rgba(59,130,246,0.3)] text-[#60a5fa]";default:return"bg-[rgba(156,163,175,0.15)] border-[rgba(156,163,175,0.3)] text-[#9ca3af]"}}function H6(e){switch(e){case"purple":return"bg-[rgba(124,90,248,0.15)] border-[rgba(124,90,248,0.3)] text-[#9b8afb]";case"yellow":return"bg-[rgba(245,158,11,0.15)] border-[rgba(245,158,11,0.3)] text-[#fcd34d]";default:return"bg-[rgba(124,90,248,0.15)] border-[rgba(124,90,248,0.3)] text-[#9b8afb]"}}function oxe({record:e,onClick:t}){const r=DD(e.estado),n=ID(e.tipo),a=r.icon,i=n.icon;return s.jsxs("div",{onClick:t,className:`\r
        p-6 \r
        hover:bg-[rgba(255,255,255,0.02)] \r
        transition-all duration-200\r
        cursor-pointer\r
        group\r
      `,"data-testid":`attendance-history-card-${e.id}`,role:"button",tabIndex:0,onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),t())},"aria-label":`Ver detalle de asistencia del ${Dv(e.fecha)} - ${e.clase}`,children:[s.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-4 items-center",children:[s.jsx("div",{className:"col-span-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(St,{className:"w-4 h-4 text-[#6b7280]"}),s.jsx("p",{className:"text-[#d1d5db] text-[14px]",children:Dv(e.fecha)})]})}),s.jsxs("div",{className:"col-span-3",children:[s.jsx("p",{className:"text-[#f9fafb] font-medium",style:{fontSize:"15px"},children:e.clase}),s.jsxs("p",{className:"text-[#6b7280] text-[13px] mt-0.5",children:[Rp(e.horaInicio)," - ",Rp(e.horaFin)]})]}),s.jsx("div",{className:"col-span-2",children:s.jsxs("span",{className:`
              px-3 py-1.5 rounded-lg text-[12px] font-medium
              backdrop-blur-sm flex items-center gap-1.5 inline-flex
              border
              ${W6(r.color)}
            `,children:[s.jsx(a,{className:"w-3.5 h-3.5"}),r.label]})}),s.jsx("div",{className:"col-span-2",children:s.jsxs("span",{className:`
              px-3 py-1.5 rounded-lg text-[12px] font-medium
              backdrop-blur-sm flex items-center gap-1.5 inline-flex
              border
              ${H6(n.color)}
            `,children:[s.jsx(i,{className:"w-3.5 h-3.5"}),n.label]})}),s.jsx("div",{className:"col-span-2",children:e.descontada?s.jsxs("span",{className:`\r
                px-3 py-1.5 rounded-lg text-[12px] font-medium\r
                backdrop-blur-sm flex items-center gap-1.5 inline-flex\r
                bg-[rgba(124,90,248,0.15)] border border-[rgba(124,90,248,0.3)] text-[#9b8afb]\r
              `,children:[s.jsx(da,{className:"w-3.5 h-3.5"}),"Descontada"]}):s.jsxs("span",{className:`\r
                px-3 py-1.5 rounded-lg text-[12px] font-medium\r
                backdrop-blur-sm flex items-center gap-1.5 inline-flex\r
                bg-[rgba(156,163,175,0.12)] border border-[rgba(156,163,175,0.25)] text-[#9ca3af]\r
              `,children:[s.jsx(xd,{className:"w-3.5 h-3.5"}),"No descontada"]})}),s.jsx("div",{className:"col-span-1 flex justify-end",children:s.jsx(ec,{className:"w-5 h-5 text-[#6b7280] group-hover:text-[#9ca3af] group-hover:translate-x-1 transition-all"})})]}),s.jsxs("div",{className:"md:hidden",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[#f9fafb] font-medium mb-1",style:{fontSize:"15px"},children:e.clase}),s.jsxs("div",{className:"flex items-center gap-2 text-[#6b7280] text-[13px]",children:[s.jsx(St,{className:"w-3.5 h-3.5"}),Dv(e.fecha)]})]}),s.jsx(ec,{className:"w-5 h-5 text-[#6b7280] flex-shrink-0"})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("span",{className:`
              px-2.5 py-1 rounded-lg text-[11px] font-medium
              backdrop-blur-sm flex items-center gap-1
              border
              ${W6(r.color)}
            `,children:[s.jsx(a,{className:"w-3 h-3"}),r.label]}),s.jsxs("span",{className:`
              px-2.5 py-1 rounded-lg text-[11px] font-medium
              backdrop-blur-sm flex items-center gap-1
              border
              ${H6(n.color)}
            `,children:[s.jsx(i,{className:"w-3 h-3"}),n.label]}),e.descontada?s.jsxs("span",{className:`\r
                px-2.5 py-1 rounded-lg text-[11px] font-medium\r
                backdrop-blur-sm flex items-center gap-1\r
                bg-[rgba(124,90,248,0.15)] border border-[rgba(124,90,248,0.3)] text-[#9b8afb]\r
              `,children:[s.jsx(da,{className:"w-3 h-3"}),"Descontada"]}):s.jsxs("span",{className:`\r
                px-2.5 py-1 rounded-lg text-[11px] font-medium\r
                backdrop-blur-sm flex items-center gap-1\r
                bg-[rgba(156,163,175,0.12)] border border-[rgba(156,163,175,0.25)] text-[#9ca3af]\r
              `,children:[s.jsx(xd,{className:"w-3 h-3"}),"No descontada"]})]})]})]})}function lxe(e){const t=new Date(e+"T00:00:00"),r={weekday:"long",day:"numeric",month:"long",year:"numeric"},n=t.toLocaleDateString("es-ES",r);return n.charAt(0).toUpperCase()+n.slice(1)}function cxe({record:e,isOpen:t,onClose:r}){const n=w.useCallback(d=>{d.key==="Escape"&&r()},[r]);if(w.useEffect(()=>(t&&(document.addEventListener("keydown",n),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",n),document.body.style.overflow="unset"}),[t,n]),!t||!e)return null;const a=DD(e.estado),i=ID(e.tipo),o=a.icon,l=i.icon,c=()=>{switch(a.color){case"green":return"text-[#34d399]";case"gray":return"text-[#9ca3af]";case"blue":return"text-[#60a5fa]";default:return"text-[#9ca3af]"}},u=()=>{switch(i.color){case"purple":return"text-[#9b8afb]";case"yellow":return"text-[#fcd34d]";default:return"text-[#9b8afb]"}};return s.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center p-4 pt-20 bg-black/60 backdrop-blur-sm overflow-y-auto",onClick:r,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","data-testid":"attendance-detail-modal",children:s.jsxs("div",{className:`\r
          w-full max-w-lg\r
          backdrop-blur-2xl \r
          bg-gradient-to-br from-[rgba(42,42,48,0.95)] to-[rgba(30,30,36,0.95)]\r
          border border-[rgba(255,255,255,0.15)]\r
          rounded-3xl \r
          p-6\r
          shadow-[0_24px_48px_rgba(0,0,0,0.4),inset_0_2px_4px_rgba(255,255,255,0.1)]\r
          animate-slide-in\r
        `,onClick:d=>d.stopPropagation(),children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{id:"modal-title",className:"text-[#f9fafb] font-semibold mb-1",style:{fontSize:"22px"},children:"Detalle de la clase"}),s.jsx("p",{className:"text-[#9ca3af] text-[14px]",children:"Información completa"})]}),s.jsx("button",{onClick:r,className:`\r
              p-2 rounded-xl \r
              bg-[rgba(255,255,255,0.05)] \r
              hover:bg-[rgba(255,255,255,0.1)] \r
              transition-colors\r
              focus:outline-none\r
              focus:ring-2\r
              focus:ring-[rgba(124,90,248,0.5)]\r
            `,"aria-label":"Cerrar modal",children:s.jsx($r,{className:"w-5 h-5 text-[#9ca3af]","aria-hidden":"true"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[#6b7280] text-[12px] uppercase tracking-wide mb-2",children:"Fecha y hora"}),s.jsxs("div",{className:`\r
                p-4 rounded-xl \r
                bg-[rgba(255,255,255,0.03)] \r
                border border-[rgba(255,255,255,0.08)]\r
              `,children:[s.jsx("p",{className:"text-[#f9fafb] font-medium mb-1",style:{fontSize:"16px"},children:lxe(e.fecha)}),s.jsxs("p",{className:"text-[#9ca3af] text-[14px]",children:[Rp(e.horaInicio)," - ",Rp(e.horaFin)]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#6b7280] text-[12px] uppercase tracking-wide mb-2",children:"Clase"}),s.jsx("div",{className:`\r
                p-4 rounded-xl \r
                bg-[rgba(255,255,255,0.03)] \r
                border border-[rgba(255,255,255,0.08)]\r
              `,children:s.jsx("p",{className:"text-[#f9fafb] font-medium",style:{fontSize:"16px"},children:e.clase})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[#6b7280] text-[12px] uppercase tracking-wide mb-2",children:"Estado"}),s.jsx("div",{className:`\r
                  p-4 rounded-xl \r
                  bg-[rgba(255,255,255,0.03)] \r
                  border border-[rgba(255,255,255,0.08)]\r
                `,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(o,{className:`w-5 h-5 ${c()}`,"aria-hidden":"true"}),s.jsx("p",{className:"text-[#f9fafb] font-medium text-[14px]",children:a.label})]})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#6b7280] text-[12px] uppercase tracking-wide mb-2",children:"Tipo"}),s.jsx("div",{className:`\r
                  p-4 rounded-xl \r
                  bg-[rgba(255,255,255,0.03)] \r
                  border border-[rgba(255,255,255,0.08)]\r
                `,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(l,{className:`w-5 h-5 ${u()}`,"aria-hidden":"true"}),s.jsx("p",{className:"text-[#f9fafb] font-medium text-[14px]",children:i.label})]})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#6b7280] text-[12px] uppercase tracking-wide mb-2",children:"Impacto en tu paquete"}),s.jsxs("div",{className:`
                p-4 rounded-xl 
                border
                ${e.descontada?"bg-[rgba(124,90,248,0.1)] border-[rgba(124,90,248,0.3)]":"bg-[rgba(156,163,175,0.08)] border-[rgba(156,163,175,0.2)]"}
              `,children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.descontada?s.jsxs(s.Fragment,{children:[s.jsx(da,{className:"w-5 h-5 text-[#9b8afb]","aria-hidden":"true"}),s.jsx("p",{className:"text-[#9b8afb] font-medium",style:{fontSize:"15px"},children:"Esta clase se descontó de tu paquete"})]}):s.jsxs(s.Fragment,{children:[s.jsx(xd,{className:"w-5 h-5 text-[#9ca3af]","aria-hidden":"true"}),s.jsx("p",{className:"text-[#d1d5db] font-medium",style:{fontSize:"15px"},children:"Esta clase NO se descontó de tu paquete"})]})}),e.nota&&s.jsx("p",{className:"text-[#9ca3af] text-[13px] leading-relaxed",children:e.nota})]})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-[rgba(255,255,255,0.08)]",children:s.jsx("button",{onClick:r,className:`\r
              w-full\r
              px-6 py-3 rounded-xl\r
              backdrop-blur-xl\r
              bg-[rgba(124,90,248,0.15)]\r
              border border-[rgba(124,90,248,0.3)]\r
              text-[#9b8afb]\r
              font-medium\r
              text-[14px]\r
              hover:bg-[rgba(124,90,248,0.25)]\r
              hover:border-[rgba(124,90,248,0.5)]\r
              transition-all\r
            `,children:"Cerrar"})})]})})}function uxe(e){if(!e)return;const t=new Date(e+"T00:00:00"),r={day:"numeric",month:"short",year:"numeric"};return`Vence: ${t.toLocaleDateString("es-ES",r)}`}function dxe(e){switch(e){case"activo":return"Activo";case"congelado":return"Congelado";case"agotado":return"Agotado";case"sin_paquete":return"Sin paquete";default:return"Desconocido"}}const fxe=()=>{const{session:e}=fo(),{data:t,isLoading:r,error:n}=Up(e.isAuthenticated),a=t?.idAlumno??null,{asistencias:i,estadoPaquete:o,selectedAsistencia:l,isLoading:c,isLoadingPaquete:u,error:d,summary:f,selectAsistencia:m,closeDetailModal:h,isDetailModalOpen:g}=nxe(a),p=r||a&&u,v=n||d;return s.jsxs(s.Fragment,{children:[s.jsx(Ph,{}),s.jsx(jh,{position:"bottom-right"}),s.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-[#0a0a0b]",children:[s.jsx(Mn,{variant:"cool"}),s.jsx(Ch,{text:"CLASES",orientation:"vertical",position:"right",size:220,opacity:.2}),s.jsx("div",{className:"absolute inset-0 opacity-[0.015] pointer-events-none",style:{backgroundImage:`
              linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
              linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)
            `,backgroundSize:"60px 60px"}}),s.jsx(no,{size:"w-20 h-20",position:"top-[12%] left-[5%]",color:"secondary",delay:"0s"}),s.jsx(no,{size:"w-14 h-14",position:"bottom-[25%] right-[6%]",color:"primary",delay:"1s"}),s.jsx(ei,{position:"top-[15%] right-[18%]",color:"#7c5af8",size:"w-3 h-3",delay:"0s"}),s.jsx(ei,{position:"top-[65%] left-[8%]",color:"#34d399",size:"w-2 h-2",delay:"1s"}),s.jsx(ei,{position:"bottom-[20%] right-[25%]",color:"#9b8afb",size:"w-4 h-4",delay:"1.5s"}),s.jsxs("div",{className:"relative z-10 p-4 sm:p-6 md:p-8 max-w-[1400px] mx-auto",children:[s.jsxs("header",{className:"mb-6 sm:mb-8",children:[s.jsxs("div",{className:`\r
                inline-flex items-center gap-2\r
                px-3 py-1.5 sm:px-4 sm:py-2 mb-4 sm:mb-5\r
                rounded-full\r
                backdrop-blur-xl\r
                bg-[rgba(52,211,153,0.15)]\r
                border border-[rgba(52,211,153,0.3)]\r
                text-[#34d399]\r
                text-xs sm:text-sm font-medium\r
                shadow-[0_4px_16px_rgba(52,211,153,0.2)]\r
              `,role:"status","aria-label":"Vista Alumno",children:[s.jsx(mS,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4","aria-hidden":"true"}),"Vista Alumno"]}),s.jsx("h1",{className:"text-[#f9fafb] mb-2 sm:mb-3 tracking-tight text-3xl sm:text-4xl md:text-[48px]",style:{fontWeight:600,lineHeight:"1.1",letterSpacing:"-0.03em"},children:"Mis Asistencias"}),s.jsx("p",{className:"text-[#d1d5db] max-w-xl text-sm sm:text-base md:text-[17px]",style:{lineHeight:"1.6"},children:"Consulta el historial de tus clases y el estado de tu paquete."})]}),p?s.jsx(mxe,{}):s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[s.jsx(Ov,{icon:s.jsx(ua,{className:"w-5 h-5 sm:w-6 sm:h-6"}),label:"Clases asistidas",value:f.asistenciasEsteMes,badge:"Este mes",variant:"clases_mes"}),s.jsx(Ov,{icon:s.jsx(Tr,{className:"w-5 h-5 sm:w-6 sm:h-6"}),label:"Clases restantes",value:o?.clasesRestantes??0,secondaryValue:o?`/ ${o.clasesTotales}`:void 0,badge:"Disponibles",variant:"clases_restantes"}),s.jsx("div",{className:"sm:col-span-2 lg:col-span-1",children:s.jsx(Ov,{icon:s.jsx(da,{className:"w-5 h-5 sm:w-6 sm:h-6"}),label:"Estado del paquete",value:o?.nombrePaquete??"Sin paquete activo",badge:dxe(o?.estado??"sin_paquete"),variant:"estado_paquete",estadoPaquete:o?.estado??"sin_paquete",subtitle:uxe(o?.fechaVencimiento)})})]}),o?.estado==="activo"&&s.jsx("div",{className:"mb-6 sm:mb-8",children:s.jsx(sxe,{clasesUsadas:o.clasesUsadas,clasesTotales:o.clasesTotales,clasesRestantes:o.clasesRestantes})}),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-3 sm:mb-4",children:[s.jsx("h2",{className:"text-[#f9fafb] font-semibold mb-1 sm:mb-2 text-xl sm:text-2xl",children:"Historial de clases"}),s.jsx("p",{className:"text-[#9ca3af] text-xs sm:text-[14px]",children:"Revisa todas tus asistencias y su impacto en tu paquete"})]}),s.jsx(Ye,{className:"overflow-hidden",children:v?s.jsx(kD,{message:"Error al cargar las asistencias",error:v}):c?s.jsx(pxe,{}):i.length===0?s.jsx(hxe,{}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block p-6 border-b border-[rgba(255,255,255,0.08)] bg-[rgba(255,255,255,0.02)]",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsx("div",{className:"col-span-2",children:s.jsx("p",{className:"text-[#9ca3af] uppercase tracking-[0.1em] text-[12px] font-medium",children:"Fecha"})}),s.jsx("div",{className:"col-span-3",children:s.jsx("p",{className:"text-[#9ca3af] uppercase tracking-[0.1em] text-[12px] font-medium",children:"Clase"})}),s.jsx("div",{className:"col-span-2",children:s.jsx("p",{className:"text-[#9ca3af] uppercase tracking-[0.1em] text-[12px] font-medium",children:"Estado"})}),s.jsx("div",{className:"col-span-2",children:s.jsx("p",{className:"text-[#9ca3af] uppercase tracking-[0.1em] text-[12px] font-medium",children:"Tipo"})}),s.jsx("div",{className:"col-span-2",children:s.jsx("p",{className:"text-[#9ca3af] uppercase tracking-[0.1em] text-[12px] font-medium",children:"Impacto"})}),s.jsx("div",{className:"col-span-1"})]})}),s.jsx("div",{className:"divide-y divide-[rgba(255,255,255,0.05)]",children:i.map(b=>s.jsx(oxe,{record:b,onClick:()=>m(b)},b.id))})]})})]})]})]}),s.jsx(cxe,{record:l,isOpen:g,onClose:h})]})};function hxe(){return s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[s.jsx("div",{className:"w-16 h-16 mb-4 rounded-full bg-[rgba(156,163,175,0.1)] flex items-center justify-center",children:s.jsx(St,{className:"w-8 h-8 text-[#6b7280]"})}),s.jsx("p",{className:"text-[#9ca3af] text-lg mb-2",children:"No hay asistencias registradas"}),s.jsx("p",{className:"text-[#6b7280] text-sm",children:"Tu historial de clases aparecerá aquí"})]})}function mxe(){return s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[1,2,3].map(e=>s.jsxs("div",{className:`
            backdrop-blur-2xl 
            bg-gradient-to-br from-[rgba(156,163,175,0.1)] to-[rgba(107,114,128,0.05)]
            border border-[rgba(255,255,255,0.1)]
            rounded-2xl 
            p-4 sm:p-6
            ${e===3?"sm:col-span-2 lg:col-span-1":""}
          `,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:[s.jsx(Ge,{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl"}),s.jsx(Ge,{className:"w-16 sm:w-20 h-5 sm:h-6 rounded-lg"})]}),s.jsx(jn,{className:"w-20 sm:w-24 mb-2"}),s.jsx(Ge,{className:"w-12 sm:w-16 h-8 sm:h-10 rounded"})]},e))})}function pxe(){return s.jsxs("div",{className:"space-y-0",children:[s.jsx("div",{className:"hidden md:block p-6 border-b border-[rgba(255,255,255,0.08)]",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsx(Ge,{className:"col-span-2 h-4 w-16"}),s.jsx(Ge,{className:"col-span-3 h-4 w-20"}),s.jsx(Ge,{className:"col-span-2 h-4 w-16"}),s.jsx(Ge,{className:"col-span-2 h-4 w-14"}),s.jsx(Ge,{className:"col-span-2 h-4 w-18"})]})}),[1,2,3,4,5].map(e=>s.jsxs("div",{className:"p-6 border-b border-[rgba(255,255,255,0.05)]",children:[s.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-4 items-center",children:[s.jsx("div",{className:"col-span-2",children:s.jsx(jn,{className:"w-24"})}),s.jsxs("div",{className:"col-span-3",children:[s.jsx(jn,{className:"w-32 mb-1"}),s.jsx(jn,{className:"w-24 h-3"})]}),s.jsx("div",{className:"col-span-2",children:s.jsx(Ge,{className:"w-24 h-8 rounded-lg"})}),s.jsx("div",{className:"col-span-2",children:s.jsx(Ge,{className:"w-20 h-8 rounded-lg"})}),s.jsx("div",{className:"col-span-2",children:s.jsx(Ge,{className:"w-24 h-8 rounded-lg"})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Ge,{className:"w-5 h-5 rounded ml-auto"})})]}),s.jsxs("div",{className:"md:hidden",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx(jn,{className:"w-32 mb-2"}),s.jsx(jn,{className:"w-24 h-3"})]}),s.jsx(Ge,{className:"w-5 h-5 rounded"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ge,{className:"w-20 h-6 rounded-lg"}),s.jsx(Ge,{className:"w-16 h-6 rounded-lg"}),s.jsx(Ge,{className:"w-24 h-6 rounded-lg"})]})]})]},e))]})}function xxe(){return s.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>s.jsx(Tm,{className:"h-48"},e))})}function V6(){return s.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(e=>s.jsx(Ge,{className:"h-20"},e))})}function gxe(){return s.jsxs(Ye,{className:"p-8 text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-4 rounded-full bg-white/5",children:s.jsx(Wp,{className:"w-10 h-10 text-gray-400"})})}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"No tienes clases hoy"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Revisa tus próximas clases programadas"})]})}function vxe(){return s.jsxs("div",{className:"p-6 text-center",children:[s.jsx(St,{className:"w-8 h-8 text-gray-500 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"No hay clases próximas programadas"})]})}function bxe({clase:e,onViewDetail:t}){const r=kd(e.fecha),n=e.estado==="reprogramada";return s.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/[0.08] transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(di,{variant:"info",shape:"pill",className:"text-xs",children:r}),n&&s.jsx(di,{variant:"warning",shape:"pill",className:"text-xs",children:"Reprogramada"})]}),s.jsx("h4",{className:"text-white font-medium",children:e.nombre})]}),s.jsx("button",{onClick:()=>t(e),className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Ver detalles"})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[s.jsxs("span",{children:[hi(e.horaInicio)," - ",hi(e.horaFin)]}),s.jsx("span",{children:e.profesor}),s.jsx("span",{children:e.ubicacion})]})]})}function yxe({clase:e}){const t=()=>{switch(e.resultado){case"asistida":return s.jsx(di,{variant:"success",shape:"pill",children:"Asistida"});case"ausente":return s.jsx(di,{variant:"error",shape:"pill",children:"Ausente"});case"reprogramada":return s.jsx(di,{variant:"warning",shape:"pill",children:"Reprogramada"});default:return null}};return s.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-xs mb-1 capitalize",children:kd(e.fecha,!0)}),s.jsx("h4",{className:"text-white font-medium",children:e.nombre}),s.jsx("p",{className:"text-gray-400 text-sm",children:e.tipo})]}),t()]}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsxs("span",{className:"text-gray-400 text-sm",children:[hi(e.horaInicio)," - ",hi(e.horaFin)]}),e.descontada!==void 0&&s.jsx("span",{className:`text-xs ${e.descontada?"text-yellow-400":"text-emerald-400"}`,children:e.descontada?"Descontada":"No descontada"})]})]})}function wxe(){const{clasesHoy:e,proximasClases:t,clasesAnteriores:r,isLoading:n,isReprogramando:a,error:i,showClasesAnteriores:o,reprogramarClaseId:l,setSelectedClaseId:c,setReprogramarClaseId:u,reprogramarClase:d,toggleClasesAnteriores:f,fechaFormateada:m,diaSemanaActual:h}=ZL(),[g,p]=w.useState(!1),[v,b]=w.useState(null),j=[...e,...t].find(M=>M.id===l)||null,A=w.useCallback(M=>{b(M),c(M.id),p(!0)},[c]),_=w.useCallback(M=>{u(M.id)},[u]),k=w.useCallback(()=>{p(!1),b(null),c(null)},[c]),I=w.useCallback(()=>{u(null)},[u]),T=w.useCallback(async M=>{l&&await d(l,M)},[l,d]);return s.jsxs(s.Fragment,{children:[s.jsx(Ph,{}),s.jsx(jh,{position:"bottom-center"}),s.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-[#0a0a0b]",children:[s.jsx(Mn,{variant:"warm"}),s.jsx(Ch,{text:"CLASES",orientation:"vertical",position:"right",size:240,opacity:.3}),s.jsx("div",{className:"absolute inset-0 opacity-[0.02] pointer-events-none",style:{backgroundImage:`
              linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
              linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)
            `,backgroundSize:"60px 60px"}}),s.jsx(no,{size:"w-24 h-24",position:"top-[40%] right-[2%]",color:"primary",delay:"0s"}),s.jsx(no,{size:"w-16 h-16",position:"bottom-[20%] left-[3%]",color:"success",delay:"1s"}),s.jsx(ei,{position:"top-[20%] right-[12%]",color:"#c93448",size:"w-3 h-3",delay:"0s"}),s.jsx(ei,{position:"top-[55%] left-[6%]",color:"#34d399",size:"w-2 h-2",delay:"1s"}),s.jsx(ei,{position:"bottom-[30%] right-[18%]",color:"#7c5af8",size:"w-4 h-4",delay:"1.5s"}),s.jsxs("div",{className:"relative z-10 p-4 sm:p-6 md:p-8 md:pl-[4%] md:pr-[4%] lg:pl-[6%] lg:pr-[6%]",children:[s.jsxs("div",{className:"mb-6 md:mb-10 max-w-[1600px]",children:[s.jsx(db,{color:"info",className:"mb-4 sm:mb-6",children:"Mi Agenda"}),s.jsx("h1",{className:"text-[#f9fafb] mb-3 sm:mb-4 tracking-tight text-3xl sm:text-4xl md:text-[48px]",style:{fontWeight:600,lineHeight:"1.1",letterSpacing:"-0.03em"},children:"Mis Clases"}),s.jsx("p",{className:"text-[#d1d5db] max-w-2xl text-sm sm:text-base md:text-lg",style:{lineHeight:"1.6"},children:"Consulta tus clases programadas y gestiona tu agenda"})]}),s.jsxs("div",{className:"max-w-[1600px] grid grid-cols-1 lg:grid-cols-12 gap-6",children:[s.jsxs("div",{className:"lg:col-span-7",children:[s.jsxs(Ye,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 rounded-lg bg-[#c93448]/20",children:s.jsx(Wp,{className:"w-5 h-5 text-[#c93448]"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Clases de Hoy"}),s.jsxs("p",{className:"text-gray-400 text-sm capitalize",children:[h,", ",m]})]})]}),n?s.jsx(xxe,{}):i?s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-red-400",children:"Error al cargar las clases"})}):e.length===0?s.jsx(gxe,{}):s.jsx("div",{className:"space-y-4",children:e.map(M=>s.jsx(BL,{clase:M,onViewDetail:A,onReprogramar:_},M.id))})]}),s.jsxs(Ye,{className:"p-6 mt-6",children:[s.jsxs("button",{onClick:f,className:"w-full flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-gray-500/20",children:s.jsx(ob,{className:"w-5 h-5 text-gray-400"})}),s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Clases Anteriores"})]}),o?s.jsx(Bp,{className:"w-5 h-5 text-gray-400"}):s.jsx(qp,{className:"w-5 h-5 text-gray-400"})]}),o&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"mb-4 p-3 rounded-xl bg-blue-500/10 border border-blue-500/30 flex items-start gap-3",children:[s.jsx(xd,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-blue-300 text-sm",children:"Las clases no reprogramadas se descuentan automáticamente de tu paquete"})]}),n?s.jsx(V6,{}):r.length===0?s.jsx("p",{className:"text-gray-400 text-sm text-center py-6",children:"No hay clases anteriores"}):s.jsx("div",{className:"space-y-3",children:r.map(M=>s.jsx(yxe,{clase:M},M.id))})]})]})]}),s.jsx("div",{className:"lg:col-span-5",children:s.jsxs(Ye,{className:"p-6 sticky top-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-500/20",children:s.jsx(St,{className:"w-5 h-5 text-purple-400"})}),s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Próximas Clases"})]}),n?s.jsx(V6,{}):t.length===0?s.jsx(vxe,{}):s.jsxs("div",{className:"space-y-3",children:[t.slice(0,5).map(M=>s.jsx(bxe,{clase:M,onViewDetail:A},M.id)),t.length>5&&s.jsxs("p",{className:"text-gray-500 text-sm text-center pt-2",children:["+",t.length-5," clases más"]})]})]})})]})]})]}),s.jsx(gb,{idClase:v?.id||null,isOpen:g,onClose:k}),s.jsx($L,{isOpen:!!l,onClose:I,clase:j,onConfirm:T,isLoading:a})]})}const zy={all:["alumnoAttendance"],pendientes:()=>[...zy.all,"pendientes"]},Nxe=async()=>(await Dt.get("/api/alumnos/me/asistencias/pendientes")).data,jxe=async e=>(await Dt.post(`/api/alumnos/asistencias/${e}/confirmar`)).data,_xe=()=>dr({queryKey:zy.pendientes(),queryFn:Nxe,refetchInterval:3e4,staleTime:2e4}),Axe=()=>{const e=an();return sn({mutationFn:jxe,onSuccess:()=>{e.invalidateQueries({queryKey:zy.pendientes()}),Jt.success("¡Asistencia confirmada! 🎉")},onError:t=>{console.error("Error confirmando asistencia:",t);const r=t.response?.data?.error||"Error al confirmar asistencia";Jt.error(r)}})},Sxe=({asistencia:e,onConfirm:t,onDismiss:r})=>{const[n,a]=w.useState(!1),[i,o]=w.useState(!1);w.useEffect(()=>{setTimeout(()=>o(!0),100)},[]);const l=f=>new Date(f).toLocaleDateString("es-CO",{weekday:"long",day:"numeric",month:"long"}),c=()=>{n||a(!0)},u=()=>{t(e.idAsistencia)},d=()=>{a(!1),setTimeout(()=>r(),300)};return i?s.jsxs(s.Fragment,{children:[!n&&s.jsxs("div",{onClick:c,className:`
            fixed top-20 right-6 z-50 cursor-pointer
            transform transition-all duration-500
            ${i?"scale-100 opacity-100":"scale-0 opacity-0"}
            hover:scale-110
          `,style:{animation:"float 3s ease-in-out infinite, rotate-subtle 4s ease-in-out infinite"},children:[s.jsx("div",{className:"absolute inset-0 bg-[#7c5af8] blur-xl opacity-60 rounded-full"}),s.jsxs("div",{className:"relative w-20 h-20 bg-gradient-to-br from-[#7c5af8] to-[#d946ef] rounded-2xl shadow-2xl flex items-center justify-center",children:[s.jsx("span",{className:"text-4xl",children:"👠"}),s.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-[#ef4444] rounded-full flex items-center justify-center text-white text-xs font-bold animate-pulse",children:"1"}),s.jsx("div",{className:"absolute -top-4 -left-4 text-2xl",style:{animation:"music-notes 2s ease-in-out infinite"},children:"🎵"})]})]}),n&&s.jsx("div",{className:`
            fixed inset-0 z-50 flex items-center justify-center
            bg-black/60 backdrop-blur-sm
            transition-opacity duration-300
            ${n?"opacity-100":"opacity-0"}
            pt-20 pb-8
          `,onClick:d,children:s.jsxs("div",{onClick:f=>f.stopPropagation(),className:`
              bg-gradient-to-br from-[#1a1a2e] to-[#16213e] 
              rounded-3xl p-8 max-w-md w-full mx-4 
              border-2 border-[#7c5af8] shadow-2xl
              transform transition-all duration-300
              ${n?"scale-100 opacity-100":"scale-90 opacity-0"}
              max-h-[calc(100vh-8rem)] overflow-y-auto
            `,children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"text-6xl mb-4 inline-block",style:{animation:"wiggle 0.5s ease-in-out infinite alternate"},children:"👠"}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"¡Estuviste en clase!"}),s.jsx("p",{className:"text-[#9ca3af]",children:"Confirma tu asistencia con un tap"})]}),s.jsxs("div",{className:"bg-[rgba(124,90,248,0.1)] rounded-2xl p-6 mb-6 space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[#9ca3af] text-sm mb-1",children:"Clase"}),s.jsx("p",{className:"text-white font-semibold text-lg",children:e.nombreClase})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#9ca3af] text-sm mb-1",children:"Fecha"}),s.jsx("p",{className:"text-white",children:l(e.fechaClase)})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-[#9ca3af] text-sm mb-1",children:"Hora"}),s.jsxs("p",{className:"text-white",children:[e.horaInicio," - ",e.horaFin]})]})}),e.profesores.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-[#9ca3af] text-sm mb-1",children:e.profesores.length===1?"Profesor":"Profesores"}),s.jsx("p",{className:"text-white",children:e.profesores.join(", ")})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:d,className:"flex-1 px-4 py-3 bg-[rgba(124,90,248,0.1)] hover:bg-[rgba(124,90,248,0.2)] text-[#9ca3af] hover:text-white rounded-xl transition-all font-medium",children:"Después"}),s.jsx("button",{onClick:u,className:"flex-1 px-4 py-3 bg-gradient-to-r from-[#7c5af8] to-[#d946ef] hover:from-[#6845e8] hover:to-[#c935de] text-white rounded-xl transition-all font-semibold shadow-lg",children:"¡Confirmar! 🎉"})]})]})}),s.jsx("style",{children:`
        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-10px); }
        }

        @keyframes rotate-subtle {
          0%, 100% { transform: rotate(0deg); }
          25% { transform: rotate(-5deg); }
          75% { transform: rotate(5deg); }
        }

        @keyframes music-notes {
          0%, 100% { 
            transform: translate(0, 0); 
            opacity: 0.5;
          }
          50% { 
            transform: translate(-5px, -10px); 
            opacity: 1;
          }
        }

        @keyframes wiggle {
          0% { transform: rotate(-5deg); }
          100% { transform: rotate(5deg); }
        }
      `})]}):null},Cxe=({paquete:e})=>!e||!(e.clasesRestantes<=2||e.diasParaVencer<=7)?null:s.jsx("div",{className:"mb-8",children:s.jsx(Ye,{className:"p-5 border-l-4 border-[#f59e0b] bg-gradient-to-r from-[rgba(245,158,11,0.1)] to-transparent",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-[rgba(245,158,11,0.2)]",children:s.jsx(Wo,{className:"w-5 h-5 text-[#f59e0b]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-[#f9fafb] font-medium mb-1",children:e.clasesRestantes<=2?`¡Te quedan solo ${e.clasesRestantes} clases!`:`Tu paquete vence en ${e.diasParaVencer} días`}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Renueva ahora para continuar con tu progreso sin interrupciones."})]}),s.jsx("button",{className:"px-4 py-2 rounded-lg bg-[#f59e0b] hover:bg-[#d97706] text-white text-sm font-medium transition-colors",children:"Renovar"})]})})}),Pxe=({alumno:e})=>{const t=sre(),r=Tk(e.nombreAlumno),n=e.paqueteActivo?Ek(e.paqueteActivo.estado):null;return s.jsx("header",{className:"mb-10 md:mb-12",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-[#c93448] shadow-[0_0_8px_rgba(201,52,72,0.6)] animate-pulse"}),s.jsx("p",{className:"text-[#9ca3af] tracking-[0.2em] uppercase text-sm",children:"Mi Progreso"})]}),s.jsxs("h1",{className:"text-[#f9fafb] text-3xl md:text-4xl font-bold mb-3",children:[t,", ",e.nombreAlumno.split(" ")[0]]}),s.jsx("p",{className:"text-[#d1d5db] text-lg",children:"Tu progreso y tus próximas clases"})]}),s.jsxs(Ye,{className:"p-5 md:min-w-[280px]",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-[#c93448] to-[#a8243a] flex items-center justify-center shadow-[0_4px_16px_rgba(201,52,72,0.4)]",children:s.jsx("span",{className:"text-white font-bold text-lg",children:r})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-[#f9fafb] font-medium mb-0.5",children:e.nombreAlumno}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Estudiante"})]})]}),n&&s.jsx("div",{className:"mt-4 pt-4 border-t border-[rgba(255,255,255,0.1)]",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[#d1d5db] text-sm",children:"Estado del Paquete"}),s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium border",style:{background:n.bg,borderColor:n.border,color:n.text},children:n.label})]})})]})]})})},Exe=({alumno:e})=>{const[t,r]=w.useState(!1),n=Tk(e.nombreAlumno);return s.jsxs(s.Fragment,{children:[s.jsxs(Ye,{className:"p-8 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-[#c93448] opacity-[0.08] blur-[80px] rounded-full"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Jn,{className:"w-5 h-5 text-[#c93448]"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Mi Credencial Digital"})]}),s.jsxs("div",{className:"mb-6 p-6 rounded-2xl bg-gradient-to-br from-[#1a1a1d] to-[#2a2a30] border border-[rgba(255,255,255,0.1)] shadow-[0_8px_32px_rgba(0,0,0,0.4)]",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[#9ca3af] text-xs uppercase tracking-wider mb-1",children:"Academia Chetango"}),s.jsx("h4",{className:"text-[#f9fafb] text-xl font-semibold",children:e.nombreAlumno}),s.jsx("p",{className:"text-[#6b7280] text-sm mt-1",children:e.codigo})]}),s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-[#c93448] to-[#a8243a] flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold",children:n})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uu,{className:"w-3.5 h-3.5 text-[#9ca3af]"}),s.jsx("span",{className:"text-[#d1d5db] truncate",children:e.correo})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sd,{className:"w-3.5 h-3.5 text-[#9ca3af]"}),s.jsx("span",{className:"text-[#d1d5db]",children:e.telefono})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-[0_8px_32px_rgba(0,0,0,0.3)] mx-auto max-w-[280px]",children:[s.jsx("div",{className:"aspect-square bg-black rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-white text-center p-4",children:[s.jsx("div",{className:"text-6xl mb-2",children:"⬜"}),s.jsx("p",{className:"text-xs",children:"QR Code"}),s.jsx("p",{className:"text-xs opacity-50",children:e.codigo})]})}),s.jsx("p",{className:"text-center text-black text-sm mt-3 font-medium",children:"Muestra este código en la academia"})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsxs("button",{onClick:()=>r(!0),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] transition-all duration-300",children:[s.jsx(a7,{className:"w-4 h-4"}),"Ampliar"]}),s.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] transition-all duration-300",children:[s.jsx(Qs,{className:"w-4 h-4"}),"Descargar"]})]})]})]}),t&&s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>r(!1),children:s.jsxs("div",{className:"bg-white p-8 rounded-3xl max-w-md w-full",onClick:a=>a.stopPropagation(),children:[s.jsx("div",{className:"aspect-square bg-black rounded-2xl flex items-center justify-center mb-4",children:s.jsxs("div",{className:"text-white text-center p-8",children:[s.jsx("div",{className:"text-8xl mb-4",children:"⬜"}),s.jsx("p",{className:"text-lg",children:"QR Code"}),s.jsx("p",{className:"text-sm opacity-50",children:e.codigo})]})}),s.jsx("p",{className:"text-center text-black font-medium mb-4",children:e.nombreAlumno}),s.jsx("button",{onClick:()=>r(!1),className:"w-full px-6 py-3 rounded-xl bg-gray-800 hover:bg-gray-700 text-white font-medium transition-colors",children:"Cerrar"})]})})]})},kxe={flame:pS,trophy:Uv,target:y7,star:zp,gift:sb,zap:P7},Txe=({logros:e})=>e.length===0?null:s.jsxs("div",{className:"mb-8 md:mb-10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Uv,{className:"w-5 h-5 text-[#f59e0b]"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Tus Logros"}),s.jsx("div",{className:"flex-1 h-[2px] bg-gradient-to-r from-[rgba(255,255,255,0.08)] to-transparent"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(t=>{const r=kxe[t.icono]||Uv;return s.jsxs(Ye,{className:`p-6 text-center transition-all duration-300 ${t.desbloqueado?"hover:scale-[1.05] cursor-pointer":"opacity-50"}`,children:[s.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center ${t.desbloqueado?"bg-gradient-to-br shadow-lg":"bg-[rgba(255,255,255,0.05)]"}`,style:t.desbloqueado?{background:`linear-gradient(135deg, ${t.color}40, ${t.color}20)`,boxShadow:`0 4px 16px ${t.color}40`}:{},children:s.jsx(r,{className:"w-8 h-8",style:{color:t.desbloqueado?t.color:"#6b7280"}})}),s.jsx("h4",{className:"text-[#f9fafb] font-medium mb-1",children:t.nombre}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:t.descripcion}),!t.desbloqueado&&s.jsx("p",{className:"text-[#6b7280] text-xs mt-2",children:"🔒 Bloqueado"})]},t.id)})})]}),Oxe=({asistencia:e})=>{const t=ore(e.porcentaje);return s.jsxs(Ye,{className:"p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ua,{className:"w-5 h-5 text-[#34d399]"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Mi Asistencia"})]})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 rounded-full bg-gradient-to-br from-[rgba(52,211,153,0.2)] to-[rgba(52,211,153,0.05)] border-4 border-[#34d399] mb-4",children:s.jsxs("span",{className:"text-[#34d399] text-4xl font-bold",children:[e.porcentaje,"%"]})}),s.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border",style:{background:t.bg,borderColor:t.color+"40",color:t.color},children:s.jsx("span",{className:"font-medium",children:t.label})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.05)] text-center",children:[s.jsx("p",{className:"text-[#9ca3af] text-sm mb-1",children:"Clases tomadas"}),s.jsx("p",{className:"text-[#f9fafb] text-2xl font-bold",children:e.clasesTomadas})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.05)] text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[s.jsx(pS,{className:"w-4 h-4 text-[#f59e0b]"}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Racha"})]}),s.jsxs("p",{className:"text-[#f9fafb] text-2xl font-bold",children:[e.rachaSemanas," sem"]})]})]})]})},Dxe=({paquete:e})=>{if(!e)return s.jsxs(Ye,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Tr,{className:"w-5 h-5 text-[#c93448]"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Mi Paquete"})]}),s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-[#9ca3af]",children:"No tienes un paquete activo"}),s.jsx("button",{className:"mt-4 px-6 py-2 bg-[#c93448] text-white rounded-lg hover:bg-[#b32d40] transition-colors",children:"Comprar Paquete"})]})]});const t=Ek(e.estado),r=(e.clasesTotales-e.clasesRestantes)/e.clasesTotales*100,n=e.clasesTotales-e.clasesRestantes;return s.jsxs(Ye,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Tr,{className:"w-5 h-5 text-[#c93448]"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Mi Paquete"})]}),s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium border",style:{background:t.bg,borderColor:t.border,color:t.text},children:t.label})]}),s.jsx("h4",{className:"text-[#f9fafb] text-xl mb-4",children:e.tipo}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-end justify-between mb-2",children:[s.jsx("span",{className:"text-[#9ca3af] text-sm",children:"Clases restantes"}),s.jsx("span",{className:"text-[#f9fafb] text-3xl font-bold",children:e.clasesRestantes})]}),s.jsx("div",{className:"relative h-3 bg-[rgba(255,255,255,0.05)] rounded-full overflow-hidden",children:s.jsx("div",{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-[#c93448] to-[#e54d5e] rounded-full transition-all duration-500",style:{width:`${r}%`}})}),s.jsxs("p",{className:"text-[#6b7280] text-xs mt-2",children:[n," de ",e.clasesTotales," clases usadas"]})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.05)]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[#9ca3af] text-sm",children:"Vence en"}),s.jsxs("span",{className:"text-[#f9fafb] font-medium",children:[e.diasParaVencer," días"]})]}),s.jsx("p",{className:"text-[#6b7280] text-xs mt-1",children:new Date(e.fechaVencimiento).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"})})]})]})},Ixe=({clase:e})=>e?s.jsxs(Ye,{className:"p-8 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-[#7c5af8] opacity-[0.08] blur-[80px] rounded-full"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(St,{className:"w-5 h-5 text-[#7c5af8]"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Próxima Clase"})]}),s.jsx("span",{className:"px-3 py-1 rounded-full bg-[rgba(124,90,248,0.15)] border border-[rgba(124,90,248,0.3)] text-[#9b8afb] text-sm",children:lre(e.minutosParaInicio)})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-[#f9fafb] text-2xl font-semibold mb-3",children:e.nombre}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(kr,{className:"w-5 h-5 text-[#9ca3af]"}),s.jsxs("span",{className:"text-[#d1d5db]",children:[kk(e.fecha)," - ",cre(e.hora)]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Jn,{className:"w-5 h-5 text-[#9ca3af]"}),s.jsxs("span",{className:"text-[#d1d5db]",children:["Prof. ",e.profesor]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(nb,{className:"w-5 h-5 text-[#9ca3af]"}),s.jsx("span",{className:"text-[#d1d5db]",children:e.ubicacion})]})]})]}),s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-[rgba(124,90,248,0.15)] border border-[rgba(124,90,248,0.3)] mb-6",children:[s.jsx(zp,{className:"w-4 h-4 text-[#7c5af8]"}),s.jsx("span",{className:"text-[#9b8afb] text-sm font-medium",children:e.nivel})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-[#7c5af8] to-[#6938ef] text-white shadow-[0_4px_16px_rgba(124,90,248,0.4)] hover:shadow-[0_8px_24px_rgba(124,90,248,0.5)] transition-all duration-300 hover:scale-[1.02]",children:["Ver Detalles",s.jsx(ec,{className:"w-5 h-5"})]}),s.jsx("button",{className:"flex items-center justify-center gap-2 px-6 py-3 rounded-xl bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] transition-all duration-300",children:"Reprogramar"})]})]})]}):s.jsxs(Ye,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(St,{className:"w-5 h-5 text-[#7c5af8]"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Próxima Clase"})]}),s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-[#9ca3af]",children:"No tienes clases programadas"})})]}),$y={all:["referidos"],miCodigo:()=>[...$y.all,"mi-codigo"]};function Mxe(){return dr({queryKey:$y.miCodigo(),queryFn:async()=>{try{return(await Dt.get("/api/referidos/mi-codigo")).data}catch(e){if(e.response?.status===404)return null;throw e}},staleTime:600*1e3,retry:1,refetchOnWindowFocus:!1})}function Fxe(){const e=an();return sn({mutationFn:async()=>(await Dt.post("/api/referidos/generar-codigo")).data,onSuccess:t=>{Jt.success("¡Código generado!",{description:`Tu código es: ${t.codigo}. Compártelo con tus amigos.`}),e.invalidateQueries({queryKey:$y.miCodigo()})},onError:t=>{const r=t.response?.data?.error||t.response?.data?.message||"No se pudo generar el código. Intenta de nuevo.";Jt.error("Error al generar código",{description:r})}})}const Lxe=({paquete:e})=>{const t=ii(),[r,n]=w.useState(null),a=pre(),i=xre(),o=Fxe(),{data:l}=Mxe(),c=async()=>{n("renovar");try{await a.mutateAsync({idTipoPaqueteDeseado:null,mensajeAlumno:e?`Quiero renovar mi paquete ${e.tipo}. Me quedan ${e.clasesRestantes} clases.`:"Quiero renovar mi paquete"})}finally{n(null)}},u=async()=>{n("clase-privada");try{await i.mutateAsync({idTipoClaseDeseado:null,fechaPreferida:null,horaPreferida:null,observacionesAlumno:"Me gustaría tomar una clase privada para mejorar mi técnica."})}finally{n(null)}},d=async()=>{n("invita-amigo");try{await o.mutateAsync()}finally{n(null)}},f=()=>{l?.codigo&&navigator.clipboard.writeText(l.codigo)},h=(()=>{const g=[];return e&&e.clasesRestantes<=2&&g.push({id:"renovar",titulo:"Tu paquete está por agotarse",descripcion:`Te quedan solo ${e.clasesRestantes} clases. Renueva para no perder ritmo.`,icon:Tr,color:"#c93448",bgColor:"rgba(201, 52, 72, 0.15)",ctaText:"Renovar Paquete",path:"/student/packages",prioridad:"alta"}),g.push({id:"clase-privada",titulo:"Mejora tu técnica",descripcion:"Clases personalizadas 1 a 1 con profesores expertos.",icon:zp,color:"#7c5af8",bgColor:"rgba(124, 90, 248, 0.15)",ctaText:"Quiero Clase Privada",path:"",prioridad:"media"}),g.push({id:"invita-amigo",titulo:"Invita un Amigo",descripcion:l?`Tu código: ${l.codigo} - Usado ${l.vecesUsado} veces`:"Comparte tu código y gana 1 clase gratis por cada amigo.",icon:Zn,color:"#10b981",bgColor:"rgba(16, 185, 129, 0.15)",ctaText:l?"Copiar Código":"Generar Código",path:"",prioridad:"baja"}),g})();return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(sb,{className:"w-5 h-5 text-[#c93448]"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Recomendado para Ti"}),s.jsx("div",{className:"flex-1 h-[2px] bg-gradient-to-r from-[rgba(255,255,255,0.08)] to-transparent"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(g=>{const p=g.icon,v=r===g.id,b=()=>{v||(g.id==="renovar"?c():g.id==="clase-privada"?u():g.id==="invita-amigo"?l?f():d():g.path&&t(g.path))};return s.jsxs(Ye,{className:`p-6 group hover:scale-[1.02] transition-all duration-300 ${v?"cursor-wait opacity-70":"cursor-pointer"} ${g.prioridad==="alta"?"ring-2 ring-[#c93448]":""}`,onClick:b,children:[s.jsx("div",{className:"w-12 h-12 mb-4 rounded-xl flex items-center justify-center",style:{background:g.bgColor,color:g.color},children:v?s.jsx(Zo,{className:"w-6 h-6 animate-spin"}):s.jsx(p,{className:"w-6 h-6"})}),s.jsx("h4",{className:"text-[#f9fafb] font-semibold mb-2",children:g.titulo}),s.jsx("p",{className:"text-[#9ca3af] text-sm mb-4",children:g.descripcion}),s.jsxs("button",{disabled:v,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg text-white text-sm font-medium transition-all duration-300 disabled:opacity-60",style:{background:`linear-gradient(to right, ${g.color}, ${g.color}dd)`,boxShadow:`0 4px 12px ${g.color}40`},children:[v?s.jsx(Zo,{className:"w-4 h-4 animate-spin"}):s.jsx(cI,{className:"w-4 h-4"}),g.ctaText]})]},g.id)})})]})},MD={all:["alumno-dashboard"],data:()=>[...MD.all,"data"]};function Rxe(){return dr({queryKey:MD.data(),queryFn:async()=>(await Dt.get("/api/reportes/dashboard/alumno")).data,staleTime:300*1e3,refetchInterval:!1,retry:1,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1})}const Bxe=()=>{const{data:e,isLoading:t,isError:r,error:n,refetch:a}=Rxe(),{data:i}=_xe(),{mutate:o}=Axe(),[l,c]=w.useState(!0),u=f=>{o(f),c(!1)},d=()=>{c(!1)};return t?s.jsxs("div",{className:"relative overflow-hidden min-h-screen",children:[s.jsx(Mn,{variant:"warm"}),s.jsx("div",{className:"relative z-10",children:s.jsx("div",{className:"max-w-[1600px] mx-auto px-6 md:px-8 lg:px-12 py-8 md:py-12",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-[#c93448] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-[#9ca3af] text-lg",children:"Cargando tu dashboard..."})]})})})})]}):r?s.jsxs("div",{className:"relative overflow-hidden min-h-screen",children:[s.jsx(Mn,{variant:"warm"}),s.jsx("div",{className:"relative z-10",children:s.jsx("div",{className:"max-w-[1600px] mx-auto px-6 md:px-8 lg:px-12 py-8 md:py-12",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-[rgba(239,68,68,0.15)] border-2 border-[#ef4444] flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-[#ef4444] text-2xl",children:"⚠"})}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-bold mb-2",children:"Error al cargar el dashboard"}),s.jsx("p",{className:"text-[#9ca3af] mb-4",children:n instanceof Error?n.message:"Ha ocurrido un error inesperado"}),s.jsx("button",{onClick:()=>a(),className:"px-4 py-2 bg-[#c93448] text-white rounded-lg hover:bg-[#b32d40] transition-colors",children:"Reintentar"})]})})})})]}):e?s.jsxs("div",{className:"relative overflow-hidden min-h-screen",children:[s.jsx(Mn,{variant:"warm"}),i&&i.length>0&&l&&s.jsx(Sxe,{asistencia:i[0],onConfirm:u,onDismiss:d}),s.jsxs("div",{className:"fixed inset-0 pointer-events-none opacity-[0.02] z-0",children:[s.jsx("div",{className:"absolute top-20 right-10 text-[400px] transform rotate-12",children:"💃"}),s.jsx("div",{className:"absolute bottom-20 left-10 text-[350px] transform -rotate-12",children:"🕺"})]}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 md:px-8 lg:px-12 py-8 md:py-12",children:[s.jsx(Pxe,{alumno:e}),s.jsx(Cxe,{paquete:e.paqueteActivo}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 md:mb-10",children:[s.jsx(Exe,{alumno:e}),s.jsx(Ixe,{clase:e.proximaClase})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 md:mb-10",children:[s.jsx(Dxe,{paquete:e.paqueteActivo}),s.jsx(Oxe,{asistencia:e.asistencia})]}),s.jsx(Txe,{logros:e.logros}),s.jsx(Ok,{eventos:e.eventosProximos}),s.jsx(Lxe,{paquete:e.paqueteActivo})]})})]}):s.jsxs("div",{className:"relative overflow-hidden min-h-screen",children:[s.jsx(Mn,{variant:"warm"}),s.jsx("div",{className:"relative z-10",children:s.jsx("div",{className:"max-w-[1600px] mx-auto px-6 md:px-8 lg:px-12 py-8 md:py-12",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-[#9ca3af] text-lg",children:"No hay datos disponibles"})})})})})]})},Io={all:["payments"],lists:()=>[...Io.all,"list"],list:e=>[...Io.lists(),e],details:()=>[...Io.all,"detail"],detail:e=>[...Io.details(),e],stats:()=>[...Io.all,"stats"],methods:()=>[...Io.all,"methods"]};function qxe(e,t=!0){return dr({queryKey:Io.list(e),queryFn:async()=>{const r=new URLSearchParams;return e.fechaDesde&&r.append("fechaDesde",e.fechaDesde),e.fechaHasta&&r.append("fechaHasta",e.fechaHasta),e.idMetodoPago&&r.append("idMetodoPago",e.idMetodoPago),r.append("pageNumber",e.pageNumber.toString()),r.append("pageSize",e.pageSize.toString()),(await Dt.get(`/api/mis-pagos?${r.toString()}`)).data},enabled:t,staleTime:120*1e3,retry:2})}function zxe(e,t=!0){return dr({queryKey:Io.detail(e),queryFn:async()=>(await Dt.get(`/api/pagos/${e}`)).data,enabled:t&&!!e,staleTime:300*1e3,retry:1})}function $xe(){return dr({queryKey:Io.methods(),queryFn:async()=>(await Dt.get("/api/pagos/metodos-pago")).data,staleTime:1800*1e3,retry:1})}function Uxe(e){if(!e||e.items.length===0)return{totalPagado:0,cantidadPagos:0,promedioMonto:0};const t=e.items.reduce((a,i)=>a+i.montoTotal,0),r=e.totalCount,n=r>0?t/e.items.length:0;return{totalPagado:t,cantidadPagos:r,promedioMonto:n}}const Wxe=()=>s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"inline-block p-6 rounded-full bg-[rgba(255,255,255,0.03)] mb-4",children:s.jsx(vS,{className:"w-16 h-16 text-[#6b7280]"})}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold mb-2",children:"No tienes pagos registrados"}),s.jsx("p",{className:"text-[#9ca3af] max-w-md mx-auto",children:"Cuando realices tu primer pago, aparecerá aquí con todos los detalles de los paquetes adquiridos."})]}),Hxe=({currentPage:e,totalPages:t,pageSize:r,totalCount:n,onPageChange:a,onPageSizeChange:i})=>{const o=(e-1)*r+1,l=Math.min(e*r,n);return s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsxs("div",{className:"text-[#9ca3af] text-sm",children:["Mostrando ",s.jsx("span",{className:"text-[#f9fafb] font-medium",children:o})," -"," ",s.jsx("span",{className:"text-[#f9fafb] font-medium",children:l})," de"," ",s.jsx("span",{className:"text-[#f9fafb] font-medium",children:n})," pagos"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[#9ca3af] text-sm",children:"Por página:"}),s.jsxs("select",{value:r,onChange:c=>i(Number(c.target.value)),className:"px-3 py-1 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] text-sm focus:outline-none focus:border-[#c93448] transition-colors",children:[s.jsx("option",{value:"5",children:"5"}),s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"20",children:"20"}),s.jsx("option",{value:"50",children:"50"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>a(e-1),disabled:e===1,className:"px-3 py-1 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300",children:s.jsx(ab,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-[#d1d5db] text-sm px-3",children:["Página ",s.jsx("span",{className:"font-medium",children:e})," de"," ",s.jsx("span",{className:"font-medium",children:t})]}),s.jsx("button",{onClick:()=>a(e+1),disabled:e===t,className:"px-3 py-1 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300",children:s.jsx(ec,{className:"w-4 h-4"})})]})]})]})},_d=e=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),FD=e=>new Date(e).toLocaleDateString("es-AR",{day:"2-digit",month:"short",year:"numeric"}),Vxe=e=>new Date(e).toLocaleDateString("es-AR",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),Gxe=e=>{const t=new Date,r=new Date(e),n=t.getTime()-r.getTime(),a=Math.floor(n/(1e3*60*60*24));if(a===0)return"Hoy";if(a===1)return"Ayer";if(a<7)return`Hace ${a} días`;if(a<30){const o=Math.floor(a/7);return`Hace ${o} ${o===1?"semana":"semanas"}`}if(a<365){const o=Math.floor(a/30);return`Hace ${o} ${o===1?"mes":"meses"}`}const i=Math.floor(a/365);return`Hace ${i} ${i===1?"año":"años"}`},Kxe=e=>{switch(e.toLowerCase()){case"verificado":return{color:"text-[#10b981]",bgColor:"bg-[rgba(16,185,129,0.1)]",label:"Verificado ✓"};case"pendiente":case"pendiente verificación":return{color:"text-[#f59e0b]",bgColor:"bg-[rgba(245,158,11,0.1)]",label:"Pendiente"};case"rechazado":return{color:"text-[#ef4444]",bgColor:"bg-[rgba(239,68,68,0.1)]",label:"Rechazado"};default:return{color:"text-[#9ca3af]",bgColor:"bg-[rgba(156,163,175,0.1)]",label:e}}},Yxe=e=>{switch(e.toLowerCase()){case"activo":return{color:"text-[#10b981]",bgColor:"bg-[rgba(16,185,129,0.1)]"};case"vencido":return{color:"text-[#6b7280]",bgColor:"bg-[rgba(107,114,128,0.1)]"};case"completado":return{color:"text-[#3b82f6]",bgColor:"bg-[rgba(59,130,246,0.1)]"};case"cancelado":return{color:"text-[#ef4444]",bgColor:"bg-[rgba(239,68,68,0.1)]"};case"congelado":return{color:"text-[#8b5cf6]",bgColor:"bg-[rgba(139,92,246,0.1)]"};default:return{color:"text-[#9ca3af]",bgColor:"bg-[rgba(156,163,175,0.1)]"}}},Xxe=e=>{const t=e.toLowerCase();return t.includes("efectivo")?"💵":t.includes("transferencia")?"🏦":t.includes("débito")||t.includes("crédito")?"💳":t.includes("nequi")||t.includes("daviplata")?"📱":"💰"},Zxe=(e,t)=>t===0?0:Math.round(e/t*100),Jxe=({paquetes:e})=>s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[rgba(255,255,255,0.1)]",children:[s.jsx("th",{className:"text-left py-3 px-2 text-[#9ca3af] text-sm font-medium",children:"Tipo de Paquete"}),s.jsx("th",{className:"text-left py-3 px-2 text-[#9ca3af] text-sm font-medium",children:"Clases"}),s.jsx("th",{className:"text-left py-3 px-2 text-[#9ca3af] text-sm font-medium",children:"Progreso"}),s.jsx("th",{className:"text-left py-3 px-2 text-[#9ca3af] text-sm font-medium",children:"Vencimiento"}),s.jsx("th",{className:"text-left py-3 px-2 text-[#9ca3af] text-sm font-medium",children:"Valor"}),s.jsx("th",{className:"text-left py-3 px-2 text-[#9ca3af] text-sm font-medium",children:"Estado"})]})}),s.jsx("tbody",{children:e.map(t=>{const r=Yxe(t.estado),n=Zxe(t.clasesUsadas,t.clasesDisponibles);return s.jsxs("tr",{className:"border-b border-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.02)] transition-colors",children:[s.jsx("td",{className:"py-4 px-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tr,{className:"w-4 h-4 text-[#8b5cf6]"}),s.jsx("span",{className:"text-[#f9fafb] font-medium",children:t.nombreTipoPaquete})]})}),s.jsxs("td",{className:"py-4 px-2",children:[s.jsxs("span",{className:"text-[#f9fafb]",children:[t.clasesUsadas,"/",t.clasesDisponibles]}),s.jsxs("span",{className:"text-[#9ca3af] text-sm ml-1",children:["(",t.clasesRestantes," restantes)"]})]}),s.jsx("td",{className:"py-4 px-2",children:s.jsxs("div",{className:"w-24",children:[s.jsx("div",{className:"h-2 rounded-full bg-[rgba(255,255,255,0.1)] overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-[#c93448] to-[#e54d5e] transition-all duration-300",style:{width:`${n}%`}})}),s.jsxs("span",{className:"text-[#9ca3af] text-xs mt-1",children:[n,"%"]})]})}),s.jsx("td",{className:"py-4 px-2",children:t.fechaVencimiento?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(St,{className:"w-3 h-3 text-[#9ca3af]"}),s.jsx("span",{className:"text-[#d1d5db] text-sm",children:FD(t.fechaVencimiento)})]}):s.jsx("span",{className:"text-[#6b7280] text-sm",children:"Sin vencimiento"})}),s.jsx("td",{className:"py-4 px-2 text-[#f9fafb] font-medium",children:_d(t.valorPaquete)}),s.jsx("td",{className:"py-4 px-2",children:s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${r.color} ${r.bgColor}`,children:t.estado.charAt(0).toUpperCase()+t.estado.slice(1)})})]},t.idPaquete)})})]})}),Qxe=({pago:e,onExportPDF:t})=>{const[r,n]=w.useState(!1),{data:a,isLoading:i}=zxe(e.idPago,r),o=Kxe(e.estadoPago),l=Xxe(e.nombreMetodoPago);return s.jsx("div",{className:"mb-4",children:s.jsxs(Ye,{className:"overflow-hidden",children:[s.jsx("button",{onClick:()=>n(!r),className:"w-full p-5 text-left hover:bg-[rgba(255,255,255,0.02)] transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"text-2xl",children:l}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#f9fafb] text-lg font-semibold",children:FD(e.fechaPago)}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:Gxe(e.fechaPago)})]})]}),s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-[#9ca3af] text-sm",children:"Método:"}),s.jsx("span",{className:"text-[#d1d5db] text-sm ml-1 font-medium",children:e.nombreMetodoPago})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[#9ca3af] text-sm",children:"Paquetes:"}),s.jsx("span",{className:"text-[#d1d5db] text-sm ml-1 font-medium",children:e.cantidadPaquetes})]}),s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${o.color} ${o.bgColor}`,children:o.label})]})]}),s.jsxs("div",{className:"flex items-center gap-4 ml-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Monto Total"}),s.jsx("p",{className:"text-[#f9fafb] text-2xl font-bold",children:_d(e.montoTotal)})]}),r?s.jsx(Bp,{className:"w-5 h-5 text-[#9ca3af]"}):s.jsx(qp,{className:"w-5 h-5 text-[#9ca3af]"})]})]})}),r&&s.jsx("div",{className:"px-5 pb-5 border-t border-[rgba(255,255,255,0.1)] pt-5",children:i?s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-8 bg-[rgba(255,255,255,0.05)] rounded animate-pulse"}),s.jsx("div",{className:"h-32 bg-[rgba(255,255,255,0.05)] rounded animate-pulse"})]}):a?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(to,{className:"w-5 h-5 text-[#8b5cf6]"}),s.jsx("h3",{className:"text-[#f9fafb] text-lg font-semibold",children:"Paquetes Generados"})]}),s.jsx("div",{className:"mb-4 rounded-lg bg-[rgba(255,255,255,0.02)] p-4",children:s.jsx(Jxe,{paquetes:a.paquetes})}),(a.nota||a.referenciaTransferencia||a.notasVerificacion)&&s.jsxs("div",{className:"rounded-lg bg-[rgba(255,255,255,0.02)] p-4 mb-4",children:[s.jsx("h4",{className:"text-[#f9fafb] font-medium mb-3",children:"Información del Pago"}),a.nota&&s.jsxs("div",{className:"mb-2",children:[s.jsx("span",{className:"text-[#9ca3af] text-sm",children:"Nota:"}),s.jsx("p",{className:"text-[#d1d5db] text-sm mt-1",children:a.nota})]}),a.referenciaTransferencia&&s.jsxs("div",{className:"mb-2",children:[s.jsx("span",{className:"text-[#9ca3af] text-sm",children:"Referencia de Transferencia:"}),s.jsx("p",{className:"text-[#d1d5db] text-sm mt-1 font-mono",children:a.referenciaTransferencia})]}),a.notasVerificacion&&s.jsxs("div",{children:[s.jsx("span",{className:"text-[#9ca3af] text-sm",children:"Notas de Verificación:"}),s.jsx("p",{className:"text-[#d1d5db] text-sm mt-1",children:a.notasVerificacion})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:c=>{c.stopPropagation(),t(e.idPago)},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[rgba(139,92,246,0.1)] hover:bg-[rgba(139,92,246,0.2)] border border-[rgba(139,92,246,0.2)] text-[#8b5cf6] transition-all duration-300",children:[s.jsx(Qs,{className:"w-4 h-4"}),"Exportar PDF"]}),a.urlComprobante&&s.jsxs("a",{href:a.urlComprobante,target:"_blank",rel:"noopener noreferrer",onClick:c=>c.stopPropagation(),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[rgba(16,185,129,0.1)] hover:bg-[rgba(16,185,129,0.2)] border border-[rgba(16,185,129,0.2)] text-[#10b981] transition-all duration-300",children:[s.jsx(Qs,{className:"w-4 h-4"}),"Descargar Comprobante"]})]})]}):s.jsx("p",{className:"text-[#9ca3af] text-center py-4",children:"Error al cargar detalles del pago"})})]})})},ege=({filters:e,onFiltersChange:t})=>{const[r,n]=w.useState(!1),{data:a}=$xe(),[i,o]=w.useState({fechaDesde:e.fechaDesde||"",fechaHasta:e.fechaHasta||"",idMetodoPago:e.idMetodoPago||""}),l=()=>{t({...e,...i,pageNumber:1}),n(!1)},c=()=>{const d={fechaDesde:"",fechaHasta:"",idMetodoPago:""};o(d),t({...e,...d,pageNumber:1})},u=e.fechaDesde||e.fechaHasta||e.idMetodoPago;return s.jsxs("div",{className:"mb-6",children:[s.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] transition-all duration-300",children:[s.jsx(xS,{className:"w-4 h-4"}),s.jsx("span",{children:"Filtros"}),u&&s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-[#c93448] text-white text-xs",children:[e.fechaDesde,e.fechaHasta,e.idMetodoPago].filter(Boolean).length}),r?s.jsx(Bp,{className:"w-4 h-4 ml-auto"}):s.jsx(qp,{className:"w-4 h-4 ml-auto"})]}),r&&s.jsxs(Ye,{className:"p-4 mt-2",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Desde"}),s.jsx("input",{type:"date",value:i.fechaDesde,onChange:d=>o({...i,fechaDesde:d.target.value}),className:"w-full px-3 py-2 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Hasta"}),s.jsx("input",{type:"date",value:i.fechaHasta,onChange:d=>o({...i,fechaHasta:d.target.value}),className:"w-full px-3 py-2 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Método de Pago"}),s.jsxs("select",{value:i.idMetodoPago,onChange:d=>o({...i,idMetodoPago:d.target.value}),className:"w-full px-3 py-2 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors",children:[s.jsx("option",{value:"",children:"Todos"}),a?.map(d=>s.jsx("option",{value:d.idMetodoPago,children:d.nombre},d.idMetodoPago))]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:l,className:"flex-1 px-4 py-2 rounded-lg bg-gradient-to-r from-[#c93448] to-[#e54d5e] text-white font-medium hover:shadow-lg transition-all duration-300",children:"Aplicar Filtros"}),s.jsx("button",{onClick:c,className:"px-4 py-2 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] transition-all duration-300",children:s.jsx($r,{className:"w-4 h-4"})})]})]})]})},tge=({stats:e,isLoading:t})=>s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-[#f9fafb] text-3xl font-bold mb-2",children:"Mis Pagos"}),s.jsx("p",{className:"text-[#9ca3af] text-lg mb-6",children:"Historial completo de tus pagos y paquetes adquiridos"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Ye,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-lg bg-[rgba(16,185,129,0.1)]",children:s.jsx(Fi,{className:"w-6 h-6 text-[#10b981]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Total Pagado"}),t?s.jsx("div",{className:"h-7 w-24 bg-[rgba(255,255,255,0.05)] rounded animate-pulse"}):s.jsx("p",{className:"text-[#f9fafb] text-2xl font-bold",children:_d(e.totalPagado)})]})]})}),s.jsx(Ye,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-lg bg-[rgba(59,130,246,0.1)]",children:s.jsx(to,{className:"w-6 h-6 text-[#3b82f6]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Pagos Realizados"}),t?s.jsx("div",{className:"h-7 w-16 bg-[rgba(255,255,255,0.05)] rounded animate-pulse"}):s.jsx("p",{className:"text-[#f9fafb] text-2xl font-bold",children:e.cantidadPagos})]})]})}),s.jsx(Ye,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-lg bg-[rgba(139,92,246,0.1)]",children:s.jsx(ua,{className:"w-6 h-6 text-[#8b5cf6]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Promedio por Pago"}),t?s.jsx("div",{className:"h-7 w-24 bg-[rgba(255,255,255,0.05)] rounded animate-pulse"}):s.jsx("p",{className:"text-[#f9fafb] text-2xl font-bold",children:_d(e.promedioMonto)})]})]})})]})]}),rge=async e=>{const t=new yt,r=[201,52,72];t.setFillColor(...r),t.rect(0,0,210,40,"F"),t.setTextColor(255,255,255),t.setFontSize(24),t.setFont("helvetica","bold"),t.text("CHETANGO",20,20),t.setFontSize(12),t.setFont("helvetica","normal"),t.text("Academia de Tango",20,28),t.setTextColor(0,0,0),t.setFontSize(18),t.setFont("helvetica","bold"),t.text("Comprobante de Pago",20,55),t.setFontSize(10),t.setFont("helvetica","normal");let n=70;t.setFont("helvetica","bold"),t.text("ID de Pago:",20,n),t.setFont("helvetica","normal"),t.text(e.idPago,60,n),n+=8,t.setFont("helvetica","bold"),t.text("Fecha de Pago:",20,n),t.setFont("helvetica","normal"),t.text(Vxe(e.fechaPago),60,n),n+=8,t.setFont("helvetica","bold"),t.text("Alumno:",20,n),t.setFont("helvetica","normal"),t.text(e.nombreAlumno,60,n),n+=8,t.setFont("helvetica","bold"),t.text("Correo:",20,n),t.setFont("helvetica","normal"),t.text(e.correoAlumno,60,n),n+=8,e.telefonoAlumno&&(t.setFont("helvetica","bold"),t.text("Teléfono:",20,n),t.setFont("helvetica","normal"),t.text(e.telefonoAlumno,60,n),n+=8),t.setFont("helvetica","bold"),t.text("Método de Pago:",20,n),t.setFont("helvetica","normal"),t.text(e.nombreMetodoPago,60,n),n+=8,e.referenciaTransferencia&&(t.setFont("helvetica","bold"),t.text("Referencia:",20,n),t.setFont("helvetica","normal"),t.text(e.referenciaTransferencia,60,n),n+=8),t.setFont("helvetica","bold"),t.text("Estado:",20,n),t.setFont("helvetica","normal"),t.text(e.estadoPago,60,n),n+=8,n+=5,t.setFillColor(...r),t.rect(20,n-5,170,12,"F"),t.setTextColor(255,255,255),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("MONTO TOTAL:",25,n+3),t.text(_d(e.montoTotal),150,n+3),n+=20,t.setTextColor(0,0,0),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("Paquetes Generados:",20,n),n+=8;const a=e.paquetes.map(l=>[l.nombreTipoPaquete,`${l.clasesUsadas}/${l.clasesDisponibles}`,l.clasesRestantes.toString(),l.fechaVencimiento?new Date(l.fechaVencimiento).toLocaleDateString("es-AR"):"Sin vencimiento",_d(l.valorPaquete),l.estado]);if(uo(t,{startY:n,head:[["Tipo","Clases","Restantes","Vencimiento","Valor","Estado"]],body:a,theme:"grid",headStyles:{fillColor:r,textColor:[255,255,255],fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:9},alternateRowStyles:{fillColor:[245,245,245]}}),e.nota){const l=t.lastAutoTable.finalY||n+40;t.setFontSize(10),t.setFont("helvetica","bold"),t.text("Nota:",20,l+15),t.setFont("helvetica","normal");const c=t.splitTextToSize(e.nota,170);t.text(c,20,l+22)}const i=t.internal.pageSize.height;t.setFontSize(8),t.setTextColor(128,128,128),t.text(`Generado el ${new Date().toLocaleDateString("es-AR")} - Chetango Academia de Tango`,105,i-10,{align:"center"});const o=`pago-${e.idPago.substring(0,8)}-${J2(new Date(e.fechaPago))}.pdf`;t.save(o)},nge=()=>{const{session:e}=fo(),[t,r]=w.useState({pageNumber:1,pageSize:10}),{data:n,isLoading:a,error:i}=qxe(t,e.isAuthenticated),o=Uxe(n),l=async d=>{try{if(!n?.items.find(g=>g.idPago===d)){Jt.error("No se pudo encontrar el pago");return}const m=await fetch(`/api/pagos/${d}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!m.ok)throw new Error("Error al obtener detalle del pago");const h=await m.json();await rge(h),Jt.success("PDF descargado correctamente")}catch(f){console.error("Error al exportar PDF:",f),Jt.error("Error al generar el PDF")}},c=d=>{r(f=>({...f,pageNumber:d}))},u=d=>{r(f=>({...f,pageSize:d,pageNumber:1}))};return e.isAuthenticated?a?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f1419] py-8 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"h-10 w-48 bg-[rgba(255,255,255,0.05)] rounded animate-pulse mb-4"}),s.jsx("div",{className:"h-6 w-96 bg-[rgba(255,255,255,0.05)] rounded animate-pulse mb-6"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(d=>s.jsx("div",{className:"h-24 bg-[rgba(255,255,255,0.05)] rounded-lg animate-pulse"},d))})]}),s.jsx("div",{className:"space-y-4",children:[1,2,3].map(d=>s.jsx("div",{className:"h-32 bg-[rgba(255,255,255,0.05)] rounded-lg animate-pulse"},d))})]})}):i?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f1419] flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-[#ef4444] text-xl mb-4",children:"Error al cargar los pagos"}),s.jsx("p",{className:"text-[#9ca3af]",children:"Por favor, intenta nuevamente"})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f1419] py-8 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[s.jsx(Mn,{variant:"warm"}),s.jsxs("div",{className:"absolute inset-0 opacity-[0.02] pointer-events-none overflow-hidden",children:[s.jsx("div",{className:"text-[200px] font-bold text-white absolute top-20 -left-20 rotate-[-15deg]",children:"PAGOS"}),s.jsx("div",{className:"text-[150px] font-bold text-white absolute bottom-20 -right-20 rotate-[15deg]",children:"HISTORIAL"})]}),s.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[s.jsx(tge,{stats:o,isLoading:a}),s.jsx(ege,{filters:t,onFiltersChange:r}),!n||n.items.length===0?s.jsx(Wxe,{}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-4",children:n.items.map(d=>s.jsx(Qxe,{pago:d,onExportPDF:l},d.idPago))}),n.totalPages>1&&s.jsx(Hxe,{currentPage:n.pageNumber,totalPages:n.totalPages,pageSize:t.pageSize,totalCount:n.totalCount,onPageChange:c,onPageSizeChange:u})]})]})]}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f1419] flex items-center justify-center",children:s.jsx("p",{className:"text-[#9ca3af] text-lg",children:"Por favor inicia sesión"})})},uc={all:["alumno-profile"],profile:()=>[...uc.all,"data"],paquetes:()=>[...uc.all,"paquetes"]};function age(e=!0){return dr({queryKey:uc.profile(),queryFn:async()=>(await Dt.get("/api/alumnos/me/perfil")).data,enabled:e,staleTime:300*1e3,retry:2})}function ige(){return dr({queryKey:uc.paquetes(),queryFn:async()=>(await Dt.get("/api/alumnos/me/paquetes/historial")).data,staleTime:600*1e3,retry:1})}function sge(){const e=an();return sn({mutationFn:async t=>(await Dt.put("/api/alumnos/me/perfil",t)).data,onSuccess:()=>{e.invalidateQueries({queryKey:uc.profile()}),Jt.success("Datos personales actualizados correctamente")},onError:t=>{Jt.error(t?.response?.data?.message||"Error al actualizar datos personales")}})}function oge(){const e=an();return sn({mutationFn:async t=>(await Dt.put("/api/alumnos/me/contacto-emergencia",t)).data,onSuccess:()=>{e.invalidateQueries({queryKey:uc.profile()}),Jt.success("Contacto de emergencia actualizado correctamente")},onError:t=>{Jt.error(t?.response?.data?.message||"Error al actualizar contacto de emergencia")}})}function lge(){const e=an();return sn({mutationFn:async t=>(await Dt.put("/api/alumnos/me/configuracion",t)).data,onSuccess:()=>{e.invalidateQueries({queryKey:uc.profile()}),Jt.success("Configuración actualizada correctamente")},onError:t=>{Jt.error(t?.response?.data?.message||"Error al actualizar configuración")}})}function cge(){const e=an();return sn({mutationFn:async t=>{const r=new FormData;return r.append("avatar",t),(await Dt.post("/api/alumnos/me/avatar",r,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{e.invalidateQueries({queryKey:uc.profile()}),Jt.success("Foto de perfil actualizada correctamente")},onError:t=>{Jt.error(t?.response?.data?.message||"Error al subir foto de perfil")}})}const uge=()=>{const e=ii(),t=()=>{console.log("Descargando QR...")},r=()=>{console.log("Cambiar password...")},n=()=>{localStorage.removeItem("token"),e("/login")};return s.jsxs(Ye,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(zv,{className:"w-5 h-5 text-[#ef4444]"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Acciones Rápidas"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 p-4 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.1)] hover:bg-[rgba(255,255,255,0.05)] hover:border-[#8b5cf6] text-left transition-all duration-300 group",children:[s.jsx("div",{className:"p-2 rounded-lg bg-[rgba(139,92,246,0.1)] group-hover:bg-[rgba(139,92,246,0.2)] transition-colors",children:s.jsx(u7,{className:"w-5 h-5 text-[#8b5cf6]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-[#f9fafb] font-medium",children:"Descargar Código QR"}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Guarda tu credencial digital"})]}),s.jsx(Qs,{className:"w-4 h-4 text-[#9ca3af] group-hover:text-[#8b5cf6] transition-colors"})]}),s.jsxs("button",{onClick:r,className:"w-full flex items-center gap-3 p-4 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.1)] hover:bg-[rgba(255,255,255,0.05)] hover:border-[#f59e0b] text-left transition-all duration-300 group",children:[s.jsx("div",{className:"p-2 rounded-lg bg-[rgba(245,158,11,0.1)] group-hover:bg-[rgba(245,158,11,0.2)] transition-colors",children:s.jsx(zv,{className:"w-5 h-5 text-[#f59e0b]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-[#f9fafb] font-medium",children:"Cambiar Contraseña"}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Actualiza tu clave de acceso"})]})]}),s.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 p-4 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.1)] hover:bg-[rgba(239,68,68,0.1)] hover:border-[#ef4444] text-left transition-all duration-300 group",children:[s.jsx("div",{className:"p-2 rounded-lg bg-[rgba(239,68,68,0.1)] group-hover:bg-[rgba(239,68,68,0.2)] transition-colors",children:s.jsx(uI,{className:"w-5 h-5 text-[#ef4444]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-[#f9fafb] font-medium",children:"Cerrar Sesión"}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Salir de tu cuenta"})]})]})]}),s.jsx("div",{className:"mt-4 p-3 rounded-lg bg-[rgba(239,68,68,0.1)] border border-[rgba(239,68,68,0.2)]",children:s.jsx("p",{className:"text-[#fca5a5] text-sm",children:"🔒 Tu información está protegida con encriptación de extremo a extremo"})})]})},dge=({profile:e})=>{const[t,r]=w.useState({notificacionesEmail:e.configuracion?.notificacionesEmail??!0,recordatoriosClase:e.configuracion?.recordatoriosClase??!0,alertasPaquete:e.configuracion?.alertasPaquete??!0}),n=lge(),a=i=>{const o={...t,[i]:!t[i]};r(o),n.mutate(o)};return s.jsxs(Ye,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(uS,{className:"w-5 h-5 text-[#6366f1]"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Configuración"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.1)]",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wo,{className:"w-5 h-5 text-[#9ca3af]"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#f9fafb] font-medium",children:"Notificaciones por Email"}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Recibe actualizaciones importantes"})]})]}),s.jsx("button",{onClick:()=>a("notificacionesEmail"),className:`relative w-14 h-7 rounded-full transition-colors duration-300 ${t.notificacionesEmail?"bg-[#10b981]":"bg-[#4b5563]"}`,children:s.jsx("div",{className:`absolute top-1 w-5 h-5 rounded-full bg-white transition-transform duration-300 ${t.notificacionesEmail?"translate-x-8":"translate-x-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.1)]",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wo,{className:"w-5 h-5 text-[#9ca3af]"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#f9fafb] font-medium",children:"Recordatorios de Clase"}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Te avisamos 1 hora antes de tu clase"})]})]}),s.jsx("button",{onClick:()=>a("recordatoriosClase"),className:`relative w-14 h-7 rounded-full transition-colors duration-300 ${t.recordatoriosClase?"bg-[#10b981]":"bg-[#4b5563]"}`,children:s.jsx("div",{className:`absolute top-1 w-5 h-5 rounded-full bg-white transition-transform duration-300 ${t.recordatoriosClase?"translate-x-8":"translate-x-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.1)]",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wo,{className:"w-5 h-5 text-[#9ca3af]"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#f9fafb] font-medium",children:"Alertas de Paquete"}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Avisos cuando quedan pocas clases"})]})]}),s.jsx("button",{onClick:()=>a("alertasPaquete"),className:`relative w-14 h-7 rounded-full transition-colors duration-300 ${t.alertasPaquete?"bg-[#10b981]":"bg-[#4b5563]"}`,children:s.jsx("div",{className:`absolute top-1 w-5 h-5 rounded-full bg-white transition-transform duration-300 ${t.alertasPaquete?"translate-x-8":"translate-x-1"}`})})]})]}),n.isPending&&s.jsx("div",{className:"mt-4 text-center text-[#9ca3af] text-sm",children:"Guardando configuración..."})]})},fge=({profile:e})=>{const[t,r]=w.useState(!1),[n,a]=w.useState({nombreCompleto:e.contactoEmergencia?.nombreCompleto||"",telefono:e.contactoEmergencia?.telefono||"",relacion:e.contactoEmergencia?.relacion||""}),i=oge(),o=()=>{i.mutate(n,{onSuccess:()=>{r(!1)}})},l=()=>{a({nombreCompleto:e.contactoEmergencia?.nombreCompleto||"",telefono:e.contactoEmergencia?.telefono||"",relacion:e.contactoEmergencia?.relacion||""}),r(!1)};return s.jsxs(Ye,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(rn,{className:"w-5 h-5 text-[#f59e0b]"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Contacto de Emergencia"})]}),!t&&s.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] text-sm transition-all duration-300",children:e.contactoEmergencia?"Editar":"Agregar"})]}),!e.contactoEmergencia&&!t?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(rn,{className:"w-12 h-12 text-[#6b7280] mx-auto mb-3"}),s.jsx("p",{className:"text-[#9ca3af] mb-4",children:"No has configurado un contacto de emergencia"}),s.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 rounded-lg bg-[#f59e0b] text-white text-sm font-medium hover:bg-[#d97706] transition-colors",children:"Agregar Contacto"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Nombre Completo"}),t?s.jsx("input",{type:"text",value:n.nombreCompleto,onChange:c=>a({...n,nombreCompleto:c.target.value}),placeholder:"Ej: María García",className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] placeholder:text-[#6b7280] focus:outline-none focus:border-[#f59e0b] transition-colors"}):s.jsxs("div",{className:"flex items-center gap-2 text-[#f9fafb]",children:[s.jsx(Jn,{className:"w-4 h-4 text-[#9ca3af]"}),s.jsx("span",{children:e.contactoEmergencia?.nombreCompleto})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Teléfono"}),t?s.jsx("input",{type:"tel",value:n.telefono,onChange:c=>a({...n,telefono:c.target.value}),placeholder:"Ej: +54 9 11 1234-5678",className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] placeholder:text-[#6b7280] focus:outline-none focus:border-[#f59e0b] transition-colors"}):s.jsxs("div",{className:"flex items-center gap-2 text-[#f9fafb]",children:[s.jsx(Sd,{className:"w-4 h-4 text-[#9ca3af]"}),s.jsx("span",{children:e.contactoEmergencia?.telefono})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Relación"}),t?s.jsxs("select",{value:n.relacion,onChange:c=>a({...n,relacion:c.target.value}),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#f59e0b] transition-colors",children:[s.jsx("option",{value:"",children:"Seleccionar..."}),s.jsx("option",{value:"Padre/Madre",children:"Padre/Madre"}),s.jsx("option",{value:"Hermano/a",children:"Hermano/a"}),s.jsx("option",{value:"Esposo/a",children:"Esposo/a"}),s.jsx("option",{value:"Hijo/a",children:"Hijo/a"}),s.jsx("option",{value:"Amigo/a",children:"Amigo/a"}),s.jsx("option",{value:"Otro",children:"Otro"})]}):s.jsx("p",{className:"text-[#f9fafb]",children:e.contactoEmergencia?.relacion})]}),t&&s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs("button",{onClick:o,disabled:i.isPending,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-gradient-to-r from-[#f59e0b] to-[#d97706] text-white font-medium hover:shadow-lg transition-all duration-300 disabled:opacity-50",children:[s.jsx(pd,{className:"w-4 h-4"}),i.isPending?"Guardando...":"Guardar"]}),s.jsx("button",{onClick:l,disabled:i.isPending,className:"px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] transition-all duration-300",children:s.jsx($r,{className:"w-4 h-4"})})]})]})]})},hge=({profile:e})=>{const[t,r]=w.useState(!1),[n,a]=w.useState({nombreCompleto:e.nombreCompleto,telefono:e.telefono}),i=sge(),o=()=>{i.mutate(n,{onSuccess:()=>{r(!1)}})},l=()=>{a({nombreCompleto:e.nombreCompleto,telefono:e.telefono}),r(!1)};return s.jsxs(Ye,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Jn,{className:"w-5 h-5 text-[#c93448]"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Datos Personales"})]}),!t&&s.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] text-sm transition-all duration-300",children:"Editar"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Nombre Completo"}),t?s.jsx("input",{type:"text",value:n.nombreCompleto,onChange:c=>a({...n,nombreCompleto:c.target.value}),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors"}):s.jsx("p",{className:"text-[#f9fafb] text-lg",children:e.nombreCompleto})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Correo Electrónico"}),s.jsxs("div",{className:"flex items-center gap-2 text-[#f9fafb]",children:[s.jsx(uu,{className:"w-4 h-4 text-[#9ca3af]"}),s.jsx("span",{children:e.correo})]}),s.jsx("p",{className:"text-[#6b7280] text-xs mt-1",children:"El correo no puede ser modificado"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Teléfono"}),t?s.jsx("input",{type:"tel",value:n.telefono,onChange:c=>a({...n,telefono:c.target.value}),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors"}):s.jsxs("div",{className:"flex items-center gap-2 text-[#f9fafb]",children:[s.jsx(Sd,{className:"w-4 h-4 text-[#9ca3af]"}),s.jsx("span",{children:e.telefono})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Documento"}),s.jsxs("p",{className:"text-[#f9fafb]",children:[e.tipoDocumento," ",e.numeroDocumento]})]}),t&&s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs("button",{onClick:o,disabled:i.isPending,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-gradient-to-r from-[#c93448] to-[#e54d5e] text-white font-medium hover:shadow-lg transition-all duration-300 disabled:opacity-50",children:[s.jsx(pd,{className:"w-4 h-4"}),i.isPending?"Guardando...":"Guardar Cambios"]}),s.jsx("button",{onClick:l,disabled:i.isPending,className:"px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] transition-all duration-300",children:s.jsx($r,{className:"w-4 h-4"})})]})]})]})},mge=[{id:"1",tipo:"credencial",nombre:"Credencial Digital",descripcion:"Tu credencial de alumno en formato PDF",url:"/api/alumnos/me/documentos/credencial",fechaEmision:Jo()},{id:"2",tipo:"recibo",nombre:"Último Recibo de Pago",descripcion:"Recibo de tu última compra de paquete",url:"/api/alumnos/me/documentos/ultimo-recibo",fechaEmision:Jo()}],pge=e=>{switch(e){case"credencial":return s.jsx(to,{className:"w-5 h-5 text-[#8b5cf6]"});case"recibo":return s.jsx(vS,{className:"w-5 h-5 text-[#10b981]"});default:return s.jsx(to,{className:"w-5 h-5 text-[#6b7280]"})}},xge=()=>{const e=t=>{console.log("Descargando:",t.nombre)};return s.jsxs(Ye,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(to,{className:"w-5 h-5 text-[#3b82f6]"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Documentos"})]}),s.jsx("div",{className:"space-y-3",children:mge.map(t=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.1)] hover:bg-[rgba(255,255,255,0.05)] transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[pge(t.tipo),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#f9fafb] font-medium",children:t.nombre}),s.jsx("p",{className:"text-[#9ca3af] text-sm",children:t.descripcion})]})]}),s.jsxs("button",{onClick:()=>e(t),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.1)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] text-sm font-medium transition-all duration-300",children:[s.jsx(Qs,{className:"w-4 h-4"}),"Descargar"]})]},t.tipo))}),s.jsx("div",{className:"mt-4 p-3 rounded-lg bg-[rgba(59,130,246,0.1)] border border-[rgba(59,130,246,0.2)]",children:s.jsx("p",{className:"text-[#93c5fd] text-sm",children:"💡 Los documentos se generan automáticamente y siempre están actualizados"})})]})},gge=e=>{switch(e){case"activo":return"bg-[#10b981] text-white";case"vencido":return"bg-[#6b7280] text-white";case"completado":return"bg-[#3b82f6] text-white";case"cancelado":return"bg-[#ef4444] text-white";default:return"bg-[#6b7280] text-white"}},G6=e=>new Date(e).toLocaleDateString("es-AR",{day:"2-digit",month:"short",year:"numeric"}),vge=()=>{const{data:e,isLoading:t}=ige();return s.jsxs(Ye,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Tr,{className:"w-5 h-5 text-[#8b5cf6]"}),s.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Historial de Paquetes"})]}),t?s.jsx("div",{className:"space-y-3",children:[1,2,3].map(r=>s.jsx("div",{className:"h-20 rounded-lg bg-[rgba(255,255,255,0.05)] animate-pulse"},r))}):!e||e.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ob,{className:"w-12 h-12 text-[#6b7280] mx-auto mb-3"}),s.jsx("p",{className:"text-[#9ca3af]",children:"No tienes paquetes registrados"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-[rgba(255,255,255,0.1)]",children:[s.jsx("th",{className:"text-left py-3 px-2 text-[#9ca3af] text-sm font-medium",children:"Paquete"}),s.jsx("th",{className:"text-left py-3 px-2 text-[#9ca3af] text-sm font-medium",children:"Fecha Compra"}),s.jsx("th",{className:"text-left py-3 px-2 text-[#9ca3af] text-sm font-medium",children:"Clases"}),s.jsx("th",{className:"text-left py-3 px-2 text-[#9ca3af] text-sm font-medium",children:"Precio"}),s.jsx("th",{className:"text-left py-3 px-2 text-[#9ca3af] text-sm font-medium",children:"Estado"})]})}),s.jsx("tbody",{children:e.map(r=>s.jsxs("tr",{className:"border-b border-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.02)] transition-colors",children:[s.jsx("td",{className:"py-4 px-2",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-[#f9fafb] font-medium",children:r.tipo}),r.fechaVencimiento&&s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx(St,{className:"w-3 h-3 text-[#9ca3af]"}),s.jsxs("p",{className:"text-[#6b7280] text-xs",children:["Vence: ",G6(r.fechaVencimiento)]})]})]})}),s.jsx("td",{className:"py-4 px-2 text-[#d1d5db]",children:G6(r.fechaCompra)}),s.jsx("td",{className:"py-4 px-2",children:s.jsxs("span",{className:"text-[#f9fafb]",children:[r.clasesUsadas,"/",r.clasesTotales]})}),s.jsxs("td",{className:"py-4 px-2 text-[#f9fafb] font-medium",children:["$",r.monto?.toLocaleString("es-AR")??"0"]}),s.jsx("td",{className:"py-4 px-2",children:s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${gge(r.estado)}`,children:r.estado.charAt(0).toUpperCase()+r.estado.slice(1)})})]},r.idPaquete))})]})})]})},bge=({profile:e})=>{const t=w.useRef(null),r=cge(),n=()=>{t.current?.click()},a=l=>{const c=l.target.files?.[0];if(c){if(c.size>5*1024*1024){alert("La imagen no puede superar los 5MB");return}if(!["image/jpeg","image/png","image/webp"].includes(c.type)){alert("Solo se permiten imágenes JPG, PNG o WEBP");return}r.mutate(c)}},i=()=>{const l=e.nombreCompleto.split(" ");return l.length>=2?`${l[0][0]}${l[1][0]}`.toUpperCase():e.nombreCompleto.substring(0,2).toUpperCase()},o=()=>new Date(e.fechaInscripcion).toLocaleDateString("es-ES",{month:"long",year:"numeric"});return s.jsxs(Ye,{className:"p-8 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#c93448] opacity-[0.08] blur-[100px] rounded-full"}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{onClick:n,className:"w-32 h-32 rounded-2xl bg-gradient-to-br from-[#c93448] to-[#a8243a] flex items-center justify-center shadow-[0_8px_32px_rgba(201,52,72,0.4)] cursor-pointer transition-all duration-300 hover:scale-105 overflow-hidden",children:e.avatar?s.jsx("img",{src:e.avatar,alt:e.nombreCompleto,className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-white font-bold text-4xl",children:i()})}),s.jsx("div",{className:"absolute inset-0 rounded-2xl bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center cursor-pointer",children:s.jsx(Jn,{className:"w-8 h-8 text-white"})}),s.jsx("input",{ref:t,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:a,className:"hidden"})]}),s.jsxs("div",{className:"flex-1 text-center md:text-left",children:[s.jsx("h1",{className:"text-[#f9fafb] text-3xl font-bold mb-2",children:e.nombreCompleto}),s.jsx("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-4",children:s.jsx("span",{className:"px-3 py-1 rounded-full bg-[rgba(124,90,248,0.15)] border border-[rgba(124,90,248,0.3)] text-[#9b8afb] text-sm font-medium",children:"Estudiante"})}),s.jsxs("div",{className:"flex flex-col gap-2 text-[#9ca3af]",children:[s.jsxs("div",{className:"flex items-center gap-2 justify-center md:justify-start",children:[s.jsx(St,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm",children:["Miembro desde ",o()]})]}),s.jsxs("div",{className:"flex items-center gap-2 justify-center md:justify-start",children:[s.jsx(MI,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e.numeroDocumento})]})]})]})]})})]})},yge=()=>{const{session:e}=fo(),{data:t,isLoading:r,error:n}=age(e.isAuthenticated);return r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f1419] flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-[#c93448] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-[#d1d5db] text-lg",children:"Cargando perfil..."})]})}):n||!t?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f1419] flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-[#ef4444] text-xl mb-4",children:"Error al cargar el perfil"}),s.jsx("p",{className:"text-[#9ca3af]",children:"Por favor, intenta nuevamente"})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f1419] py-8 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[s.jsx(Mn,{variant:"warm"}),s.jsxs("div",{className:"absolute inset-0 opacity-[0.02] pointer-events-none overflow-hidden",children:[s.jsx("div",{className:"text-[200px] font-bold text-white absolute top-20 -left-20 rotate-[-15deg]",children:"PERFIL"}),s.jsx("div",{className:"text-[150px] font-bold text-white absolute bottom-20 -right-20 rotate-[15deg]",children:"MI CUENTA"})]}),s.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[s.jsx(bge,{profile:t}),s.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx(hge,{profile:t}),s.jsx(fge,{profile:t}),s.jsx(xge,{})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(dge,{profile:t}),s.jsx(uge,{})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx(vge,{})})]})]})},Xge=Object.freeze(Object.defineProperty({__proto__:null,AdminAttendancePage:F0e,AdminClassesPage:Vw,AdminPackagesPage:Hme,AdminPaymentsPage:Jme,AdminProfilePage:dI,AuthCallbackPage:aR,ClassesPage:Vw,DashboardPage:gre,LoginPage:bre,MainLayoutWrapper:bI,NotFoundPage:yre,NotificationsPage:vI,PaymentsPage:wre,ProfesorAttendancePage:c1e,ProfesorClassesPage:N1e,ProfesorDashboardPage:L1e,ProfesorPaymentsPage:R1e,ProfesorProfilePage:Y1e,ProfesorReportsPage:X1e,ReportsPage:r0e,StudentAttendancePage:fxe,StudentClassesPage:wxe,StudentDashboardPage:Bxe,StudentPaymentsPage:nge,StudentProfilePage:yge,UserDetailPage:Wpe,UsersPage:f0e},Symbol.toStringTag,{value:"Module"}));export{Nr as _,Xge as i};
