const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-B8vBTMSM.js","assets/solicitudesQueries-D0yC5ypa.js","assets/useMutation-C0w7SSmQ.js","assets/GlassPanel-DsiEcOyo.js","assets/useModalScroll-bImGwwMj.js","assets/triangle-alert-BedL4Rwo.js","assets/AmbientGlows-DQ_86F5f.js","assets/AdminProfilePage-Bt6QVE0E.js","assets/payrollQueries-B0uB6XeT.js","assets/payrollQueries-C_jm_VfG.css","assets/NotificationsPage-BFGyi_F9.js","assets/MainLayoutWrapper-EGe_tFhJ.js","assets/MainLayoutWrapper-Cw1gz2Si.css","assets/index-BTw2pUwK.css","assets/AdminPayrollPage-D-aafljd.js"])))=>i.map(i=>d[i]);
function FN(t,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(o,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var BK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function HA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rp={exports:{}},Zl={};var FS;function qN(){if(FS)return Zl;FS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(o,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var d in i)d!=="key"&&(l[d]=i[d])}else l=i;return i=l.ref,{$$typeof:t,type:o,key:c,ref:i!==void 0?i:null,props:l}}return Zl.Fragment=e,Zl.jsx=n,Zl.jsxs=n,Zl}var qS;function KN(){return qS||(qS=1,Rp.exports=qN()),Rp.exports}var _=KN(),Op={exports:{}},Ge={};var KS;function GN(){if(KS)return Ge;KS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(N){return N===null||typeof N!="object"?null:(N=y&&N[y]||N["@@iterator"],typeof N=="function"?N:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function T(N,X,ie){this.props=N,this.context=X,this.refs=S,this.updater=ie||E}T.prototype.isReactComponent={},T.prototype.setState=function(N,X){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,X,"setState")},T.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function R(){}R.prototype=T.prototype;function O(N,X,ie){this.props=N,this.context=X,this.refs=S,this.updater=ie||E}var x=O.prototype=new R;x.constructor=O,w(x,T.prototype),x.isPureReactComponent=!0;var B=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function I(N,X,ie,Q,ne,pe){return ie=pe.ref,{$$typeof:t,type:N,key:X,ref:ie!==void 0?ie:null,props:pe}}function j(N,X){return I(N.type,X,void 0,void 0,void 0,N.props)}function se(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function he(N){var X={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ie){return X[ie]})}var ge=/\/+/g;function ve(N,X){return typeof N=="object"&&N!==null&&N.key!=null?he(""+N.key):X.toString(36)}function we(){}function be(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(we,we):(N.status="pending",N.then(function(X){N.status==="pending"&&(N.status="fulfilled",N.value=X)},function(X){N.status==="pending"&&(N.status="rejected",N.reason=X)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function me(N,X,ie,Q,ne){var pe=typeof N;(pe==="undefined"||pe==="boolean")&&(N=null);var Ce=!1;if(N===null)Ce=!0;else switch(pe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(N.$$typeof){case t:case e:Ce=!0;break;case g:return Ce=N._init,me(Ce(N._payload),X,ie,Q,ne)}}if(Ce)return ne=ne(N),Ce=Q===""?"."+ve(N,0):Q,B(ne)?(ie="",Ce!=null&&(ie=Ce.replace(ge,"$&/")+"/"),me(ne,X,ie,"",function(We){return We})):ne!=null&&(se(ne)&&(ne=j(ne,ie+(ne.key==null||N&&N.key===ne.key?"":(""+ne.key).replace(ge,"$&/")+"/")+Ce)),X.push(ne)),1;Ce=0;var ce=Q===""?".":Q+":";if(B(N))for(var ye=0;ye<N.length;ye++)Q=N[ye],pe=ce+ve(Q,ye),Ce+=me(Q,X,ie,pe,ne);else if(ye=v(N),typeof ye=="function")for(N=ye.call(N),ye=0;!(Q=N.next()).done;)Q=Q.value,pe=ce+ve(Q,ye++),Ce+=me(Q,X,ie,pe,ne);else if(pe==="object"){if(typeof N.then=="function")return me(be(N),X,ie,Q,ne);throw X=String(N),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function P(N,X,ie){if(N==null)return N;var Q=[],ne=0;return me(N,Q,"","",function(pe){return X.call(ie,pe,ne++)}),Q}function $(N){if(N._status===-1){var X=N._result;X=X(),X.then(function(ie){(N._status===0||N._status===-1)&&(N._status=1,N._result=ie)},function(ie){(N._status===0||N._status===-1)&&(N._status=2,N._result=ie)}),N._status===-1&&(N._status=0,N._result=X)}if(N._status===1)return N._result.default;throw N._result}var z=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function de(){}return Ge.Children={map:P,forEach:function(N,X,ie){P(N,function(){X.apply(this,arguments)},ie)},count:function(N){var X=0;return P(N,function(){X++}),X},toArray:function(N){return P(N,function(X){return X})||[]},only:function(N){if(!se(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ge.Component=T,Ge.Fragment=n,Ge.Profiler=i,Ge.PureComponent=O,Ge.StrictMode=o,Ge.Suspense=f,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(N){return L.H.useMemoCache(N)}},Ge.cache=function(N){return function(){return N.apply(null,arguments)}},Ge.cloneElement=function(N,X,ie){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var Q=w({},N.props),ne=N.key,pe=void 0;if(X!=null)for(Ce in X.ref!==void 0&&(pe=void 0),X.key!==void 0&&(ne=""+X.key),X)!J.call(X,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&X.ref===void 0||(Q[Ce]=X[Ce]);var Ce=arguments.length-2;if(Ce===1)Q.children=ie;else if(1<Ce){for(var ce=Array(Ce),ye=0;ye<Ce;ye++)ce[ye]=arguments[ye+2];Q.children=ce}return I(N.type,ne,void 0,void 0,pe,Q)},Ge.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},Ge.createElement=function(N,X,ie){var Q,ne={},pe=null;if(X!=null)for(Q in X.key!==void 0&&(pe=""+X.key),X)J.call(X,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ne[Q]=X[Q]);var Ce=arguments.length-2;if(Ce===1)ne.children=ie;else if(1<Ce){for(var ce=Array(Ce),ye=0;ye<Ce;ye++)ce[ye]=arguments[ye+2];ne.children=ce}if(N&&N.defaultProps)for(Q in Ce=N.defaultProps,Ce)ne[Q]===void 0&&(ne[Q]=Ce[Q]);return I(N,pe,void 0,void 0,null,ne)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(N){return{$$typeof:d,render:N}},Ge.isValidElement=se,Ge.lazy=function(N){return{$$typeof:g,_payload:{_status:-1,_result:N},_init:$}},Ge.memo=function(N,X){return{$$typeof:m,type:N,compare:X===void 0?null:X}},Ge.startTransition=function(N){var X=L.T,ie={};L.T=ie;try{var Q=N(),ne=L.S;ne!==null&&ne(ie,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(de,z)}catch(pe){z(pe)}finally{L.T=X}},Ge.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Ge.use=function(N){return L.H.use(N)},Ge.useActionState=function(N,X,ie){return L.H.useActionState(N,X,ie)},Ge.useCallback=function(N,X){return L.H.useCallback(N,X)},Ge.useContext=function(N){return L.H.useContext(N)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(N,X){return L.H.useDeferredValue(N,X)},Ge.useEffect=function(N,X,ie){var Q=L.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(N,X)},Ge.useId=function(){return L.H.useId()},Ge.useImperativeHandle=function(N,X,ie){return L.H.useImperativeHandle(N,X,ie)},Ge.useInsertionEffect=function(N,X){return L.H.useInsertionEffect(N,X)},Ge.useLayoutEffect=function(N,X){return L.H.useLayoutEffect(N,X)},Ge.useMemo=function(N,X){return L.H.useMemo(N,X)},Ge.useOptimistic=function(N,X){return L.H.useOptimistic(N,X)},Ge.useReducer=function(N,X,ie){return L.H.useReducer(N,X,ie)},Ge.useRef=function(N){return L.H.useRef(N)},Ge.useState=function(N){return L.H.useState(N)},Ge.useSyncExternalStore=function(N,X,ie){return L.H.useSyncExternalStore(N,X,ie)},Ge.useTransition=function(){return L.H.useTransition()},Ge.version="19.1.0",Ge}var GS;function kf(){return GS||(GS=1,Op.exports=GN()),Op.exports}var b=kf();const ue=HA(b),hy=FN({__proto__:null,default:ue},[b]);var Ip={exports:{}},ec={},xp={exports:{}},kp={};var VS;function VN(){return VS||(VS=1,(function(t){function e(P,$){var z=P.length;P.push($);e:for(;0<z;){var de=z-1>>>1,N=P[de];if(0<i(N,$))P[de]=$,P[z]=N,z=de;else break e}}function n(P){return P.length===0?null:P[0]}function o(P){if(P.length===0)return null;var $=P[0],z=P.pop();if(z!==$){P[0]=z;e:for(var de=0,N=P.length,X=N>>>1;de<X;){var ie=2*(de+1)-1,Q=P[ie],ne=ie+1,pe=P[ne];if(0>i(Q,z))ne<N&&0>i(pe,Q)?(P[de]=pe,P[ne]=z,de=ne):(P[de]=Q,P[ie]=z,de=ie);else if(ne<N&&0>i(pe,z))P[de]=pe,P[ne]=z,de=ne;else break e}}return $}function i(P,$){var z=P.sortIndex-$.sortIndex;return z!==0?z:P.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],m=[],g=1,y=null,v=3,E=!1,w=!1,S=!1,T=!1,R=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function B(P){for(var $=n(m);$!==null;){if($.callback===null)o(m);else if($.startTime<=P)o(m),$.sortIndex=$.expirationTime,e(f,$);else break;$=n(m)}}function L(P){if(S=!1,B(P),!w)if(n(f)!==null)w=!0,J||(J=!0,ve());else{var $=n(m);$!==null&&me(L,$.startTime-P)}}var J=!1,I=-1,j=5,se=-1;function he(){return T?!0:!(t.unstable_now()-se<j)}function ge(){if(T=!1,J){var P=t.unstable_now();se=P;var $=!0;try{e:{w=!1,S&&(S=!1,O(I),I=-1),E=!0;var z=v;try{t:{for(B(P),y=n(f);y!==null&&!(y.expirationTime>P&&he());){var de=y.callback;if(typeof de=="function"){y.callback=null,v=y.priorityLevel;var N=de(y.expirationTime<=P);if(P=t.unstable_now(),typeof N=="function"){y.callback=N,B(P),$=!0;break t}y===n(f)&&o(f),B(P)}else o(f);y=n(f)}if(y!==null)$=!0;else{var X=n(m);X!==null&&me(L,X.startTime-P),$=!1}}break e}finally{y=null,v=z,E=!1}$=void 0}}finally{$?ve():J=!1}}}var ve;if(typeof x=="function")ve=function(){x(ge)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,be=we.port2;we.port1.onmessage=ge,ve=function(){be.postMessage(null)}}else ve=function(){R(ge,0)};function me(P,$){I=R(function(){P(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(P){switch(v){case 1:case 2:case 3:var $=3;break;default:$=v}var z=v;v=$;try{return P()}finally{v=z}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(P,$){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var z=v;v=P;try{return $()}finally{v=z}},t.unstable_scheduleCallback=function(P,$,z){var de=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?de+z:de):z=de,P){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=z+N,P={id:g++,callback:$,priorityLevel:P,startTime:z,expirationTime:N,sortIndex:-1},z>de?(P.sortIndex=z,e(m,P),n(f)===null&&P===n(m)&&(S?(O(I),I=-1):S=!0,me(L,z-de))):(P.sortIndex=N,e(f,P),w||E||(w=!0,J||(J=!0,ve()))),P},t.unstable_shouldYield=he,t.unstable_wrapCallback=function(P){var $=v;return function(){var z=v;v=$;try{return P.apply(this,arguments)}finally{v=z}}}})(kp)),kp}var YS;function YN(){return YS||(YS=1,xp.exports=VN()),xp.exports}var Np={exports:{}},An={};var QS;function QN(){if(QS)return An;QS=1;var t=kf();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(f,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:f,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,An.createPortal=function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(f,m,null,g)},An.flushSync=function(f){var m=c.T,g=o.p;try{if(c.T=null,o.p=2,f)return f()}finally{c.T=m,o.p=g,o.d.f()}},An.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(f,m))},An.prefetchDNS=function(f){typeof f=="string"&&o.d.D(f)},An.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var g=m.as,y=d(g,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?o.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:E}):g==="script"&&o.d.X(f,{crossOrigin:y,integrity:v,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},An.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);o.d.M(f,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(f)},An.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=d(g,m.crossOrigin);o.d.L(f,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},An.preloadModule=function(f,m){if(typeof f=="string")if(m){var g=d(m.as,m.crossOrigin);o.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(f)},An.requestFormReset=function(f){o.d.r(f)},An.unstable_batchedUpdates=function(f,m){return f(m)},An.useFormState=function(f,m,g){return c.H.useFormState(f,m,g)},An.useFormStatus=function(){return c.H.useHostTransitionStatus()},An.version="19.1.0",An}var $S;function zA(){if($S)return Np.exports;$S=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Np.exports=QN(),Np.exports}var XS;function $N(){if(XS)return ec;XS=1;var t=YN(),e=kf(),n=zA();function o(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,s=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(s=a.return),r=a.return;while(r)}return a.tag===3?s:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(o(188))}function f(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(o(188));return a!==r?null:r}for(var s=r,u=a;;){var h=s.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){s=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===s)return d(h),r;if(p===u)return d(h),a;p=p.sibling}throw Error(o(188))}if(s.return!==u.return)s=h,u=p;else{for(var C=!1,A=h.child;A;){if(A===s){C=!0,s=h,u=p;break}if(A===u){C=!0,u=h,s=p;break}A=A.sibling}if(!C){for(A=p.child;A;){if(A===s){C=!0,s=p,u=h;break}if(A===u){C=!0,u=p,s=h;break}A=A.sibling}if(!C)throw Error(o(189))}}if(s.alternate!==u)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?r:a}function m(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=m(r),a!==null)return a;r=r.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),x=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function ve(r){return r===null||typeof r!="object"?null:(r=ge&&r[ge]||r["@@iterator"],typeof r=="function"?r:null)}var we=Symbol.for("react.client.reference");function be(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===we?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case w:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case L:return"Suspense";case J:return"SuspenseList";case se:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case E:return"Portal";case x:return(r.displayName||"Context")+".Provider";case O:return(r._context.displayName||"Context")+".Consumer";case B:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return a=r.displayName||null,a!==null?a:be(r.type)||"Memo";case j:a=r._payload,r=r._init;try{return be(r(a))}catch{}}return null}var me=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},de=[],N=-1;function X(r){return{current:r}}function ie(r){0>N||(r.current=de[N],de[N]=null,N--)}function Q(r,a){N++,de[N]=r.current,r.current=a}var ne=X(null),pe=X(null),Ce=X(null),ce=X(null);function ye(r,a){switch(Q(Ce,a),Q(pe,r),Q(ne,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?gS(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=gS(a),r=yS(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ie(ne),Q(ne,r)}function We(){ie(ne),ie(pe),ie(Ce)}function Ke(r){r.memoizedState!==null&&Q(ce,r);var a=ne.current,s=yS(a,r.type);a!==s&&(Q(pe,r),Q(ne,s))}function Ve(r){pe.current===r&&(ie(ne),ie(pe)),ce.current===r&&(ie(ce),Ql._currentValue=z)}var Le=Object.prototype.hasOwnProperty,wt=t.unstable_scheduleCallback,ln=t.unstable_cancelCallback,Co=t.unstable_shouldYield,Sn=t.unstable_requestPaint,Pt=t.unstable_now,Li=t.unstable_getCurrentPriorityLevel,xn=t.unstable_ImmediatePriority,Ui=t.unstable_UserBlockingPriority,Xo=t.unstable_NormalPriority,mn=t.unstable_LowPriority,Mr=t.unstable_IdlePriority,Pr=t.log,Eo=t.unstable_setDisableYieldValue,Xn=null,Jt=null;function jt(r){if(typeof Pr=="function"&&Eo(r),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(Xn,r)}catch{}}var yt=Math.clz32?Math.clz32:gr,Dr=Math.log,Hi=Math.LN2;function gr(r){return r>>>=0,r===0?32:31-(Dr(r)/Hi|0)|0}var Wo=256,wn=4194304;function Wn(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Wr(r,a,s){var u=r.pendingLanes;if(u===0)return 0;var h=0,p=r.suspendedLanes,C=r.pingedLanes;r=r.warmLanes;var A=u&134217727;return A!==0?(u=A&~p,u!==0?h=Wn(u):(C&=A,C!==0?h=Wn(C):s||(s=A&~r,s!==0&&(h=Wn(s))))):(A=u&~p,A!==0?h=Wn(A):C!==0?h=Wn(C):s||(s=u&~r,s!==0&&(h=Wn(s)))),h===0?0:a!==0&&a!==h&&(a&p)===0&&(p=h&-h,s=a&-a,p>=s||p===32&&(s&4194048)!==0)?a:h}function Jr(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Ga(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Un(){var r=Wo;return Wo<<=1,(Wo&4194048)===0&&(Wo=256),r}function So(){var r=wn;return wn<<=1,(wn&62914560)===0&&(wn=4194304),r}function Jo(r){for(var a=[],s=0;31>s;s++)a.push(r);return a}function yr(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function zi(r,a,s,u,h,p){var C=r.pendingLanes;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=s,r.entangledLanes&=s,r.errorRecoveryDisabledLanes&=s,r.shellSuspendCounter=0;var A=r.entanglements,M=r.expirationTimes,K=r.hiddenUpdates;for(s=C&~s;0<s;){var Z=31-yt(s),oe=1<<Z;A[Z]=0,M[Z]=-1;var G=K[Z];if(G!==null)for(K[Z]=null,Z=0;Z<G.length;Z++){var Y=G[Z];Y!==null&&(Y.lane&=-536870913)}s&=~oe}u!==0&&Fe(r,u,0),p!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=p&~(C&~a))}function Fe(r,a,s){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-yt(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|s&4194090}function Ot(r,a){var s=r.entangledLanes|=a;for(r=r.entanglements;s;){var u=31-yt(s),h=1<<u;h&a|r[u]&a&&(r[u]|=a),s&=~h}}function It(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Dt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function vr(){var r=$.p;return r!==0?r:(r=window.event,r===void 0?32:LS(r.type))}function Lt(r,a){var s=$.p;try{return $.p=r,a()}finally{$.p=s}}var xt=Math.random().toString(36).slice(2),kt="__reactFiber$"+xt,k="__reactProps$"+xt,H="__reactContainer$"+xt,V="__reactEvents$"+xt,ae="__reactListeners$"+xt,fe="__reactHandles$"+xt,Ne="__reactResources$"+xt,Se="__reactMarker$"+xt;function Oe(r){delete r[kt],delete r[k],delete r[V],delete r[ae],delete r[fe]}function Ie(r){var a=r[kt];if(a)return a;for(var s=r.parentNode;s;){if(a=s[H]||s[kt]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(r=ES(r);r!==null;){if(s=r[kt])return s;r=ES(r)}return a}r=s,s=r.parentNode}return null}function ke(r){if(r=r[kt]||r[H]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Pe(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(o(33))}function xe(r){var a=r[Ne];return a||(a=r[Ne]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function He(r){r[Se]=!0}var nt=new Set,Gt={};function Ct(r,a){Ut(r,a),Ut(r+"Capture",a)}function Ut(r,a){for(Gt[r]=a,r=0;r<a.length;r++)nt.add(a[r])}var lt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kn={},Zr={};function Va(r){return Le.call(Zr,r)?!0:Le.call(kn,r)?!1:lt.test(r)?Zr[r]=!0:(kn[r]=!0,!1)}function Jn(r,a,s){if(Va(a))if(s===null)r.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+s)}}function Nn(r,a,s){if(s===null)r.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+s)}}function Zn(r,a,s,u){if(u===null)r.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttributeNS(a,s,""+u)}}var wo,eo;function Lr(r){if(wo===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);wo=a&&a[1]||"",eo=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wo+r+eo}var Zo=!1;function Ze(r,a){if(!r||Zo)return"";Zo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(Y){var G=Y}Reflect.construct(r,[],oe)}else{try{oe.call()}catch(Y){G=Y}r.call(oe.prototype)}}else{try{throw Error()}catch(Y){G=Y}(oe=r())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),C=p[0],A=p[1];if(C&&A){var M=C.split(`
`),K=A.split(`
`);for(h=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;h<K.length&&!K[h].includes("DetermineComponentFrameRoot");)h++;if(u===M.length||h===K.length)for(u=M.length-1,h=K.length-1;1<=u&&0<=h&&M[u]!==K[h];)h--;for(;1<=u&&0<=h;u--,h--)if(M[u]!==K[h]){if(u!==1||h!==1)do if(u--,h--,0>h||M[u]!==K[h]){var Z=`
`+M[u].replace(" at new "," at ");return r.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",r.displayName)),Z}while(1<=u&&0<=h);break}}}finally{Zo=!1,Error.prepareStackTrace=s}return(s=r?r.displayName||r.name:"")?Lr(s):""}function cn(r){switch(r.tag){case 26:case 27:case 5:return Lr(r.type);case 16:return Lr("Lazy");case 13:return Lr("Suspense");case 19:return Lr("SuspenseList");case 0:case 15:return Ze(r.type,!1);case 11:return Ze(r.type.render,!1);case 1:return Ze(r.type,!0);case 31:return Lr("Activity");default:return""}}function To(r){try{var a="";do a+=cn(r),r=r.return;while(r);return a}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Vt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Tt(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Bi(r){var a=Tt(r)?"checked":"value",s=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),u=""+r[a];if(!r.hasOwnProperty(a)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,p=s.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return h.call(this)},set:function(C){u=""+C,p.call(this,C)}}),Object.defineProperty(r,a,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(C){u=""+C},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Ya(r){r._valueTracker||(r._valueTracker=Bi(r))}function Wc(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var s=a.getValue(),u="";return r&&(u=Tt(r)?r.checked?"true":"false":r.value),r=u,r!==s?(a.setValue(r),!0):!1}function Jc(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Hx=/[\n"\\]/g;function br(r){return r.replace(Hx,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Th(r,a,s,u,h,p,C,A){r.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.type=C:r.removeAttribute("type"),a!=null?C==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Vt(a)):r.value!==""+Vt(a)&&(r.value=""+Vt(a)):C!=="submit"&&C!=="reset"||r.removeAttribute("value"),a!=null?Ah(r,C,Vt(a)):s!=null?Ah(r,C,Vt(s)):u!=null&&r.removeAttribute("value"),h==null&&p!=null&&(r.defaultChecked=!!p),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+Vt(A):r.removeAttribute("name")}function hb(r,a,s,u,h,p,C,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),a!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;s=s!=null?""+Vt(s):"",a=a!=null?""+Vt(a):s,A||a===r.value||(r.value=a),r.defaultValue=a}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=A?r.checked:!!u,r.defaultChecked=!!u,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(r.name=C)}function Ah(r,a,s){a==="number"&&Jc(r.ownerDocument)===r||r.defaultValue===""+s||(r.defaultValue=""+s)}function ji(r,a,s,u){if(r=r.options,a){a={};for(var h=0;h<s.length;h++)a["$"+s[h]]=!0;for(s=0;s<r.length;s++)h=a.hasOwnProperty("$"+r[s].value),r[s].selected!==h&&(r[s].selected=h),h&&u&&(r[s].defaultSelected=!0)}else{for(s=""+Vt(s),a=null,h=0;h<r.length;h++){if(r[h].value===s){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}a!==null||r[h].disabled||(a=r[h])}a!==null&&(a.selected=!0)}}function mb(r,a,s){if(a!=null&&(a=""+Vt(a),a!==r.value&&(r.value=a),s==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=s!=null?""+Vt(s):""}function pb(r,a,s,u){if(a==null){if(u!=null){if(s!=null)throw Error(o(92));if(me(u)){if(1<u.length)throw Error(o(93));u=u[0]}s=u}s==null&&(s=""),a=s}s=Vt(a),r.defaultValue=s,u=r.textContent,u===s&&u!==""&&u!==null&&(r.value=u)}function Fi(r,a){if(a){var s=r.firstChild;if(s&&s===r.lastChild&&s.nodeType===3){s.nodeValue=a;return}}r.textContent=a}var zx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gb(r,a,s){var u=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,s):typeof s!="number"||s===0||zx.has(a)?a==="float"?r.cssFloat=s:r[a]=(""+s).trim():r[a]=s+"px"}function yb(r,a,s){if(a!=null&&typeof a!="object")throw Error(o(62));if(r=r.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in a)u=a[h],a.hasOwnProperty(h)&&s[h]!==u&&gb(r,h,u)}else for(var p in a)a.hasOwnProperty(p)&&gb(r,p,a[p])}function _h(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zc(r){return jx.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Rh=null;function Oh(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var qi=null,Ki=null;function vb(r){var a=ke(r);if(a&&(r=a.stateNode)){var s=r[k]||null;e:switch(r=a.stateNode,a.type){case"input":if(Th(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=r;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+br(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var u=s[a];if(u!==r&&u.form===r.form){var h=u[k]||null;if(!h)throw Error(o(90));Th(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<s.length;a++)u=s[a],u.form===r.form&&Wc(u)}break e;case"textarea":mb(r,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&ji(r,!!s.multiple,a,!1)}}}var Ih=!1;function bb(r,a,s){if(Ih)return r(a,s);Ih=!0;try{var u=r(a);return u}finally{if(Ih=!1,(qi!==null||Ki!==null)&&(Hu(),qi&&(a=qi,r=Ki,Ki=qi=null,vb(a),r)))for(a=0;a<r.length;a++)vb(r[a])}}function sl(r,a){var s=r.stateNode;if(s===null)return null;var u=s[k]||null;if(u===null)return null;s=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(s&&typeof s!="function")throw Error(o(231,a,typeof s));return s}var Ao=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xh=!1;if(Ao)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){xh=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{xh=!1}var ea=null,kh=null,eu=null;function Cb(){if(eu)return eu;var r,a=kh,s=a.length,u,h="value"in ea?ea.value:ea.textContent,p=h.length;for(r=0;r<s&&a[r]===h[r];r++);var C=s-r;for(u=1;u<=C&&a[s-u]===h[p-u];u++);return eu=h.slice(r,1<u?1-u:void 0)}function tu(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function nu(){return!0}function Eb(){return!1}function Hn(r){function a(s,u,h,p,C){this._reactName=s,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=C,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(s=r[A],this[A]=s?s(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?nu:Eb,this.isPropagationStopped=Eb,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=nu)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=nu)},persist:function(){},isPersistent:nu}),a}var Qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ru=Hn(Qa),cl=g({},Qa,{view:0,detail:0}),Fx=Hn(cl),Nh,Mh,ul,ou=g({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dh,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ul&&(ul&&r.type==="mousemove"?(Nh=r.screenX-ul.screenX,Mh=r.screenY-ul.screenY):Mh=Nh=0,ul=r),Nh)},movementY:function(r){return"movementY"in r?r.movementY:Mh}}),Sb=Hn(ou),qx=g({},ou,{dataTransfer:0}),Kx=Hn(qx),Gx=g({},cl,{relatedTarget:0}),Ph=Hn(Gx),Vx=g({},Qa,{animationName:0,elapsedTime:0,pseudoElement:0}),Yx=Hn(Vx),Qx=g({},Qa,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),$x=Hn(Qx),Xx=g({},Qa,{data:0}),wb=Hn(Xx),Wx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ek(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Zx[r])?!!a[r]:!1}function Dh(){return ek}var tk=g({},cl,{key:function(r){if(r.key){var a=Wx[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=tu(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Jx[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dh,charCode:function(r){return r.type==="keypress"?tu(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?tu(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),nk=Hn(tk),rk=g({},ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tb=Hn(rk),ok=g({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dh}),ak=Hn(ok),ik=g({},Qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),sk=Hn(ik),lk=g({},ou,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ck=Hn(lk),uk=g({},Qa,{newState:0,oldState:0}),dk=Hn(uk),fk=[9,13,27,32],Lh=Ao&&"CompositionEvent"in window,dl=null;Ao&&"documentMode"in document&&(dl=document.documentMode);var hk=Ao&&"TextEvent"in window&&!dl,Ab=Ao&&(!Lh||dl&&8<dl&&11>=dl),_b=" ",Rb=!1;function Ob(r,a){switch(r){case"keyup":return fk.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ib(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Gi=!1;function mk(r,a){switch(r){case"compositionend":return Ib(a);case"keypress":return a.which!==32?null:(Rb=!0,_b);case"textInput":return r=a.data,r===_b&&Rb?null:r;default:return null}}function pk(r,a){if(Gi)return r==="compositionend"||!Lh&&Ob(r,a)?(r=Cb(),eu=kh=ea=null,Gi=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ab&&a.locale!=="ko"?null:a.data;default:return null}}var gk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xb(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!gk[r.type]:a==="textarea"}function kb(r,a,s,u){qi?Ki?Ki.push(u):Ki=[u]:qi=u,a=Ku(a,"onChange"),0<a.length&&(s=new ru("onChange","change",null,s,u),r.push({event:s,listeners:a}))}var fl=null,hl=null;function yk(r){dS(r,0)}function au(r){var a=Pe(r);if(Wc(a))return r}function Nb(r,a){if(r==="change")return a}var Mb=!1;if(Ao){var Uh;if(Ao){var Hh="oninput"in document;if(!Hh){var Pb=document.createElement("div");Pb.setAttribute("oninput","return;"),Hh=typeof Pb.oninput=="function"}Uh=Hh}else Uh=!1;Mb=Uh&&(!document.documentMode||9<document.documentMode)}function Db(){fl&&(fl.detachEvent("onpropertychange",Lb),hl=fl=null)}function Lb(r){if(r.propertyName==="value"&&au(hl)){var a=[];kb(a,hl,r,Oh(r)),bb(yk,a)}}function vk(r,a,s){r==="focusin"?(Db(),fl=a,hl=s,fl.attachEvent("onpropertychange",Lb)):r==="focusout"&&Db()}function bk(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return au(hl)}function Ck(r,a){if(r==="click")return au(a)}function Ek(r,a){if(r==="input"||r==="change")return au(a)}function Sk(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var er=typeof Object.is=="function"?Object.is:Sk;function ml(r,a){if(er(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var s=Object.keys(r),u=Object.keys(a);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var h=s[u];if(!Le.call(a,h)||!er(r[h],a[h]))return!1}return!0}function Ub(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Hb(r,a){var s=Ub(r);r=0;for(var u;s;){if(s.nodeType===3){if(u=r+s.textContent.length,r<=a&&u>=a)return{node:s,offset:a-r};r=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ub(s)}}function zb(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?zb(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Bb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Jc(r.document);a instanceof r.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)r=a.contentWindow;else break;a=Jc(r.document)}return a}function zh(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var wk=Ao&&"documentMode"in document&&11>=document.documentMode,Vi=null,Bh=null,pl=null,jh=!1;function jb(r,a,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jh||Vi==null||Vi!==Jc(u)||(u=Vi,"selectionStart"in u&&zh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),pl&&ml(pl,u)||(pl=u,u=Ku(Bh,"onSelect"),0<u.length&&(a=new ru("onSelect","select",null,a,s),r.push({event:a,listeners:u}),a.target=Vi)))}function $a(r,a){var s={};return s[r.toLowerCase()]=a.toLowerCase(),s["Webkit"+r]="webkit"+a,s["Moz"+r]="moz"+a,s}var Yi={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},Fh={},Fb={};Ao&&(Fb=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function Xa(r){if(Fh[r])return Fh[r];if(!Yi[r])return r;var a=Yi[r],s;for(s in a)if(a.hasOwnProperty(s)&&s in Fb)return Fh[r]=a[s];return r}var qb=Xa("animationend"),Kb=Xa("animationiteration"),Gb=Xa("animationstart"),Tk=Xa("transitionrun"),Ak=Xa("transitionstart"),_k=Xa("transitioncancel"),Vb=Xa("transitionend"),Yb=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function Ur(r,a){Yb.set(r,a),Ct(a,[r])}var Qb=new WeakMap;function Cr(r,a){if(typeof r=="object"&&r!==null){var s=Qb.get(r);return s!==void 0?s:(a={value:r,source:a,stack:To(a)},Qb.set(r,a),a)}return{value:r,source:a,stack:To(a)}}var Er=[],Qi=0,Kh=0;function iu(){for(var r=Qi,a=Kh=Qi=0;a<r;){var s=Er[a];Er[a++]=null;var u=Er[a];Er[a++]=null;var h=Er[a];Er[a++]=null;var p=Er[a];if(Er[a++]=null,u!==null&&h!==null){var C=u.pending;C===null?h.next=h:(h.next=C.next,C.next=h),u.pending=h}p!==0&&$b(s,h,p)}}function su(r,a,s,u){Er[Qi++]=r,Er[Qi++]=a,Er[Qi++]=s,Er[Qi++]=u,Kh|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Gh(r,a,s,u){return su(r,a,s,u),lu(r)}function $i(r,a){return su(r,null,null,a),lu(r)}function $b(r,a,s){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s);for(var h=!1,p=r.return;p!==null;)p.childLanes|=s,u=p.alternate,u!==null&&(u.childLanes|=s),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(h=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,h&&a!==null&&(h=31-yt(s),r=p.hiddenUpdates,u=r[h],u===null?r[h]=[a]:u.push(a),a.lane=s|536870912),p):null}function lu(r){if(50<Bl)throw Bl=0,Wm=null,Error(o(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Xi={};function Rk(r,a,s,u){this.tag=r,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(r,a,s,u){return new Rk(r,a,s,u)}function Vh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function _o(r,a){var s=r.alternate;return s===null?(s=tr(r.tag,a,r.key,r.mode),s.elementType=r.elementType,s.type=r.type,s.stateNode=r.stateNode,s.alternate=r,r.alternate=s):(s.pendingProps=a,s.type=r.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=r.flags&65011712,s.childLanes=r.childLanes,s.lanes=r.lanes,s.child=r.child,s.memoizedProps=r.memoizedProps,s.memoizedState=r.memoizedState,s.updateQueue=r.updateQueue,a=r.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=r.sibling,s.index=r.index,s.ref=r.ref,s.refCleanup=r.refCleanup,s}function Xb(r,a){r.flags&=65011714;var s=r.alternate;return s===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,r.type=s.type,a=s.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function cu(r,a,s,u,h,p){var C=0;if(u=r,typeof r=="function")Vh(r)&&(C=1);else if(typeof r=="string")C=IN(r,s,ne.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case se:return r=tr(31,s,a,h),r.elementType=se,r.lanes=p,r;case w:return Wa(s.children,h,p,a);case S:C=8,h|=24;break;case T:return r=tr(12,s,a,h|2),r.elementType=T,r.lanes=p,r;case L:return r=tr(13,s,a,h),r.elementType=L,r.lanes=p,r;case J:return r=tr(19,s,a,h),r.elementType=J,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case R:case x:C=10;break e;case O:C=9;break e;case B:C=11;break e;case I:C=14;break e;case j:C=16,u=null;break e}C=29,s=Error(o(130,r===null?"null":typeof r,"")),u=null}return a=tr(C,s,a,h),a.elementType=r,a.type=u,a.lanes=p,a}function Wa(r,a,s,u){return r=tr(7,r,u,a),r.lanes=s,r}function Yh(r,a,s){return r=tr(6,r,null,a),r.lanes=s,r}function Qh(r,a,s){return a=tr(4,r.children!==null?r.children:[],r.key,a),a.lanes=s,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Wi=[],Ji=0,uu=null,du=0,Sr=[],wr=0,Ja=null,Ro=1,Oo="";function Za(r,a){Wi[Ji++]=du,Wi[Ji++]=uu,uu=r,du=a}function Wb(r,a,s){Sr[wr++]=Ro,Sr[wr++]=Oo,Sr[wr++]=Ja,Ja=r;var u=Ro;r=Oo;var h=32-yt(u)-1;u&=~(1<<h),s+=1;var p=32-yt(a)+h;if(30<p){var C=h-h%5;p=(u&(1<<C)-1).toString(32),u>>=C,h-=C,Ro=1<<32-yt(a)+h|s<<h|u,Oo=p+r}else Ro=1<<p|s<<h|u,Oo=r}function $h(r){r.return!==null&&(Za(r,1),Wb(r,1,0))}function Xh(r){for(;r===uu;)uu=Wi[--Ji],Wi[Ji]=null,du=Wi[--Ji],Wi[Ji]=null;for(;r===Ja;)Ja=Sr[--wr],Sr[wr]=null,Oo=Sr[--wr],Sr[wr]=null,Ro=Sr[--wr],Sr[wr]=null}var Mn=null,Ht=null,st=!1,ei=null,to=!1,Wh=Error(o(519));function ti(r){var a=Error(o(418,""));throw vl(Cr(a,r)),Wh}function Jb(r){var a=r.stateNode,s=r.type,u=r.memoizedProps;switch(a[kt]=r,a[k]=u,s){case"dialog":tt("cancel",a),tt("close",a);break;case"iframe":case"object":case"embed":tt("load",a);break;case"video":case"audio":for(s=0;s<Fl.length;s++)tt(Fl[s],a);break;case"source":tt("error",a);break;case"img":case"image":case"link":tt("error",a),tt("load",a);break;case"details":tt("toggle",a);break;case"input":tt("invalid",a),hb(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ya(a);break;case"select":tt("invalid",a);break;case"textarea":tt("invalid",a),pb(a,u.value,u.defaultValue,u.children),Ya(a)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||u.suppressHydrationWarning===!0||pS(a.textContent,s)?(u.popover!=null&&(tt("beforetoggle",a),tt("toggle",a)),u.onScroll!=null&&tt("scroll",a),u.onScrollEnd!=null&&tt("scrollend",a),u.onClick!=null&&(a.onclick=Gu),a=!0):a=!1,a||ti(r)}function Zb(r){for(Mn=r.return;Mn;)switch(Mn.tag){case 5:case 13:to=!1;return;case 27:case 3:to=!0;return;default:Mn=Mn.return}}function gl(r){if(r!==Mn)return!1;if(!st)return Zb(r),st=!0,!1;var a=r.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=r.type,s=!(s!=="form"&&s!=="button")||hp(r.type,r.memoizedProps)),s=!s),s&&Ht&&ti(r),Zb(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(o(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(s=r.data,s==="/$"){if(a===0){Ht=zr(r.nextSibling);break e}a--}else s!=="$"&&s!=="$!"&&s!=="$?"||a++;r=r.nextSibling}Ht=null}}else a===27?(a=Ht,ga(r.type)?(r=yp,yp=null,Ht=r):Ht=a):Ht=Mn?zr(r.stateNode.nextSibling):null;return!0}function yl(){Ht=Mn=null,st=!1}function eC(){var r=ei;return r!==null&&(jn===null?jn=r:jn.push.apply(jn,r),ei=null),r}function vl(r){ei===null?ei=[r]:ei.push(r)}var Jh=X(null),ni=null,Io=null;function ta(r,a,s){Q(Jh,a._currentValue),a._currentValue=s}function xo(r){r._currentValue=Jh.current,ie(Jh)}function Zh(r,a,s){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===s)break;r=r.return}}function em(r,a,s,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var p=h.dependencies;if(p!==null){var C=h.child;p=p.firstContext;e:for(;p!==null;){var A=p;p=h;for(var M=0;M<a.length;M++)if(A.context===a[M]){p.lanes|=s,A=p.alternate,A!==null&&(A.lanes|=s),Zh(p.return,s,r),u||(C=null);break e}p=A.next}}else if(h.tag===18){if(C=h.return,C===null)throw Error(o(341));C.lanes|=s,p=C.alternate,p!==null&&(p.lanes|=s),Zh(C,s,r),C=null}else C=h.child;if(C!==null)C.return=h;else for(C=h;C!==null;){if(C===r){C=null;break}if(h=C.sibling,h!==null){h.return=C.return,C=h;break}C=C.return}h=C}}function bl(r,a,s,u){r=null;for(var h=a,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var C=h.alternate;if(C===null)throw Error(o(387));if(C=C.memoizedProps,C!==null){var A=h.type;er(h.pendingProps.value,C.value)||(r!==null?r.push(A):r=[A])}}else if(h===ce.current){if(C=h.alternate,C===null)throw Error(o(387));C.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(Ql):r=[Ql])}h=h.return}r!==null&&em(a,r,s,u),a.flags|=262144}function fu(r){for(r=r.firstContext;r!==null;){if(!er(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ri(r){ni=r,Io=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Tn(r){return tC(ni,r)}function hu(r,a){return ni===null&&ri(r),tC(r,a)}function tC(r,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},Io===null){if(r===null)throw Error(o(308));Io=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Io=Io.next=a;return s}var Ok=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(s,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(s){return s()})}},Ik=t.unstable_scheduleCallback,xk=t.unstable_NormalPriority,Zt={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tm(){return{controller:new Ok,data:new Map,refCount:0}}function Cl(r){r.refCount--,r.refCount===0&&Ik(xk,function(){r.controller.abort()})}var El=null,nm=0,Zi=0,es=null;function kk(r,a){if(El===null){var s=El=[];nm=0,Zi=op(),es={status:"pending",value:void 0,then:function(u){s.push(u)}}}return nm++,a.then(nC,nC),a}function nC(){if(--nm===0&&El!==null){es!==null&&(es.status="fulfilled");var r=El;El=null,Zi=0,es=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function Nk(r,a){var s=[],u={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var h=0;h<s.length;h++)(0,s[h])(a)},function(h){for(u.status="rejected",u.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),u}var rC=P.S;P.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&kk(r,a),rC!==null&&rC(r,a)};var oi=X(null);function rm(){var r=oi.current;return r!==null?r:Et.pooledCache}function mu(r,a){a===null?Q(oi,oi.current):Q(oi,a.pool)}function oC(){var r=rm();return r===null?null:{parent:Zt._currentValue,pool:r}}var Sl=Error(o(460)),aC=Error(o(474)),pu=Error(o(542)),om={then:function(){}};function iC(r){return r=r.status,r==="fulfilled"||r==="rejected"}function gu(){}function sC(r,a,s){switch(s=r[s],s===void 0?r.push(a):s!==a&&(a.then(gu,gu),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,cC(r),r;default:if(typeof a.status=="string")a.then(gu,gu);else{if(r=Et,r!==null&&100<r.shellSuspendCounter)throw Error(o(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=u}},function(u){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,cC(r),r}throw wl=a,Sl}}var wl=null;function lC(){if(wl===null)throw Error(o(459));var r=wl;return wl=null,r}function cC(r){if(r===Sl||r===pu)throw Error(o(483))}var na=!1;function am(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function im(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ra(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function oa(r,a,s){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(ct&2)!==0){var h=u.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a,a=lu(r),$b(r,null,s),a}return su(r,u,a,s),lu(r)}function Tl(r,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,s|=u,a.lanes=s,Ot(r,s)}}function sm(r,a){var s=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var h=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var C={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?h=p=C:p=p.next=C,s=s.next}while(s!==null);p===null?h=p=a:p=p.next=a}else h=p=a;s={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},r.updateQueue=s;return}r=s.lastBaseUpdate,r===null?s.firstBaseUpdate=a:r.next=a,s.lastBaseUpdate=a}var lm=!1;function Al(){if(lm){var r=es;if(r!==null)throw r}}function _l(r,a,s,u){lm=!1;var h=r.updateQueue;na=!1;var p=h.firstBaseUpdate,C=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var M=A,K=M.next;M.next=null,C===null?p=K:C.next=K,C=M;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==C&&(A===null?Z.firstBaseUpdate=K:A.next=K,Z.lastBaseUpdate=M))}if(p!==null){var oe=h.baseState;C=0,Z=K=M=null,A=p;do{var G=A.lane&-536870913,Y=G!==A.lane;if(Y?(ot&G)===G:(u&G)===G){G!==0&&G===Zi&&(lm=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var je=r,ze=A;G=a;var mt=s;switch(ze.tag){case 1:if(je=ze.payload,typeof je=="function"){oe=je.call(mt,oe,G);break e}oe=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=ze.payload,G=typeof je=="function"?je.call(mt,oe,G):je,G==null)break e;oe=g({},oe,G);break e;case 2:na=!0}}G=A.callback,G!==null&&(r.flags|=64,Y&&(r.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(K=Z=Y,M=oe):Z=Z.next=Y,C|=G;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;Y=A,A=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);Z===null&&(M=oe),h.baseState=M,h.firstBaseUpdate=K,h.lastBaseUpdate=Z,p===null&&(h.shared.lanes=0),fa|=C,r.lanes=C,r.memoizedState=oe}}function uC(r,a){if(typeof r!="function")throw Error(o(191,r));r.call(a)}function dC(r,a){var s=r.callbacks;if(s!==null)for(r.callbacks=null,r=0;r<s.length;r++)uC(s[r],a)}var ts=X(null),yu=X(0);function fC(r,a){r=Uo,Q(yu,r),Q(ts,a),Uo=r|a.baseLanes}function cm(){Q(yu,Uo),Q(ts,ts.current)}function um(){Uo=yu.current,ie(ts),ie(yu)}var aa=0,Qe=null,ft=null,Yt=null,vu=!1,ns=!1,ai=!1,bu=0,Rl=0,rs=null,Mk=0;function Ft(){throw Error(o(321))}function dm(r,a){if(a===null)return!1;for(var s=0;s<a.length&&s<r.length;s++)if(!er(r[s],a[s]))return!1;return!0}function fm(r,a,s,u,h,p){return aa=p,Qe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,P.H=r===null||r.memoizedState===null?$C:XC,ai=!1,p=s(u,h),ai=!1,ns&&(p=mC(a,s,u,h)),hC(r),p}function hC(r){P.H=Au;var a=ft!==null&&ft.next!==null;if(aa=0,Yt=ft=Qe=null,vu=!1,Rl=0,rs=null,a)throw Error(o(300));r===null||un||(r=r.dependencies,r!==null&&fu(r)&&(un=!0))}function mC(r,a,s,u){Qe=r;var h=0;do{if(ns&&(rs=null),Rl=0,ns=!1,25<=h)throw Error(o(301));if(h+=1,Yt=ft=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}P.H=Bk,p=a(s,u)}while(ns);return p}function Pk(){var r=P.H,a=r.useState()[0];return a=typeof a.then=="function"?Ol(a):a,r=r.useState()[0],(ft!==null?ft.memoizedState:null)!==r&&(Qe.flags|=1024),a}function hm(){var r=bu!==0;return bu=0,r}function mm(r,a,s){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~s}function pm(r){if(vu){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}vu=!1}aa=0,Yt=ft=Qe=null,ns=!1,Rl=bu=0,rs=null}function zn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Qe.memoizedState=Yt=r:Yt=Yt.next=r,Yt}function Qt(){if(ft===null){var r=Qe.alternate;r=r!==null?r.memoizedState:null}else r=ft.next;var a=Yt===null?Qe.memoizedState:Yt.next;if(a!==null)Yt=a,ft=r;else{if(r===null)throw Qe.alternate===null?Error(o(467)):Error(o(310));ft=r,r={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Yt===null?Qe.memoizedState=Yt=r:Yt=Yt.next=r}return Yt}function gm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(r){var a=Rl;return Rl+=1,rs===null&&(rs=[]),r=sC(rs,r,a),a=Qe,(Yt===null?a.memoizedState:Yt.next)===null&&(a=a.alternate,P.H=a===null||a.memoizedState===null?$C:XC),r}function Cu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ol(r);if(r.$$typeof===x)return Tn(r)}throw Error(o(438,String(r)))}function ym(r){var a=null,s=Qe.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var u=Qe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=gm(),Qe.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(r),u=0;u<r;u++)s[u]=he;return a.index++,s}function ko(r,a){return typeof a=="function"?a(r):a}function Eu(r){var a=Qt();return vm(a,ft,r)}function vm(r,a,s){var u=r.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=s;var h=r.baseQueue,p=u.pending;if(p!==null){if(h!==null){var C=h.next;h.next=p.next,p.next=C}a.baseQueue=h=p,u.pending=null}if(p=r.baseState,h===null)r.memoizedState=p;else{a=h.next;var A=C=null,M=null,K=a,Z=!1;do{var oe=K.lane&-536870913;if(oe!==K.lane?(ot&oe)===oe:(aa&oe)===oe){var G=K.revertLane;if(G===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),oe===Zi&&(Z=!0);else if((aa&G)===G){K=K.next,G===Zi&&(Z=!0);continue}else oe={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(A=M=oe,C=p):M=M.next=oe,Qe.lanes|=G,fa|=G;oe=K.action,ai&&s(p,oe),p=K.hasEagerState?K.eagerState:s(p,oe)}else G={lane:oe,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(A=M=G,C=p):M=M.next=G,Qe.lanes|=oe,fa|=oe;K=K.next}while(K!==null&&K!==a);if(M===null?C=p:M.next=A,!er(p,r.memoizedState)&&(un=!0,Z&&(s=es,s!==null)))throw s;r.memoizedState=p,r.baseState=C,r.baseQueue=M,u.lastRenderedState=p}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function bm(r){var a=Qt(),s=a.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=r;var u=s.dispatch,h=s.pending,p=a.memoizedState;if(h!==null){s.pending=null;var C=h=h.next;do p=r(p,C.action),C=C.next;while(C!==h);er(p,a.memoizedState)||(un=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),s.lastRenderedState=p}return[p,u]}function pC(r,a,s){var u=Qe,h=Qt(),p=st;if(p){if(s===void 0)throw Error(o(407));s=s()}else s=a();var C=!er((ft||h).memoizedState,s);C&&(h.memoizedState=s,un=!0),h=h.queue;var A=vC.bind(null,u,h,r);if(Il(2048,8,A,[r]),h.getSnapshot!==a||C||Yt!==null&&Yt.memoizedState.tag&1){if(u.flags|=2048,os(9,Su(),yC.bind(null,u,h,s,a),null),Et===null)throw Error(o(349));p||(aa&124)!==0||gC(u,a,s)}return s}function gC(r,a,s){r.flags|=16384,r={getSnapshot:a,value:s},a=Qe.updateQueue,a===null?(a=gm(),Qe.updateQueue=a,a.stores=[r]):(s=a.stores,s===null?a.stores=[r]:s.push(r))}function yC(r,a,s,u){a.value=s,a.getSnapshot=u,bC(a)&&CC(r)}function vC(r,a,s){return s(function(){bC(a)&&CC(r)})}function bC(r){var a=r.getSnapshot;r=r.value;try{var s=a();return!er(r,s)}catch{return!0}}function CC(r){var a=$i(r,2);a!==null&&ir(a,r,2)}function Cm(r){var a=zn();if(typeof r=="function"){var s=r;if(r=s(),ai){jt(!0);try{s()}finally{jt(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:r},a}function EC(r,a,s,u){return r.baseState=s,vm(r,ft,typeof u=="function"?u:ko)}function Dk(r,a,s,u,h){if(Tu(r))throw Error(o(485));if(r=a.action,r!==null){var p={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){p.listeners.push(C)}};P.T!==null?s(!0):p.isTransition=!1,u(p),s=a.pending,s===null?(p.next=a.pending=p,SC(a,p)):(p.next=s.next,a.pending=s.next=p)}}function SC(r,a){var s=a.action,u=a.payload,h=r.state;if(a.isTransition){var p=P.T,C={};P.T=C;try{var A=s(h,u),M=P.S;M!==null&&M(C,A),wC(r,a,A)}catch(K){Em(r,a,K)}finally{P.T=p}}else try{p=s(h,u),wC(r,a,p)}catch(K){Em(r,a,K)}}function wC(r,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){TC(r,a,u)},function(u){return Em(r,a,u)}):TC(r,a,s)}function TC(r,a,s){a.status="fulfilled",a.value=s,AC(a),r.state=s,a=r.pending,a!==null&&(s=a.next,s===a?r.pending=null:(s=s.next,a.next=s,SC(r,s)))}function Em(r,a,s){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=s,AC(a),a=a.next;while(a!==u)}r.action=null}function AC(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function _C(r,a){return a}function RC(r,a){if(st){var s=Et.formState;if(s!==null){e:{var u=Qe;if(st){if(Ht){t:{for(var h=Ht,p=to;h.nodeType!==8;){if(!p){h=null;break t}if(h=zr(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){Ht=zr(h.nextSibling),u=h.data==="F!";break e}}ti(u)}u=!1}u&&(a=s[0])}}return s=zn(),s.memoizedState=s.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_C,lastRenderedState:a},s.queue=u,s=VC.bind(null,Qe,u),u.dispatch=s,u=Cm(!1),p=_m.bind(null,Qe,!1,u.queue),u=zn(),h={state:a,dispatch:null,action:r,pending:null},u.queue=h,s=Dk.bind(null,Qe,h,p,s),h.dispatch=s,u.memoizedState=r,[a,s,!1]}function OC(r){var a=Qt();return IC(a,ft,r)}function IC(r,a,s){if(a=vm(r,a,_C)[0],r=Eu(ko)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Ol(a)}catch(C){throw C===Sl?pu:C}else u=a;a=Qt();var h=a.queue,p=h.dispatch;return s!==a.memoizedState&&(Qe.flags|=2048,os(9,Su(),Lk.bind(null,h,s),null)),[u,p,r]}function Lk(r,a){r.action=a}function xC(r){var a=Qt(),s=ft;if(s!==null)return IC(a,s,r);Qt(),a=a.memoizedState,s=Qt();var u=s.queue.dispatch;return s.memoizedState=r,[a,u,!1]}function os(r,a,s,u){return r={tag:r,create:s,deps:u,inst:a,next:null},a=Qe.updateQueue,a===null&&(a=gm(),Qe.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=r.next=r:(u=s.next,s.next=r,r.next=u,a.lastEffect=r),r}function Su(){return{destroy:void 0,resource:void 0}}function kC(){return Qt().memoizedState}function wu(r,a,s,u){var h=zn();u=u===void 0?null:u,Qe.flags|=r,h.memoizedState=os(1|a,Su(),s,u)}function Il(r,a,s,u){var h=Qt();u=u===void 0?null:u;var p=h.memoizedState.inst;ft!==null&&u!==null&&dm(u,ft.memoizedState.deps)?h.memoizedState=os(a,p,s,u):(Qe.flags|=r,h.memoizedState=os(1|a,p,s,u))}function NC(r,a){wu(8390656,8,r,a)}function MC(r,a){Il(2048,8,r,a)}function PC(r,a){return Il(4,2,r,a)}function DC(r,a){return Il(4,4,r,a)}function LC(r,a){if(typeof a=="function"){r=r();var s=a(r);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function UC(r,a,s){s=s!=null?s.concat([r]):null,Il(4,4,LC.bind(null,a,r),s)}function Sm(){}function HC(r,a){var s=Qt();a=a===void 0?null:a;var u=s.memoizedState;return a!==null&&dm(a,u[1])?u[0]:(s.memoizedState=[r,a],r)}function zC(r,a){var s=Qt();a=a===void 0?null:a;var u=s.memoizedState;if(a!==null&&dm(a,u[1]))return u[0];if(u=r(),ai){jt(!0);try{r()}finally{jt(!1)}}return s.memoizedState=[u,a],u}function wm(r,a,s){return s===void 0||(aa&1073741824)!==0?r.memoizedState=a:(r.memoizedState=s,r=FE(),Qe.lanes|=r,fa|=r,s)}function BC(r,a,s,u){return er(s,a)?s:ts.current!==null?(r=wm(r,s,u),er(r,a)||(un=!0),r):(aa&42)===0?(un=!0,r.memoizedState=s):(r=FE(),Qe.lanes|=r,fa|=r,a)}function jC(r,a,s,u,h){var p=$.p;$.p=p!==0&&8>p?p:8;var C=P.T,A={};P.T=A,_m(r,!1,a,s);try{var M=h(),K=P.S;if(K!==null&&K(A,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Z=Nk(M,u);xl(r,a,Z,ar(r))}else xl(r,a,u,ar(r))}catch(oe){xl(r,a,{then:function(){},status:"rejected",reason:oe},ar())}finally{$.p=p,P.T=C}}function Uk(){}function Tm(r,a,s,u){if(r.tag!==5)throw Error(o(476));var h=FC(r).queue;jC(r,h,a,z,s===null?Uk:function(){return qC(r),s(u)})}function FC(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:z},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:s},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function qC(r){var a=FC(r).next.queue;xl(r,a,{},ar())}function Am(){return Tn(Ql)}function KC(){return Qt().memoizedState}function GC(){return Qt().memoizedState}function Hk(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var s=ar();r=ra(s);var u=oa(a,r,s);u!==null&&(ir(u,a,s),Tl(u,a,s)),a={cache:tm()},r.payload=a;return}a=a.return}}function zk(r,a,s){var u=ar();s={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Tu(r)?YC(a,s):(s=Gh(r,a,s,u),s!==null&&(ir(s,r,u),QC(s,a,u)))}function VC(r,a,s){var u=ar();xl(r,a,s,u)}function xl(r,a,s,u){var h={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Tu(r))YC(a,h);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var C=a.lastRenderedState,A=p(C,s);if(h.hasEagerState=!0,h.eagerState=A,er(A,C))return su(r,a,h,0),Et===null&&iu(),!1}catch{}if(s=Gh(r,a,h,u),s!==null)return ir(s,r,u),QC(s,a,u),!0}return!1}function _m(r,a,s,u){if(u={lane:2,revertLane:op(),action:u,hasEagerState:!1,eagerState:null,next:null},Tu(r)){if(a)throw Error(o(479))}else a=Gh(r,s,u,2),a!==null&&ir(a,r,2)}function Tu(r){var a=r.alternate;return r===Qe||a!==null&&a===Qe}function YC(r,a){ns=vu=!0;var s=r.pending;s===null?a.next=a:(a.next=s.next,s.next=a),r.pending=a}function QC(r,a,s){if((s&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,s|=u,a.lanes=s,Ot(r,s)}}var Au={readContext:Tn,use:Cu,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft},$C={readContext:Tn,use:Cu,useCallback:function(r,a){return zn().memoizedState=[r,a===void 0?null:a],r},useContext:Tn,useEffect:NC,useImperativeHandle:function(r,a,s){s=s!=null?s.concat([r]):null,wu(4194308,4,LC.bind(null,a,r),s)},useLayoutEffect:function(r,a){return wu(4194308,4,r,a)},useInsertionEffect:function(r,a){wu(4,2,r,a)},useMemo:function(r,a){var s=zn();a=a===void 0?null:a;var u=r();if(ai){jt(!0);try{r()}finally{jt(!1)}}return s.memoizedState=[u,a],u},useReducer:function(r,a,s){var u=zn();if(s!==void 0){var h=s(a);if(ai){jt(!0);try{s(a)}finally{jt(!1)}}}else h=a;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=zk.bind(null,Qe,r),[u.memoizedState,r]},useRef:function(r){var a=zn();return r={current:r},a.memoizedState=r},useState:function(r){r=Cm(r);var a=r.queue,s=VC.bind(null,Qe,a);return a.dispatch=s,[r.memoizedState,s]},useDebugValue:Sm,useDeferredValue:function(r,a){var s=zn();return wm(s,r,a)},useTransition:function(){var r=Cm(!1);return r=jC.bind(null,Qe,r.queue,!0,!1),zn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,s){var u=Qe,h=zn();if(st){if(s===void 0)throw Error(o(407));s=s()}else{if(s=a(),Et===null)throw Error(o(349));(ot&124)!==0||gC(u,a,s)}h.memoizedState=s;var p={value:s,getSnapshot:a};return h.queue=p,NC(vC.bind(null,u,p,r),[r]),u.flags|=2048,os(9,Su(),yC.bind(null,u,p,s,a),null),s},useId:function(){var r=zn(),a=Et.identifierPrefix;if(st){var s=Oo,u=Ro;s=(u&~(1<<32-yt(u)-1)).toString(32)+s,a=""+a+"R"+s,s=bu++,0<s&&(a+="H"+s.toString(32)),a+=""}else s=Mk++,a=""+a+"r"+s.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:Am,useFormState:RC,useActionState:RC,useOptimistic:function(r){var a=zn();a.memoizedState=a.baseState=r;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=_m.bind(null,Qe,!0,s),s.dispatch=a,[r,a]},useMemoCache:ym,useCacheRefresh:function(){return zn().memoizedState=Hk.bind(null,Qe)}},XC={readContext:Tn,use:Cu,useCallback:HC,useContext:Tn,useEffect:MC,useImperativeHandle:UC,useInsertionEffect:PC,useLayoutEffect:DC,useMemo:zC,useReducer:Eu,useRef:kC,useState:function(){return Eu(ko)},useDebugValue:Sm,useDeferredValue:function(r,a){var s=Qt();return BC(s,ft.memoizedState,r,a)},useTransition:function(){var r=Eu(ko)[0],a=Qt().memoizedState;return[typeof r=="boolean"?r:Ol(r),a]},useSyncExternalStore:pC,useId:KC,useHostTransitionStatus:Am,useFormState:OC,useActionState:OC,useOptimistic:function(r,a){var s=Qt();return EC(s,ft,r,a)},useMemoCache:ym,useCacheRefresh:GC},Bk={readContext:Tn,use:Cu,useCallback:HC,useContext:Tn,useEffect:MC,useImperativeHandle:UC,useInsertionEffect:PC,useLayoutEffect:DC,useMemo:zC,useReducer:bm,useRef:kC,useState:function(){return bm(ko)},useDebugValue:Sm,useDeferredValue:function(r,a){var s=Qt();return ft===null?wm(s,r,a):BC(s,ft.memoizedState,r,a)},useTransition:function(){var r=bm(ko)[0],a=Qt().memoizedState;return[typeof r=="boolean"?r:Ol(r),a]},useSyncExternalStore:pC,useId:KC,useHostTransitionStatus:Am,useFormState:xC,useActionState:xC,useOptimistic:function(r,a){var s=Qt();return ft!==null?EC(s,ft,r,a):(s.baseState=r,[r,s.queue.dispatch])},useMemoCache:ym,useCacheRefresh:GC},as=null,kl=0;function _u(r){var a=kl;return kl+=1,as===null&&(as=[]),sC(as,r,a)}function Nl(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Ru(r,a){throw a.$$typeof===y?Error(o(525)):(r=Object.prototype.toString.call(a),Error(o(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function WC(r){var a=r._init;return a(r._payload)}function JC(r){function a(F,D){if(r){var q=F.deletions;q===null?(F.deletions=[D],F.flags|=16):q.push(D)}}function s(F,D){if(!r)return null;for(;D!==null;)a(F,D),D=D.sibling;return null}function u(F){for(var D=new Map;F!==null;)F.key!==null?D.set(F.key,F):D.set(F.index,F),F=F.sibling;return D}function h(F,D){return F=_o(F,D),F.index=0,F.sibling=null,F}function p(F,D,q){return F.index=q,r?(q=F.alternate,q!==null?(q=q.index,q<D?(F.flags|=67108866,D):q):(F.flags|=67108866,D)):(F.flags|=1048576,D)}function C(F){return r&&F.alternate===null&&(F.flags|=67108866),F}function A(F,D,q,ee){return D===null||D.tag!==6?(D=Yh(q,F.mode,ee),D.return=F,D):(D=h(D,q),D.return=F,D)}function M(F,D,q,ee){var Ae=q.type;return Ae===w?Z(F,D,q.props.children,ee,q.key):D!==null&&(D.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===j&&WC(Ae)===D.type)?(D=h(D,q.props),Nl(D,q),D.return=F,D):(D=cu(q.type,q.key,q.props,null,F.mode,ee),Nl(D,q),D.return=F,D)}function K(F,D,q,ee){return D===null||D.tag!==4||D.stateNode.containerInfo!==q.containerInfo||D.stateNode.implementation!==q.implementation?(D=Qh(q,F.mode,ee),D.return=F,D):(D=h(D,q.children||[]),D.return=F,D)}function Z(F,D,q,ee,Ae){return D===null||D.tag!==7?(D=Wa(q,F.mode,ee,Ae),D.return=F,D):(D=h(D,q),D.return=F,D)}function oe(F,D,q){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Yh(""+D,F.mode,q),D.return=F,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case v:return q=cu(D.type,D.key,D.props,null,F.mode,q),Nl(q,D),q.return=F,q;case E:return D=Qh(D,F.mode,q),D.return=F,D;case j:var ee=D._init;return D=ee(D._payload),oe(F,D,q)}if(me(D)||ve(D))return D=Wa(D,F.mode,q,null),D.return=F,D;if(typeof D.then=="function")return oe(F,_u(D),q);if(D.$$typeof===x)return oe(F,hu(F,D),q);Ru(F,D)}return null}function G(F,D,q,ee){var Ae=D!==null?D.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Ae!==null?null:A(F,D,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case v:return q.key===Ae?M(F,D,q,ee):null;case E:return q.key===Ae?K(F,D,q,ee):null;case j:return Ae=q._init,q=Ae(q._payload),G(F,D,q,ee)}if(me(q)||ve(q))return Ae!==null?null:Z(F,D,q,ee,null);if(typeof q.then=="function")return G(F,D,_u(q),ee);if(q.$$typeof===x)return G(F,D,hu(F,q),ee);Ru(F,q)}return null}function Y(F,D,q,ee,Ae){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return F=F.get(q)||null,A(D,F,""+ee,Ae);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:return F=F.get(ee.key===null?q:ee.key)||null,M(D,F,ee,Ae);case E:return F=F.get(ee.key===null?q:ee.key)||null,K(D,F,ee,Ae);case j:var Je=ee._init;return ee=Je(ee._payload),Y(F,D,q,ee,Ae)}if(me(ee)||ve(ee))return F=F.get(q)||null,Z(D,F,ee,Ae,null);if(typeof ee.then=="function")return Y(F,D,q,_u(ee),Ae);if(ee.$$typeof===x)return Y(F,D,q,hu(D,ee),Ae);Ru(D,ee)}return null}function je(F,D,q,ee){for(var Ae=null,Je=null,Me=D,Be=D=0,fn=null;Me!==null&&Be<q.length;Be++){Me.index>Be?(fn=Me,Me=null):fn=Me.sibling;var at=G(F,Me,q[Be],ee);if(at===null){Me===null&&(Me=fn);break}r&&Me&&at.alternate===null&&a(F,Me),D=p(at,D,Be),Je===null?Ae=at:Je.sibling=at,Je=at,Me=fn}if(Be===q.length)return s(F,Me),st&&Za(F,Be),Ae;if(Me===null){for(;Be<q.length;Be++)Me=oe(F,q[Be],ee),Me!==null&&(D=p(Me,D,Be),Je===null?Ae=Me:Je.sibling=Me,Je=Me);return st&&Za(F,Be),Ae}for(Me=u(Me);Be<q.length;Be++)fn=Y(Me,F,Be,q[Be],ee),fn!==null&&(r&&fn.alternate!==null&&Me.delete(fn.key===null?Be:fn.key),D=p(fn,D,Be),Je===null?Ae=fn:Je.sibling=fn,Je=fn);return r&&Me.forEach(function(Ea){return a(F,Ea)}),st&&Za(F,Be),Ae}function ze(F,D,q,ee){if(q==null)throw Error(o(151));for(var Ae=null,Je=null,Me=D,Be=D=0,fn=null,at=q.next();Me!==null&&!at.done;Be++,at=q.next()){Me.index>Be?(fn=Me,Me=null):fn=Me.sibling;var Ea=G(F,Me,at.value,ee);if(Ea===null){Me===null&&(Me=fn);break}r&&Me&&Ea.alternate===null&&a(F,Me),D=p(Ea,D,Be),Je===null?Ae=Ea:Je.sibling=Ea,Je=Ea,Me=fn}if(at.done)return s(F,Me),st&&Za(F,Be),Ae;if(Me===null){for(;!at.done;Be++,at=q.next())at=oe(F,at.value,ee),at!==null&&(D=p(at,D,Be),Je===null?Ae=at:Je.sibling=at,Je=at);return st&&Za(F,Be),Ae}for(Me=u(Me);!at.done;Be++,at=q.next())at=Y(Me,F,Be,at.value,ee),at!==null&&(r&&at.alternate!==null&&Me.delete(at.key===null?Be:at.key),D=p(at,D,Be),Je===null?Ae=at:Je.sibling=at,Je=at);return r&&Me.forEach(function(jN){return a(F,jN)}),st&&Za(F,Be),Ae}function mt(F,D,q,ee){if(typeof q=="object"&&q!==null&&q.type===w&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case v:e:{for(var Ae=q.key;D!==null;){if(D.key===Ae){if(Ae=q.type,Ae===w){if(D.tag===7){s(F,D.sibling),ee=h(D,q.props.children),ee.return=F,F=ee;break e}}else if(D.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===j&&WC(Ae)===D.type){s(F,D.sibling),ee=h(D,q.props),Nl(ee,q),ee.return=F,F=ee;break e}s(F,D);break}else a(F,D);D=D.sibling}q.type===w?(ee=Wa(q.props.children,F.mode,ee,q.key),ee.return=F,F=ee):(ee=cu(q.type,q.key,q.props,null,F.mode,ee),Nl(ee,q),ee.return=F,F=ee)}return C(F);case E:e:{for(Ae=q.key;D!==null;){if(D.key===Ae)if(D.tag===4&&D.stateNode.containerInfo===q.containerInfo&&D.stateNode.implementation===q.implementation){s(F,D.sibling),ee=h(D,q.children||[]),ee.return=F,F=ee;break e}else{s(F,D);break}else a(F,D);D=D.sibling}ee=Qh(q,F.mode,ee),ee.return=F,F=ee}return C(F);case j:return Ae=q._init,q=Ae(q._payload),mt(F,D,q,ee)}if(me(q))return je(F,D,q,ee);if(ve(q)){if(Ae=ve(q),typeof Ae!="function")throw Error(o(150));return q=Ae.call(q),ze(F,D,q,ee)}if(typeof q.then=="function")return mt(F,D,_u(q),ee);if(q.$$typeof===x)return mt(F,D,hu(F,q),ee);Ru(F,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,D!==null&&D.tag===6?(s(F,D.sibling),ee=h(D,q),ee.return=F,F=ee):(s(F,D),ee=Yh(q,F.mode,ee),ee.return=F,F=ee),C(F)):s(F,D)}return function(F,D,q,ee){try{kl=0;var Ae=mt(F,D,q,ee);return as=null,Ae}catch(Me){if(Me===Sl||Me===pu)throw Me;var Je=tr(29,Me,null,F.mode);return Je.lanes=ee,Je.return=F,Je}}}var is=JC(!0),ZC=JC(!1),Tr=X(null),no=null;function ia(r){var a=r.alternate;Q(en,en.current&1),Q(Tr,r),no===null&&(a===null||ts.current!==null||a.memoizedState!==null)&&(no=r)}function eE(r){if(r.tag===22){if(Q(en,en.current),Q(Tr,r),no===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(no=r)}}else sa()}function sa(){Q(en,en.current),Q(Tr,Tr.current)}function No(r){ie(Tr),no===r&&(no=null),ie(en)}var en=X(0);function Ou(r){for(var a=r;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||gp(s)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Rm(r,a,s,u){a=r.memoizedState,s=s(u,a),s=s==null?a:g({},a,s),r.memoizedState=s,r.lanes===0&&(r.updateQueue.baseState=s)}var Om={enqueueSetState:function(r,a,s){r=r._reactInternals;var u=ar(),h=ra(u);h.payload=a,s!=null&&(h.callback=s),a=oa(r,h,u),a!==null&&(ir(a,r,u),Tl(a,r,u))},enqueueReplaceState:function(r,a,s){r=r._reactInternals;var u=ar(),h=ra(u);h.tag=1,h.payload=a,s!=null&&(h.callback=s),a=oa(r,h,u),a!==null&&(ir(a,r,u),Tl(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var s=ar(),u=ra(s);u.tag=2,a!=null&&(u.callback=a),a=oa(r,u,s),a!==null&&(ir(a,r,s),Tl(a,r,s))}};function tE(r,a,s,u,h,p,C){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,C):a.prototype&&a.prototype.isPureReactComponent?!ml(s,u)||!ml(h,p):!0}function nE(r,a,s,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,u),a.state!==r&&Om.enqueueReplaceState(a,a.state,null)}function ii(r,a){var s=a;if("ref"in a){s={};for(var u in a)u!=="ref"&&(s[u]=a[u])}if(r=r.defaultProps){s===a&&(s=g({},s));for(var h in r)s[h]===void 0&&(s[h]=r[h])}return s}var Iu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function rE(r){Iu(r)}function oE(r){console.error(r)}function aE(r){Iu(r)}function xu(r,a){try{var s=r.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function iE(r,a,s){try{var u=r.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Im(r,a,s){return s=ra(s),s.tag=3,s.payload={element:null},s.callback=function(){xu(r,a)},s}function sE(r){return r=ra(r),r.tag=3,r}function lE(r,a,s,u){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var p=u.value;r.payload=function(){return h(p)},r.callback=function(){iE(a,s,u)}}var C=s.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(r.callback=function(){iE(a,s,u),typeof h!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function jk(r,a,s,u,h){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=s.alternate,a!==null&&bl(a,s,h,!0),s=Tr.current,s!==null){switch(s.tag){case 13:return no===null?Zm():s.alternate===null&&zt===0&&(zt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,u===om?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([u]):a.add(u),tp(r,u,h)),!1;case 22:return s.flags|=65536,u===om?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([u]):s.add(u)),tp(r,u,h)),!1}throw Error(o(435,s.tag))}return tp(r,u,h),Zm(),!1}if(st)return a=Tr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,u!==Wh&&(r=Error(o(422),{cause:u}),vl(Cr(r,s)))):(u!==Wh&&(a=Error(o(423),{cause:u}),vl(Cr(a,s))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=Cr(u,s),h=Im(r.stateNode,u,h),sm(r,h),zt!==4&&(zt=2)),!1;var p=Error(o(520),{cause:u});if(p=Cr(p,s),zl===null?zl=[p]:zl.push(p),zt!==4&&(zt=2),a===null)return!0;u=Cr(u,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,r=h&-h,s.lanes|=r,r=Im(s.stateNode,u,r),sm(s,r),!1;case 1:if(a=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ha===null||!ha.has(p))))return s.flags|=65536,h&=-h,s.lanes|=h,h=sE(h),lE(h,r,s,u),sm(s,h),!1}s=s.return}while(s!==null);return!1}var cE=Error(o(461)),un=!1;function pn(r,a,s,u){a.child=r===null?ZC(a,null,s,u):is(a,r.child,s,u)}function uE(r,a,s,u,h){s=s.render;var p=a.ref;if("ref"in u){var C={};for(var A in u)A!=="ref"&&(C[A]=u[A])}else C=u;return ri(a),u=fm(r,a,s,C,p,h),A=hm(),r!==null&&!un?(mm(r,a,h),Mo(r,a,h)):(st&&A&&$h(a),a.flags|=1,pn(r,a,u,h),a.child)}function dE(r,a,s,u,h){if(r===null){var p=s.type;return typeof p=="function"&&!Vh(p)&&p.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=p,fE(r,a,p,u,h)):(r=cu(s.type,null,u,a,a.mode,h),r.ref=a.ref,r.return=a,a.child=r)}if(p=r.child,!Um(r,h)){var C=p.memoizedProps;if(s=s.compare,s=s!==null?s:ml,s(C,u)&&r.ref===a.ref)return Mo(r,a,h)}return a.flags|=1,r=_o(p,u),r.ref=a.ref,r.return=a,a.child=r}function fE(r,a,s,u,h){if(r!==null){var p=r.memoizedProps;if(ml(p,u)&&r.ref===a.ref)if(un=!1,a.pendingProps=u=p,Um(r,h))(r.flags&131072)!==0&&(un=!0);else return a.lanes=r.lanes,Mo(r,a,h)}return xm(r,a,s,u,h)}function hE(r,a,s){var u=a.pendingProps,h=u.children,p=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=p!==null?p.baseLanes|s:s,r!==null){for(h=a.child=r.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;a.childLanes=p&~u}else a.childLanes=0,a.child=null;return mE(r,a,u,s)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&mu(a,p!==null?p.cachePool:null),p!==null?fC(a,p):cm(),eE(a);else return a.lanes=a.childLanes=536870912,mE(r,a,p!==null?p.baseLanes|s:s,s)}else p!==null?(mu(a,p.cachePool),fC(a,p),sa(),a.memoizedState=null):(r!==null&&mu(a,null),cm(),sa());return pn(r,a,h,s),a.child}function mE(r,a,s,u){var h=rm();return h=h===null?null:{parent:Zt._currentValue,pool:h},a.memoizedState={baseLanes:s,cachePool:h},r!==null&&mu(a,null),cm(),eE(a),r!==null&&bl(r,a,u,!0),null}function ku(r,a){var s=a.ref;if(s===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(r===null||r.ref!==s)&&(a.flags|=4194816)}}function xm(r,a,s,u,h){return ri(a),s=fm(r,a,s,u,void 0,h),u=hm(),r!==null&&!un?(mm(r,a,h),Mo(r,a,h)):(st&&u&&$h(a),a.flags|=1,pn(r,a,s,h),a.child)}function pE(r,a,s,u,h,p){return ri(a),a.updateQueue=null,s=mC(a,u,s,h),hC(r),u=hm(),r!==null&&!un?(mm(r,a,p),Mo(r,a,p)):(st&&u&&$h(a),a.flags|=1,pn(r,a,s,p),a.child)}function gE(r,a,s,u,h){if(ri(a),a.stateNode===null){var p=Xi,C=s.contextType;typeof C=="object"&&C!==null&&(p=Tn(C)),p=new s(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Om,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},am(a),C=s.contextType,p.context=typeof C=="object"&&C!==null?Tn(C):Xi,p.state=a.memoizedState,C=s.getDerivedStateFromProps,typeof C=="function"&&(Rm(a,s,C,u),p.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(C=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),C!==p.state&&Om.enqueueReplaceState(p,p.state,null),_l(a,u,p,h),Al(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){p=a.stateNode;var A=a.memoizedProps,M=ii(s,A);p.props=M;var K=p.context,Z=s.contextType;C=Xi,typeof Z=="object"&&Z!==null&&(C=Tn(Z));var oe=s.getDerivedStateFromProps;Z=typeof oe=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||K!==C)&&nE(a,p,u,C),na=!1;var G=a.memoizedState;p.state=G,_l(a,u,p,h),Al(),K=a.memoizedState,A||G!==K||na?(typeof oe=="function"&&(Rm(a,s,oe,u),K=a.memoizedState),(M=na||tE(a,s,M,u,G,K,C))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=K),p.props=u,p.state=K,p.context=C,u=M):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,im(r,a),C=a.memoizedProps,Z=ii(s,C),p.props=Z,oe=a.pendingProps,G=p.context,K=s.contextType,M=Xi,typeof K=="object"&&K!==null&&(M=Tn(K)),A=s.getDerivedStateFromProps,(K=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C!==oe||G!==M)&&nE(a,p,u,M),na=!1,G=a.memoizedState,p.state=G,_l(a,u,p,h),Al();var Y=a.memoizedState;C!==oe||G!==Y||na||r!==null&&r.dependencies!==null&&fu(r.dependencies)?(typeof A=="function"&&(Rm(a,s,A,u),Y=a.memoizedState),(Z=na||tE(a,s,Z,u,G,Y,M)||r!==null&&r.dependencies!==null&&fu(r.dependencies))?(K||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Y,M),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Y,M)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||C===r.memoizedProps&&G===r.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&G===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Y),p.props=u,p.state=Y,p.context=M,u=Z):(typeof p.componentDidUpdate!="function"||C===r.memoizedProps&&G===r.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&G===r.memoizedState||(a.flags|=1024),u=!1)}return p=u,ku(r,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,r!==null&&u?(a.child=is(a,r.child,null,h),a.child=is(a,null,s,h)):pn(r,a,s,h),a.memoizedState=p.state,r=a.child):r=Mo(r,a,h),r}function yE(r,a,s,u){return yl(),a.flags|=256,pn(r,a,s,u),a.child}var km={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nm(r){return{baseLanes:r,cachePool:oC()}}function Mm(r,a,s){return r=r!==null?r.childLanes&~s:0,a&&(r|=Ar),r}function vE(r,a,s){var u=a.pendingProps,h=!1,p=(a.flags&128)!==0,C;if((C=p)||(C=r!==null&&r.memoizedState===null?!1:(en.current&2)!==0),C&&(h=!0,a.flags&=-129),C=(a.flags&32)!==0,a.flags&=-33,r===null){if(st){if(h?ia(a):sa(),st){var A=Ht,M;if(M=A){e:{for(M=A,A=to;M.nodeType!==8;){if(!A){A=null;break e}if(M=zr(M.nextSibling),M===null){A=null;break e}}A=M}A!==null?(a.memoizedState={dehydrated:A,treeContext:Ja!==null?{id:Ro,overflow:Oo}:null,retryLane:536870912,hydrationErrors:null},M=tr(18,null,null,0),M.stateNode=A,M.return=a,a.child=M,Mn=a,Ht=null,M=!0):M=!1}M||ti(a)}if(A=a.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return gp(A)?a.lanes=32:a.lanes=536870912,null;No(a)}return A=u.children,u=u.fallback,h?(sa(),h=a.mode,A=Nu({mode:"hidden",children:A},h),u=Wa(u,h,s,null),A.return=a,u.return=a,A.sibling=u,a.child=A,h=a.child,h.memoizedState=Nm(s),h.childLanes=Mm(r,C,s),a.memoizedState=km,u):(ia(a),Pm(a,A))}if(M=r.memoizedState,M!==null&&(A=M.dehydrated,A!==null)){if(p)a.flags&256?(ia(a),a.flags&=-257,a=Dm(r,a,s)):a.memoizedState!==null?(sa(),a.child=r.child,a.flags|=128,a=null):(sa(),h=u.fallback,A=a.mode,u=Nu({mode:"visible",children:u.children},A),h=Wa(h,A,s,null),h.flags|=2,u.return=a,h.return=a,u.sibling=h,a.child=u,is(a,r.child,null,s),u=a.child,u.memoizedState=Nm(s),u.childLanes=Mm(r,C,s),a.memoizedState=km,a=h);else if(ia(a),gp(A)){if(C=A.nextSibling&&A.nextSibling.dataset,C)var K=C.dgst;C=K,u=Error(o(419)),u.stack="",u.digest=C,vl({value:u,source:null,stack:null}),a=Dm(r,a,s)}else if(un||bl(r,a,s,!1),C=(s&r.childLanes)!==0,un||C){if(C=Et,C!==null&&(u=s&-s,u=(u&42)!==0?1:It(u),u=(u&(C.suspendedLanes|s))!==0?0:u,u!==0&&u!==M.retryLane))throw M.retryLane=u,$i(r,u),ir(C,r,u),cE;A.data==="$?"||Zm(),a=Dm(r,a,s)}else A.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=M.treeContext,Ht=zr(A.nextSibling),Mn=a,st=!0,ei=null,to=!1,r!==null&&(Sr[wr++]=Ro,Sr[wr++]=Oo,Sr[wr++]=Ja,Ro=r.id,Oo=r.overflow,Ja=a),a=Pm(a,u.children),a.flags|=4096);return a}return h?(sa(),h=u.fallback,A=a.mode,M=r.child,K=M.sibling,u=_o(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,K!==null?h=_o(K,h):(h=Wa(h,A,s,null),h.flags|=2),h.return=a,u.return=a,u.sibling=h,a.child=u,u=h,h=a.child,A=r.child.memoizedState,A===null?A=Nm(s):(M=A.cachePool,M!==null?(K=Zt._currentValue,M=M.parent!==K?{parent:K,pool:K}:M):M=oC(),A={baseLanes:A.baseLanes|s,cachePool:M}),h.memoizedState=A,h.childLanes=Mm(r,C,s),a.memoizedState=km,u):(ia(a),s=r.child,r=s.sibling,s=_o(s,{mode:"visible",children:u.children}),s.return=a,s.sibling=null,r!==null&&(C=a.deletions,C===null?(a.deletions=[r],a.flags|=16):C.push(r)),a.child=s,a.memoizedState=null,s)}function Pm(r,a){return a=Nu({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Nu(r,a){return r=tr(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Dm(r,a,s){return is(a,r.child,null,s),r=Pm(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function bE(r,a,s){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),Zh(r.return,a,s)}function Lm(r,a,s,u,h){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:h}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=s,p.tailMode=h)}function CE(r,a,s){var u=a.pendingProps,h=u.revealOrder,p=u.tail;if(pn(r,a,u.children,s),u=en.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&bE(r,s,a);else if(r.tag===19)bE(r,s,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(Q(en,u),h){case"forwards":for(s=a.child,h=null;s!==null;)r=s.alternate,r!==null&&Ou(r)===null&&(h=s),s=s.sibling;s=h,s===null?(h=a.child,a.child=null):(h=s.sibling,s.sibling=null),Lm(a,!1,h,s,p);break;case"backwards":for(s=null,h=a.child,a.child=null;h!==null;){if(r=h.alternate,r!==null&&Ou(r)===null){a.child=h;break}r=h.sibling,h.sibling=s,s=h,h=r}Lm(a,!0,s,null,p);break;case"together":Lm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Mo(r,a,s){if(r!==null&&(a.dependencies=r.dependencies),fa|=a.lanes,(s&a.childLanes)===0)if(r!==null){if(bl(r,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(o(153));if(a.child!==null){for(r=a.child,s=_o(r,r.pendingProps),a.child=s,s.return=a;r.sibling!==null;)r=r.sibling,s=s.sibling=_o(r,r.pendingProps),s.return=a;s.sibling=null}return a.child}function Um(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&fu(r)))}function Fk(r,a,s){switch(a.tag){case 3:ye(a,a.stateNode.containerInfo),ta(a,Zt,r.memoizedState.cache),yl();break;case 27:case 5:Ke(a);break;case 4:ye(a,a.stateNode.containerInfo);break;case 10:ta(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ia(a),a.flags|=128,null):(s&a.child.childLanes)!==0?vE(r,a,s):(ia(a),r=Mo(r,a,s),r!==null?r.sibling:null);ia(a);break;case 19:var h=(r.flags&128)!==0;if(u=(s&a.childLanes)!==0,u||(bl(r,a,s,!1),u=(s&a.childLanes)!==0),h){if(u)return CE(r,a,s);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Q(en,en.current),u)break;return null;case 22:case 23:return a.lanes=0,hE(r,a,s);case 24:ta(a,Zt,r.memoizedState.cache)}return Mo(r,a,s)}function EE(r,a,s){if(r!==null)if(r.memoizedProps!==a.pendingProps)un=!0;else{if(!Um(r,s)&&(a.flags&128)===0)return un=!1,Fk(r,a,s);un=(r.flags&131072)!==0}else un=!1,st&&(a.flags&1048576)!==0&&Wb(a,du,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var u=a.elementType,h=u._init;if(u=h(u._payload),a.type=u,typeof u=="function")Vh(u)?(r=ii(u,r),a.tag=1,a=gE(null,a,u,r,s)):(a.tag=0,a=xm(null,a,u,r,s));else{if(u!=null){if(h=u.$$typeof,h===B){a.tag=11,a=uE(null,a,u,r,s);break e}else if(h===I){a.tag=14,a=dE(null,a,u,r,s);break e}}throw a=be(u)||u,Error(o(306,a,""))}}return a;case 0:return xm(r,a,a.type,a.pendingProps,s);case 1:return u=a.type,h=ii(u,a.pendingProps),gE(r,a,u,h,s);case 3:e:{if(ye(a,a.stateNode.containerInfo),r===null)throw Error(o(387));u=a.pendingProps;var p=a.memoizedState;h=p.element,im(r,a),_l(a,u,null,s);var C=a.memoizedState;if(u=C.cache,ta(a,Zt,u),u!==p.cache&&em(a,[Zt],s,!0),Al(),u=C.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:C.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=yE(r,a,u,s);break e}else if(u!==h){h=Cr(Error(o(424)),a),vl(h),a=yE(r,a,u,s);break e}else for(r=a.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Ht=zr(r.firstChild),Mn=a,st=!0,ei=null,to=!0,s=ZC(a,null,u,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(yl(),u===h){a=Mo(r,a,s);break e}pn(r,a,u,s)}a=a.child}return a;case 26:return ku(r,a),r===null?(s=AS(a.type,null,a.pendingProps,null))?a.memoizedState=s:st||(s=a.type,r=a.pendingProps,u=Vu(Ce.current).createElement(s),u[kt]=a,u[k]=r,yn(u,s,r),He(u),a.stateNode=u):a.memoizedState=AS(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Ke(a),r===null&&st&&(u=a.stateNode=SS(a.type,a.pendingProps,Ce.current),Mn=a,to=!0,h=Ht,ga(a.type)?(yp=h,Ht=zr(u.firstChild)):Ht=h),pn(r,a,a.pendingProps.children,s),ku(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&st&&((h=u=Ht)&&(u=gN(u,a.type,a.pendingProps,to),u!==null?(a.stateNode=u,Mn=a,Ht=zr(u.firstChild),to=!1,h=!0):h=!1),h||ti(a)),Ke(a),h=a.type,p=a.pendingProps,C=r!==null?r.memoizedProps:null,u=p.children,hp(h,p)?u=null:C!==null&&hp(h,C)&&(a.flags|=32),a.memoizedState!==null&&(h=fm(r,a,Pk,null,null,s),Ql._currentValue=h),ku(r,a),pn(r,a,u,s),a.child;case 6:return r===null&&st&&((r=s=Ht)&&(s=yN(s,a.pendingProps,to),s!==null?(a.stateNode=s,Mn=a,Ht=null,r=!0):r=!1),r||ti(a)),null;case 13:return vE(r,a,s);case 4:return ye(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=is(a,null,u,s):pn(r,a,u,s),a.child;case 11:return uE(r,a,a.type,a.pendingProps,s);case 7:return pn(r,a,a.pendingProps,s),a.child;case 8:return pn(r,a,a.pendingProps.children,s),a.child;case 12:return pn(r,a,a.pendingProps.children,s),a.child;case 10:return u=a.pendingProps,ta(a,a.type,u.value),pn(r,a,u.children,s),a.child;case 9:return h=a.type._context,u=a.pendingProps.children,ri(a),h=Tn(h),u=u(h),a.flags|=1,pn(r,a,u,s),a.child;case 14:return dE(r,a,a.type,a.pendingProps,s);case 15:return fE(r,a,a.type,a.pendingProps,s);case 19:return CE(r,a,s);case 31:return u=a.pendingProps,s=a.mode,u={mode:u.mode,children:u.children},r===null?(s=Nu(u,s),s.ref=a.ref,a.child=s,s.return=a,a=s):(s=_o(r.child,u),s.ref=a.ref,a.child=s,s.return=a,a=s),a;case 22:return hE(r,a,s);case 24:return ri(a),u=Tn(Zt),r===null?(h=rm(),h===null&&(h=Et,p=tm(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=s),h=p),a.memoizedState={parent:u,cache:h},am(a),ta(a,Zt,h)):((r.lanes&s)!==0&&(im(r,a),_l(a,null,null,s),Al()),h=r.memoizedState,p=a.memoizedState,h.parent!==u?(h={parent:u,cache:u},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),ta(a,Zt,u)):(u=p.cache,ta(a,Zt,u),u!==h.cache&&em(a,[Zt],s,!0))),pn(r,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(o(156,a.tag))}function Po(r){r.flags|=4}function SE(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!xS(a)){if(a=Tr.current,a!==null&&((ot&4194048)===ot?no!==null:(ot&62914560)!==ot&&(ot&536870912)===0||a!==no))throw wl=om,aC;r.flags|=8192}}function Mu(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?So():536870912,r.lanes|=a,us|=a)}function Ml(r,a){if(!st)switch(r.tailMode){case"hidden":a=r.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?r.tail=null:s.sibling=null;break;case"collapsed":s=r.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Nt(r){var a=r.alternate!==null&&r.alternate.child===r.child,s=0,u=0;if(a)for(var h=r.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=s,a}function qk(r,a,s){var u=a.pendingProps;switch(Xh(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(a),null;case 1:return Nt(a),null;case 3:return s=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),xo(Zt),We(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(r===null||r.child===null)&&(gl(a)?Po(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,eC())),Nt(a),null;case 26:return s=a.memoizedState,r===null?(Po(a),s!==null?(Nt(a),SE(a,s)):(Nt(a),a.flags&=-16777217)):s?s!==r.memoizedState?(Po(a),Nt(a),SE(a,s)):(Nt(a),a.flags&=-16777217):(r.memoizedProps!==u&&Po(a),Nt(a),a.flags&=-16777217),null;case 27:Ve(a),s=Ce.current;var h=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==u&&Po(a);else{if(!u){if(a.stateNode===null)throw Error(o(166));return Nt(a),null}r=ne.current,gl(a)?Jb(a):(r=SS(h,u,s),a.stateNode=r,Po(a))}return Nt(a),null;case 5:if(Ve(a),s=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&Po(a);else{if(!u){if(a.stateNode===null)throw Error(o(166));return Nt(a),null}if(r=ne.current,gl(a))Jb(a);else{switch(h=Vu(Ce.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(s,{is:u.is}):h.createElement(s)}}r[kt]=a,r[k]=u;e:for(h=a.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break e;for(;h.sibling===null;){if(h.return===null||h.return===a)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}a.stateNode=r;e:switch(yn(r,s,u),s){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Po(a)}}return Nt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&Po(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(o(166));if(r=Ce.current,gl(a)){if(r=a.stateNode,s=a.memoizedProps,u=null,h=Mn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[kt]=a,r=!!(r.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||pS(r.nodeValue,s)),r||ti(a)}else r=Vu(r).createTextNode(u),r[kt]=a,a.stateNode=r}return Nt(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=gl(a),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(o(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));h[kt]=a}else yl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Nt(a),h=!1}else h=eC(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(No(a),a):(No(a),null)}if(No(a),(a.flags&128)!==0)return a.lanes=s,a;if(s=u!==null,r=r!==null&&r.memoizedState!==null,s){u=a.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==h&&(u.flags|=2048)}return s!==r&&s&&(a.child.flags|=8192),Mu(a,a.updateQueue),Nt(a),null;case 4:return We(),r===null&&lp(a.stateNode.containerInfo),Nt(a),null;case 10:return xo(a.type),Nt(a),null;case 19:if(ie(en),h=a.memoizedState,h===null)return Nt(a),null;if(u=(a.flags&128)!==0,p=h.rendering,p===null)if(u)Ml(h,!1);else{if(zt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(p=Ou(r),p!==null){for(a.flags|=128,Ml(h,!1),r=p.updateQueue,a.updateQueue=r,Mu(a,r),a.subtreeFlags=0,r=s,s=a.child;s!==null;)Xb(s,r),s=s.sibling;return Q(en,en.current&1|2),a.child}r=r.sibling}h.tail!==null&&Pt()>Lu&&(a.flags|=128,u=!0,Ml(h,!1),a.lanes=4194304)}else{if(!u)if(r=Ou(p),r!==null){if(a.flags|=128,u=!0,r=r.updateQueue,a.updateQueue=r,Mu(a,r),Ml(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!st)return Nt(a),null}else 2*Pt()-h.renderingStartTime>Lu&&s!==536870912&&(a.flags|=128,u=!0,Ml(h,!1),a.lanes=4194304);h.isBackwards?(p.sibling=a.child,a.child=p):(r=h.last,r!==null?r.sibling=p:a.child=p,h.last=p)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Pt(),a.sibling=null,r=en.current,Q(en,u?r&1|2:r&1),a):(Nt(a),null);case 22:case 23:return No(a),um(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(s&536870912)!==0&&(a.flags&128)===0&&(Nt(a),a.subtreeFlags&6&&(a.flags|=8192)):Nt(a),s=a.updateQueue,s!==null&&Mu(a,s.retryQueue),s=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==s&&(a.flags|=2048),r!==null&&ie(oi),null;case 24:return s=null,r!==null&&(s=r.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),xo(Zt),Nt(a),null;case 25:return null;case 30:return null}throw Error(o(156,a.tag))}function Kk(r,a){switch(Xh(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return xo(Zt),We(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Ve(a),null;case 13:if(No(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(o(340));yl()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return ie(en),null;case 4:return We(),null;case 10:return xo(a.type),null;case 22:case 23:return No(a),um(),r!==null&&ie(oi),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return xo(Zt),null;case 25:return null;default:return null}}function wE(r,a){switch(Xh(a),a.tag){case 3:xo(Zt),We();break;case 26:case 27:case 5:Ve(a);break;case 4:We();break;case 13:No(a);break;case 19:ie(en);break;case 10:xo(a.type);break;case 22:case 23:No(a),um(),r!==null&&ie(oi);break;case 24:xo(Zt)}}function Pl(r,a){try{var s=a.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var h=u.next;s=h;do{if((s.tag&r)===r){u=void 0;var p=s.create,C=s.inst;u=p(),C.destroy=u}s=s.next}while(s!==h)}}catch(A){vt(a,a.return,A)}}function la(r,a,s){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var p=h.next;u=p;do{if((u.tag&r)===r){var C=u.inst,A=C.destroy;if(A!==void 0){C.destroy=void 0,h=a;var M=s,K=A;try{K()}catch(Z){vt(h,M,Z)}}}u=u.next}while(u!==p)}}catch(Z){vt(a,a.return,Z)}}function TE(r){var a=r.updateQueue;if(a!==null){var s=r.stateNode;try{dC(a,s)}catch(u){vt(r,r.return,u)}}}function AE(r,a,s){s.props=ii(r.type,r.memoizedProps),s.state=r.memoizedState;try{s.componentWillUnmount()}catch(u){vt(r,a,u)}}function Dl(r,a){try{var s=r.ref;if(s!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof s=="function"?r.refCleanup=s(u):s.current=u}}catch(h){vt(r,a,h)}}function ro(r,a){var s=r.ref,u=r.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(h){vt(r,a,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){vt(r,a,h)}else s.current=null}function _E(r){var a=r.type,s=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(h){vt(r,r.return,h)}}function Hm(r,a,s){try{var u=r.stateNode;dN(u,r.type,s,a),u[k]=a}catch(h){vt(r,r.return,h)}}function RE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ga(r.type)||r.tag===4}function zm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||RE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ga(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Bm(r,a,s){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(r,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(r),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=Gu));else if(u!==4&&(u===27&&ga(r.type)&&(s=r.stateNode,a=null),r=r.child,r!==null))for(Bm(r,a,s),r=r.sibling;r!==null;)Bm(r,a,s),r=r.sibling}function Pu(r,a,s){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?s.insertBefore(r,a):s.appendChild(r);else if(u!==4&&(u===27&&ga(r.type)&&(s=r.stateNode),r=r.child,r!==null))for(Pu(r,a,s),r=r.sibling;r!==null;)Pu(r,a,s),r=r.sibling}function OE(r){var a=r.stateNode,s=r.memoizedProps;try{for(var u=r.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);yn(a,u,s),a[kt]=r,a[k]=s}catch(p){vt(r,r.return,p)}}var Do=!1,qt=!1,jm=!1,IE=typeof WeakSet=="function"?WeakSet:Set,dn=null;function Gk(r,a){if(r=r.containerInfo,dp=Ju,r=Bb(r),zh(r)){if("selectionStart"in r)var s={start:r.selectionStart,end:r.selectionEnd};else e:{s=(s=r.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var C=0,A=-1,M=-1,K=0,Z=0,oe=r,G=null;t:for(;;){for(var Y;oe!==s||h!==0&&oe.nodeType!==3||(A=C+h),oe!==p||u!==0&&oe.nodeType!==3||(M=C+u),oe.nodeType===3&&(C+=oe.nodeValue.length),(Y=oe.firstChild)!==null;)G=oe,oe=Y;for(;;){if(oe===r)break t;if(G===s&&++K===h&&(A=C),G===p&&++Z===u&&(M=C),(Y=oe.nextSibling)!==null)break;oe=G,G=oe.parentNode}oe=Y}s=A===-1||M===-1?null:{start:A,end:M}}else s=null}s=s||{start:0,end:0}}else s=null;for(fp={focusedElem:r,selectionRange:s},Ju=!1,dn=a;dn!==null;)if(a=dn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,dn=r;else for(;dn!==null;){switch(a=dn,p=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,s=a,h=p.memoizedProps,p=p.memoizedState,u=s.stateNode;try{var je=ii(s.type,h,s.elementType===s.type);r=u.getSnapshotBeforeUpdate(je,p),u.__reactInternalSnapshotBeforeUpdate=r}catch(ze){vt(s,s.return,ze)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,s=r.nodeType,s===9)pp(r);else if(s===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":pp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(o(163))}if(r=a.sibling,r!==null){r.return=a.return,dn=r;break}dn=a.return}}function xE(r,a,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:ca(r,s),u&4&&Pl(5,s);break;case 1:if(ca(r,s),u&4)if(r=s.stateNode,a===null)try{r.componentDidMount()}catch(C){vt(s,s.return,C)}else{var h=ii(s.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(h,a,r.__reactInternalSnapshotBeforeUpdate)}catch(C){vt(s,s.return,C)}}u&64&&TE(s),u&512&&Dl(s,s.return);break;case 3:if(ca(r,s),u&64&&(r=s.updateQueue,r!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{dC(r,a)}catch(C){vt(s,s.return,C)}}break;case 27:a===null&&u&4&&OE(s);case 26:case 5:ca(r,s),a===null&&u&4&&_E(s),u&512&&Dl(s,s.return);break;case 12:ca(r,s);break;case 13:ca(r,s),u&4&&ME(r,s),u&64&&(r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(s=eN.bind(null,s),vN(r,s))));break;case 22:if(u=s.memoizedState!==null||Do,!u){a=a!==null&&a.memoizedState!==null||qt,h=Do;var p=qt;Do=u,(qt=a)&&!p?ua(r,s,(s.subtreeFlags&8772)!==0):ca(r,s),Do=h,qt=p}break;case 30:break;default:ca(r,s)}}function kE(r){var a=r.alternate;a!==null&&(r.alternate=null,kE(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Oe(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var _t=null,Bn=!1;function Lo(r,a,s){for(s=s.child;s!==null;)NE(r,a,s),s=s.sibling}function NE(r,a,s){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Xn,s)}catch{}switch(s.tag){case 26:qt||ro(s,a),Lo(r,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:qt||ro(s,a);var u=_t,h=Bn;ga(s.type)&&(_t=s.stateNode,Bn=!1),Lo(r,a,s),Kl(s.stateNode),_t=u,Bn=h;break;case 5:qt||ro(s,a);case 6:if(u=_t,h=Bn,_t=null,Lo(r,a,s),_t=u,Bn=h,_t!==null)if(Bn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(s.stateNode)}catch(p){vt(s,a,p)}else try{_t.removeChild(s.stateNode)}catch(p){vt(s,a,p)}break;case 18:_t!==null&&(Bn?(r=_t,CS(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.stateNode),Jl(r)):CS(_t,s.stateNode));break;case 4:u=_t,h=Bn,_t=s.stateNode.containerInfo,Bn=!0,Lo(r,a,s),_t=u,Bn=h;break;case 0:case 11:case 14:case 15:qt||la(2,s,a),qt||la(4,s,a),Lo(r,a,s);break;case 1:qt||(ro(s,a),u=s.stateNode,typeof u.componentWillUnmount=="function"&&AE(s,a,u)),Lo(r,a,s);break;case 21:Lo(r,a,s);break;case 22:qt=(u=qt)||s.memoizedState!==null,Lo(r,a,s),qt=u;break;default:Lo(r,a,s)}}function ME(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Jl(r)}catch(s){vt(a,a.return,s)}}function Vk(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new IE),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new IE),a;default:throw Error(o(435,r.tag))}}function Fm(r,a){var s=Vk(r);a.forEach(function(u){var h=tN.bind(null,r,u);s.has(u)||(s.add(u),u.then(h,h))})}function nr(r,a){var s=a.deletions;if(s!==null)for(var u=0;u<s.length;u++){var h=s[u],p=r,C=a,A=C;e:for(;A!==null;){switch(A.tag){case 27:if(ga(A.type)){_t=A.stateNode,Bn=!1;break e}break;case 5:_t=A.stateNode,Bn=!1;break e;case 3:case 4:_t=A.stateNode.containerInfo,Bn=!0;break e}A=A.return}if(_t===null)throw Error(o(160));NE(p,C,h),_t=null,Bn=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)PE(a,r),a=a.sibling}var Hr=null;function PE(r,a){var s=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:nr(a,r),rr(r),u&4&&(la(3,r,r.return),Pl(3,r),la(5,r,r.return));break;case 1:nr(a,r),rr(r),u&512&&(qt||s===null||ro(s,s.return)),u&64&&Do&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(s=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var h=Hr;if(nr(a,r),rr(r),u&512&&(qt||s===null||ro(s,s.return)),u&4){var p=s!==null?s.memoizedState:null;if(u=r.memoizedState,s===null)if(u===null)if(r.stateNode===null){e:{u=r.type,s=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Se]||p[kt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(u),h.head.insertBefore(p,h.querySelector("head > title"))),yn(p,u,s),p[kt]=r,He(p),u=p;break e;case"link":var C=OS("link","href",h).get(u+(s.href||""));if(C){for(var A=0;A<C.length;A++)if(p=C[A],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){C.splice(A,1);break t}}p=h.createElement(u),yn(p,u,s),h.head.appendChild(p);break;case"meta":if(C=OS("meta","content",h).get(u+(s.content||""))){for(A=0;A<C.length;A++)if(p=C[A],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){C.splice(A,1);break t}}p=h.createElement(u),yn(p,u,s),h.head.appendChild(p);break;default:throw Error(o(468,u))}p[kt]=r,He(p),u=p}r.stateNode=u}else IS(h,r.type,r.stateNode);else r.stateNode=RS(h,u,r.memoizedProps);else p!==u?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,u===null?IS(h,r.type,r.stateNode):RS(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Hm(r,r.memoizedProps,s.memoizedProps)}break;case 27:nr(a,r),rr(r),u&512&&(qt||s===null||ro(s,s.return)),s!==null&&u&4&&Hm(r,r.memoizedProps,s.memoizedProps);break;case 5:if(nr(a,r),rr(r),u&512&&(qt||s===null||ro(s,s.return)),r.flags&32){h=r.stateNode;try{Fi(h,"")}catch(Y){vt(r,r.return,Y)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,Hm(r,h,s!==null?s.memoizedProps:h)),u&1024&&(jm=!0);break;case 6:if(nr(a,r),rr(r),u&4){if(r.stateNode===null)throw Error(o(162));u=r.memoizedProps,s=r.stateNode;try{s.nodeValue=u}catch(Y){vt(r,r.return,Y)}}break;case 3:if($u=null,h=Hr,Hr=Yu(a.containerInfo),nr(a,r),Hr=h,rr(r),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Jl(a.containerInfo)}catch(Y){vt(r,r.return,Y)}jm&&(jm=!1,DE(r));break;case 4:u=Hr,Hr=Yu(r.stateNode.containerInfo),nr(a,r),rr(r),Hr=u;break;case 12:nr(a,r),rr(r);break;case 13:nr(a,r),rr(r),r.child.flags&8192&&r.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Qm=Pt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Fm(r,u)));break;case 22:h=r.memoizedState!==null;var M=s!==null&&s.memoizedState!==null,K=Do,Z=qt;if(Do=K||h,qt=Z||M,nr(a,r),qt=Z,Do=K,rr(r),u&8192)e:for(a=r.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(s===null||M||Do||qt||si(r)),s=null,a=r;;){if(a.tag===5||a.tag===26){if(s===null){M=s=a;try{if(p=M.stateNode,h)C=p.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{A=M.stateNode;var oe=M.memoizedProps.style,G=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;A.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Y){vt(M,M.return,Y)}}}else if(a.tag===6){if(s===null){M=a;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch(Y){vt(M,M.return,Y)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,Fm(r,s))));break;case 19:nr(a,r),rr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Fm(r,u)));break;case 30:break;case 21:break;default:nr(a,r),rr(r)}}function rr(r){var a=r.flags;if(a&2){try{for(var s,u=r.return;u!==null;){if(RE(u)){s=u;break}u=u.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var h=s.stateNode,p=zm(r);Pu(r,p,h);break;case 5:var C=s.stateNode;s.flags&32&&(Fi(C,""),s.flags&=-33);var A=zm(r);Pu(r,A,C);break;case 3:case 4:var M=s.stateNode.containerInfo,K=zm(r);Bm(r,K,M);break;default:throw Error(o(161))}}catch(Z){vt(r,r.return,Z)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function DE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;DE(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function ca(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)xE(r,a.alternate,a),a=a.sibling}function si(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:la(4,a,a.return),si(a);break;case 1:ro(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&AE(a,a.return,s),si(a);break;case 27:Kl(a.stateNode);case 26:case 5:ro(a,a.return),si(a);break;case 22:a.memoizedState===null&&si(a);break;case 30:si(a);break;default:si(a)}r=r.sibling}}function ua(r,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,h=r,p=a,C=p.flags;switch(p.tag){case 0:case 11:case 15:ua(h,p,s),Pl(4,p);break;case 1:if(ua(h,p,s),u=p,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(K){vt(u,u.return,K)}if(u=p,h=u.updateQueue,h!==null){var A=u.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)uC(M[h],A)}catch(K){vt(u,u.return,K)}}s&&C&64&&TE(p),Dl(p,p.return);break;case 27:OE(p);case 26:case 5:ua(h,p,s),s&&u===null&&C&4&&_E(p),Dl(p,p.return);break;case 12:ua(h,p,s);break;case 13:ua(h,p,s),s&&C&4&&ME(h,p);break;case 22:p.memoizedState===null&&ua(h,p,s),Dl(p,p.return);break;case 30:break;default:ua(h,p,s)}a=a.sibling}}function qm(r,a){var s=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==s&&(r!=null&&r.refCount++,s!=null&&Cl(s))}function Km(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Cl(r))}function oo(r,a,s,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)LE(r,a,s,u),a=a.sibling}function LE(r,a,s,u){var h=a.flags;switch(a.tag){case 0:case 11:case 15:oo(r,a,s,u),h&2048&&Pl(9,a);break;case 1:oo(r,a,s,u);break;case 3:oo(r,a,s,u),h&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Cl(r)));break;case 12:if(h&2048){oo(r,a,s,u),r=a.stateNode;try{var p=a.memoizedProps,C=p.id,A=p.onPostCommit;typeof A=="function"&&A(C,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(M){vt(a,a.return,M)}}else oo(r,a,s,u);break;case 13:oo(r,a,s,u);break;case 23:break;case 22:p=a.stateNode,C=a.alternate,a.memoizedState!==null?p._visibility&2?oo(r,a,s,u):Ll(r,a):p._visibility&2?oo(r,a,s,u):(p._visibility|=2,ss(r,a,s,u,(a.subtreeFlags&10256)!==0)),h&2048&&qm(C,a);break;case 24:oo(r,a,s,u),h&2048&&Km(a.alternate,a);break;default:oo(r,a,s,u)}}function ss(r,a,s,u,h){for(h=h&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=r,C=a,A=s,M=u,K=C.flags;switch(C.tag){case 0:case 11:case 15:ss(p,C,A,M,h),Pl(8,C);break;case 23:break;case 22:var Z=C.stateNode;C.memoizedState!==null?Z._visibility&2?ss(p,C,A,M,h):Ll(p,C):(Z._visibility|=2,ss(p,C,A,M,h)),h&&K&2048&&qm(C.alternate,C);break;case 24:ss(p,C,A,M,h),h&&K&2048&&Km(C.alternate,C);break;default:ss(p,C,A,M,h)}a=a.sibling}}function Ll(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=r,u=a,h=u.flags;switch(u.tag){case 22:Ll(s,u),h&2048&&qm(u.alternate,u);break;case 24:Ll(s,u),h&2048&&Km(u.alternate,u);break;default:Ll(s,u)}a=a.sibling}}var Ul=8192;function ls(r){if(r.subtreeFlags&Ul)for(r=r.child;r!==null;)UE(r),r=r.sibling}function UE(r){switch(r.tag){case 26:ls(r),r.flags&Ul&&r.memoizedState!==null&&kN(Hr,r.memoizedState,r.memoizedProps);break;case 5:ls(r);break;case 3:case 4:var a=Hr;Hr=Yu(r.stateNode.containerInfo),ls(r),Hr=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Ul,Ul=16777216,ls(r),Ul=a):ls(r));break;default:ls(r)}}function HE(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Hl(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var u=a[s];dn=u,BE(u,r)}HE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)zE(r),r=r.sibling}function zE(r){switch(r.tag){case 0:case 11:case 15:Hl(r),r.flags&2048&&la(9,r,r.return);break;case 3:Hl(r);break;case 12:Hl(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Du(r)):Hl(r);break;default:Hl(r)}}function Du(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var u=a[s];dn=u,BE(u,r)}HE(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:la(8,a,a.return),Du(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,Du(a));break;default:Du(a)}r=r.sibling}}function BE(r,a){for(;dn!==null;){var s=dn;switch(s.tag){case 0:case 11:case 15:la(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Cl(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,dn=u;else e:for(s=r;dn!==null;){u=dn;var h=u.sibling,p=u.return;if(kE(u),u===s){dn=null;break e}if(h!==null){h.return=p,dn=h;break e}dn=p}}}var Yk={getCacheForType:function(r){var a=Tn(Zt),s=a.data.get(r);return s===void 0&&(s=r(),a.data.set(r,s)),s}},Qk=typeof WeakMap=="function"?WeakMap:Map,ct=0,Et=null,et=null,ot=0,ut=0,or=null,da=!1,cs=!1,Gm=!1,Uo=0,zt=0,fa=0,li=0,Vm=0,Ar=0,us=0,zl=null,jn=null,Ym=!1,Qm=0,Lu=1/0,Uu=null,ha=null,gn=0,ma=null,ds=null,fs=0,$m=0,Xm=null,jE=null,Bl=0,Wm=null;function ar(){if((ct&2)!==0&&ot!==0)return ot&-ot;if(P.T!==null){var r=Zi;return r!==0?r:op()}return vr()}function FE(){Ar===0&&(Ar=(ot&536870912)===0||st?Un():536870912);var r=Tr.current;return r!==null&&(r.flags|=32),Ar}function ir(r,a,s){(r===Et&&(ut===2||ut===9)||r.cancelPendingCommit!==null)&&(hs(r,0),pa(r,ot,Ar,!1)),yr(r,s),((ct&2)===0||r!==Et)&&(r===Et&&((ct&2)===0&&(li|=s),zt===4&&pa(r,ot,Ar,!1)),ao(r))}function qE(r,a,s){if((ct&6)!==0)throw Error(o(327));var u=!s&&(a&124)===0&&(a&r.expiredLanes)===0||Jr(r,a),h=u?Wk(r,a):ep(r,a,!0),p=u;do{if(h===0){cs&&!u&&pa(r,a,0,!1);break}else{if(s=r.current.alternate,p&&!$k(s)){h=ep(r,a,!1),p=!1;continue}if(h===2){if(p=a,r.errorRecoveryDisabledLanes&p)var C=0;else C=r.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){a=C;e:{var A=r;h=zl;var M=A.current.memoizedState.isDehydrated;if(M&&(hs(A,C).flags|=256),C=ep(A,C,!1),C!==2){if(Gm&&!M){A.errorRecoveryDisabledLanes|=p,li|=p,h=4;break e}p=jn,jn=h,p!==null&&(jn===null?jn=p:jn.push.apply(jn,p))}h=C}if(p=!1,h!==2)continue}}if(h===1){hs(r,0),pa(r,a,0,!0);break}e:{switch(u=r,p=h,p){case 0:case 1:throw Error(o(345));case 4:if((a&4194048)!==a)break;case 6:pa(u,a,Ar,!da);break e;case 2:jn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((a&62914560)===a&&(h=Qm+300-Pt(),10<h)){if(pa(u,a,Ar,!da),Wr(u,0,!0)!==0)break e;u.timeoutHandle=vS(KE.bind(null,u,s,jn,Uu,Ym,a,Ar,li,us,da,p,2,-0,0),h);break e}KE(u,s,jn,Uu,Ym,a,Ar,li,us,da,p,0,-0,0)}}break}while(!0);ao(r)}function KE(r,a,s,u,h,p,C,A,M,K,Z,oe,G,Y){if(r.timeoutHandle=-1,oe=a.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Yl={stylesheets:null,count:0,unsuspend:xN},UE(a),oe=NN(),oe!==null)){r.cancelPendingCommit=oe(WE.bind(null,r,a,p,s,u,h,C,A,M,Z,1,G,Y)),pa(r,p,C,!K);return}WE(r,a,p,s,u,h,C,A,M)}function $k(r){for(var a=r;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var h=s[u],p=h.getSnapshot;h=h.value;try{if(!er(p(),h))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function pa(r,a,s,u){a&=~Vm,a&=~li,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var h=a;0<h;){var p=31-yt(h),C=1<<p;u[p]=-1,h&=~C}s!==0&&Fe(r,s,a)}function Hu(){return(ct&6)===0?(jl(0),!1):!0}function Jm(){if(et!==null){if(ut===0)var r=et.return;else r=et,Io=ni=null,pm(r),as=null,kl=0,r=et;for(;r!==null;)wE(r.alternate,r),r=r.return;et=null}}function hs(r,a){var s=r.timeoutHandle;s!==-1&&(r.timeoutHandle=-1,hN(s)),s=r.cancelPendingCommit,s!==null&&(r.cancelPendingCommit=null,s()),Jm(),Et=r,et=s=_o(r.current,null),ot=a,ut=0,or=null,da=!1,cs=Jr(r,a),Gm=!1,us=Ar=Vm=li=fa=zt=0,jn=zl=null,Ym=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var h=31-yt(u),p=1<<h;a|=r[h],u&=~p}return Uo=a,iu(),s}function GE(r,a){Qe=null,P.H=Au,a===Sl||a===pu?(a=lC(),ut=3):a===aC?(a=lC(),ut=4):ut=a===cE?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,or=a,et===null&&(zt=1,xu(r,Cr(a,r.current)))}function VE(){var r=P.H;return P.H=Au,r===null?Au:r}function YE(){var r=P.A;return P.A=Yk,r}function Zm(){zt=4,da||(ot&4194048)!==ot&&Tr.current!==null||(cs=!0),(fa&134217727)===0&&(li&134217727)===0||Et===null||pa(Et,ot,Ar,!1)}function ep(r,a,s){var u=ct;ct|=2;var h=VE(),p=YE();(Et!==r||ot!==a)&&(Uu=null,hs(r,a)),a=!1;var C=zt;e:do try{if(ut!==0&&et!==null){var A=et,M=or;switch(ut){case 8:Jm(),C=6;break e;case 3:case 2:case 9:case 6:Tr.current===null&&(a=!0);var K=ut;if(ut=0,or=null,ms(r,A,M,K),s&&cs){C=0;break e}break;default:K=ut,ut=0,or=null,ms(r,A,M,K)}}Xk(),C=zt;break}catch(Z){GE(r,Z)}while(!0);return a&&r.shellSuspendCounter++,Io=ni=null,ct=u,P.H=h,P.A=p,et===null&&(Et=null,ot=0,iu()),C}function Xk(){for(;et!==null;)QE(et)}function Wk(r,a){var s=ct;ct|=2;var u=VE(),h=YE();Et!==r||ot!==a?(Uu=null,Lu=Pt()+500,hs(r,a)):cs=Jr(r,a);e:do try{if(ut!==0&&et!==null){a=et;var p=or;t:switch(ut){case 1:ut=0,or=null,ms(r,a,p,1);break;case 2:case 9:if(iC(p)){ut=0,or=null,$E(a);break}a=function(){ut!==2&&ut!==9||Et!==r||(ut=7),ao(r)},p.then(a,a);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:iC(p)?(ut=0,or=null,$E(a)):(ut=0,or=null,ms(r,a,p,7));break;case 5:var C=null;switch(et.tag){case 26:C=et.memoizedState;case 5:case 27:var A=et;if(!C||xS(C)){ut=0,or=null;var M=A.sibling;if(M!==null)et=M;else{var K=A.return;K!==null?(et=K,zu(K)):et=null}break t}}ut=0,or=null,ms(r,a,p,5);break;case 6:ut=0,or=null,ms(r,a,p,6);break;case 8:Jm(),zt=6;break e;default:throw Error(o(462))}}Jk();break}catch(Z){GE(r,Z)}while(!0);return Io=ni=null,P.H=u,P.A=h,ct=s,et!==null?0:(Et=null,ot=0,iu(),zt)}function Jk(){for(;et!==null&&!Co();)QE(et)}function QE(r){var a=EE(r.alternate,r,Uo);r.memoizedProps=r.pendingProps,a===null?zu(r):et=a}function $E(r){var a=r,s=a.alternate;switch(a.tag){case 15:case 0:a=pE(s,a,a.pendingProps,a.type,void 0,ot);break;case 11:a=pE(s,a,a.pendingProps,a.type.render,a.ref,ot);break;case 5:pm(a);default:wE(s,a),a=et=Xb(a,Uo),a=EE(s,a,Uo)}r.memoizedProps=r.pendingProps,a===null?zu(r):et=a}function ms(r,a,s,u){Io=ni=null,pm(a),as=null,kl=0;var h=a.return;try{if(jk(r,h,a,s,ot)){zt=1,xu(r,Cr(s,r.current)),et=null;return}}catch(p){if(h!==null)throw et=h,p;zt=1,xu(r,Cr(s,r.current)),et=null;return}a.flags&32768?(st||u===1?r=!0:cs||(ot&536870912)!==0?r=!1:(da=r=!0,(u===2||u===9||u===3||u===6)&&(u=Tr.current,u!==null&&u.tag===13&&(u.flags|=16384))),XE(a,r)):zu(a)}function zu(r){var a=r;do{if((a.flags&32768)!==0){XE(a,da);return}r=a.return;var s=qk(a.alternate,a,Uo);if(s!==null){et=s;return}if(a=a.sibling,a!==null){et=a;return}et=a=r}while(a!==null);zt===0&&(zt=5)}function XE(r,a){do{var s=Kk(r.alternate,r);if(s!==null){s.flags&=32767,et=s;return}if(s=r.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(r=r.sibling,r!==null)){et=r;return}et=r=s}while(r!==null);zt=6,et=null}function WE(r,a,s,u,h,p,C,A,M){r.cancelPendingCommit=null;do Bu();while(gn!==0);if((ct&6)!==0)throw Error(o(327));if(a!==null){if(a===r.current)throw Error(o(177));if(p=a.lanes|a.childLanes,p|=Kh,zi(r,s,p,C,A,M),r===Et&&(et=Et=null,ot=0),ds=a,ma=r,fs=s,$m=p,Xm=h,jE=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,nN(Xo,function(){return nS(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=P.T,P.T=null,h=$.p,$.p=2,C=ct,ct|=4;try{Gk(r,a,s)}finally{ct=C,$.p=h,P.T=u}}gn=1,JE(),ZE(),eS()}}function JE(){if(gn===1){gn=0;var r=ma,a=ds,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=P.T,P.T=null;var u=$.p;$.p=2;var h=ct;ct|=4;try{PE(a,r);var p=fp,C=Bb(r.containerInfo),A=p.focusedElem,M=p.selectionRange;if(C!==A&&A&&A.ownerDocument&&zb(A.ownerDocument.documentElement,A)){if(M!==null&&zh(A)){var K=M.start,Z=M.end;if(Z===void 0&&(Z=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(Z,A.value.length);else{var oe=A.ownerDocument||document,G=oe&&oe.defaultView||window;if(G.getSelection){var Y=G.getSelection(),je=A.textContent.length,ze=Math.min(M.start,je),mt=M.end===void 0?ze:Math.min(M.end,je);!Y.extend&&ze>mt&&(C=mt,mt=ze,ze=C);var F=Hb(A,ze),D=Hb(A,mt);if(F&&D&&(Y.rangeCount!==1||Y.anchorNode!==F.node||Y.anchorOffset!==F.offset||Y.focusNode!==D.node||Y.focusOffset!==D.offset)){var q=oe.createRange();q.setStart(F.node,F.offset),Y.removeAllRanges(),ze>mt?(Y.addRange(q),Y.extend(D.node,D.offset)):(q.setEnd(D.node,D.offset),Y.addRange(q))}}}}for(oe=[],Y=A;Y=Y.parentNode;)Y.nodeType===1&&oe.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<oe.length;A++){var ee=oe[A];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Ju=!!dp,fp=dp=null}finally{ct=h,$.p=u,P.T=s}}r.current=a,gn=2}}function ZE(){if(gn===2){gn=0;var r=ma,a=ds,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=P.T,P.T=null;var u=$.p;$.p=2;var h=ct;ct|=4;try{xE(r,a.alternate,a)}finally{ct=h,$.p=u,P.T=s}}gn=3}}function eS(){if(gn===4||gn===3){gn=0,Sn();var r=ma,a=ds,s=fs,u=jE;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?gn=5:(gn=0,ds=ma=null,tS(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(ha=null),Dt(s),a=a.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Xn,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=P.T,h=$.p,$.p=2,P.T=null;try{for(var p=r.onRecoverableError,C=0;C<u.length;C++){var A=u[C];p(A.value,{componentStack:A.stack})}}finally{P.T=a,$.p=h}}(fs&3)!==0&&Bu(),ao(r),h=r.pendingLanes,(s&4194090)!==0&&(h&42)!==0?r===Wm?Bl++:(Bl=0,Wm=r):Bl=0,jl(0)}}function tS(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Cl(a)))}function Bu(r){return JE(),ZE(),eS(),nS()}function nS(){if(gn!==5)return!1;var r=ma,a=$m;$m=0;var s=Dt(fs),u=P.T,h=$.p;try{$.p=32>s?32:s,P.T=null,s=Xm,Xm=null;var p=ma,C=fs;if(gn=0,ds=ma=null,fs=0,(ct&6)!==0)throw Error(o(331));var A=ct;if(ct|=4,zE(p.current),LE(p,p.current,C,s),ct=A,jl(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Xn,p)}catch{}return!0}finally{$.p=h,P.T=u,tS(r,a)}}function rS(r,a,s){a=Cr(s,a),a=Im(r.stateNode,a,2),r=oa(r,a,2),r!==null&&(yr(r,2),ao(r))}function vt(r,a,s){if(r.tag===3)rS(r,r,s);else for(;a!==null;){if(a.tag===3){rS(a,r,s);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ha===null||!ha.has(u))){r=Cr(s,r),s=sE(2),u=oa(a,s,2),u!==null&&(lE(s,u,a,r),yr(u,2),ao(u));break}}a=a.return}}function tp(r,a,s){var u=r.pingCache;if(u===null){u=r.pingCache=new Qk;var h=new Set;u.set(a,h)}else h=u.get(a),h===void 0&&(h=new Set,u.set(a,h));h.has(s)||(Gm=!0,h.add(s),r=Zk.bind(null,r,a,s),a.then(r,r))}function Zk(r,a,s){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&s,r.warmLanes&=~s,Et===r&&(ot&s)===s&&(zt===4||zt===3&&(ot&62914560)===ot&&300>Pt()-Qm?(ct&2)===0&&hs(r,0):Vm|=s,us===ot&&(us=0)),ao(r)}function oS(r,a){a===0&&(a=So()),r=$i(r,a),r!==null&&(yr(r,a),ao(r))}function eN(r){var a=r.memoizedState,s=0;a!==null&&(s=a.retryLane),oS(r,s)}function tN(r,a){var s=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(s=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(a),oS(r,s)}function nN(r,a){return wt(r,a)}var ju=null,ps=null,np=!1,Fu=!1,rp=!1,ci=0;function ao(r){r!==ps&&r.next===null&&(ps===null?ju=ps=r:ps=ps.next=r),Fu=!0,np||(np=!0,oN())}function jl(r,a){if(!rp&&Fu){rp=!0;do for(var s=!1,u=ju;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var p=0;else{var C=u.suspendedLanes,A=u.pingedLanes;p=(1<<31-yt(42|r)+1)-1,p&=h&~(C&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,lS(u,p))}else p=ot,p=Wr(u,u===Et?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Jr(u,p)||(s=!0,lS(u,p));u=u.next}while(s);rp=!1}}function rN(){aS()}function aS(){Fu=np=!1;var r=0;ci!==0&&(fN()&&(r=ci),ci=0);for(var a=Pt(),s=null,u=ju;u!==null;){var h=u.next,p=iS(u,a);p===0?(u.next=null,s===null?ju=h:s.next=h,h===null&&(ps=s)):(s=u,(r!==0||(p&3)!==0)&&(Fu=!0)),u=h}jl(r)}function iS(r,a){for(var s=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var C=31-yt(p),A=1<<C,M=h[C];M===-1?((A&s)===0||(A&u)!==0)&&(h[C]=Ga(A,a)):M<=a&&(r.expiredLanes|=A),p&=~A}if(a=Et,s=ot,s=Wr(r,r===a?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,s===0||r===a&&(ut===2||ut===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&ln(u),r.callbackNode=null,r.callbackPriority=0;if((s&3)===0||Jr(r,s)){if(a=s&-s,a===r.callbackPriority)return a;switch(u!==null&&ln(u),Dt(s)){case 2:case 8:s=Ui;break;case 32:s=Xo;break;case 268435456:s=Mr;break;default:s=Xo}return u=sS.bind(null,r),s=wt(s,u),r.callbackPriority=a,r.callbackNode=s,a}return u!==null&&u!==null&&ln(u),r.callbackPriority=2,r.callbackNode=null,2}function sS(r,a){if(gn!==0&&gn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var s=r.callbackNode;if(Bu()&&r.callbackNode!==s)return null;var u=ot;return u=Wr(r,r===Et?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(qE(r,u,a),iS(r,Pt()),r.callbackNode!=null&&r.callbackNode===s?sS.bind(null,r):null)}function lS(r,a){if(Bu())return null;qE(r,a,!0)}function oN(){mN(function(){(ct&6)!==0?wt(xn,rN):aS()})}function op(){return ci===0&&(ci=Un()),ci}function cS(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Zc(""+r)}function uS(r,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,r.id&&s.setAttribute("form",r.id),a.parentNode.insertBefore(s,a),r=new FormData(r),s.parentNode.removeChild(s),r}function aN(r,a,s,u,h){if(a==="submit"&&s&&s.stateNode===h){var p=cS((h[k]||null).action),C=u.submitter;C&&(a=(a=C[k]||null)?cS(a.formAction):C.getAttribute("formAction"),a!==null&&(p=a,C=null));var A=new ru("action","action",null,u,h);r.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ci!==0){var M=C?uS(h,C):new FormData(h);Tm(s,{pending:!0,data:M,method:h.method,action:p},null,M)}}else typeof p=="function"&&(A.preventDefault(),M=C?uS(h,C):new FormData(h),Tm(s,{pending:!0,data:M,method:h.method,action:p},p,M))},currentTarget:h}]})}}for(var ap=0;ap<qh.length;ap++){var ip=qh[ap],iN=ip.toLowerCase(),sN=ip[0].toUpperCase()+ip.slice(1);Ur(iN,"on"+sN)}Ur(qb,"onAnimationEnd"),Ur(Kb,"onAnimationIteration"),Ur(Gb,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(Tk,"onTransitionRun"),Ur(Ak,"onTransitionStart"),Ur(_k,"onTransitionCancel"),Ur(Vb,"onTransitionEnd"),Ut("onMouseEnter",["mouseout","mouseover"]),Ut("onMouseLeave",["mouseout","mouseover"]),Ut("onPointerEnter",["pointerout","pointerover"]),Ut("onPointerLeave",["pointerout","pointerover"]),Ct("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ct("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ct("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ct("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ct("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ct("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function dS(r,a){a=(a&4)!==0;for(var s=0;s<r.length;s++){var u=r[s],h=u.event;u=u.listeners;e:{var p=void 0;if(a)for(var C=u.length-1;0<=C;C--){var A=u[C],M=A.instance,K=A.currentTarget;if(A=A.listener,M!==p&&h.isPropagationStopped())break e;p=A,h.currentTarget=K;try{p(h)}catch(Z){Iu(Z)}h.currentTarget=null,p=M}else for(C=0;C<u.length;C++){if(A=u[C],M=A.instance,K=A.currentTarget,A=A.listener,M!==p&&h.isPropagationStopped())break e;p=A,h.currentTarget=K;try{p(h)}catch(Z){Iu(Z)}h.currentTarget=null,p=M}}}}function tt(r,a){var s=a[V];s===void 0&&(s=a[V]=new Set);var u=r+"__bubble";s.has(u)||(fS(a,r,2,!1),s.add(u))}function sp(r,a,s){var u=0;a&&(u|=4),fS(s,r,u,a)}var qu="_reactListening"+Math.random().toString(36).slice(2);function lp(r){if(!r[qu]){r[qu]=!0,nt.forEach(function(s){s!=="selectionchange"&&(lN.has(s)||sp(s,!1,r),sp(s,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[qu]||(a[qu]=!0,sp("selectionchange",!1,a))}}function fS(r,a,s,u){switch(LS(a)){case 2:var h=DN;break;case 8:h=LN;break;default:h=Sp}s=h.bind(null,a,s,r),h=void 0,!xh||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(a,s,{capture:!0,passive:h}):r.addEventListener(a,s,!0):h!==void 0?r.addEventListener(a,s,{passive:h}):r.addEventListener(a,s,!1)}function cp(r,a,s,u,h){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var C=u.tag;if(C===3||C===4){var A=u.stateNode.containerInfo;if(A===h)break;if(C===4)for(C=u.return;C!==null;){var M=C.tag;if((M===3||M===4)&&C.stateNode.containerInfo===h)return;C=C.return}for(;A!==null;){if(C=Ie(A),C===null)return;if(M=C.tag,M===5||M===6||M===26||M===27){u=p=C;continue e}A=A.parentNode}}u=u.return}bb(function(){var K=p,Z=Oh(s),oe=[];e:{var G=Yb.get(r);if(G!==void 0){var Y=ru,je=r;switch(r){case"keypress":if(tu(s)===0)break e;case"keydown":case"keyup":Y=nk;break;case"focusin":je="focus",Y=Ph;break;case"focusout":je="blur",Y=Ph;break;case"beforeblur":case"afterblur":Y=Ph;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Sb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Kx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=ak;break;case qb:case Kb:case Gb:Y=Yx;break;case Vb:Y=sk;break;case"scroll":case"scrollend":Y=Fx;break;case"wheel":Y=ck;break;case"copy":case"cut":case"paste":Y=$x;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Tb;break;case"toggle":case"beforetoggle":Y=dk}var ze=(a&4)!==0,mt=!ze&&(r==="scroll"||r==="scrollend"),F=ze?G!==null?G+"Capture":null:G;ze=[];for(var D=K,q;D!==null;){var ee=D;if(q=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||q===null||F===null||(ee=sl(D,F),ee!=null&&ze.push(ql(D,ee,q))),mt)break;D=D.return}0<ze.length&&(G=new Y(G,je,null,s,Z),oe.push({event:G,listeners:ze}))}}if((a&7)===0){e:{if(G=r==="mouseover"||r==="pointerover",Y=r==="mouseout"||r==="pointerout",G&&s!==Rh&&(je=s.relatedTarget||s.fromElement)&&(Ie(je)||je[H]))break e;if((Y||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(je=s.relatedTarget||s.toElement,Y=K,je=je?Ie(je):null,je!==null&&(mt=l(je),ze=je.tag,je!==mt||ze!==5&&ze!==27&&ze!==6)&&(je=null)):(Y=null,je=K),Y!==je)){if(ze=Sb,ee="onMouseLeave",F="onMouseEnter",D="mouse",(r==="pointerout"||r==="pointerover")&&(ze=Tb,ee="onPointerLeave",F="onPointerEnter",D="pointer"),mt=Y==null?G:Pe(Y),q=je==null?G:Pe(je),G=new ze(ee,D+"leave",Y,s,Z),G.target=mt,G.relatedTarget=q,ee=null,Ie(Z)===K&&(ze=new ze(F,D+"enter",je,s,Z),ze.target=q,ze.relatedTarget=mt,ee=ze),mt=ee,Y&&je)t:{for(ze=Y,F=je,D=0,q=ze;q;q=gs(q))D++;for(q=0,ee=F;ee;ee=gs(ee))q++;for(;0<D-q;)ze=gs(ze),D--;for(;0<q-D;)F=gs(F),q--;for(;D--;){if(ze===F||F!==null&&ze===F.alternate)break t;ze=gs(ze),F=gs(F)}ze=null}else ze=null;Y!==null&&hS(oe,G,Y,ze,!1),je!==null&&mt!==null&&hS(oe,mt,je,ze,!0)}}e:{if(G=K?Pe(K):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var Ae=Nb;else if(xb(G))if(Mb)Ae=Ek;else{Ae=bk;var Je=vk}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?K&&_h(K.elementType)&&(Ae=Nb):Ae=Ck;if(Ae&&(Ae=Ae(r,K))){kb(oe,Ae,s,Z);break e}Je&&Je(r,G,K),r==="focusout"&&K&&G.type==="number"&&K.memoizedProps.value!=null&&Ah(G,"number",G.value)}switch(Je=K?Pe(K):window,r){case"focusin":(xb(Je)||Je.contentEditable==="true")&&(Vi=Je,Bh=K,pl=null);break;case"focusout":pl=Bh=Vi=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,jb(oe,s,Z);break;case"selectionchange":if(wk)break;case"keydown":case"keyup":jb(oe,s,Z)}var Me;if(Lh)e:{switch(r){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Gi?Ob(r,s)&&(Be="onCompositionEnd"):r==="keydown"&&s.keyCode===229&&(Be="onCompositionStart");Be&&(Ab&&s.locale!=="ko"&&(Gi||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Gi&&(Me=Cb()):(ea=Z,kh="value"in ea?ea.value:ea.textContent,Gi=!0)),Je=Ku(K,Be),0<Je.length&&(Be=new wb(Be,r,null,s,Z),oe.push({event:Be,listeners:Je}),Me?Be.data=Me:(Me=Ib(s),Me!==null&&(Be.data=Me)))),(Me=hk?mk(r,s):pk(r,s))&&(Be=Ku(K,"onBeforeInput"),0<Be.length&&(Je=new wb("onBeforeInput","beforeinput",null,s,Z),oe.push({event:Je,listeners:Be}),Je.data=Me)),aN(oe,r,K,s,Z)}dS(oe,a)})}function ql(r,a,s){return{instance:r,listener:a,currentTarget:s}}function Ku(r,a){for(var s=a+"Capture",u=[];r!==null;){var h=r,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=sl(r,s),h!=null&&u.unshift(ql(r,h,p)),h=sl(r,a),h!=null&&u.push(ql(r,h,p))),r.tag===3)return u;r=r.return}return[]}function gs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function hS(r,a,s,u,h){for(var p=a._reactName,C=[];s!==null&&s!==u;){var A=s,M=A.alternate,K=A.stateNode;if(A=A.tag,M!==null&&M===u)break;A!==5&&A!==26&&A!==27||K===null||(M=K,h?(K=sl(s,p),K!=null&&C.unshift(ql(s,K,M))):h||(K=sl(s,p),K!=null&&C.push(ql(s,K,M)))),s=s.return}C.length!==0&&r.push({event:a,listeners:C})}var cN=/\r\n?/g,uN=/\u0000|\uFFFD/g;function mS(r){return(typeof r=="string"?r:""+r).replace(cN,`
`).replace(uN,"")}function pS(r,a){return a=mS(a),mS(r)===a}function Gu(){}function ht(r,a,s,u,h,p){switch(s){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Fi(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Fi(r,""+u);break;case"className":Nn(r,"class",u);break;case"tabIndex":Nn(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(r,s,u);break;case"style":yb(r,u,p);break;case"data":if(a!=="object"){Nn(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||s!=="href")){r.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(s);break}u=Zc(""+u),r.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(a!=="input"&&ht(r,a,"name",h.name,h,null),ht(r,a,"formEncType",h.formEncType,h,null),ht(r,a,"formMethod",h.formMethod,h,null),ht(r,a,"formTarget",h.formTarget,h,null)):(ht(r,a,"encType",h.encType,h,null),ht(r,a,"method",h.method,h,null),ht(r,a,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(s);break}u=Zc(""+u),r.setAttribute(s,u);break;case"onClick":u!=null&&(r.onclick=Gu);break;case"onScroll":u!=null&&tt("scroll",r);break;case"onScrollEnd":u!=null&&tt("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(s=u.__html,s!=null){if(h.children!=null)throw Error(o(60));r.innerHTML=s}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}s=Zc(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(s,""+u):r.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(s,""):r.removeAttribute(s);break;case"capture":case"download":u===!0?r.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(s,u):r.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(s,u):r.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(s):r.setAttribute(s,u);break;case"popover":tt("beforetoggle",r),tt("toggle",r),Jn(r,"popover",u);break;case"xlinkActuate":Zn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Zn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Zn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Zn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Zn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Zn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Zn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Zn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Zn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Jn(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Bx.get(s)||s,Jn(r,s,u))}}function up(r,a,s,u,h,p){switch(s){case"style":yb(r,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(s=u.__html,s!=null){if(h.children!=null)throw Error(o(60));r.innerHTML=s}}break;case"children":typeof u=="string"?Fi(r,u):(typeof u=="number"||typeof u=="bigint")&&Fi(r,""+u);break;case"onScroll":u!=null&&tt("scroll",r);break;case"onScrollEnd":u!=null&&tt("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Gu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gt.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),a=s.slice(2,h?s.length-7:void 0),p=r[k]||null,p=p!=null?p[s]:null,typeof p=="function"&&r.removeEventListener(a,p,h),typeof u=="function")){typeof p!="function"&&p!==null&&(s in r?r[s]=null:r.hasAttribute(s)&&r.removeAttribute(s)),r.addEventListener(a,u,h);break e}s in r?r[s]=u:u===!0?r.setAttribute(s,""):Jn(r,s,u)}}}function yn(r,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",r),tt("load",r);var u=!1,h=!1,p;for(p in s)if(s.hasOwnProperty(p)){var C=s[p];if(C!=null)switch(p){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:ht(r,a,p,C,s,null)}}h&&ht(r,a,"srcSet",s.srcSet,s,null),u&&ht(r,a,"src",s.src,s,null);return;case"input":tt("invalid",r);var A=p=C=h=null,M=null,K=null;for(u in s)if(s.hasOwnProperty(u)){var Z=s[u];if(Z!=null)switch(u){case"name":h=Z;break;case"type":C=Z;break;case"checked":M=Z;break;case"defaultChecked":K=Z;break;case"value":p=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(o(137,a));break;default:ht(r,a,u,Z,s,null)}}hb(r,p,A,M,K,C,h,!1),Ya(r);return;case"select":tt("invalid",r),u=C=p=null;for(h in s)if(s.hasOwnProperty(h)&&(A=s[h],A!=null))switch(h){case"value":p=A;break;case"defaultValue":C=A;break;case"multiple":u=A;default:ht(r,a,h,A,s,null)}a=p,s=C,r.multiple=!!u,a!=null?ji(r,!!u,a,!1):s!=null&&ji(r,!!u,s,!0);return;case"textarea":tt("invalid",r),p=h=u=null;for(C in s)if(s.hasOwnProperty(C)&&(A=s[C],A!=null))switch(C){case"value":u=A;break;case"defaultValue":h=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(o(91));break;default:ht(r,a,C,A,s,null)}pb(r,u,h,p),Ya(r);return;case"option":for(M in s)s.hasOwnProperty(M)&&(u=s[M],u!=null)&&(M==="selected"?r.selected=u&&typeof u!="function"&&typeof u!="symbol":ht(r,a,M,u,s,null));return;case"dialog":tt("beforetoggle",r),tt("toggle",r),tt("cancel",r),tt("close",r);break;case"iframe":case"object":tt("load",r);break;case"video":case"audio":for(u=0;u<Fl.length;u++)tt(Fl[u],r);break;case"image":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"embed":case"source":case"link":tt("error",r),tt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in s)if(s.hasOwnProperty(K)&&(u=s[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:ht(r,a,K,u,s,null)}return;default:if(_h(a)){for(Z in s)s.hasOwnProperty(Z)&&(u=s[Z],u!==void 0&&up(r,a,Z,u,s,void 0));return}}for(A in s)s.hasOwnProperty(A)&&(u=s[A],u!=null&&ht(r,a,A,u,s,null))}function dN(r,a,s,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,C=null,A=null,M=null,K=null,Z=null;for(Y in s){var oe=s[Y];if(s.hasOwnProperty(Y)&&oe!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":M=oe;default:u.hasOwnProperty(Y)||ht(r,a,Y,null,u,oe)}}for(var G in u){var Y=u[G];if(oe=s[G],u.hasOwnProperty(G)&&(Y!=null||oe!=null))switch(G){case"type":p=Y;break;case"name":h=Y;break;case"checked":K=Y;break;case"defaultChecked":Z=Y;break;case"value":C=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(o(137,a));break;default:Y!==oe&&ht(r,a,G,Y,u,oe)}}Th(r,C,A,M,K,Z,p,h);return;case"select":Y=C=A=G=null;for(p in s)if(M=s[p],s.hasOwnProperty(p)&&M!=null)switch(p){case"value":break;case"multiple":Y=M;default:u.hasOwnProperty(p)||ht(r,a,p,null,u,M)}for(h in u)if(p=u[h],M=s[h],u.hasOwnProperty(h)&&(p!=null||M!=null))switch(h){case"value":G=p;break;case"defaultValue":A=p;break;case"multiple":C=p;default:p!==M&&ht(r,a,h,p,u,M)}a=A,s=C,u=Y,G!=null?ji(r,!!s,G,!1):!!u!=!!s&&(a!=null?ji(r,!!s,a,!0):ji(r,!!s,s?[]:"",!1));return;case"textarea":Y=G=null;for(A in s)if(h=s[A],s.hasOwnProperty(A)&&h!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ht(r,a,A,null,u,h)}for(C in u)if(h=u[C],p=s[C],u.hasOwnProperty(C)&&(h!=null||p!=null))switch(C){case"value":G=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(o(91));break;default:h!==p&&ht(r,a,C,h,u,p)}mb(r,G,Y);return;case"option":for(var je in s)G=s[je],s.hasOwnProperty(je)&&G!=null&&!u.hasOwnProperty(je)&&(je==="selected"?r.selected=!1:ht(r,a,je,null,u,G));for(M in u)G=u[M],Y=s[M],u.hasOwnProperty(M)&&G!==Y&&(G!=null||Y!=null)&&(M==="selected"?r.selected=G&&typeof G!="function"&&typeof G!="symbol":ht(r,a,M,G,u,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in s)G=s[ze],s.hasOwnProperty(ze)&&G!=null&&!u.hasOwnProperty(ze)&&ht(r,a,ze,null,u,G);for(K in u)if(G=u[K],Y=s[K],u.hasOwnProperty(K)&&G!==Y&&(G!=null||Y!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,a));break;default:ht(r,a,K,G,u,Y)}return;default:if(_h(a)){for(var mt in s)G=s[mt],s.hasOwnProperty(mt)&&G!==void 0&&!u.hasOwnProperty(mt)&&up(r,a,mt,void 0,u,G);for(Z in u)G=u[Z],Y=s[Z],!u.hasOwnProperty(Z)||G===Y||G===void 0&&Y===void 0||up(r,a,Z,G,u,Y);return}}for(var F in s)G=s[F],s.hasOwnProperty(F)&&G!=null&&!u.hasOwnProperty(F)&&ht(r,a,F,null,u,G);for(oe in u)G=u[oe],Y=s[oe],!u.hasOwnProperty(oe)||G===Y||G==null&&Y==null||ht(r,a,oe,G,u,Y)}var dp=null,fp=null;function Vu(r){return r.nodeType===9?r:r.ownerDocument}function gS(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yS(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function hp(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var mp=null;function fN(){var r=window.event;return r&&r.type==="popstate"?r===mp?!1:(mp=r,!0):(mp=null,!1)}var vS=typeof setTimeout=="function"?setTimeout:void 0,hN=typeof clearTimeout=="function"?clearTimeout:void 0,bS=typeof Promise=="function"?Promise:void 0,mN=typeof queueMicrotask=="function"?queueMicrotask:typeof bS<"u"?function(r){return bS.resolve(null).then(r).catch(pN)}:vS;function pN(r){setTimeout(function(){throw r})}function ga(r){return r==="head"}function CS(r,a){var s=a,u=0,h=0;do{var p=s.nextSibling;if(r.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(0<u&&8>u){s=u;var C=r.ownerDocument;if(s&1&&Kl(C.documentElement),s&2&&Kl(C.body),s&4)for(s=C.head,Kl(s),C=s.firstChild;C;){var A=C.nextSibling,M=C.nodeName;C[Se]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&C.rel.toLowerCase()==="stylesheet"||s.removeChild(C),C=A}}if(h===0){r.removeChild(p),Jl(a);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:u=s.charCodeAt(0)-48;else u=0;s=p}while(s);Jl(a)}function pp(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":pp(s),Oe(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}r.removeChild(s)}}function gN(r,a,s,u){for(;r.nodeType===1;){var h=s;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Se])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=zr(r.nextSibling),r===null)break}return null}function yN(r,a,s){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=zr(r.nextSibling),r===null))return null;return r}function gp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function vN(r,a){var s=r.ownerDocument;if(r.data!=="$?"||s.readyState==="complete")a();else{var u=function(){a(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function zr(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var yp=null;function ES(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var s=r.data;if(s==="$"||s==="$!"||s==="$?"){if(a===0)return r;a--}else s==="/$"&&a++}r=r.previousSibling}return null}function SS(r,a,s){switch(a=Vu(s),r){case"html":if(r=a.documentElement,!r)throw Error(o(452));return r;case"head":if(r=a.head,!r)throw Error(o(453));return r;case"body":if(r=a.body,!r)throw Error(o(454));return r;default:throw Error(o(451))}}function Kl(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Oe(r)}var _r=new Map,wS=new Set;function Yu(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ho=$.d;$.d={f:bN,r:CN,D:EN,C:SN,L:wN,m:TN,X:_N,S:AN,M:RN};function bN(){var r=Ho.f(),a=Hu();return r||a}function CN(r){var a=ke(r);a!==null&&a.tag===5&&a.type==="form"?qC(a):Ho.r(r)}var ys=typeof document>"u"?null:document;function TS(r,a,s){var u=ys;if(u&&typeof a=="string"&&a){var h=br(a);h='link[rel="'+r+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),wS.has(h)||(wS.add(h),r={rel:r,crossOrigin:s,href:a},u.querySelector(h)===null&&(a=u.createElement("link"),yn(a,"link",r),He(a),u.head.appendChild(a)))}}function EN(r){Ho.D(r),TS("dns-prefetch",r,null)}function SN(r,a){Ho.C(r,a),TS("preconnect",r,a)}function wN(r,a,s){Ho.L(r,a,s);var u=ys;if(u&&r&&a){var h='link[rel="preload"][as="'+br(a)+'"]';a==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+br(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+br(s.imageSizes)+'"]')):h+='[href="'+br(r)+'"]';var p=h;switch(a){case"style":p=vs(r);break;case"script":p=bs(r)}_r.has(p)||(r=g({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:r,as:a},s),_r.set(p,r),u.querySelector(h)!==null||a==="style"&&u.querySelector(Gl(p))||a==="script"&&u.querySelector(Vl(p))||(a=u.createElement("link"),yn(a,"link",r),He(a),u.head.appendChild(a)))}}function TN(r,a){Ho.m(r,a);var s=ys;if(s&&r){var u=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+br(u)+'"][href="'+br(r)+'"]',p=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=bs(r)}if(!_r.has(p)&&(r=g({rel:"modulepreload",href:r},a),_r.set(p,r),s.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Vl(p)))return}u=s.createElement("link"),yn(u,"link",r),He(u),s.head.appendChild(u)}}}function AN(r,a,s){Ho.S(r,a,s);var u=ys;if(u&&r){var h=xe(u).hoistableStyles,p=vs(r);a=a||"default";var C=h.get(p);if(!C){var A={loading:0,preload:null};if(C=u.querySelector(Gl(p)))A.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":a},s),(s=_r.get(p))&&vp(r,s);var M=C=u.createElement("link");He(M),yn(M,"link",r),M._p=new Promise(function(K,Z){M.onload=K,M.onerror=Z}),M.addEventListener("load",function(){A.loading|=1}),M.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Qu(C,a,u)}C={type:"stylesheet",instance:C,count:1,state:A},h.set(p,C)}}}function _N(r,a){Ho.X(r,a);var s=ys;if(s&&r){var u=xe(s).hoistableScripts,h=bs(r),p=u.get(h);p||(p=s.querySelector(Vl(h)),p||(r=g({src:r,async:!0},a),(a=_r.get(h))&&bp(r,a),p=s.createElement("script"),He(p),yn(p,"link",r),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function RN(r,a){Ho.M(r,a);var s=ys;if(s&&r){var u=xe(s).hoistableScripts,h=bs(r),p=u.get(h);p||(p=s.querySelector(Vl(h)),p||(r=g({src:r,async:!0,type:"module"},a),(a=_r.get(h))&&bp(r,a),p=s.createElement("script"),He(p),yn(p,"link",r),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function AS(r,a,s,u){var h=(h=Ce.current)?Yu(h):null;if(!h)throw Error(o(446));switch(r){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=vs(s.href),s=xe(h).hoistableStyles,u=s.get(a),u||(u={type:"style",instance:null,count:0,state:null},s.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){r=vs(s.href);var p=xe(h).hoistableStyles,C=p.get(r);if(C||(h=h.ownerDocument||h,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,C),(p=h.querySelector(Gl(r)))&&!p._p&&(C.instance=p,C.state.loading=5),_r.has(r)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},_r.set(r,s),p||ON(h,r,s,C.state))),a&&u===null)throw Error(o(528,""));return C}if(a&&u!==null)throw Error(o(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=bs(s),s=xe(h).hoistableScripts,u=s.get(a),u||(u={type:"script",instance:null,count:0,state:null},s.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,r))}}function vs(r){return'href="'+br(r)+'"'}function Gl(r){return'link[rel="stylesheet"]['+r+"]"}function _S(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function ON(r,a,s,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),yn(a,"link",s),He(a),r.head.appendChild(a))}function bs(r){return'[src="'+br(r)+'"]'}function Vl(r){return"script[async]"+r}function RS(r,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+br(s.href)+'"]');if(u)return a.instance=u,He(u),u;var h=g({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),He(u),yn(u,"style",h),Qu(u,s.precedence,r),a.instance=u;case"stylesheet":h=vs(s.href);var p=r.querySelector(Gl(h));if(p)return a.state.loading|=4,a.instance=p,He(p),p;u=_S(s),(h=_r.get(h))&&vp(u,h),p=(r.ownerDocument||r).createElement("link"),He(p);var C=p;return C._p=new Promise(function(A,M){C.onload=A,C.onerror=M}),yn(p,"link",u),a.state.loading|=4,Qu(p,s.precedence,r),a.instance=p;case"script":return p=bs(s.src),(h=r.querySelector(Vl(p)))?(a.instance=h,He(h),h):(u=s,(h=_r.get(p))&&(u=g({},s),bp(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),He(h),yn(h,"link",u),r.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(o(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Qu(u,s.precedence,r));return a.instance}function Qu(r,a,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,p=h,C=0;C<u.length;C++){var A=u[C];if(A.dataset.precedence===a)p=A;else if(p!==h)break}p?p.parentNode.insertBefore(r,p.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(r,a.firstChild))}function vp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function bp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var $u=null;function OS(r,a,s){if($u===null){var u=new Map,h=$u=new Map;h.set(s,u)}else h=$u,u=h.get(s),u||(u=new Map,h.set(s,u));if(u.has(r))return u;for(u.set(r,null),s=s.getElementsByTagName(r),h=0;h<s.length;h++){var p=s[h];if(!(p[Se]||p[kt]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var C=p.getAttribute(a)||"";C=r+C;var A=u.get(C);A?A.push(p):u.set(C,[p])}}return u}function IS(r,a,s){r=r.ownerDocument||r,r.head.insertBefore(s,a==="title"?r.querySelector("head > title"):null)}function IN(r,a,s){if(s===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(r=a.disabled,typeof a.precedence=="string"&&r==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function xS(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Yl=null;function xN(){}function kN(r,a,s){if(Yl===null)throw Error(o(475));var u=Yl;if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=vs(s.href),p=r.querySelector(Gl(h));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Xu.bind(u),r.then(u,u)),a.state.loading|=4,a.instance=p,He(p);return}p=r.ownerDocument||r,s=_S(s),(h=_r.get(h))&&vp(s,h),p=p.createElement("link"),He(p);var C=p;C._p=new Promise(function(A,M){C.onload=A,C.onerror=M}),yn(p,"link",s),a.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Xu.bind(u),r.addEventListener("load",a),r.addEventListener("error",a))}}function NN(){if(Yl===null)throw Error(o(475));var r=Yl;return r.stylesheets&&r.count===0&&Cp(r,r.stylesheets),0<r.count?function(a){var s=setTimeout(function(){if(r.stylesheets&&Cp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(s)}}:null}function Xu(){if(this.count--,this.count===0){if(this.stylesheets)Cp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Wu=null;function Cp(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Wu=new Map,a.forEach(MN,r),Wu=null,Xu.call(r))}function MN(r,a){if(!(a.state.loading&4)){var s=Wu.get(r);if(s)var u=s.get(null);else{s=new Map,Wu.set(r,s);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var C=h[p];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(s.set(C.dataset.precedence,C),u=C)}u&&s.set(null,u)}h=a.instance,C=h.getAttribute("data-precedence"),p=s.get(C)||u,p===u&&s.set(null,h),s.set(C,h),this.count++,u=Xu.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),p?p.parentNode.insertBefore(h,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),a.state.loading|=4}}var Ql={$$typeof:x,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function PN(r,a,s,u,h,p,C,A){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jo(0),this.hiddenUpdates=Jo(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function kS(r,a,s,u,h,p,C,A,M,K,Z,oe){return r=new PN(r,a,s,C,A,M,K,oe),a=1,p===!0&&(a|=24),p=tr(3,null,null,a),r.current=p,p.stateNode=r,a=tm(),a.refCount++,r.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:s,cache:a},am(p),r}function NS(r){return r?(r=Xi,r):Xi}function MS(r,a,s,u,h,p){h=NS(h),u.context===null?u.context=h:u.pendingContext=h,u=ra(a),u.payload={element:s},p=p===void 0?null:p,p!==null&&(u.callback=p),s=oa(r,u,a),s!==null&&(ir(s,r,a),Tl(s,r,a))}function PS(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var s=r.retryLane;r.retryLane=s!==0&&s<a?s:a}}function Ep(r,a){PS(r,a),(r=r.alternate)&&PS(r,a)}function DS(r){if(r.tag===13){var a=$i(r,67108864);a!==null&&ir(a,r,67108864),Ep(r,67108864)}}var Ju=!0;function DN(r,a,s,u){var h=P.T;P.T=null;var p=$.p;try{$.p=2,Sp(r,a,s,u)}finally{$.p=p,P.T=h}}function LN(r,a,s,u){var h=P.T;P.T=null;var p=$.p;try{$.p=8,Sp(r,a,s,u)}finally{$.p=p,P.T=h}}function Sp(r,a,s,u){if(Ju){var h=wp(u);if(h===null)cp(r,a,u,Zu,s),US(r,u);else if(HN(h,r,a,s,u))u.stopPropagation();else if(US(r,u),a&4&&-1<UN.indexOf(r)){for(;h!==null;){var p=ke(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var C=Wn(p.pendingLanes);if(C!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;C;){var M=1<<31-yt(C);A.entanglements[1]|=M,C&=~M}ao(p),(ct&6)===0&&(Lu=Pt()+500,jl(0))}}break;case 13:A=$i(p,2),A!==null&&ir(A,p,2),Hu(),Ep(p,2)}if(p=wp(u),p===null&&cp(r,a,u,Zu,s),p===h)break;h=p}h!==null&&u.stopPropagation()}else cp(r,a,u,null,s)}}function wp(r){return r=Oh(r),Tp(r)}var Zu=null;function Tp(r){if(Zu=null,r=Ie(r),r!==null){var a=l(r);if(a===null)r=null;else{var s=a.tag;if(s===13){if(r=c(a),r!==null)return r;r=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Zu=r,null}function LS(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Li()){case xn:return 2;case Ui:return 8;case Xo:case mn:return 32;case Mr:return 268435456;default:return 32}default:return 32}}var Ap=!1,ya=null,va=null,ba=null,$l=new Map,Xl=new Map,Ca=[],UN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function US(r,a){switch(r){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":$l.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(a.pointerId)}}function Wl(r,a,s,u,h,p){return r===null||r.nativeEvent!==p?(r={blockedOn:a,domEventName:s,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},a!==null&&(a=ke(a),a!==null&&DS(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),r)}function HN(r,a,s,u,h){switch(a){case"focusin":return ya=Wl(ya,r,a,s,u,h),!0;case"dragenter":return va=Wl(va,r,a,s,u,h),!0;case"mouseover":return ba=Wl(ba,r,a,s,u,h),!0;case"pointerover":var p=h.pointerId;return $l.set(p,Wl($l.get(p)||null,r,a,s,u,h)),!0;case"gotpointercapture":return p=h.pointerId,Xl.set(p,Wl(Xl.get(p)||null,r,a,s,u,h)),!0}return!1}function HS(r){var a=Ie(r.target);if(a!==null){var s=l(a);if(s!==null){if(a=s.tag,a===13){if(a=c(s),a!==null){r.blockedOn=a,Lt(r.priority,function(){if(s.tag===13){var u=ar();u=It(u);var h=$i(s,u);h!==null&&ir(h,s,u),Ep(s,u)}});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){r.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ed(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var s=wp(r.nativeEvent);if(s===null){s=r.nativeEvent;var u=new s.constructor(s.type,s);Rh=u,s.target.dispatchEvent(u),Rh=null}else return a=ke(s),a!==null&&DS(a),r.blockedOn=s,!1;a.shift()}return!0}function zS(r,a,s){ed(r)&&s.delete(a)}function zN(){Ap=!1,ya!==null&&ed(ya)&&(ya=null),va!==null&&ed(va)&&(va=null),ba!==null&&ed(ba)&&(ba=null),$l.forEach(zS),Xl.forEach(zS)}function td(r,a){r.blockedOn===a&&(r.blockedOn=null,Ap||(Ap=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zN)))}var nd=null;function BS(r){nd!==r&&(nd=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nd===r&&(nd=null);for(var a=0;a<r.length;a+=3){var s=r[a],u=r[a+1],h=r[a+2];if(typeof u!="function"){if(Tp(u||s)===null)continue;break}var p=ke(s);p!==null&&(r.splice(a,3),a-=3,Tm(p,{pending:!0,data:h,method:s.method,action:u},u,h))}}))}function Jl(r){function a(M){return td(M,r)}ya!==null&&td(ya,r),va!==null&&td(va,r),ba!==null&&td(ba,r),$l.forEach(a),Xl.forEach(a);for(var s=0;s<Ca.length;s++){var u=Ca[s];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Ca.length&&(s=Ca[0],s.blockedOn===null);)HS(s),s.blockedOn===null&&Ca.shift();if(s=(r.ownerDocument||r).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var h=s[u],p=s[u+1],C=h[k]||null;if(typeof p=="function")C||BS(s);else if(C){var A=null;if(p&&p.hasAttribute("formAction")){if(h=p,C=p[k]||null)A=C.formAction;else if(Tp(h)!==null)continue}else A=C.action;typeof A=="function"?s[u+1]=A:(s.splice(u,3),u-=3),BS(s)}}}function _p(r){this._internalRoot=r}rd.prototype.render=_p.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(o(409));var s=a.current,u=ar();MS(s,u,r,a,null,null)},rd.prototype.unmount=_p.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;MS(r.current,2,null,r,null,null),Hu(),a[H]=null}};function rd(r){this._internalRoot=r}rd.prototype.unstable_scheduleHydration=function(r){if(r){var a=vr();r={blockedOn:null,target:r,priority:a};for(var s=0;s<Ca.length&&a!==0&&a<Ca[s].priority;s++);Ca.splice(s,0,r),s===0&&HS(r)}};var jS=e.version;if(jS!=="19.1.0")throw Error(o(527,jS,"19.1.0"));$.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(o(188)):(r=Object.keys(r).join(","),Error(o(268,r)));return r=f(a),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var BN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!od.isDisabled&&od.supportsFiber)try{Xn=od.inject(BN),Jt=od}catch{}}return ec.createRoot=function(r,a){if(!i(r))throw Error(o(299));var s=!1,u="",h=rE,p=oE,C=aE,A=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks)),a=kS(r,1,!1,null,null,s,u,h,p,C,A,null),r[H]=a.current,lp(r),new _p(a)},ec.hydrateRoot=function(r,a,s){if(!i(r))throw Error(o(299));var u=!1,h="",p=rE,C=oE,A=aE,M=null,K=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(C=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(M=s.unstable_transitionCallbacks),s.formState!==void 0&&(K=s.formState)),a=kS(r,1,!0,a,s??null,u,h,p,C,A,M,K),a.context=NS(null),s=a.current,u=ar(),u=It(u),h=ra(u),h.callback=null,oa(s,h,u),s=u,a.current.lanes=s,yr(a,s),ao(a),r[H]=a.current,lp(r),new rd(a)},ec.version="19.1.0",ec}var WS;function XN(){if(WS)return Ip.exports;WS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ip.exports=$N(),Ip.exports}var WN=XN();var BA=t=>{throw TypeError(t)},JN=(t,e,n)=>e.has(t)||BA("Cannot "+n),Mp=(t,e,n)=>(JN(t,e,"read from private field"),n?n.call(t):e.get(t)),ZN=(t,e,n)=>e.has(t)?BA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),JS="popstate";function eM(t={}){function e(o,i){let{pathname:l,search:c,hash:d}=o.location;return Cc("",{pathname:l,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(o,i){return typeof i=="string"?i:yo(i)}return nM(e,n,null,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tM(){return Math.random().toString(36).substring(2,10)}function ZS(t,e){return{usr:t.state,key:t.key,idx:e}}function Cc(t,e,n=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ja(e):e,state:n,key:e&&e.key||o||tM()}}function yo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ja(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let o=t.indexOf("?");o>=0&&(e.search=t.substring(o),t=t.substring(0,o)),t&&(e.pathname=t)}return e}function nM(t,e,n,o={}){let{window:i=document.defaultView,v5Compat:l=!1}=o,c=i.history,d="POP",f=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function y(){d="POP";let T=g(),R=T==null?null:T-m;m=T,f&&f({action:d,location:S.location,delta:R})}function v(T,R){d="PUSH";let O=Cc(S.location,T,R);m=g()+1;let x=ZS(O,m),B=S.createHref(O);try{c.pushState(x,"",B)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(B)}l&&f&&f({action:d,location:S.location,delta:1})}function E(T,R){d="REPLACE";let O=Cc(S.location,T,R);m=g();let x=ZS(O,m),B=S.createHref(O);c.replaceState(x,"",B),l&&f&&f({action:d,location:S.location,delta:0})}function w(T){return jA(T)}let S={get action(){return d},get location(){return t(i,c)},listen(T){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(JS,y),f=T,()=>{i.removeEventListener(JS,y),f=null}},createHref(T){return e(i,T)},createURL:w,encodeLocation(T){let R=w(T);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:v,replace:E,go(T){return c.go(T)}};return S}function jA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(n,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:yo(t);return o=o.replace(/ $/,"%20"),!e&&o.startsWith("//")&&(o=n+o),new URL(o,n)}var sc,ew=class{constructor(t){if(ZN(this,sc,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Mp(this,sc).has(t))return Mp(this,sc).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Mp(this,sc).set(t,e)}};sc=new WeakMap;var rM=new Set(["lazy","caseSensitive","path","id","index","children"]);function oM(t){return rM.has(t)}var aM=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function iM(t){return aM.has(t)}function sM(t){return t.index===!0}function Ec(t,e,n=[],o={},i=!1){return t.map((l,c)=>{let d=[...n,String(c)],f=typeof l.id=="string"?l.id:d.join("-");if(Xe(l.index!==!0||!l.children,"Cannot specify children on an index route"),Xe(i||!o[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),sM(l)){let m={...l,id:f};return o[f]=tw(m,e(m)),m}else{let m={...l,id:f,children:void 0};return o[f]=tw(m,e(m)),l.children&&(m.children=Ec(l.children,e,d,o,i)),m}})}function tw(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function Aa(t,e,n="/"){return lc(t,e,n,!1)}function lc(t,e,n,o){let i=typeof e=="string"?ja(e):e,l=xr(i.pathname||"/",n);if(l==null)return null;let c=FA(t);cM(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=CM(l);d=vM(c[f],m,o)}return d}function lM(t,e){let{route:n,pathname:o,params:i}=t;return{id:n.id,pathname:o,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function FA(t,e=[],n=[],o="",i=!1){let l=(c,d,f=i,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(o)&&f)return;Xe(g.relativePath.startsWith(o),`Absolute route path "${g.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(o.length)}let y=po([o,g.relativePath]),v=n.concat(g);c.children&&c.children.length>0&&(Xe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),FA(c.children,e,v,y,f)),!(c.path==null&&!c.index)&&e.push({path:y,score:gM(y,c.index),routesMeta:v})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let f of qA(c.path))l(c,d,!0,f)}),e}function qA(t){let e=t.split("/");if(e.length===0)return[];let[n,...o]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(o.length===0)return i?[l,""]:[l];let c=qA(o.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),i&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function cM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yM(e.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var uM=/^:[\w-]+$/,dM=3,fM=2,hM=1,mM=10,pM=-2,nw=t=>t==="*";function gM(t,e){let n=t.split("/"),o=n.length;return n.some(nw)&&(o+=pM),e&&(o+=fM),n.filter(i=>!nw(i)).reduce((i,l)=>i+(uM.test(l)?dM:l===""?hM:mM),o)}function yM(t,e){return t.length===e.length&&t.slice(0,-1).every((o,i)=>o===e[i])?t[t.length-1]-e[e.length-1]:0}function vM(t,e,n=!1){let{routesMeta:o}=t,i={},l="/",c=[];for(let d=0;d<o.length;++d){let f=o[d],m=d===o.length-1,g=l==="/"?e:e.slice(l.length)||"/",y=qd({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),v=f.route;if(!y&&m&&n&&!o[o.length-1].route.index&&(y=qd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!y)return null;Object.assign(i,y.params),c.push({params:i,pathname:po([l,y.pathname]),pathnameBase:wM(po([l,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(l=po([l,y.pathnameBase]))}return c}function qd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,o]=bM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:o.reduce((m,{paramName:g,isOptional:y},v)=>{if(g==="*"){let w=d[v]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const E=d[v];return y&&!E?m[g]=void 0:m[g]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function bM(t,e=!1,n=!0){Bt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(o.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(o.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),o]}function CM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function xr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,o=t.charAt(n);return o&&o!=="/"?null:t.slice(n)||"/"}function EM({basename:t,pathname:e}){return e==="/"?t:po([t,e])}var KA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,my=t=>KA.test(t);function SM(t,e="/"){let{pathname:n,search:o="",hash:i=""}=typeof t=="string"?ja(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=rw(n.substring(1),"/"):l=rw(n,e)):l=e,{pathname:l,search:TM(o),hash:AM(i)}}function rw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Pp(t,e,n,o){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Nf(t){let e=GA(t);return e.map((n,o)=>o===e.length-1?n.pathname:n.pathnameBase)}function Mf(t,e,n,o=!1){let i;typeof t=="string"?i=ja(t):(i={...t},Xe(!i.pathname||!i.pathname.includes("?"),Pp("?","pathname","search",i)),Xe(!i.pathname||!i.pathname.includes("#"),Pp("#","pathname","hash",i)),Xe(!i.search||!i.search.includes("#"),Pp("#","search","hash",i)));let l=t===""||i.pathname==="",c=l?"/":i.pathname,d;if(c==null)d=n;else{let y=e.length-1;if(!o&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),y-=1;i.pathname=v.join("/")}d=y>=0?e[y]:"/"}let f=SM(i,d),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}var po=t=>t.join("/").replace(/\/\/+/g,"/"),wM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Lc=class{constructor(t,e,n,o=!1){this.status=t,this.statusText=e||"",this.internal=o,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Sc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Uc(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var VA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function YA(t,e){let n=t;if(typeof n!="string"||!KA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let o=n,i=!1;if(VA)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=xr(c.pathname,e);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:i=!0}catch{Bt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:i,to:n}}var Oa=Symbol("Uninstrumented");function _M(t,e){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(i=>i({id:e.id,index:e.index,path:e.path,instrument(l){let c=Object.keys(n);for(let d of c)l[d]&&n[d].push(l[d])}}));let o={};if(typeof e.lazy=="function"&&n.lazy.length>0){let i=Os(n.lazy,e.lazy,()=>{});i&&(o.lazy=i)}if(typeof e.lazy=="object"){let i=e.lazy;["middleware","loader","action"].forEach(l=>{let c=i[l],d=n[`lazy.${l}`];if(typeof c=="function"&&d.length>0){let f=Os(d,c,()=>{});f&&(o.lazy=Object.assign(o.lazy||{},{[l]:f}))}})}return["loader","action"].forEach(i=>{let l=e[i];if(typeof l=="function"&&n[i].length>0){let c=l[Oa]??l,d=Os(n[i],c,(...f)=>ow(f[0]));d&&(i==="loader"&&c.hydrate===!0&&(d.hydrate=!0),d[Oa]=c,o[i]=d)}}),e.middleware&&e.middleware.length>0&&n.middleware.length>0&&(o.middleware=e.middleware.map(i=>{let l=i[Oa]??i,c=Os(n.middleware,l,(...d)=>ow(d[0]));return c?(c[Oa]=l,c):i})),o}function RM(t,e){let n={navigate:[],fetch:[]};if(e.forEach(o=>o({instrument(i){let l=Object.keys(i);for(let c of l)i[c]&&n[c].push(i[c])}})),n.navigate.length>0){let o=t.navigate[Oa]??t.navigate,i=Os(n.navigate,o,(...l)=>{let[c,d]=l;return{to:typeof c=="number"||typeof c=="string"?c:c?yo(c):".",...aw(t,d??{})}});i&&(i[Oa]=o,t.navigate=i)}if(n.fetch.length>0){let o=t.fetch[Oa]??t.fetch,i=Os(n.fetch,o,(...l)=>{let[c,,d,f]=l;return{href:d??".",fetcherKey:c,...aw(t,f??{})}});i&&(i[Oa]=o,t.fetch=i)}return t}function Os(t,e,n){return t.length===0?null:async(...o)=>{let i=await QA(t,n(...o),()=>e(...o),t.length-1);if(i.type==="error")throw i.value;return i.value}}async function QA(t,e,n,o){let i=t[o],l;if(i){let c,d=async()=>(c?console.error("You cannot call instrumented handlers more than once"):c=QA(t,e,n,o-1),l=await c,Xe(l,"Expected a result"),l.type==="error"&&l.value instanceof Error?{status:"error",error:l.value}:{status:"success",error:void 0});try{await i(d,e)}catch(f){console.error("An instrumentation function threw an error:",f)}c||await d(),await c}else try{l={type:"success",value:await n()}}catch(c){l={type:"error",value:c}}return l||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function ow(t){let{request:e,context:n,params:o,unstable_pattern:i}=t;return{request:OM(e),params:{...o},unstable_pattern:i,context:IM(n)}}function aw(t,e){return{currentUrl:yo(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function OM(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function IM(t){if(kM(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var xM=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kM(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===xM}var $A=["POST","PUT","PATCH","DELETE"],NM=new Set($A),MM=["GET",...$A],PM=new Set(MM),XA=new Set([301,302,303,307,308]),DM=new Set([307,308]),Dp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},LM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},tc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},UM=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),WA="remix-router-transitions",JA=Symbol("ResetLoaderData");function HM(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Xe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let o=t.hydrationRouteProperties||[],i=t.mapRouteProperties||UM,l=i;if(t.unstable_instrumentations){let k=t.unstable_instrumentations;l=H=>({...i(H),..._M(k.map(V=>V.route).filter(Boolean),H)})}let c={},d=Ec(t.routes,l,void 0,c),f,m=t.basename||"/";m.startsWith("/")||(m=`/${m}`);let g=t.dataStrategy||qM,y={...t.future},v=null,E=new Set,w=null,S=null,T=null,R=t.hydrationData!=null,O=Aa(d,t.history.location,m),x=!1,B=null,L;if(O==null&&!t.patchRoutesOnNavigation){let k=Rr(404,{pathname:t.history.location.pathname}),{matches:H,route:V}=ad(d);L=!0,O=H,B={[V.id]:k}}else if(O&&!t.hydrationData&&Dt(O,d,t.history.location.pathname).active&&(O=null),O)if(O.some(k=>k.route.lazy))L=!1;else if(!O.some(k=>py(k.route)))L=!0;else{let k=t.hydrationData?t.hydrationData.loaderData:null,H=t.hydrationData?t.hydrationData.errors:null;if(H){let V=O.findIndex(ae=>H[ae.route.id]!==void 0);L=O.slice(0,V+1).every(ae=>!hg(ae.route,k,H))}else L=O.every(V=>!hg(V.route,k,H))}else{L=!1,O=[];let k=Dt(null,d,t.history.location.pathname);k.active&&k.matches&&(x=!0,O=k.matches)}let J,I={historyAction:t.history.action,location:t.history.location,matches:O,initialized:L,navigation:Dp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||B,fetchers:new Map,blockers:new Map},j="POP",se=null,he=!1,ge,ve=!1,we=new Map,be=null,me=!1,P=!1,$=new Set,z=new Map,de=0,N=-1,X=new Map,ie=new Set,Q=new Map,ne=new Map,pe=new Set,Ce=new Map,ce,ye=null;function We(){if(v=t.history.listen(({action:k,location:H,delta:V})=>{if(ce){ce(),ce=void 0;return}Bt(Ce.size===0||V!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ae=Jo({currentLocation:I.location,nextLocation:H,historyAction:k});if(ae&&V!=null){let fe=new Promise(Ne=>{ce=Ne});t.history.go(V*-1),So(ae,{state:"blocked",location:H,proceed(){So(ae,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),fe.then(()=>t.history.go(V))},reset(){let Ne=new Map(I.blockers);Ne.set(ae,tc),Le({blockers:Ne})}}),se?.resolve(),se=null;return}return Sn(k,H)}),n){sP(e,we);let k=()=>lP(e,we);e.addEventListener("pagehide",k),be=()=>e.removeEventListener("pagehide",k)}return I.initialized||Sn("POP",I.location,{initialHydration:!0}),J}function Ke(){v&&v(),be&&be(),E.clear(),ge&&ge.abort(),I.fetchers.forEach((k,H)=>gr(H)),I.blockers.forEach((k,H)=>Un(H))}function Ve(k){return E.add(k),()=>E.delete(k)}function Le(k,H={}){k.matches&&(k.matches=k.matches.map(fe=>{let Ne=c[fe.route.id],Se=fe.route;return Se.element!==Ne.element||Se.errorElement!==Ne.errorElement||Se.hydrateFallbackElement!==Ne.hydrateFallbackElement?{...fe,route:Ne}:fe})),I={...I,...k};let V=[],ae=[];I.fetchers.forEach((fe,Ne)=>{fe.state==="idle"&&(pe.has(Ne)?V.push(Ne):ae.push(Ne))}),pe.forEach(fe=>{!I.fetchers.has(fe)&&!z.has(fe)&&V.push(fe)}),[...E].forEach(fe=>fe(I,{deletedFetchers:V,newErrors:k.errors??null,viewTransitionOpts:H.viewTransitionOpts,flushSync:H.flushSync===!0})),V.forEach(fe=>gr(fe)),ae.forEach(fe=>I.fetchers.delete(fe))}function wt(k,H,{flushSync:V}={}){let ae=I.actionData!=null&&I.navigation.formMethod!=null&&Rn(I.navigation.formMethod)&&I.navigation.state==="loading"&&k.state?._isRedirect!==!0,fe;H.actionData?Object.keys(H.actionData).length>0?fe=H.actionData:fe=null:ae?fe=I.actionData:fe=null;let Ne=H.loaderData?pw(I.loaderData,H.loaderData,H.matches||[],H.errors):I.loaderData,Se=I.blockers;Se.size>0&&(Se=new Map(Se),Se.forEach((Pe,xe)=>Se.set(xe,tc)));let Oe=me?!1:It(k,H.matches||I.matches),Ie=he===!0||I.navigation.formMethod!=null&&Rn(I.navigation.formMethod)&&k.state?._isRedirect!==!0;f&&(d=f,f=void 0),me||j==="POP"||(j==="PUSH"?t.history.push(k,k.state):j==="REPLACE"&&t.history.replace(k,k.state));let ke;if(j==="POP"){let Pe=we.get(I.location.pathname);Pe&&Pe.has(k.pathname)?ke={currentLocation:I.location,nextLocation:k}:we.has(k.pathname)&&(ke={currentLocation:k,nextLocation:I.location})}else if(ve){let Pe=we.get(I.location.pathname);Pe?Pe.add(k.pathname):(Pe=new Set([k.pathname]),we.set(I.location.pathname,Pe)),ke={currentLocation:I.location,nextLocation:k}}Le({...H,actionData:fe,loaderData:Ne,historyAction:j,location:k,initialized:!0,navigation:Dp,revalidation:"idle",restoreScrollPosition:Oe,preventScrollReset:Ie,blockers:Se},{viewTransitionOpts:ke,flushSync:V===!0}),j="POP",he=!1,ve=!1,me=!1,P=!1,se?.resolve(),se=null,ye?.resolve(),ye=null}async function ln(k,H){if(se?.resolve(),se=null,typeof k=="number"){se||(se=bw());let nt=se.promise;return t.history.go(k),nt}let V=fg(I.location,I.matches,m,k,H?.fromRouteId,H?.relative),{path:ae,submission:fe,error:Ne}=iw(!1,V,H),Se=I.location,Oe=Cc(I.location,ae,H&&H.state);Oe={...Oe,...t.history.encodeLocation(Oe)};let Ie=H&&H.replace!=null?H.replace:void 0,ke="PUSH";Ie===!0?ke="REPLACE":Ie===!1||fe!=null&&Rn(fe.formMethod)&&fe.formAction===I.location.pathname+I.location.search&&(ke="REPLACE");let Pe=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,xe=(H&&H.flushSync)===!0,He=Jo({currentLocation:Se,nextLocation:Oe,historyAction:ke});if(He){So(He,{state:"blocked",location:Oe,proceed(){So(He,{state:"proceeding",proceed:void 0,reset:void 0,location:Oe}),ln(k,H)},reset(){let nt=new Map(I.blockers);nt.set(He,tc),Le({blockers:nt})}});return}await Sn(ke,Oe,{submission:fe,pendingError:Ne,preventScrollReset:Pe,replace:H&&H.replace,enableViewTransition:H&&H.viewTransition,flushSync:xe,callSiteDefaultShouldRevalidate:H&&H.unstable_defaultShouldRevalidate})}function Co(){ye||(ye=bw()),Jt(),Le({revalidation:"loading"});let k=ye.promise;return I.navigation.state==="submitting"?k:I.navigation.state==="idle"?(Sn(I.historyAction,I.location,{startUninterruptedRevalidation:!0}),k):(Sn(j||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation,enableViewTransition:ve===!0}),k)}async function Sn(k,H,V){ge&&ge.abort(),ge=null,j=k,me=(V&&V.startUninterruptedRevalidation)===!0,Ot(I.location,I.matches),he=(V&&V.preventScrollReset)===!0,ve=(V&&V.enableViewTransition)===!0;let ae=f||d,fe=V&&V.overrideNavigation,Ne=V?.initialHydration&&I.matches&&I.matches.length>0&&!x?I.matches:Aa(ae,H,m),Se=(V&&V.flushSync)===!0;if(Ne&&I.initialized&&!P&&WM(I.location,H)&&!(V&&V.submission&&Rn(V.submission.formMethod))){wt(H,{matches:Ne},{flushSync:Se});return}let Oe=Dt(Ne,ae,H.pathname);if(Oe.active&&Oe.matches&&(Ne=Oe.matches),!Ne){let{error:Ct,notFoundMatches:Ut,route:lt}=yr(H.pathname);wt(H,{matches:Ut,loaderData:{},errors:{[lt.id]:Ct}},{flushSync:Se});return}ge=new AbortController;let Ie=As(t.history,H,ge.signal,V&&V.submission),ke=t.getContext?await t.getContext():new ew,Pe;if(V&&V.pendingError)Pe=[_a(Ne).route.id,{type:"error",error:V.pendingError}];else if(V&&V.submission&&Rn(V.submission.formMethod)){let Ct=await Pt(Ie,H,V.submission,Ne,ke,Oe.active,V&&V.initialHydration===!0,{replace:V.replace,flushSync:Se});if(Ct.shortCircuited)return;if(Ct.pendingActionResult){let[Ut,lt]=Ct.pendingActionResult;if(lr(lt)&&Sc(lt.error)&&lt.error.status===404){ge=null,wt(H,{matches:Ct.matches,loaderData:{},errors:{[Ut]:lt.error}});return}}Ne=Ct.matches||Ne,Pe=Ct.pendingActionResult,fe=Lp(H,V.submission),Se=!1,Oe.active=!1,Ie=As(t.history,Ie.url,Ie.signal)}let{shortCircuited:xe,matches:He,loaderData:nt,errors:Gt}=await Li(Ie,H,Ne,ke,Oe.active,fe,V&&V.submission,V&&V.fetcherSubmission,V&&V.replace,V&&V.initialHydration===!0,Se,Pe,V&&V.callSiteDefaultShouldRevalidate);xe||(ge=null,wt(H,{matches:He||Ne,...gw(Pe),loaderData:nt,errors:Gt}))}async function Pt(k,H,V,ae,fe,Ne,Se,Oe={}){Jt();let Ie=aP(H,V);if(Le({navigation:Ie},{flushSync:Oe.flushSync===!0}),Ne){let xe=await vr(ae,H.pathname,k.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){if(xe.partialMatches.length===0){let{matches:nt,route:Gt}=ad(d);return{matches:nt,pendingActionResult:[Gt.id,{type:"error",error:xe.error}]}}let He=_a(xe.partialMatches).route.id;return{matches:xe.partialMatches,pendingActionResult:[He,{type:"error",error:xe.error}]}}else if(xe.matches)ae=xe.matches;else{let{notFoundMatches:He,error:nt,route:Gt}=yr(H.pathname);return{matches:He,pendingActionResult:[Gt.id,{type:"error",error:nt}]}}}let ke,Pe=kd(ae,H);if(!Pe.route.action&&!Pe.route.lazy)ke={type:"error",error:Rr(405,{method:k.method,pathname:H.pathname,routeId:Pe.route.id})};else{let xe=ks(l,c,k,ae,Pe,Se?[]:o,fe),He=await Eo(k,xe,fe,null);if(ke=He[Pe.route.id],!ke){for(let nt of ae)if(He[nt.route.id]){ke=He[nt.route.id];break}}if(k.signal.aborted)return{shortCircuited:!0}}if(mi(ke)){let xe;return Oe&&Oe.replace!=null?xe=Oe.replace:xe=fw(ke.response.headers.get("Location"),new URL(k.url),m,t.history)===I.location.pathname+I.location.search,await Pr(k,ke,!0,{submission:V,replace:xe}),{shortCircuited:!0}}if(lr(ke)){let xe=_a(ae,Pe.route.id);return(Oe&&Oe.replace)!==!0&&(j="PUSH"),{matches:ae,pendingActionResult:[xe.route.id,ke,Pe.route.id]}}return{matches:ae,pendingActionResult:[Pe.route.id,ke]}}async function Li(k,H,V,ae,fe,Ne,Se,Oe,Ie,ke,Pe,xe,He){let nt=Ne||Lp(H,Se),Gt=Se||Oe||vw(nt),Ct=!me&&!ke;if(fe){if(Ct){let cn=xn(xe);Le({navigation:nt,...cn!==void 0?{actionData:cn}:{}},{flushSync:Pe})}let Ze=await vr(V,H.pathname,k.signal);if(Ze.type==="aborted")return{shortCircuited:!0};if(Ze.type==="error"){if(Ze.partialMatches.length===0){let{matches:To,route:Vt}=ad(d);return{matches:To,loaderData:{},errors:{[Vt.id]:Ze.error}}}let cn=_a(Ze.partialMatches).route.id;return{matches:Ze.partialMatches,loaderData:{},errors:{[cn]:Ze.error}}}else if(Ze.matches)V=Ze.matches;else{let{error:cn,notFoundMatches:To,route:Vt}=yr(H.pathname);return{matches:To,loaderData:{},errors:{[Vt.id]:cn}}}}let Ut=f||d,{dsMatches:lt,revalidatingFetchers:kn}=sw(k,ae,l,c,t.history,I,V,Gt,H,ke?[]:o,ke===!0,P,$,pe,Q,ie,Ut,m,t.patchRoutesOnNavigation!=null,xe,He);if(N=++de,!t.dataStrategy&&!lt.some(Ze=>Ze.shouldLoad)&&!lt.some(Ze=>Ze.route.middleware&&Ze.route.middleware.length>0)&&kn.length===0){let Ze=Wr();return wt(H,{matches:V,loaderData:{},errors:xe&&lr(xe[1])?{[xe[0]]:xe[1].error}:null,...gw(xe),...Ze?{fetchers:new Map(I.fetchers)}:{}},{flushSync:Pe}),{shortCircuited:!0}}if(Ct){let Ze={};if(!fe){Ze.navigation=nt;let cn=xn(xe);cn!==void 0&&(Ze.actionData=cn)}kn.length>0&&(Ze.fetchers=Ui(kn)),Le(Ze,{flushSync:Pe})}kn.forEach(Ze=>{wn(Ze.key),Ze.controller&&z.set(Ze.key,Ze.controller)});let Zr=()=>kn.forEach(Ze=>wn(Ze.key));ge&&ge.signal.addEventListener("abort",Zr);let{loaderResults:Va,fetcherResults:Jn}=await Xn(lt,kn,k,ae);if(k.signal.aborted)return{shortCircuited:!0};ge&&ge.signal.removeEventListener("abort",Zr),kn.forEach(Ze=>z.delete(Ze.key));let Nn=id(Va);if(Nn)return await Pr(k,Nn.result,!0,{replace:Ie}),{shortCircuited:!0};if(Nn=id(Jn),Nn)return ie.add(Nn.key),await Pr(k,Nn.result,!0,{replace:Ie}),{shortCircuited:!0};let{loaderData:Zn,errors:wo}=mw(I,V,Va,xe,kn,Jn);ke&&I.errors&&(wo={...I.errors,...wo});let eo=Wr(),Lr=Jr(N),Zo=eo||Lr||kn.length>0;return{matches:V,loaderData:Zn,errors:wo,...Zo?{fetchers:new Map(I.fetchers)}:{}}}function xn(k){if(k&&!lr(k[1]))return{[k[0]]:k[1].data};if(I.actionData)return Object.keys(I.actionData).length===0?null:I.actionData}function Ui(k){return k.forEach(H=>{let V=I.fetchers.get(H.key),ae=nc(void 0,V?V.data:void 0);I.fetchers.set(H.key,ae)}),new Map(I.fetchers)}async function Xo(k,H,V,ae){wn(k);let fe=(ae&&ae.flushSync)===!0,Ne=f||d,Se=fg(I.location,I.matches,m,V,H,ae?.relative),Oe=Aa(Ne,Se,m),Ie=Dt(Oe,Ne,Se);if(Ie.active&&Ie.matches&&(Oe=Ie.matches),!Oe){yt(k,H,Rr(404,{pathname:Se}),{flushSync:fe});return}let{path:ke,submission:Pe,error:xe}=iw(!0,Se,ae);if(xe){yt(k,H,xe,{flushSync:fe});return}let He=t.getContext?await t.getContext():new ew,nt=(ae&&ae.preventScrollReset)===!0;if(Pe&&Rn(Pe.formMethod)){await mn(k,H,ke,Oe,He,Ie.active,fe,nt,Pe,ae&&ae.unstable_defaultShouldRevalidate);return}Q.set(k,{routeId:H,path:ke}),await Mr(k,H,ke,Oe,He,Ie.active,fe,nt,Pe)}async function mn(k,H,V,ae,fe,Ne,Se,Oe,Ie,ke){Jt(),Q.delete(k);let Pe=I.fetchers.get(k);jt(k,iP(Ie,Pe),{flushSync:Se});let xe=new AbortController,He=As(t.history,V,xe.signal,Ie);if(Ne){let Tt=await vr(ae,new URL(He.url).pathname,He.signal,k);if(Tt.type==="aborted")return;if(Tt.type==="error"){yt(k,H,Tt.error,{flushSync:Se});return}else if(Tt.matches)ae=Tt.matches;else{yt(k,H,Rr(404,{pathname:V}),{flushSync:Se});return}}let nt=kd(ae,V);if(!nt.route.action&&!nt.route.lazy){let Tt=Rr(405,{method:Ie.formMethod,pathname:V,routeId:H});yt(k,H,Tt,{flushSync:Se});return}z.set(k,xe);let Gt=de,Ct=ks(l,c,He,ae,nt,o,fe),Ut=await Eo(He,Ct,fe,k),lt=Ut[nt.route.id];if(!lt){for(let Tt of Ct)if(Ut[Tt.route.id]){lt=Ut[Tt.route.id];break}}if(He.signal.aborted){z.get(k)===xe&&z.delete(k);return}if(pe.has(k)){if(mi(lt)||lr(lt)){jt(k,jo(void 0));return}}else{if(mi(lt))if(z.delete(k),N>Gt){jt(k,jo(void 0));return}else return ie.add(k),jt(k,nc(Ie)),Pr(He,lt,!1,{fetcherSubmission:Ie,preventScrollReset:Oe});if(lr(lt)){yt(k,H,lt.error);return}}let kn=I.navigation.location||I.location,Zr=As(t.history,kn,xe.signal),Va=f||d,Jn=I.navigation.state!=="idle"?Aa(Va,I.navigation.location,m):I.matches;Xe(Jn,"Didn't find any matches after fetcher action");let Nn=++de;X.set(k,Nn);let Zn=nc(Ie,lt.data);I.fetchers.set(k,Zn);let{dsMatches:wo,revalidatingFetchers:eo}=sw(Zr,fe,l,c,t.history,I,Jn,Ie,kn,o,!1,P,$,pe,Q,ie,Va,m,t.patchRoutesOnNavigation!=null,[nt.route.id,lt],ke);eo.filter(Tt=>Tt.key!==k).forEach(Tt=>{let Bi=Tt.key,Ya=I.fetchers.get(Bi),Wc=nc(void 0,Ya?Ya.data:void 0);I.fetchers.set(Bi,Wc),wn(Bi),Tt.controller&&z.set(Bi,Tt.controller)}),Le({fetchers:new Map(I.fetchers)});let Lr=()=>eo.forEach(Tt=>wn(Tt.key));xe.signal.addEventListener("abort",Lr);let{loaderResults:Zo,fetcherResults:Ze}=await Xn(wo,eo,Zr,fe);if(xe.signal.aborted)return;if(xe.signal.removeEventListener("abort",Lr),X.delete(k),z.delete(k),eo.forEach(Tt=>z.delete(Tt.key)),I.fetchers.has(k)){let Tt=jo(lt.data);I.fetchers.set(k,Tt)}let cn=id(Zo);if(cn)return Pr(Zr,cn.result,!1,{preventScrollReset:Oe});if(cn=id(Ze),cn)return ie.add(cn.key),Pr(Zr,cn.result,!1,{preventScrollReset:Oe});let{loaderData:To,errors:Vt}=mw(I,Jn,Zo,void 0,eo,Ze);Jr(Nn),I.navigation.state==="loading"&&Nn>N?(Xe(j,"Expected pending action"),ge&&ge.abort(),wt(I.navigation.location,{matches:Jn,loaderData:To,errors:Vt,fetchers:new Map(I.fetchers)})):(Le({errors:Vt,loaderData:pw(I.loaderData,To,Jn,Vt),fetchers:new Map(I.fetchers)}),P=!1)}async function Mr(k,H,V,ae,fe,Ne,Se,Oe,Ie){let ke=I.fetchers.get(k);jt(k,nc(Ie,ke?ke.data:void 0),{flushSync:Se});let Pe=new AbortController,xe=As(t.history,V,Pe.signal);if(Ne){let lt=await vr(ae,new URL(xe.url).pathname,xe.signal,k);if(lt.type==="aborted")return;if(lt.type==="error"){yt(k,H,lt.error,{flushSync:Se});return}else if(lt.matches)ae=lt.matches;else{yt(k,H,Rr(404,{pathname:V}),{flushSync:Se});return}}let He=kd(ae,V);z.set(k,Pe);let nt=de,Gt=ks(l,c,xe,ae,He,o,fe),Ut=(await Eo(xe,Gt,fe,k))[He.route.id];if(z.get(k)===Pe&&z.delete(k),!xe.signal.aborted){if(pe.has(k)){jt(k,jo(void 0));return}if(mi(Ut))if(N>nt){jt(k,jo(void 0));return}else{ie.add(k),await Pr(xe,Ut,!1,{preventScrollReset:Oe});return}if(lr(Ut)){yt(k,H,Ut.error);return}jt(k,jo(Ut.data))}}async function Pr(k,H,V,{submission:ae,fetcherSubmission:fe,preventScrollReset:Ne,replace:Se}={}){V||(se?.resolve(),se=null),H.response.headers.has("X-Remix-Revalidate")&&(P=!0);let Oe=H.response.headers.get("Location");Xe(Oe,"Expected a Location header on the redirect Response"),Oe=fw(Oe,new URL(k.url),m,t.history);let Ie=Cc(I.location,Oe,{_isRedirect:!0});if(n){let Gt=!1;if(H.response.headers.has("X-Remix-Reload-Document"))Gt=!0;else if(my(Oe)){const Ct=jA(Oe,!0);Gt=Ct.origin!==e.location.origin||xr(Ct.pathname,m)==null}if(Gt){Se?e.location.replace(Oe):e.location.assign(Oe);return}}ge=null;let ke=Se===!0||H.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Pe,formAction:xe,formEncType:He}=I.navigation;!ae&&!fe&&Pe&&xe&&He&&(ae=vw(I.navigation));let nt=ae||fe;if(DM.has(H.response.status)&&nt&&Rn(nt.formMethod))await Sn(ke,Ie,{submission:{...nt,formAction:Oe},preventScrollReset:Ne||he,enableViewTransition:V?ve:void 0});else{let Gt=Lp(Ie,ae);await Sn(ke,Ie,{overrideNavigation:Gt,fetcherSubmission:fe,preventScrollReset:Ne||he,enableViewTransition:V?ve:void 0})}}async function Eo(k,H,V,ae){let fe,Ne={};try{fe=await GM(g,k,H,ae,V,!1)}catch(Se){return H.filter(Oe=>Oe.shouldLoad).forEach(Oe=>{Ne[Oe.route.id]={type:"error",error:Se}}),Ne}if(k.signal.aborted)return Ne;if(!Rn(k.method))for(let Se of H){if(fe[Se.route.id]?.type==="error")break;!fe.hasOwnProperty(Se.route.id)&&!I.loaderData.hasOwnProperty(Se.route.id)&&(!I.errors||!I.errors.hasOwnProperty(Se.route.id))&&Se.shouldCallHandler()&&(fe[Se.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${Se.route.id}`)})}for(let[Se,Oe]of Object.entries(fe))if(tP(Oe)){let Ie=Oe.result;Ne[Se]={type:"redirect",response:$M(Ie,k,Se,H,m)}}else Ne[Se]=await QM(Oe);return Ne}async function Xn(k,H,V,ae){let fe=Eo(V,k,ae,null),Ne=Promise.all(H.map(async Ie=>{if(Ie.matches&&Ie.match&&Ie.request&&Ie.controller){let Pe=(await Eo(Ie.request,Ie.matches,ae,Ie.key))[Ie.match.route.id];return{[Ie.key]:Pe}}else return Promise.resolve({[Ie.key]:{type:"error",error:Rr(404,{pathname:Ie.path})}})})),Se=await fe,Oe=(await Ne).reduce((Ie,ke)=>Object.assign(Ie,ke),{});return{loaderResults:Se,fetcherResults:Oe}}function Jt(){P=!0,Q.forEach((k,H)=>{z.has(H)&&$.add(H),wn(H)})}function jt(k,H,V={}){I.fetchers.set(k,H),Le({fetchers:new Map(I.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function yt(k,H,V,ae={}){let fe=_a(I.matches,H);gr(k),Le({errors:{[fe.route.id]:V},fetchers:new Map(I.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function Dr(k){return ne.set(k,(ne.get(k)||0)+1),pe.has(k)&&pe.delete(k),I.fetchers.get(k)||LM}function Hi(k,H){wn(k,H?.reason),jt(k,jo(null))}function gr(k){let H=I.fetchers.get(k);z.has(k)&&!(H&&H.state==="loading"&&X.has(k))&&wn(k),Q.delete(k),X.delete(k),ie.delete(k),pe.delete(k),$.delete(k),I.fetchers.delete(k)}function Wo(k){let H=(ne.get(k)||0)-1;H<=0?(ne.delete(k),pe.add(k)):ne.set(k,H),Le({fetchers:new Map(I.fetchers)})}function wn(k,H){let V=z.get(k);V&&(V.abort(H),z.delete(k))}function Wn(k){for(let H of k){let V=Dr(H),ae=jo(V.data);I.fetchers.set(H,ae)}}function Wr(){let k=[],H=!1;for(let V of ie){let ae=I.fetchers.get(V);Xe(ae,`Expected fetcher: ${V}`),ae.state==="loading"&&(ie.delete(V),k.push(V),H=!0)}return Wn(k),H}function Jr(k){let H=[];for(let[V,ae]of X)if(ae<k){let fe=I.fetchers.get(V);Xe(fe,`Expected fetcher: ${V}`),fe.state==="loading"&&(wn(V),X.delete(V),H.push(V))}return Wn(H),H.length>0}function Ga(k,H){let V=I.blockers.get(k)||tc;return Ce.get(k)!==H&&Ce.set(k,H),V}function Un(k){I.blockers.delete(k),Ce.delete(k)}function So(k,H){let V=I.blockers.get(k)||tc;Xe(V.state==="unblocked"&&H.state==="blocked"||V.state==="blocked"&&H.state==="blocked"||V.state==="blocked"&&H.state==="proceeding"||V.state==="blocked"&&H.state==="unblocked"||V.state==="proceeding"&&H.state==="unblocked",`Invalid blocker state transition: ${V.state} -> ${H.state}`);let ae=new Map(I.blockers);ae.set(k,H),Le({blockers:ae})}function Jo({currentLocation:k,nextLocation:H,historyAction:V}){if(Ce.size===0)return;Ce.size>1&&Bt(!1,"A router only supports one blocker at a time");let ae=Array.from(Ce.entries()),[fe,Ne]=ae[ae.length-1],Se=I.blockers.get(fe);if(!(Se&&Se.state==="proceeding")&&Ne({currentLocation:k,nextLocation:H,historyAction:V}))return fe}function yr(k){let H=Rr(404,{pathname:k}),V=f||d,{matches:ae,route:fe}=ad(V);return{notFoundMatches:ae,route:fe,error:H}}function zi(k,H,V){if(w=k,T=H,S=V||null,!R&&I.navigation===Dp){R=!0;let ae=It(I.location,I.matches);ae!=null&&Le({restoreScrollPosition:ae})}return()=>{w=null,T=null,S=null}}function Fe(k,H){return S&&S(k,H.map(ae=>lM(ae,I.loaderData)))||k.key}function Ot(k,H){if(w&&T){let V=Fe(k,H);w[V]=T()}}function It(k,H){if(w){let V=Fe(k,H),ae=w[V];if(typeof ae=="number")return ae}return null}function Dt(k,H,V){if(t.patchRoutesOnNavigation)if(k){if(Object.keys(k[0].params).length>0)return{active:!0,matches:lc(H,V,m,!0)}}else return{active:!0,matches:lc(H,V,m,!0)||[]};return{active:!1,matches:null}}async function vr(k,H,V,ae){if(!t.patchRoutesOnNavigation)return{type:"success",matches:k};let fe=k;for(;;){let Ne=f==null,Se=f||d,Oe=c;try{await t.patchRoutesOnNavigation({signal:V,path:H,matches:fe,fetcherKey:ae,patch:(Pe,xe)=>{V.aborted||lw(Pe,xe,Se,Oe,l,!1)}})}catch(Pe){return{type:"error",error:Pe,partialMatches:fe}}finally{Ne&&!V.aborted&&(d=[...d])}if(V.aborted)return{type:"aborted"};let Ie=Aa(Se,H,m),ke=null;if(Ie){if(Object.keys(Ie[0].params).length===0)return{type:"success",matches:Ie};if(ke=lc(Se,H,m,!0),!(ke&&fe.length<ke.length&&Lt(fe,ke.slice(0,fe.length))))return{type:"success",matches:Ie}}if(ke||(ke=lc(Se,H,m,!0)),!ke||Lt(fe,ke))return{type:"success",matches:null};fe=ke}}function Lt(k,H){return k.length===H.length&&k.every((V,ae)=>V.route.id===H[ae].route.id)}function xt(k){c={},f=Ec(k,l,void 0,c)}function kt(k,H,V=!1){let ae=f==null;lw(k,H,f||d,c,l,V),ae&&(d=[...d],Le({}))}return J={get basename(){return m},get future(){return y},get state(){return I},get routes(){return d},get window(){return e},initialize:We,subscribe:Ve,enableScrollRestoration:zi,navigate:ln,fetch:Xo,revalidate:Co,createHref:k=>t.history.createHref(k),encodeLocation:k=>t.history.encodeLocation(k),getFetcher:Dr,resetFetcher:Hi,deleteFetcher:Wo,dispose:Ke,getBlocker:Ga,deleteBlocker:Un,patchRoutes:kt,_internalFetchControllers:z,_internalSetRoutes:xt,_internalSetStateDoNotUseOrYouWillBreakYourApp(k){Le(k)}},t.unstable_instrumentations&&(J=RM(J,t.unstable_instrumentations.map(k=>k.router).filter(Boolean))),J}function zM(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function fg(t,e,n,o,i,l){let c,d;if(i){c=[];for(let m of e)if(c.push(m),m.route.id===i){d=m;break}}else c=e,d=e[e.length-1];let f=Mf(o||".",Nf(c),xr(t.pathname,n)||t.pathname,l==="path");if(o==null&&(f.search=t.search,f.hash=t.hash),(o==null||o===""||o===".")&&d){let m=yy(f.search);if(d.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let g=new URLSearchParams(f.search),y=g.getAll("index");g.delete("index"),y.filter(E=>E).forEach(E=>g.append("index",E));let v=g.toString();f.search=v?`?${v}`:""}}return n!=="/"&&(f.pathname=EM({basename:n,pathname:f.pathname})),yo(f)}function iw(t,e,n){if(!n||!zM(n))return{path:e};if(n.formMethod&&!oP(n.formMethod))return{path:e,error:Rr(405,{method:n.formMethod})};let o=()=>({path:e,error:Rr(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),c=o_(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Rn(l))return o();let y=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((v,[E,w])=>`${v}${E}=${w}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:y}}}else if(n.formEncType==="application/json"){if(!Rn(l))return o();try{let y=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:y,text:void 0}}}catch{return o()}}}Xe(typeof FormData=="function","FormData is not available in this environment");let d,f;if(n.formData)d=pg(n.formData),f=n.formData;else if(n.body instanceof FormData)d=pg(n.body),f=n.body;else if(n.body instanceof URLSearchParams)d=n.body,f=hw(d);else if(n.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(n.body),f=hw(d)}catch{return o()}let m={formMethod:l,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Rn(m.formMethod))return{path:e,submission:m};let g=ja(e);return t&&g.search&&yy(g.search)&&d.append("index",""),g.search=`?${d}`,{path:yo(g),submission:m}}function sw(t,e,n,o,i,l,c,d,f,m,g,y,v,E,w,S,T,R,O,x,B){let L=x?lr(x[1])?x[1].error:x[1].data:void 0,J=i.createURL(l.location),I=i.createURL(f),j;if(g&&l.errors){let me=Object.keys(l.errors)[0];j=c.findIndex(P=>P.route.id===me)}else if(x&&lr(x[1])){let me=x[0];j=c.findIndex(P=>P.route.id===me)-1}let se=x?x[1].statusCode:void 0,he=se&&se>=400,ge={currentUrl:J,currentParams:l.matches[0]?.params||{},nextUrl:I,nextParams:c[0].params,...d,actionResult:L,actionStatus:se},ve=Uc(c),we=c.map((me,P)=>{let{route:$}=me,z=null;if(j!=null&&P>j?z=!1:$.lazy?z=!0:py($)?g?z=hg($,l.loaderData,l.errors):BM(l.loaderData,l.matches[P],me)&&(z=!0):z=!1,z!==null)return mg(n,o,t,ve,me,m,e,z);let de=!1;typeof B=="boolean"?de=B:he?de=!1:(y||J.pathname+J.search===I.pathname+I.search||J.search!==I.search||jM(l.matches[P],me))&&(de=!0);let N={...ge,defaultShouldRevalidate:de},X=hc(me,N);return mg(n,o,t,ve,me,m,e,X,N,B)}),be=[];return w.forEach((me,P)=>{if(g||!c.some(ne=>ne.route.id===me.routeId)||E.has(P))return;let $=l.fetchers.get(P),z=$&&$.state!=="idle"&&$.data===void 0,de=Aa(T,me.path,R);if(!de){if(O&&z)return;be.push({key:P,routeId:me.routeId,path:me.path,matches:null,match:null,request:null,controller:null});return}if(S.has(P))return;let N=kd(de,me.path),X=new AbortController,ie=As(i,me.path,X.signal),Q=null;if(v.has(P))v.delete(P),Q=ks(n,o,ie,de,N,m,e);else if(z)y&&(Q=ks(n,o,ie,de,N,m,e));else{let ne;typeof B=="boolean"?ne=B:he?ne=!1:ne=y;let pe={...ge,defaultShouldRevalidate:ne};hc(N,pe)&&(Q=ks(n,o,ie,de,N,m,e,pe))}Q&&be.push({key:P,routeId:me.routeId,path:me.path,matches:Q,match:N,request:ie,controller:X})}),{dsMatches:we,revalidatingFetchers:be}}function py(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function hg(t,e,n){if(t.lazy)return!0;if(!py(t))return!1;let o=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!o&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!o&&!i}function BM(t,e,n){let o=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return o||i}function jM(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function hc(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function lw(t,e,n,o,i,l){let c;if(t){let m=o[t];Xe(m,`No route found to patch children into: routeId = ${t}`),m.children||(m.children=[]),c=m.children}else c=n;let d=[],f=[];if(e.forEach(m=>{let g=c.find(y=>ZA(m,y));g?f.push({existingRoute:g,newRoute:m}):d.push(m)}),d.length>0){let m=Ec(d,i,[t||"_","patch",String(c?.length||"0")],o);c.push(...m)}if(l&&f.length>0)for(let m=0;m<f.length;m++){let{existingRoute:g,newRoute:y}=f[m],v=g,[E]=Ec([y],i,[],{},!0);Object.assign(v,{element:E.element?E.element:v.element,errorElement:E.errorElement?E.errorElement:v.errorElement,hydrateFallbackElement:E.hydrateFallbackElement?E.hydrateFallbackElement:v.hydrateFallbackElement})}}function ZA(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,o)=>e.children?.some(i=>ZA(n,i))):!1}var cw=new WeakMap,e_=({key:t,route:e,manifest:n,mapRouteProperties:o})=>{let i=n[e.id];if(Xe(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let l=i.lazy[t];if(!l)return;let c=cw.get(i);c||(c={},cw.set(i,c));let d=c[t];if(d)return d;let f=(async()=>{let m=oM(t),y=i[t]!==void 0&&t!=="hasErrorBoundary";if(m)Bt(!m,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),c[t]=Promise.resolve();else if(y)Bt(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let v=await l();v!=null&&(Object.assign(i,{[t]:v}),Object.assign(i,o(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(v=>v===void 0)&&(i.lazy=void 0))})();return c[t]=f,f},uw=new WeakMap;function FM(t,e,n,o,i){let l=n[t.id];if(Xe(l,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let g=uw.get(l);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let y=(async()=>{Xe(typeof t.lazy=="function","No lazy route function found");let v=await t.lazy(),E={};for(let w in v){let S=v[w];if(S===void 0)continue;let T=iM(w),O=l[w]!==void 0&&w!=="hasErrorBoundary";T?Bt(!T,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):O?Bt(!O,`Route "${l.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):E[w]=S}Object.assign(l,E),Object.assign(l,{...o(l),lazy:void 0})})();return uw.set(l,y),y.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:y}}let c=Object.keys(t.lazy),d=[],f;for(let g of c){if(i&&i.includes(g))continue;let y=e_({key:g,route:t,manifest:n,mapRouteProperties:o});y&&(d.push(y),g===e&&(f=y))}let m=d.length>0?Promise.all(d).then(()=>{}):void 0;return m?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:f}}async function dw(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,l)=>{n[e[l].route.id]=i}),n}async function qM(t){return t.matches.some(e=>e.route.middleware)?t_(t,()=>dw(t)):dw(t)}function t_(t,e){return KM(t,e,o=>{if(rP(o))throw o;return o},ZM,n);function n(o,i,l){if(l)return Promise.resolve(Object.assign(l.value,{[i]:{type:"error",result:o}}));{let{matches:c}=t,d=Math.min(Math.max(c.findIndex(m=>m.route.id===i),0),Math.max(c.findIndex(m=>m.shouldCallHandler()),0)),f=_a(c,c[d].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:o}})}}}async function KM(t,e,n,o,i){let{matches:l,request:c,params:d,context:f,unstable_pattern:m}=t,g=l.flatMap(v=>v.route.middleware?v.route.middleware.map(E=>[v.route.id,E]):[]);return await n_({request:c,params:d,context:f,unstable_pattern:m},g,e,n,o,i)}async function n_(t,e,n,o,i,l,c=0){let{request:d}=t;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let f=e[c];if(!f)return await n();let[m,g]=f,y,v=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");try{return y={value:await n_(t,e,n,o,i,l,c+1)},y.value}catch(E){return y={value:await l(E,m,y)},y.value}};try{let E=await g(t,v),w=E!=null?o(E):void 0;return i(w)?w:y?w??y.value:(y={value:await v()},y.value)}catch(E){return await l(E,m,y)}}function r_(t,e,n,o,i){let l=e_({key:"middleware",route:o.route,manifest:e,mapRouteProperties:t}),c=FM(o.route,Rn(n.method)?"action":"loader",e,t,i);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function mg(t,e,n,o,i,l,c,d,f=null,m){let g=!1,y=r_(t,e,n,i,l);return{...i,_lazyPromises:y,shouldLoad:d,shouldRevalidateArgs:f,shouldCallHandler(v){return g=!0,f?typeof m=="boolean"?hc(i,{...f,defaultShouldRevalidate:m}):typeof v=="boolean"?hc(i,{...f,defaultShouldRevalidate:v}):hc(i,f):d},resolve(v){let{lazy:E,loader:w,middleware:S}=i.route,T=g||d||v&&!Rn(n.method)&&(E||w),R=S&&S.length>0&&!w&&!E;return T&&(Rn(n.method)||!R)?VM({request:n,unstable_pattern:o,match:i,lazyHandlerPromise:y?.handler,lazyRoutePromise:y?.route,handlerOverride:v,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function ks(t,e,n,o,i,l,c,d=null){return o.map(f=>f.route.id!==i.route.id?{...f,shouldLoad:!1,shouldRevalidateArgs:d,shouldCallHandler:()=>!1,_lazyPromises:r_(t,e,n,f,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:mg(t,e,n,Uc(o),f,l,c,!0,d))}async function GM(t,e,n,o,i,l){n.some(m=>m._lazyPromises?.middleware)&&await Promise.all(n.map(m=>m._lazyPromises?.middleware));let c={request:e,unstable_pattern:Uc(n),params:n[0].params,context:i,matches:n},f=await t({...c,fetcherKey:o,runClientMiddleware:m=>{let g=c;return t_(g,()=>m({...g,fetcherKey:o,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(m=>[m._lazyPromises?.handler,m._lazyPromises?.route]))}catch{}return f}async function VM({request:t,unstable_pattern:e,match:n,lazyHandlerPromise:o,lazyRoutePromise:i,handlerOverride:l,scopedContext:c}){let d,f,m=Rn(t.method),g=m?"action":"loader",y=v=>{let E,w=new Promise((R,O)=>E=O);f=()=>E(),t.signal.addEventListener("abort",f);let S=R=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${n.route.id}]`)):v({request:t,unstable_pattern:e,params:n.params,context:c},...R!==void 0?[R]:[]),T=(async()=>{try{return{type:"data",result:await(l?l(O=>S(O)):S())}}catch(R){return{type:"error",result:R}}})();return Promise.race([T,w])};try{let v=m?n.route.action:n.route.loader;if(o||i)if(v){let E,[w]=await Promise.all([y(v).catch(S=>{E=S}),o,i]);if(E!==void 0)throw E;d=w}else{await o;let E=m?n.route.action:n.route.loader;if(E)[d]=await Promise.all([y(E),i]);else if(g==="action"){let w=new URL(t.url),S=w.pathname+w.search;throw Rr(405,{method:t.method,pathname:S,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(v)d=await y(v);else{let E=new URL(t.url),w=E.pathname+E.search;throw Rr(404,{pathname:w})}}catch(v){return{type:"error",result:v}}finally{f&&t.signal.removeEventListener("abort",f)}return d}async function YM(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function QM(t){let{result:e,type:n}=t;if(gy(e)){let o;try{o=await YM(e)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Lc(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:"data",data:o,statusCode:e.status,headers:e.headers}}return n==="error"?yw(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:JM(e),statusCode:Sc(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Sc(e)?e.status:void 0}:yw(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function $M(t,e,n,o,i){let l=t.headers.get("Location");if(Xe(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!my(l)){let c=o.slice(0,o.findIndex(d=>d.route.id===n)+1);l=fg(new URL(e.url),c,i,l),t.headers.set("Location",l)}return t}function fw(t,e,n,o){let i=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(my(t)){let l=t,c=l.startsWith("//")?new URL(e.protocol+l):new URL(l);if(i.includes(c.protocol))throw new Error("Invalid redirect location");let d=xr(c.pathname,n)!=null;if(c.origin===e.origin&&d)return c.pathname+c.search+c.hash}try{let l=o.createURL(t);if(i.includes(l.protocol))throw new Error("Invalid redirect location")}catch{}return t}function As(t,e,n,o){let i=t.createURL(o_(e)).toString(),l={signal:n};if(o&&Rn(o.formMethod)){let{formMethod:c,formEncType:d}=o;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(o.json)):d==="text/plain"?l.body=o.text:d==="application/x-www-form-urlencoded"&&o.formData?l.body=pg(o.formData):l.body=o.formData}return new Request(i,l)}function pg(t){let e=new URLSearchParams;for(let[n,o]of t.entries())e.append(n,typeof o=="string"?o:o.name);return e}function hw(t){let e=new FormData;for(let[n,o]of t.entries())e.append(n,o);return e}function XM(t,e,n,o=!1,i=!1){let l={},c=null,d,f=!1,m={},g=n&&lr(n[1])?n[1].error:void 0;return t.forEach(y=>{if(!(y.route.id in e))return;let v=y.route.id,E=e[v];if(Xe(!mi(E),"Cannot handle redirect results in processLoaderData"),lr(E)){let w=E.error;if(g!==void 0&&(w=g,g=void 0),c=c||{},i)c[v]=w;else{let S=_a(t,v);c[S.route.id]==null&&(c[S.route.id]=w)}o||(l[v]=JA),f||(f=!0,d=Sc(E.error)?E.error.status:500),E.headers&&(m[v]=E.headers)}else l[v]=E.data,E.statusCode&&E.statusCode!==200&&!f&&(d=E.statusCode),E.headers&&(m[v]=E.headers)}),g!==void 0&&n&&(c={[n[0]]:g},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:m}}function mw(t,e,n,o,i,l){let{loaderData:c,errors:d}=XM(e,n,o);return i.filter(f=>!f.matches||f.matches.some(m=>m.shouldLoad)).forEach(f=>{let{key:m,match:g,controller:y}=f;if(y&&y.signal.aborted)return;let v=l[m];if(Xe(v,"Did not find corresponding fetcher result"),lr(v)){let E=_a(t.matches,g?.route.id);d&&d[E.route.id]||(d={...d,[E.route.id]:v.error}),t.fetchers.delete(m)}else if(mi(v))Xe(!1,"Unhandled fetcher revalidation redirect");else{let E=jo(v.data);t.fetchers.set(m,E)}}),{loaderData:c,errors:d}}function pw(t,e,n,o){let i=Object.entries(e).filter(([,l])=>l!==JA).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of n){let c=l.route.id;if(!e.hasOwnProperty(c)&&t.hasOwnProperty(c)&&l.route.loader&&(i[c]=t[c]),o&&o.hasOwnProperty(c))break}return i}function gw(t){return t?lr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function _a(t,e){return(e?t.slice(0,t.findIndex(o=>o.route.id===e)+1):[...t]).reverse().find(o=>o.route.hasErrorBoundary===!0)||t[0]}function ad(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Rr(t,{pathname:e,routeId:n,method:o,type:i,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(c="Bad Request",o&&e&&n?d=`You made a ${o} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(d="Unable to encode submission body")):t===403?(c="Forbidden",d=`Route "${n}" does not match URL "${e}"`):t===404?(c="Not Found",d=`No route matches URL "${e}"`):t===405&&(c="Method Not Allowed",o&&e&&n?d=`You made a ${o.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:o&&(d=`Invalid request method "${o.toUpperCase()}"`)),new Lc(t||500,c,new Error(d),!0)}function id(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[o,i]=e[n];if(mi(i))return{key:o,result:i}}}function o_(t){let e=typeof t=="string"?ja(t):t;return yo({...e,hash:""})}function WM(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function JM(t){return new Lc(t.init?.status??500,t.init?.statusText??"Internal Server Error",t.data)}function ZM(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&eP(n))}function eP(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function tP(t){return gy(t.result)&&XA.has(t.result.status)}function lr(t){return t.type==="error"}function mi(t){return(t&&t.type)==="redirect"}function yw(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function gy(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function nP(t){return XA.has(t)}function rP(t){return gy(t)&&nP(t.status)&&t.headers.has("Location")}function oP(t){return PM.has(t.toUpperCase())}function Rn(t){return NM.has(t.toUpperCase())}function yy(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function kd(t,e){let n=typeof e=="string"?ja(e).search:e.search;if(t[t.length-1].route.index&&yy(n||""))return t[t.length-1];let o=GA(t);return o[o.length-1]}function vw(t){let{formMethod:e,formAction:n,formEncType:o,text:i,formData:l,json:c}=t;if(!(!e||!n||!o)){if(i!=null)return{formMethod:e,formAction:n,formEncType:o,formData:void 0,json:void 0,text:i};if(l!=null)return{formMethod:e,formAction:n,formEncType:o,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:o,formData:void 0,json:c,text:void 0}}}function Lp(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function aP(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function nc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function iP(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function jo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function sP(t,e){try{let n=t.sessionStorage.getItem(WA);if(n){let o=JSON.parse(n);for(let[i,l]of Object.entries(o||{}))l&&Array.isArray(l)&&e.set(i,new Set(l||[]))}}catch{}}function lP(t,e){if(e.size>0){let n={};for(let[o,i]of e)n[o]=[...i];try{t.sessionStorage.setItem(WA,JSON.stringify(n))}catch(o){Bt(!1,`Failed to save applied view transitions in sessionStorage (${o}).`)}}}function bw(){let t,e,n=new Promise((o,i)=>{t=async l=>{o(l);try{await n}catch{}},e=async l=>{i(l);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Pi=b.createContext(null);Pi.displayName="DataRouter";var Hc=b.createContext(null);Hc.displayName="DataRouterState";var a_=b.createContext(!1);function cP(){return b.useContext(a_)}var vy=b.createContext({isTransitioning:!1});vy.displayName="ViewTransition";var i_=b.createContext(new Map);i_.displayName="Fetchers";var uP=b.createContext(null);uP.displayName="Await";var pr=b.createContext(null);pr.displayName="Navigation";var Pf=b.createContext(null);Pf.displayName="Location";var kr=b.createContext({outlet:null,matches:[],isDataRoute:!1});kr.displayName="Route";var by=b.createContext(null);by.displayName="RouteError";var s_="REACT_ROUTER_ERROR",dP="REDIRECT",fP="ROUTE_ERROR_RESPONSE";function hP(t){if(t.startsWith(`${s_}:${dP}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function mP(t){if(t.startsWith(`${s_}:${fP}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Lc(e.status,e.statusText,e.data)}catch{}}function pP(t,{relative:e}={}){Xe(Gs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=b.useContext(pr),{hash:i,pathname:l,search:c}=zc(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:po([n,l])),o.createHref({pathname:d,search:c,hash:i})}function Gs(){return b.useContext(Pf)!=null}function Nr(){return Xe(Gs(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Pf).location}var l_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function c_(t){b.useContext(pr).static||b.useLayoutEffect(t)}function Vs(){let{isDataRoute:t}=b.useContext(kr);return t?xP():gP()}function gP(){Xe(Gs(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(Pi),{basename:e,navigator:n}=b.useContext(pr),{matches:o}=b.useContext(kr),{pathname:i}=Nr(),l=JSON.stringify(Nf(o)),c=b.useRef(!1);return c_(()=>{c.current=!0}),b.useCallback((f,m={})=>{if(Bt(c.current,l_),!c.current)return;if(typeof f=="number"){n.go(f);return}let g=Mf(f,JSON.parse(l),i,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:po([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,i,t])}var yP=b.createContext(null);function vP(t){let e=b.useContext(kr).outlet;return b.useMemo(()=>e&&b.createElement(yP.Provider,{value:t},e),[e,t])}function jK(){let{matches:t}=b.useContext(kr),e=t[t.length-1];return e?e.params:{}}function zc(t,{relative:e}={}){let{matches:n}=b.useContext(kr),{pathname:o}=Nr(),i=JSON.stringify(Nf(n));return b.useMemo(()=>Mf(t,JSON.parse(i),o,e==="path"),[t,i,o,e])}function bP(t,e,n,o,i){Xe(Gs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=b.useContext(pr),{matches:c}=b.useContext(kr),d=c[c.length-1],f=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",y=d&&d.route;{let O=y&&y.path||"";d_(m,!y||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let v=Nr(),E;E=v;let w=E.pathname||"/",S=w;if(g!=="/"){let O=g.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(O.length).join("/")}let T=Aa(t,{pathname:S});return Bt(y||T!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Bt(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),TP(T&&T.map(O=>Object.assign({},O,{params:Object.assign({},f,O.params),pathname:po([g,l.encodeLocation?l.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?g:po([g,l.encodeLocation?l.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),c,n,o,i)}function CP(){let t=IP(),e=Sc(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},l={padding:"2px 4px",backgroundColor:o},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:l},"ErrorBoundary")," or"," ",b.createElement("code",{style:l},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,c)}var EP=b.createElement(CP,null),u_=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=mP(t.digest);n&&(t=n)}let e=t!==void 0?b.createElement(kr.Provider,{value:this.props.routeContext},b.createElement(by.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?b.createElement(SP,{error:t},e):e}};u_.contextType=a_;var Up=new WeakMap;function SP({children:t,error:e}){let{basename:n}=b.useContext(pr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let o=hP(e.digest);if(o){let i=Up.get(e);if(i)throw i;let l=YA(o.location,n);if(VA&&!Up.get(e))if(l.isExternal||o.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:o.replace}));throw Up.set(e,c),c}return b.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function wP({routeContext:t,match:e,children:n}){let o=b.useContext(Pi);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(kr.Provider,{value:t},n)}function TP(t,e=[],n=null,o=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let g=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);Xe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,f=-1;if(n)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=g),y.route.id){let{loaderData:v,errors:E}=n,w=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||w){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let m=n&&o?(g,y)=>{o(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Uc(n.matches),errorInfo:y})}:void 0;return l.reduceRight((g,y,v)=>{let E,w=!1,S=null,T=null;n&&(E=c&&y.route.id?c[y.route.id]:void 0,S=y.route.errorElement||EP,d&&(f<0&&v===0?(d_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,T=null):f===v&&(w=!0,T=y.route.hydrateFallbackElement||null)));let R=e.concat(l.slice(0,v+1)),O=()=>{let x;return E?x=S:w?x=T:y.route.Component?x=b.createElement(y.route.Component,null):y.route.element?x=y.route.element:x=g,b.createElement(wP,{match:y,routeContext:{outlet:g,matches:R,isDataRoute:n!=null},children:x})};return n&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?b.createElement(u_,{location:n.location,revalidation:n.revalidation,component:S,error:E,children:O(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:m}):O()},null)}function Cy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AP(t){let e=b.useContext(Pi);return Xe(e,Cy(t)),e}function _P(t){let e=b.useContext(Hc);return Xe(e,Cy(t)),e}function RP(t){let e=b.useContext(kr);return Xe(e,Cy(t)),e}function Ey(t){let e=RP(t),n=e.matches[e.matches.length-1];return Xe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function OP(){return Ey("useRouteId")}function IP(){let t=b.useContext(by),e=_P("useRouteError"),n=Ey("useRouteError");return t!==void 0?t:e.errors?.[n]}function xP(){let{router:t}=AP("useNavigate"),e=Ey("useNavigate"),n=b.useRef(!1);return c_(()=>{n.current=!0}),b.useCallback(async(i,l={})=>{Bt(n.current,l_),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var Cw={};function d_(t,e,n){!e&&!Cw[t]&&(Cw[t]=!0,Bt(!1,n))}var Ew={};function Sw(t,e){!t&&!Ew[e]&&(Ew[e]=!0,console.warn(e))}var kP="useOptimistic",ww=hy[kP],NP=()=>{};function MP(t){return ww?ww(t):[t,NP]}function PP(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Bt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:b.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Bt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:b.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Bt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:b.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var DP=["HydrateFallback","hydrateFallbackElement"],LP=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function UP({router:t,flushSync:e,onError:n,unstable_useTransitions:o}){o=cP()||o;let[l,c]=b.useState(t.state),[d,f]=MP(l),[m,g]=b.useState(),[y,v]=b.useState({isTransitioning:!1}),[E,w]=b.useState(),[S,T]=b.useState(),[R,O]=b.useState(),x=b.useRef(new Map),B=b.useCallback((j,{deletedFetchers:se,newErrors:he,flushSync:ge,viewTransitionOpts:ve})=>{he&&n&&Object.values(he).forEach(be=>n(be,{location:j.location,params:j.matches[0]?.params??{},unstable_pattern:Uc(j.matches)})),j.fetchers.forEach((be,me)=>{be.data!==void 0&&x.current.set(me,be.data)}),se.forEach(be=>x.current.delete(be)),Sw(ge===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let we=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Sw(ve==null||we,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ve||!we){e&&ge?e(()=>c(j)):o===!1?c(j):b.startTransition(()=>{o===!0&&f(be=>Tw(be,j)),c(j)});return}if(e&&ge){e(()=>{S&&(E?.resolve(),S.skipTransition()),v({isTransitioning:!0,flushSync:!0,currentLocation:ve.currentLocation,nextLocation:ve.nextLocation})});let be=t.window.document.startViewTransition(()=>{e(()=>c(j))});be.finished.finally(()=>{e(()=>{w(void 0),T(void 0),g(void 0),v({isTransitioning:!1})})}),e(()=>T(be));return}S?(E?.resolve(),S.skipTransition(),O({state:j,currentLocation:ve.currentLocation,nextLocation:ve.nextLocation})):(g(j),v({isTransitioning:!0,flushSync:!1,currentLocation:ve.currentLocation,nextLocation:ve.nextLocation}))},[t.window,e,S,E,o,f,n]);b.useLayoutEffect(()=>t.subscribe(B),[t,B]),b.useEffect(()=>{y.isTransitioning&&!y.flushSync&&w(new LP)},[y]),b.useEffect(()=>{if(E&&m&&t.window){let j=m,se=E.promise,he=t.window.document.startViewTransition(async()=>{o===!1?c(j):b.startTransition(()=>{o===!0&&f(ge=>Tw(ge,j)),c(j)}),await se});he.finished.finally(()=>{w(void 0),T(void 0),g(void 0),v({isTransitioning:!1})}),T(he)}},[m,E,t.window,o,f]),b.useEffect(()=>{E&&m&&d.location.key===m.location.key&&E.resolve()},[E,S,d.location,m]),b.useEffect(()=>{!y.isTransitioning&&R&&(g(R.state),v({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}),O(void 0))},[y.isTransitioning,R]);let L=b.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:j=>t.navigate(j),push:(j,se,he)=>t.navigate(j,{state:se,preventScrollReset:he?.preventScrollReset}),replace:(j,se,he)=>t.navigate(j,{replace:!0,state:se,preventScrollReset:he?.preventScrollReset})}),[t]),J=t.basename||"/",I=b.useMemo(()=>({router:t,navigator:L,static:!1,basename:J,onError:n}),[t,L,J,n]);return b.createElement(b.Fragment,null,b.createElement(Pi.Provider,{value:I},b.createElement(Hc.Provider,{value:d},b.createElement(i_.Provider,{value:x.current},b.createElement(vy.Provider,{value:y},b.createElement(BP,{basename:J,location:d.location,navigationType:d.historyAction,navigator:L,unstable_useTransitions:o},b.createElement(HP,{routes:t.routes,future:t.future,state:d,onError:n})))))),null)}function Tw(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var HP=b.memo(zP);function zP({routes:t,future:e,state:n,onError:o}){return bP(t,void 0,n,o,e)}function Kd({to:t,replace:e,state:n,relative:o}){Xe(Gs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=b.useContext(pr);Bt(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=b.useContext(kr),{pathname:c}=Nr(),d=Vs(),f=Mf(t,Nf(l),c,o==="path"),m=JSON.stringify(f);return b.useEffect(()=>{d(JSON.parse(m),{replace:e,state:n,relative:o})},[d,m,o,e,n]),null}function Df(t){return vP(t.context)}function BP({basename:t="/",children:e=null,location:n,navigationType:o="POP",navigator:i,static:l=!1,unstable_useTransitions:c}){Xe(!Gs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=b.useMemo(()=>({basename:d,navigator:i,static:l,unstable_useTransitions:c,future:{}}),[d,i,l,c]);typeof n=="string"&&(n=ja(n));let{pathname:m="/",search:g="",hash:y="",state:v=null,key:E="default"}=n,w=b.useMemo(()=>{let S=xr(m,d);return S==null?null:{location:{pathname:S,search:g,hash:y,state:v,key:E},navigationType:o}},[d,m,g,y,v,E,o]);return Bt(w!=null,`<Router basename="${d}"> is not able to match the URL "${m}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:b.createElement(pr.Provider,{value:f},b.createElement(Pf.Provider,{children:e,value:w}))}var Nd="get",Md="application/x-www-form-urlencoded";function Lf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function jP(t){return Lf(t)&&t.tagName.toLowerCase()==="button"}function FP(t){return Lf(t)&&t.tagName.toLowerCase()==="form"}function qP(t){return Lf(t)&&t.tagName.toLowerCase()==="input"}function KP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GP(t,e){return t.button===0&&(!e||e==="_self")&&!KP(t)}function gg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let o=t[n];return e.concat(Array.isArray(o)?o.map(i=>[n,i]):[[n,o]])},[]))}function VP(t,e){let n=gg(t);return e&&e.forEach((o,i)=>{n.has(i)||e.getAll(i).forEach(l=>{n.append(i,l)})}),n}var sd=null;function YP(){if(sd===null)try{new FormData(document.createElement("form"),0),sd=!1}catch{sd=!0}return sd}var QP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hp(t){return t!=null&&!QP.has(t)?(Bt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Md}"`),null):t}function $P(t,e){let n,o,i,l,c;if(FP(t)){let d=t.getAttribute("action");o=d?xr(d,e):null,n=t.getAttribute("method")||Nd,i=Hp(t.getAttribute("enctype"))||Md,l=new FormData(t)}else if(jP(t)||qP(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(o=f?xr(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Nd,i=Hp(t.getAttribute("formenctype"))||Hp(d.getAttribute("enctype"))||Md,l=new FormData(d,t),!YP()){let{name:m,type:g,value:y}=t;if(g==="image"){let v=m?`${m}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else m&&l.append(m,y)}}else{if(Lf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nd,o=null,i=Md,c=t}return l&&i==="text/plain"&&(c=l,l=void 0),{action:o,method:n.toLowerCase(),encType:i,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XP(t,e,n,o){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${o}`:i.pathname=`${i.pathname}.${o}`:i.pathname==="/"?i.pathname=`_root.${o}`:e&&xr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${o}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${o}`,i}async function WP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ZP(t,e,n){let o=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let c=await WP(l,n);return c.links?c.links():[]}return[]}));return r1(o.flat(1).filter(JP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Aw(t,e,n,o,i,l){let c=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,d=(f,m)=>n[m].pathname!==f.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,m)=>c(f,m)||d(f,m)):l==="data"?e.filter((f,m)=>{let g=o.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(c(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function e1(t,e,{includeHydrateFallback:n}={}){return t1(t.map(o=>{let i=e.routes[o.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function t1(t){return[...new Set(t)]}function n1(t){let e={},n=Object.keys(t).sort();for(let o of n)e[o]=t[o];return e}function r1(t,e){let n=new Set;return new Set(e),t.reduce((o,i)=>{let l=JSON.stringify(n1(i));return n.has(l)||(n.add(l),o.push({key:l,link:i})),o},[])}function f_(){let t=b.useContext(Pi);return Sy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function o1(){let t=b.useContext(Hc);return Sy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var wy=b.createContext(void 0);wy.displayName="FrameworkContext";function h_(){let t=b.useContext(wy);return Sy(t,"You must render this element inside a <HydratedRouter> element"),t}function a1(t,e){let n=b.useContext(wy),[o,i]=b.useState(!1),[l,c]=b.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:g,onTouchStart:y}=e,v=b.useRef(null);b.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let S=R=>{R.forEach(O=>{c(O.isIntersecting)})},T=new IntersectionObserver(S,{threshold:.5});return v.current&&T.observe(v.current),()=>{T.disconnect()}}},[t]),b.useEffect(()=>{if(o){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[o]);let E=()=>{i(!0)},w=()=>{i(!1),c(!1)};return n?t!=="intent"?[l,v,{}]:[l,v,{onFocus:rc(d,E),onBlur:rc(f,w),onMouseEnter:rc(m,E),onMouseLeave:rc(g,w),onTouchStart:rc(y,E)}]:[!1,v,{}]}function rc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function i1({page:t,...e}){let{router:n}=f_(),o=b.useMemo(()=>Aa(n.routes,t,n.basename),[n.routes,t,n.basename]);return o?b.createElement(l1,{page:t,matches:o,...e}):null}function s1(t){let{manifest:e,routeModules:n}=h_(),[o,i]=b.useState([]);return b.useEffect(()=>{let l=!1;return ZP(t,e,n).then(c=>{l||i(c)}),()=>{l=!0}},[t,e,n]),o}function l1({page:t,matches:e,...n}){let o=Nr(),{future:i,manifest:l,routeModules:c}=h_(),{basename:d}=f_(),{loaderData:f,matches:m}=o1(),g=b.useMemo(()=>Aw(t,e,m,l,o,"data"),[t,e,m,l,o]),y=b.useMemo(()=>Aw(t,e,m,l,o,"assets"),[t,e,m,l,o]),v=b.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let S=new Set,T=!1;if(e.forEach(O=>{let x=l.routes[O.route.id];!x||!x.hasLoader||(!g.some(B=>B.route.id===O.route.id)&&O.route.id in f&&c[O.route.id]?.shouldRevalidate||x.hasClientLoader?T=!0:S.add(O.route.id))}),S.size===0)return[];let R=XP(t,d,i.unstable_trailingSlashAwareDataRequests,"data");return T&&S.size>0&&R.searchParams.set("_routes",e.filter(O=>S.has(O.route.id)).map(O=>O.route.id).join(",")),[R.pathname+R.search]},[d,i.unstable_trailingSlashAwareDataRequests,f,o,l,g,e,t,c]),E=b.useMemo(()=>e1(y,l),[y,l]),w=s1(y);return b.createElement(b.Fragment,null,v.map(S=>b.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),E.map(S=>b.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:T})=>b.createElement("link",{key:S,nonce:n.nonce,...T,crossOrigin:T.crossOrigin??n.crossOrigin})))}function c1(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var u1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u1&&(window.__reactRouterVersion="7.13.0")}catch{}function d1(t,e){return HM({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:eM({window:e?.window}),hydrationData:f1(),routes:t,mapRouteProperties:PP,hydrationRouteProperties:DP,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function f1(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:h1(t.errors)}),t}function h1(t){if(!t)return null;let e=Object.entries(t),n={};for(let[o,i]of e)if(i&&i.__type==="RouteErrorResponse")n[o]=new Lc(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let l=window[i.__subType];if(typeof l=="function")try{let c=new l(i.message);c.stack="",n[o]=c}catch{}}if(n[o]==null){let l=new Error(i.message);l.stack="",n[o]=l}}else n[o]=i;return n}var m_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p_=b.forwardRef(function({onClick:e,discover:n="render",prefetch:o="none",relative:i,reloadDocument:l,replace:c,state:d,target:f,to:m,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:v,...E},w){let{basename:S,unstable_useTransitions:T}=b.useContext(pr),R=typeof m=="string"&&m_.test(m),O=YA(m,S);m=O.to;let x=pP(m,{relative:i}),[B,L,J]=a1(o,E),I=y1(m,{replace:c,state:d,target:f,preventScrollReset:g,relative:i,viewTransition:y,unstable_defaultShouldRevalidate:v,unstable_useTransitions:T});function j(he){e&&e(he),he.defaultPrevented||I(he)}let se=b.createElement("a",{...E,...J,href:O.absoluteURL||x,onClick:O.isExternal||l?e:j,ref:c1(w,L),target:f,"data-discover":!R&&n==="render"?"true":void 0});return B&&!R?b.createElement(b.Fragment,null,se,b.createElement(i1,{page:x})):se});p_.displayName="Link";var m1=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:o="",end:i=!1,style:l,to:c,viewTransition:d,children:f,...m},g){let y=zc(c,{relative:m.relative}),v=Nr(),E=b.useContext(Hc),{navigator:w,basename:S}=b.useContext(pr),T=E!=null&&S1(y)&&d===!0,R=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,O=v.pathname,x=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(O=O.toLowerCase(),x=x?x.toLowerCase():null,R=R.toLowerCase()),x&&S&&(x=xr(x,S)||x);const B=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let L=O===R||!i&&O.startsWith(R)&&O.charAt(B)==="/",J=x!=null&&(x===R||!i&&x.startsWith(R)&&x.charAt(R.length)==="/"),I={isActive:L,isPending:J,isTransitioning:T},j=L?e:void 0,se;typeof o=="function"?se=o(I):se=[o,L?"active":null,J?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let he=typeof l=="function"?l(I):l;return b.createElement(p_,{...m,"aria-current":j,className:se,ref:g,style:he,to:c,viewTransition:d},typeof f=="function"?f(I):f)});m1.displayName="NavLink";var p1=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:o,replace:i,state:l,method:c=Nd,action:d,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:v,...E},w)=>{let{unstable_useTransitions:S}=b.useContext(pr),T=C1(),R=E1(d,{relative:m}),O=c.toLowerCase()==="get"?"get":"post",x=typeof d=="string"&&m_.test(d),B=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let J=L.nativeEvent.submitter,I=J?.getAttribute("formmethod")||c,j=()=>T(J||L.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:i,state:l,relative:m,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:v});S&&n!==!1?b.startTransition(()=>j()):j()};return b.createElement("form",{ref:w,method:O,action:R,onSubmit:o?f:B,...E,"data-discover":!x&&t==="render"?"true":void 0})});p1.displayName="Form";function g1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g_(t){let e=b.useContext(Pi);return Xe(e,g1(t)),e}function y1(t,{target:e,replace:n,state:o,preventScrollReset:i,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let m=Vs(),g=Nr(),y=zc(t,{relative:l});return b.useCallback(v=>{if(GP(v,e)){v.preventDefault();let E=n!==void 0?n:yo(g)===yo(y),w=()=>m(t,{replace:E,state:o,preventScrollReset:i,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});f?b.startTransition(()=>w()):w()}},[g,m,y,n,o,e,t,i,l,c,d,f])}function FK(t){Bt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=b.useRef(gg(t)),n=b.useRef(!1),o=Nr(),i=b.useMemo(()=>VP(o.search,n.current?null:e.current),[o.search]),l=Vs(),c=b.useCallback((d,f)=>{const m=gg(typeof d=="function"?d(new URLSearchParams(i)):d);n.current=!0,l("?"+m,f)},[l,i]);return[i,c]}var v1=0,b1=()=>`__${String(++v1)}__`;function C1(){let{router:t}=g_("useSubmit"),{basename:e}=b.useContext(pr),n=OP(),o=t.fetch,i=t.navigate;return b.useCallback(async(l,c={})=>{let{action:d,method:f,encType:m,formData:g,body:y}=$P(l,e);if(c.navigate===!1){let v=c.fetcherKey||b1();await o(v,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:y,formMethod:c.method||f,formEncType:c.encType||m,flushSync:c.flushSync})}else await i(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:y,formMethod:c.method||f,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[o,i,e,n])}function E1(t,{relative:e}={}){let{basename:n}=b.useContext(pr),o=b.useContext(kr);Xe(o,"useFormAction must be used inside a RouteContext");let[i]=o.matches.slice(-1),l={...zc(t||".",{relative:e})},c=Nr();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:po([n,l.pathname])),yo(l)}function S1(t,{relative:e}={}){let n=b.useContext(vy);Xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=g_("useViewTransitionState"),i=zc(t,{relative:e});if(!n.isTransitioning)return!1;let l=xr(n.currentLocation.pathname,o)||n.currentLocation.pathname,c=xr(n.nextLocation.pathname,o)||n.nextLocation.pathname;return qd(i.pathname,c)!=null||qd(i.pathname,l)!=null}var Ys=zA();const y_=HA(Ys);function w1(t){return b.createElement(UP,{flushSync:Ys.flushSync,...t})}const re={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Ia={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},pi={GET:"GET",POST:"POST"},Qs=[re.OPENID_SCOPE,re.PROFILE_SCOPE,re.OFFLINE_ACCESS_SCOPE],_w=[...Qs,re.EMAIL_SCOPE],Dn={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},Rw={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},ka={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},ld={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},Ln={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",NO_SESSION:"no_session"},Ty={CODE:"code",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},Uf={QUERY:"query",FRAGMENT:"fragment"},T1={QUERY:"query"},v_={AUTHORIZATION_CODE_GRANT:"authorization_code",REFRESH_TOKEN_GRANT:"refresh_token"},cd={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",GENERIC_ACCOUNT_TYPE:"Generic"},wc={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},Cn={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},Ay="appmetadata",A1="client_info",Gd="1",Vd={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},sr={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},vn={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},dt={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},mc={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},Ow={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},Cs={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},zp={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},fi={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},_1={Pop:"pop"},b_=300;const Yd="unexpected_error",R1="post_request_failed";const Iw={[Yd]:"Unexpected error in authentication.",[R1]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class gt extends Error{constructor(e,n,o){const i=n?`${e}: ${n}`:e;super(i),Object.setPrototypeOf(this,gt.prototype),this.errorCode=e||re.EMPTY_STRING,this.errorMessage=n||re.EMPTY_STRING,this.subError=o||re.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function yg(t,e){return new gt(t,e?`${Iw[t]} ${e}`:Iw[t])}const _y="client_info_decoding_error",C_="client_info_empty_error",Ry="token_parsing_error",E_="null_or_empty_token",Fo="endpoints_resolution_error",S_="network_error",w_="openid_config_error",T_="hash_not_deserialized",Hs="invalid_state",A_="state_mismatch",vg="state_not_found",__="nonce_mismatch",Oy="auth_time_not_found",R_="max_age_transpired",O1="multiple_matching_tokens",I1="multiple_matching_accounts",O_="multiple_matching_appMetadata",I_="request_cannot_be_made",x_="cannot_remove_empty_scope",k_="cannot_append_scopeset",bg="empty_input_scopeset",x1="device_code_polling_cancelled",k1="device_code_expired",N1="device_code_unknown_error",Iy="no_account_in_silent_request",N_="invalid_cache_record",xy="invalid_cache_environment",Cg="no_account_found",Eg="no_crypto_object",M1="unexpected_credential_type",P1="invalid_assertion",D1="invalid_client_credential",Na="token_refresh_required",L1="user_timeout_reached",M_="token_claims_cnf_required_for_signedjwt",P_="authorization_code_missing_from_server_response",D_="binding_key_not_removed",L_="end_session_endpoint_not_supported",ky="key_id_missing",U1="no_network_connectivity",H1="user_canceled",z1="missing_tenant_id_error",Ye="method_not_implemented",B1="nested_app_auth_bridge_disabled";const xw={[_y]:"The client info could not be parsed/decoded correctly",[C_]:"The client info was empty",[Ry]:"Token cannot be parsed",[E_]:"The token is null or empty",[Fo]:"Endpoints cannot be resolved",[S_]:"Network request failed",[w_]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[T_]:"The hash parameters could not be deserialized",[Hs]:"State was not the expected format",[A_]:"State mismatch error",[vg]:"State not found",[__]:"Nonce mismatch error",[Oy]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[R_]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[O1]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[I1]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[O_]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[I_]:"Token request cannot be made without authorization code or refresh token.",[x_]:"Cannot remove null or empty scope from ScopeSet",[k_]:"Cannot append ScopeSet",[bg]:"Empty input ScopeSet cannot be processed",[x1]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[k1]:"Device code is expired.",[N1]:"Device code stopped polling for unknown reasons.",[Iy]:"Please pass an account object, silent flow is not supported without account information",[N_]:"Cache record object was null or undefined.",[xy]:"Invalid environment when attempting to create cache entry",[Cg]:"No account found in cache for given key.",[Eg]:"No crypto object detected.",[M1]:"Unexpected credential type.",[P1]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[D1]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[Na]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[L1]:"User defined timeout for device code polling reached",[M_]:"Cannot generate a POP jwt if the token_claims are not populated",[P_]:"Server response does not contain an authorization code to proceed",[D_]:"Could not remove the credential's binding key from storage.",[L_]:"The provided authority does not support logout",[ky]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[U1]:"No network connectivity. Check your internet connection.",[H1]:"User cancelled the flow.",[z1]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[Ye]:"This method has not been implemented",[B1]:"The nested app auth bridge is disabled"};class Ny extends gt{constructor(e,n){super(e,n?`${xw[e]}: ${n}`:xw[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,Ny.prototype)}}function le(t,e){return new Ny(t,e)}const Qd={createNewGuid:()=>{throw le(Ye)},base64Decode:()=>{throw le(Ye)},base64Encode:()=>{throw le(Ye)},base64UrlEncode:()=>{throw le(Ye)},encodeKid:()=>{throw le(Ye)},async getPublicKeyThumbprint(){throw le(Ye)},async removeTokenBindingKey(){throw le(Ye)},async clearKeystore(){throw le(Ye)},async signJwt(){throw le(Ye)},async hashString(){throw le(Ye)}};var Rt;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace"})(Rt||(Rt={}));class Ko{constructor(e,n,o){this.level=Rt.Info;const i=()=>{},l=e||Ko.createDefaultLoggerOptions();this.localCallback=l.loggerCallback||i,this.piiLoggingEnabled=l.piiLoggingEnabled||!1,this.level=typeof l.logLevel=="number"?l.logLevel:Rt.Info,this.correlationId=l.correlationId||re.EMPTY_STRING,this.packageName=n||re.EMPTY_STRING,this.packageVersion=o||re.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Rt.Info}}clone(e,n,o){return new Ko({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:o||this.correlationId},e,n)}logMessage(e,n){if(n.logLevel>this.level||!this.piiLoggingEnabled&&n.containsPii)return;const l=`${`[${new Date().toUTCString()}] : [${n.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${Rt[n.logLevel]} - ${e}`;this.executeCallback(n.logLevel,l,n.containsPii||!1)}executeCallback(e,n,o){this.localCallback&&this.localCallback(e,n,o)}error(e,n){this.logMessage(e,{logLevel:Rt.Error,containsPii:!1,correlationId:n||re.EMPTY_STRING})}errorPii(e,n){this.logMessage(e,{logLevel:Rt.Error,containsPii:!0,correlationId:n||re.EMPTY_STRING})}warning(e,n){this.logMessage(e,{logLevel:Rt.Warning,containsPii:!1,correlationId:n||re.EMPTY_STRING})}warningPii(e,n){this.logMessage(e,{logLevel:Rt.Warning,containsPii:!0,correlationId:n||re.EMPTY_STRING})}info(e,n){this.logMessage(e,{logLevel:Rt.Info,containsPii:!1,correlationId:n||re.EMPTY_STRING})}infoPii(e,n){this.logMessage(e,{logLevel:Rt.Info,containsPii:!0,correlationId:n||re.EMPTY_STRING})}verbose(e,n){this.logMessage(e,{logLevel:Rt.Verbose,containsPii:!1,correlationId:n||re.EMPTY_STRING})}verbosePii(e,n){this.logMessage(e,{logLevel:Rt.Verbose,containsPii:!0,correlationId:n||re.EMPTY_STRING})}trace(e,n){this.logMessage(e,{logLevel:Rt.Trace,containsPii:!1,correlationId:n||re.EMPTY_STRING})}tracePii(e,n){this.logMessage(e,{logLevel:Rt.Trace,containsPii:!0,correlationId:n||re.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const U_="@azure/msal-common",My="15.12.0";const Py={None:"none"};const H_="redirect_uri_empty",j1="claims_request_parsing_error",z_="authority_uri_insecure",cc="url_parse_error",B_="empty_url_error",j_="empty_input_scopes_error",Dy="invalid_claims",F_="token_request_empty",q_="logout_request_empty",F1="invalid_code_challenge_method",Ly="pkce_params_missing",Uy="invalid_cloud_discovery_metadata",K_="invalid_authority_metadata",G_="untrusted_authority",Hf="missing_ssh_jwk",V_="missing_ssh_kid",q1="missing_nonce_authentication_header",K1="invalid_authentication_header",Y_="cannot_set_OIDCOptions",Q_="cannot_allow_platform_broker",$_="authority_mismatch",X_="invalid_request_method_for_EAR",W_="invalid_authorize_post_body_parameters";const G1={[H_]:"A redirect URI is required for all calls, and none has been set.",[j1]:"Could not parse the given claims request object.",[z_]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[cc]:"URL could not be parsed into appropriate segments.",[B_]:"URL was empty or null.",[j_]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Dy]:"Given claims parameter must be a stringified JSON object.",[F_]:"Token request was empty and not found in cache.",[q_]:"The logout request was null or undefined.",[F1]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Ly]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[Uy]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[K_]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[G_]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Hf]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[V_]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[q1]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[K1]:"Invalid authentication header provided",[Y_]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[Q_]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[$_]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority.",[W_]:"Invalid authorize post body parameters provided. If you are using authorizePostBodyParameters, the request method must be POST. Please check the request method and parameters.",[X_]:"Invalid request method for EAR protocol mode. The request method cannot be GET when using EAR protocol mode. Please change the request method to POST."};class Hy extends gt{constructor(e){super(e,G1[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,Hy.prototype)}}function bt(t){return new Hy(t)}class ur{static isEmptyObj(e){if(e)try{const n=JSON.parse(e);return Object.keys(n).length===0}catch{}return!0}static startsWith(e,n){return e.indexOf(n)===0}static endsWith(e,n){return e.length>=n.length&&e.lastIndexOf(n)===e.length-n.length}static queryStringToObject(e){const n={},o=e.split("&"),i=l=>decodeURIComponent(l.replace(/\+/g," "));return o.forEach(l=>{if(l.trim()){const[c,d]=l.split(/=(.+)/g,2);c&&d&&(n[i(c)]=i(d))}}),n}static trimArrayEntries(e){return e.map(n=>n.trim())}static removeEmptyStringsFromArray(e){return e.filter(n=>!!n)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,n){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(n)}}class on{constructor(e){const n=e?ur.trimArrayEntries([...e]):[],o=n?ur.removeEmptyStringsFromArray(n):[];if(!o||!o.length)throw bt(j_);this.scopes=new Set,o.forEach(i=>this.scopes.add(i))}static fromString(e){const o=(e||re.EMPTY_STRING).split(" ");return new on(o)}static createSearchScopes(e){const n=e&&e.length>0?e:[...Qs],o=new on(n);return o.containsOnlyOIDCScopes()?o.removeScope(re.OFFLINE_ACCESS_SCOPE):o.removeOIDCScopes(),o}containsScope(e){const n=this.printScopesLowerCase().split(" "),o=new on(n);return e?o.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(n=>this.containsScope(n))}containsOnlyOIDCScopes(){let e=0;return _w.forEach(n=>{this.containsScope(n)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(n=>this.appendScope(n))}catch{throw le(k_)}}removeScope(e){if(!e)throw le(x_);this.scopes.delete(e.trim())}removeOIDCScopes(){_w.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw le(bg);const n=new Set;return e.scopes.forEach(o=>n.add(o.toLowerCase())),this.scopes.forEach(o=>n.add(o.toLowerCase())),n}intersectingScopeSets(e){if(!e)throw le(bg);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const n=this.unionScopeSets(e),o=e.getScopeCount(),i=this.getScopeCount();return n.size<i+o}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(n=>e.push(n)),e}printScopes(){return this.scopes?this.asArray().join(" "):re.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function kw(t,e){return!!t&&!!e&&t===e.split(".")[1]}function zy(t,e,n,o){if(o){const{oid:i,sub:l,tid:c,name:d,tfp:f,acr:m,preferred_username:g,upn:y,login_hint:v}=o,E=c||f||m||"";return{tenantId:E,localAccountId:i||l||"",name:d,username:g||y||"",loginHint:v,isHomeTenant:kw(E,t)}}else return{tenantId:n,localAccountId:e,username:"",isHomeTenant:kw(n,t)}}function By(t,e,n,o){let i=t;if(e){const{isHomeTenant:l,...c}=e;i={...t,...c}}if(n){const{isHomeTenant:l,...c}=zy(t.homeAccountId,t.localAccountId,t.tenantId,n);return i={...i,...c,idTokenClaims:n,idToken:o},i}return i}function $s(t,e){const n=V1(t);try{const o=e(n);return JSON.parse(o)}catch{throw le(Ry)}}function V1(t){if(!t)throw le(E_);const n=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!n||n.length<4)throw le(Ry);return n[2]}function J_(t,e){if(e===0||Date.now()-3e5>t+e)throw le(R_)}function Nw(t){if(!t)return t;let e=t.toLowerCase();return ur.endsWith(e,"?")?e=e.slice(0,-1):ur.endsWith(e,"?/")&&(e=e.slice(0,-2)),ur.endsWith(e,"/")||(e+="/"),e}function Z_(t){return t.startsWith("#/")?t.substring(2):t.startsWith("#")||t.startsWith("?")?t.substring(1):t}function $d(t){if(!t||t.indexOf("=")<0)return null;try{const e=Z_(t),n=Object.fromEntries(new URLSearchParams(e));if(n.code||n.ear_jwe||n.error||n.error_description||n.state)return n}catch{throw le(T_)}return null}function Tc(t,e=!0,n){const o=new Array;return t.forEach((i,l)=>{!e&&n&&l in n?o.push(`${l}=${i}`):o.push(`${l}=${encodeURIComponent(i)}`)}),o.join("&")}function Mw(t){if(!t)return t;const e=t.split("#")[0];try{const n=new URL(e),o=n.origin+n.pathname+n.search;return Nw(o)}catch{return Nw(e)}}class it{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw bt(B_);e.includes("#")||(this._urlString=it.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let n=e.toLowerCase();return ur.endsWith(n,"?")?n=n.slice(0,-1):ur.endsWith(n,"?/")&&(n=n.slice(0,-2)),ur.endsWith(n,"/")||(n+="/"),n}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw bt(cc)}if(!e.HostNameAndPort||!e.PathSegments)throw bt(cc);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw bt(z_)}static appendQueryString(e,n){return n?e.indexOf("?")<0?`${e}?${n}`:`${e}&${n}`:e}static removeHashFromUrl(e){return it.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const n=this.getUrlComponents(),o=n.PathSegments;return e&&o.length!==0&&(o[0]===ka.COMMON||o[0]===ka.ORGANIZATIONS)&&(o[0]=e),it.constructAuthorityUriFromObject(n)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=this.urlString.match(e);if(!n)throw bt(cc);const o={Protocol:n[1],HostNameAndPort:n[4],AbsolutePath:n[5],QueryString:n[7]};let i=o.AbsolutePath.split("/");return i=i.filter(l=>l&&l.length>0),o.PathSegments=i,o.QueryString&&o.QueryString.endsWith("/")&&(o.QueryString=o.QueryString.substring(0,o.QueryString.length-1)),o}static getDomainFromUrl(e){const n=RegExp("^([^:/?#]+://)?([^/?#]*)"),o=e.match(n);if(!o)throw bt(cc);return o[2]}static getAbsoluteUrl(e,n){if(e[0]===re.FORWARD_SLASH){const i=new it(n).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new it(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!$d(e)}}const eR={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},Pw=eR.endpointMetadata,jy=eR.instanceDiscoveryMetadata,tR=new Set;jy.metadata.forEach(t=>{t.aliases.forEach(e=>{tR.add(e)})});function Y1(t,e){let n;const o=t.canonicalAuthority;if(o){const i=new it(o).getUrlComponents().HostNameAndPort;n=Dw(i,t.cloudDiscoveryMetadata?.metadata,sr.CONFIG,e)||Dw(i,jy.metadata,sr.HARDCODED_VALUES,e)||t.knownAuthorities}return n||[]}function Dw(t,e,n,o){if(o?.trace(`getAliasesFromMetadata called with source: ${n}`),t&&e){const i=Xd(e,t);if(i)return o?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),i.aliases;o?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function Q1(t){return Xd(jy.metadata,t)}function Xd(t,e){for(let n=0;n<t.length;n++){const o=t[n];if(o.aliases.includes(e))return o}return null}const Wd="cache_quota_exceeded",Fy="cache_error_unknown";const Bp={[Wd]:"Exceeded cache storage capacity.",[Fy]:"Unexpected error occurred when using cache storage."};class Ns extends gt{constructor(e,n){const o=n||(Bp[e]?Bp[e]:Bp[Fy]);super(`${e}: ${o}`),Object.setPrototypeOf(this,Ns.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=o}}function Sg(t){return t instanceof Error?t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED"||t.message.includes("exceeded the quota")?new Ns(Wd):new Ns(t.name,t.message):new Ns(Fy)}class wg{constructor(e,n,o,i,l){this.clientId=e,this.cryptoImpl=n,this.commonLogger=o.clone(U_,My),this.staticAuthorityOptions=l,this.performanceClient=i}getAllAccounts(e,n){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,n),n,e)}getAccountInfoFilteredBy(e,n){if(Object.keys(e).length===0||Object.values(e).every(i=>!i))return this.commonLogger.warning("getAccountInfoFilteredBy: Account filter is empty or invalid, returning null"),null;const o=this.getAllAccounts(e,n);return o.length>1?o.sort(l=>l.idTokenClaims?-1:1)[0]:o.length===1?o[0]:null}getBaseAccountInfo(e,n){const o=this.getAccountsFilteredBy(e,n);return o.length>0?o[0].getAccountInfo():null}buildTenantProfiles(e,n,o){return e.flatMap(i=>this.getTenantProfilesFromAccountEntity(i,n,o?.tenantId,o))}getTenantedAccountInfoByFilter(e,n,o,i,l){let c=null,d;if(l&&!this.tenantProfileMatchesFilter(o,l))return null;const f=this.getIdToken(e,i,n,o.tenantId);return f&&(d=$s(f.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(d,l))?null:(c=By(e,o,d,f?.secret),c)}getTenantProfilesFromAccountEntity(e,n,o,i){const l=e.getAccountInfo();let c=l.tenantProfiles||new Map;const d=this.getTokenKeys();if(o){const m=c.get(o);if(m)c=new Map([[o,m]]);else return[]}const f=[];return c.forEach(m=>{const g=this.getTenantedAccountInfoByFilter(l,d,m,n,i);g&&f.push(g)}),f}tenantProfileMatchesFilter(e,n){return!(n.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,n.localAccountId)||n.name&&e.name!==n.name||n.isHomeTenant!==void 0&&e.isHomeTenant!==n.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,n){return!(n&&(n.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,n.localAccountId)||n.loginHint&&!this.matchLoginHintFromTokenClaims(e,n.loginHint)||n.username&&!this.matchUsername(e.preferred_username,n.username)||n.name&&!this.matchName(e,n.name)||n.sid&&!this.matchSid(e,n.sid)))}async saveCacheRecord(e,n,o){if(!e)throw le(N_);try{e.account&&await this.setAccount(e.account,n),e.idToken&&o?.idToken!==!1&&await this.setIdTokenCredential(e.idToken,n),e.accessToken&&o?.accessToken!==!1&&await this.saveAccessToken(e.accessToken,n),e.refreshToken&&o?.refreshToken!==!1&&await this.setRefreshTokenCredential(e.refreshToken,n),e.appMetadata&&this.setAppMetadata(e.appMetadata,n)}catch(i){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),i instanceof gt?i:Sg(i)}}async saveAccessToken(e,n){const o={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},i=this.getTokenKeys(),l=on.fromString(e.target);i.accessToken.forEach(c=>{if(!this.accessTokenKeyMatchesFilter(c,o,!1))return;const d=this.getAccessTokenCredential(c,n);d&&this.credentialMatchesFilter(d,o)&&on.fromString(d.target).intersectingScopeSets(l)&&this.removeAccessToken(c,n)}),await this.setAccessTokenCredential(e,n)}getAccountsFilteredBy(e,n){const o=this.getAccountKeys(),i=[];return o.forEach(l=>{const c=this.getAccount(l,n);if(!c||e.homeAccountId&&!this.matchHomeAccountId(c,e.homeAccountId)||e.username&&!this.matchUsername(c.username,e.username)||e.environment&&!this.matchEnvironment(c,e.environment)||e.realm&&!this.matchRealm(c,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(c,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(c,e.authorityType))return;const d={localAccountId:e?.localAccountId,name:e?.name},f=c.tenantProfiles?.filter(m=>this.tenantProfileMatchesFilter(m,d));f&&f.length===0||i.push(c)}),i}credentialMatchesFilter(e,n){return!(n.clientId&&!this.matchClientId(e,n.clientId)||n.userAssertionHash&&!this.matchUserAssertionHash(e,n.userAssertionHash)||typeof n.homeAccountId=="string"&&!this.matchHomeAccountId(e,n.homeAccountId)||n.environment&&!this.matchEnvironment(e,n.environment)||n.realm&&!this.matchRealm(e,n.realm)||n.credentialType&&!this.matchCredentialType(e,n.credentialType)||n.familyId&&!this.matchFamilyId(e,n.familyId)||n.target&&!this.matchTarget(e,n.target)||(n.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==n.requestedClaimsHash||e.credentialType===Cn.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(n.tokenType&&!this.matchTokenType(e,n.tokenType)||n.tokenType===dt.SSH&&n.keyId&&!this.matchKeyId(e,n.keyId)))}getAppMetadataFilteredBy(e){const n=this.getKeys(),o={};return n.forEach(i=>{if(!this.isAppMetadata(i))return;const l=this.getAppMetadata(i);l&&(e.environment&&!this.matchEnvironment(l,e.environment)||e.clientId&&!this.matchClientId(l,e.clientId)||(o[i]=l))}),o}getAuthorityMetadataByAlias(e){const n=this.getAuthorityMetadataKeys();let o=null;return n.forEach(i=>{if(!this.isAuthorityMetadata(i)||i.indexOf(this.clientId)===-1)return;const l=this.getAuthorityMetadata(i);l&&l.aliases.indexOf(e)!==-1&&(o=l)}),o}removeAllAccounts(e){this.getAllAccounts({},e).forEach(o=>{this.removeAccount(o,e)})}removeAccount(e,n){this.removeAccountContext(e,n);const o=this.getAccountKeys(),i=l=>l.includes(e.homeAccountId)&&l.includes(e.environment);o.filter(i).forEach(l=>{this.removeItem(l,n),this.performanceClient.incrementFields({accountsRemoved:1},n)})}removeAccountContext(e,n){const o=this.getTokenKeys(),i=l=>l.includes(e.homeAccountId)&&l.includes(e.environment);o.idToken.filter(i).forEach(l=>{this.removeIdToken(l,n)}),o.accessToken.filter(i).forEach(l=>{this.removeAccessToken(l,n)}),o.refreshToken.filter(i).forEach(l=>{this.removeRefreshToken(l,n)})}removeAccessToken(e,n){const o=this.getAccessTokenCredential(e,n);if(this.removeItem(e,n),this.performanceClient.incrementFields({accessTokensRemoved:1},n),!o||o.credentialType.toLowerCase()!==Cn.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||o.tokenType!==dt.POP)return;const i=o.keyId;i&&this.cryptoImpl.removeTokenBindingKey(i).catch(()=>{this.commonLogger.error(`Failed to remove token binding key ${i}`,n),this.performanceClient?.incrementFields({removeTokenBindingKeyFailure:1},n)})}removeAppMetadata(e){return this.getKeys().forEach(o=>{this.isAppMetadata(o)&&this.removeItem(o,e)}),!0}getIdToken(e,n,o,i,l){this.commonLogger.trace("CacheManager - getIdToken called");const c={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Cn.ID_TOKEN,clientId:this.clientId,realm:i},d=this.getIdTokensByFilter(c,n,o),f=d.size;if(f<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(f>1){let m=d;if(!i){const g=new Map;d.forEach((v,E)=>{v.realm===e.tenantId&&g.set(E,v)});const y=g.size;if(y<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),d.values().next().value;if(y===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),g.values().next().value;m=g}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),m.forEach((g,y)=>{this.removeIdToken(y,n)}),l&&n&&l.addFields({multiMatchedID:d.size},n),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),d.values().next().value}getIdTokensByFilter(e,n,o){const i=o&&o.idToken||this.getTokenKeys().idToken,l=new Map;return i.forEach(c=>{if(!this.idTokenKeyMatchesFilter(c,{clientId:this.clientId,...e}))return;const d=this.getIdTokenCredential(c,n);d&&this.credentialMatchesFilter(d,e)&&l.set(c,d)}),l}idTokenKeyMatchesFilter(e,n){const o=e.toLowerCase();return!(n.clientId&&o.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&o.indexOf(n.homeAccountId.toLowerCase())===-1)}removeIdToken(e,n){this.removeItem(e,n)}removeRefreshToken(e,n){this.removeItem(e,n)}getAccessToken(e,n,o,i){const l=n.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",l);const c=on.createSearchScopes(n.scopes),d=n.authenticationScheme||dt.BEARER,f=d.toLowerCase()!==dt.BEARER.toLowerCase()?Cn.ACCESS_TOKEN_WITH_AUTH_SCHEME:Cn.ACCESS_TOKEN,m={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:f,clientId:this.clientId,realm:i||e.tenantId,target:c,tokenType:d,keyId:n.sshKid,requestedClaimsHash:n.requestedClaimsHash},g=o&&o.accessToken||this.getTokenKeys().accessToken,y=[];g.forEach(E=>{if(this.accessTokenKeyMatchesFilter(E,m,!0)){const w=this.getAccessTokenCredential(E,l);w&&this.credentialMatchesFilter(w,m)&&y.push(w)}});const v=y.length;return v<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",l),null):v>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",l),y.forEach(E=>{this.removeAccessToken(this.generateCredentialKey(E),l)}),this.performanceClient.addFields({multiMatchedAT:y.length},l),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",l),y[0])}accessTokenKeyMatchesFilter(e,n,o){const i=e.toLowerCase();if(n.clientId&&i.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&i.indexOf(n.homeAccountId.toLowerCase())===-1||n.realm&&i.indexOf(n.realm.toLowerCase())===-1||n.requestedClaimsHash&&i.indexOf(n.requestedClaimsHash.toLowerCase())===-1)return!1;if(n.target){const l=n.target.asArray();for(let c=0;c<l.length;c++){if(o&&!i.includes(l[c].toLowerCase()))return!1;if(!o&&i.includes(l[c].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,n){const o=this.getTokenKeys(),i=[];return o.accessToken.forEach(l=>{if(!this.accessTokenKeyMatchesFilter(l,e,!0))return;const c=this.getAccessTokenCredential(l,n);c&&this.credentialMatchesFilter(c,e)&&i.push(c)}),i}getRefreshToken(e,n,o,i,l){this.commonLogger.trace("CacheManager - getRefreshToken called");const c=n?Gd:void 0,d={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Cn.REFRESH_TOKEN,clientId:this.clientId,familyId:c},f=i&&i.refreshToken||this.getTokenKeys().refreshToken,m=[];f.forEach(y=>{if(this.refreshTokenKeyMatchesFilter(y,d)){const v=this.getRefreshTokenCredential(y,o);v&&this.credentialMatchesFilter(v,d)&&m.push(v)}});const g=m.length;return g<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(g>1&&l&&o&&l.addFields({multiMatchedRT:g},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),m[0])}refreshTokenKeyMatchesFilter(e,n){const o=e.toLowerCase();return!(n.familyId&&o.indexOf(n.familyId.toLowerCase())===-1||!n.familyId&&n.clientId&&o.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&o.indexOf(n.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const n={environment:e,clientId:this.clientId},o=this.getAppMetadataFilteredBy(n),i=Object.keys(o).map(c=>o[c]),l=i.length;if(l<1)return null;if(l>1)throw le(O_);return i[0]}isAppMetadataFOCI(e){const n=this.readAppMetadataFromCache(e);return!!(n&&n.familyId===Gd)}matchHomeAccountId(e,n){return typeof e.homeAccountId=="string"&&n===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,n){const o=e.oid||e.sub;return n===o}matchLocalAccountIdFromTenantProfile(e,n){return e.localAccountId===n}matchName(e,n){return n.toLowerCase()===e.name?.toLowerCase()}matchUsername(e,n){return!!(e&&typeof e=="string"&&n?.toLowerCase()===e.toLowerCase())}matchUserAssertionHash(e,n){return!!(e.userAssertionHash&&n===e.userAssertionHash)}matchEnvironment(e,n){if(this.staticAuthorityOptions){const i=Y1(this.staticAuthorityOptions,this.commonLogger);if(i.includes(n)&&i.includes(e.environment))return!0}const o=this.getAuthorityMetadataByAlias(n);return!!(o&&o.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,n){return e.credentialType&&n.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,n){return!!(e.clientId&&n===e.clientId)}matchFamilyId(e,n){return!!(e.familyId&&n===e.familyId)}matchRealm(e,n){return e.realm?.toLowerCase()===n.toLowerCase()}matchNativeAccountId(e,n){return!!(e.nativeAccountId&&n===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,n){return e.login_hint===n||e.preferred_username===n||e.upn===n}matchSid(e,n){return e.sid===n}matchAuthorityType(e,n){return!!(e.authorityType&&n.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,n){return e.credentialType!==Cn.ACCESS_TOKEN&&e.credentialType!==Cn.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:on.fromString(e.target).containsScopeSet(n)}matchTokenType(e,n){return!!(e.tokenType&&e.tokenType===n)}matchKeyId(e,n){return!!(e.keyId&&e.keyId===n)}isAppMetadata(e){return e.indexOf(Ay)!==-1}isAuthorityMetadata(e){return e.indexOf(Vd.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${Vd.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,n){for(const o in n)e[o]=n[o];return e}}class $1 extends wg{async setAccount(){throw le(Ye)}getAccount(){throw le(Ye)}async setIdTokenCredential(){throw le(Ye)}getIdTokenCredential(){throw le(Ye)}async setAccessTokenCredential(){throw le(Ye)}getAccessTokenCredential(){throw le(Ye)}async setRefreshTokenCredential(){throw le(Ye)}getRefreshTokenCredential(){throw le(Ye)}setAppMetadata(){throw le(Ye)}getAppMetadata(){throw le(Ye)}setServerTelemetry(){throw le(Ye)}getServerTelemetry(){throw le(Ye)}setAuthorityMetadata(){throw le(Ye)}getAuthorityMetadata(){throw le(Ye)}getAuthorityMetadataKeys(){throw le(Ye)}setThrottlingCache(){throw le(Ye)}getThrottlingCache(){throw le(Ye)}removeItem(){throw le(Ye)}getKeys(){throw le(Ye)}getAccountKeys(){throw le(Ye)}getTokenKeys(){throw le(Ye)}generateCredentialKey(){throw le(Ye)}generateAccountKey(){throw le(Ye)}}const Vn={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};const U={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},X1={InProgress:1};class Lw{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class nR{generateId(){return"callback-id"}startMeasurement(e,n){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:X1.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:n||""},measurement:new Lw}}startPerformanceMeasurement(){return new Lw}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}const rR={tokenRenewalOffsetSeconds:b_,preventCorsPreflight:!1},W1={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Rt.Info,correlationId:re.EMPTY_STRING},J1={claimsBasedCachingEnabled:!1},Z1={async sendGetRequestAsync(){throw le(Ye)},async sendPostRequestAsync(){throw le(Ye)}},eD={sku:re.SKU,version:My,cpu:re.EMPTY_STRING,os:re.EMPTY_STRING},tD={clientSecret:re.EMPTY_STRING,clientAssertion:void 0},nD={azureCloudInstance:Py.None,tenant:`${re.DEFAULT_COMMON_TENANT}`},rD={application:{appName:"",appVersion:""}};function oD({authOptions:t,systemOptions:e,loggerOptions:n,cacheOptions:o,storageInterface:i,networkInterface:l,cryptoInterface:c,clientCredentials:d,libraryInfo:f,telemetry:m,serverTelemetryManager:g,persistencePlugin:y,serializableCache:v}){const E={...W1,...n};return{authOptions:aD(t),systemOptions:{...rR,...e},loggerOptions:E,cacheOptions:{...J1,...o},storageInterface:i||new $1(t.clientId,Qd,new Ko(E),new nR),networkInterface:l||Z1,cryptoInterface:c||Qd,clientCredentials:d||tD,libraryInfo:{...eD,...f},telemetry:{...rD,...m},serverTelemetryManager:g||null,persistencePlugin:y||null,serializableCache:v||null}}function aD(t){return{clientCapabilities:[],azureCloudOptions:nD,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...t}}function oR(t){return t.authOptions.authority.options.protocolMode===Vn.OIDC}const qr={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};function Jd(t,e){if(!t)throw le(C_);try{const n=e(t);return JSON.parse(n)}catch{throw le(_y)}}function Ms(t){if(!t)throw le(_y);const e=t.split(wc.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?re.EMPTY_STRING:e[1]}}const Si="client_id",aR="redirect_uri",iD="response_type",sD="response_mode",lD="grant_type",cD="claims",uD="scope",dD="refresh_token",fD="state",hD="nonce",mD="prompt",pD="code",gD="code_challenge",yD="code_challenge_method",vD="code_verifier",bD="client-request-id",CD="x-client-SKU",ED="x-client-VER",SD="x-client-OS",wD="x-client-CPU",TD="x-client-current-telemetry",AD="x-client-last-telemetry",_D="x-ms-lib-capability",RD="x-app-name",OD="x-app-ver",ID="post_logout_redirect_uri",xD="id_token_hint",kD="client_secret",ND="client_assertion",MD="client_assertion_type",iR="token_type",sR="req_cnf",Uw="return_spa_code",PD="nativebroker",DD="logout_hint",LD="sid",UD="login_hint",HD="domain_hint",zD="x-client-xtra-sku",Zd="brk_client_id",ef="brk_redirect_uri",Tg="instance_aware",BD="ear_jwk",jD="ear_jwe_crypto";function zf(t,e,n){if(!e)return;const o=t.get(Si);o&&t.has(Zd)&&n?.addFields({embeddedClientId:o,embeddedRedirectUri:t.get(aR)},e)}function qy(t,e){t.set(iD,e)}function FD(t,e){t.set(sD,e||T1.QUERY)}function qD(t){t.set(PD,"1")}function Ky(t,e,n=!0,o=Qs){n&&!o.includes("openid")&&!e.includes("openid")&&o.push("openid");const i=n?[...e||[],...o]:e||[],l=new on(i);t.set(uD,l.printScopes())}function Gy(t,e){t.set(Si,e)}function Vy(t,e){t.set(aR,e)}function KD(t,e){t.set(ID,e)}function GD(t,e){t.set(xD,e)}function VD(t,e){t.set(HD,e)}function ud(t,e){t.set(UD,e)}function tf(t,e){t.set(Dn.CCS_HEADER,`UPN:${e}`)}function pc(t,e){t.set(Dn.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}function Hw(t,e){t.set(LD,e)}function Yy(t,e,n){const o=JD(e,n);try{JSON.parse(o)}catch{throw bt(Dy)}t.set(cD,o)}function Qy(t,e){t.set(bD,e)}function $y(t,e){t.set(CD,e.sku),t.set(ED,e.version),e.os&&t.set(SD,e.os),e.cpu&&t.set(wD,e.cpu)}function Xy(t,e){e?.appName&&t.set(RD,e.appName),e?.appVersion&&t.set(OD,e.appVersion)}function YD(t,e){t.set(mD,e)}function lR(t,e){e&&t.set(fD,e)}function QD(t,e){t.set(hD,e)}function cR(t,e,n){if(e&&n)t.set(gD,e),t.set(yD,n);else throw bt(Ly)}function $D(t,e){t.set(pD,e)}function XD(t,e){t.set(dD,e)}function WD(t,e){t.set(vD,e)}function uR(t,e){t.set(kD,e)}function dR(t,e){e&&t.set(ND,e)}function fR(t,e){e&&t.set(MD,e)}function hR(t,e){t.set(lD,e)}function Wy(t){t.set(A1,"1")}function mR(t){t.has(Tg)||t.set(Tg,"true")}function Ma(t,e){Object.entries(e).forEach(([n,o])=>{!t.has(n)&&o&&t.set(n,o)})}function JD(t,e){let n;if(!t)n={};else try{n=JSON.parse(t)}catch{throw bt(Dy)}return e&&e.length>0&&(n.hasOwnProperty(ld.ACCESS_TOKEN)||(n[ld.ACCESS_TOKEN]={}),n[ld.ACCESS_TOKEN][ld.XMS_CC]={values:e}),JSON.stringify(n)}function Jy(t,e){e&&(t.set(iR,dt.POP),t.set(sR,e))}function pR(t,e){e&&(t.set(iR,dt.SSH),t.set(sR,e))}function gR(t,e){t.set(TD,e.generateCurrentRequestHeaderValue()),t.set(AD,e.generateLastRequestHeaderValue())}function yR(t){t.set(_D,mc.X_MS_LIB_CAPABILITY_VALUE)}function ZD(t,e){t.set(DD,e)}function Bf(t,e,n){t.has(Zd)||t.set(Zd,e),t.has(ef)||t.set(ef,n)}function eL(t,e){t.set(BD,encodeURIComponent(e)),t.set(jD,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}function tL(t,e){Object.entries(e).forEach(([n,o])=>{o&&t.set(n,o)})}const jr={Default:0,Adfs:1,Dsts:2,Ciam:3};function nL(t){return t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri")}function rL(t){return t.hasOwnProperty("tenant_discovery_endpoint")&&t.hasOwnProperty("metadata")}function oL(t){return t.hasOwnProperty("error")&&t.hasOwnProperty("error_description")}const dr=(t,e,n,o,i)=>(...l)=>{n.trace(`Executing function ${e}`);const c=o?.startMeasurement(e,i);if(i){const d=e+"CallCount";o?.incrementFields({[d]:1},i)}try{const d=t(...l);return c?.end({success:!0}),n.trace(`Returning result from ${e}`),d}catch(d){n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(d))}catch{n.trace("Unable to print error message.")}throw c?.end({success:!1},d),d}},te=(t,e,n,o,i)=>(...l)=>{n.trace(`Executing function ${e}`);const c=o?.startMeasurement(e,i);if(i){const d=e+"CallCount";o?.incrementFields({[d]:1},i)}return o?.setPreQueueTime(e,i),t(...l).then(d=>(n.trace(`Returning result from ${e}`),c?.end({success:!0}),d)).catch(d=>{n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(d))}catch{n.trace("Unable to print error message.")}throw c?.end({success:!1},d),d})};class jf{constructor(e,n,o,i){this.networkInterface=e,this.logger=n,this.performanceClient=o,this.correlationId=i}async detectRegion(e,n){this.performanceClient?.addQueueMeasurement(U.RegionDiscoveryDetectRegion,this.correlationId);let o=e;if(o)n.region_source=Cs.ENVIRONMENT_VARIABLE;else{const i=jf.IMDS_OPTIONS;try{const l=await te(this.getRegionFromIMDS.bind(this),U.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(re.IMDS_VERSION,i);if(l.status===Ia.SUCCESS&&(o=l.body,n.region_source=Cs.IMDS),l.status===Ia.BAD_REQUEST){const c=await te(this.getCurrentVersion.bind(this),U.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(i);if(!c)return n.region_source=Cs.FAILED_AUTO_DETECTION,null;const d=await te(this.getRegionFromIMDS.bind(this),U.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(c,i);d.status===Ia.SUCCESS&&(o=d.body,n.region_source=Cs.IMDS)}}catch{return n.region_source=Cs.FAILED_AUTO_DETECTION,null}}return o||(n.region_source=Cs.FAILED_AUTO_DETECTION),o||null}async getRegionFromIMDS(e,n){return this.performanceClient?.addQueueMeasurement(U.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${re.IMDS_ENDPOINT}?api-version=${e}&format=text`,n,re.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(U.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const n=await this.networkInterface.sendGetRequestAsync(`${re.IMDS_ENDPOINT}?format=json`,e);return n.status===Ia.BAD_REQUEST&&n.body&&n.body["newest-versions"]&&n.body["newest-versions"].length>0?n.body["newest-versions"][0]:null}catch{return null}}}jf.IMDS_OPTIONS={headers:{Metadata:"true"}};function $n(){return Math.round(new Date().getTime()/1e3)}function zw(t){return t.getTime()/1e3}function Ps(t){return t?new Date(Number(t)*1e3):new Date}function nf(t,e){const n=Number(t)||0;return $n()+e>n}function aL(t,e){const n=Number(t)+e*24*60*60*1e3;return Date.now()>n}function iL(t){return Number(t)>$n()}function Ff(t,e,n,o,i){return{credentialType:Cn.ID_TOKEN,homeAccountId:t,environment:e,clientId:o,secret:n,realm:i,lastUpdatedAt:Date.now().toString()}}function qf(t,e,n,o,i,l,c,d,f,m,g,y,v,E,w){const S={homeAccountId:t,credentialType:Cn.ACCESS_TOKEN,secret:n,cachedAt:$n().toString(),expiresOn:c.toString(),extendedExpiresOn:d.toString(),environment:e,clientId:o,realm:i,target:l,tokenType:g||dt.BEARER,lastUpdatedAt:Date.now().toString()};if(y&&(S.userAssertionHash=y),m&&(S.refreshOn=m.toString()),E&&(S.requestedClaims=E,S.requestedClaimsHash=w),S.tokenType?.toLowerCase()!==dt.BEARER.toLowerCase())switch(S.credentialType=Cn.ACCESS_TOKEN_WITH_AUTH_SCHEME,S.tokenType){case dt.POP:const T=$s(n,f);if(!T?.cnf?.kid)throw le(M_);S.keyId=T.cnf.kid;break;case dt.SSH:S.keyId=v}return S}function vR(t,e,n,o,i,l,c){const d={credentialType:Cn.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:o,secret:n,lastUpdatedAt:Date.now().toString()};return l&&(d.userAssertionHash=l),i&&(d.familyId=i),c&&(d.expiresOn=c.toString()),d}function Zy(t){return t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")}function Bw(t){return t?Zy(t)&&t.hasOwnProperty("realm")&&t.hasOwnProperty("target")&&(t.credentialType===Cn.ACCESS_TOKEN||t.credentialType===Cn.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function sL(t){return t?Zy(t)&&t.hasOwnProperty("realm")&&t.credentialType===Cn.ID_TOKEN:!1}function jw(t){return t?Zy(t)&&t.credentialType===Cn.REFRESH_TOKEN:!1}function lL(t,e){const n=t.indexOf(vn.CACHE_KEY)===0;let o=!0;return e&&(o=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),n&&o}function cL(t,e){let n=!1;t&&(n=t.indexOf(mc.THROTTLING_PREFIX)===0);let o=!0;return e&&(o=e.hasOwnProperty("throttleTime")),n&&o}function uL({environment:t,clientId:e}){return[Ay,t,e].join(wc.CACHE_KEY_SEPARATOR).toLowerCase()}function dL(t,e){return e?t.indexOf(Ay)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function fL(t,e){return e?t.indexOf(Vd.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function Fw(){return $n()+Vd.REFRESH_TIME_SECONDS}function dd(t,e,n){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=n,t.jwks_uri=e.jwks_uri}function jp(t,e,n){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=n}function qw(t){return t.expiresAt<=$n()}class _n{constructor(e,n,o,i,l,c,d,f){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=n,this.cacheManager=o,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=l,this.performanceClient=d,this.correlationId=c,this.managedIdentity=f||!1,this.regionDiscovery=new jf(n,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(re.CIAM_AUTH_URL))return jr.Ciam;const n=e.PathSegments;if(n.length)switch(n[0].toLowerCase()){case re.ADFS:return jr.Adfs;case re.DSTS:return jr.Dsts}return jr.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new it(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw le(Fo)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw le(Fo)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw le(Fo)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw le(L_);return this.replacePath(this.metadata.end_session_endpoint)}else throw le(Fo)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw le(Fo)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw le(Fo)}canReplaceTenant(e){return e.PathSegments.length===1&&!_n.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===jr.Default&&this.protocolMode!==Vn.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let n=e;const i=new it(this.metadata.canonical_authority).getUrlComponents(),l=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((d,f)=>{let m=l[f];if(f===0&&this.canReplaceTenant(i)){const g=new it(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];m!==g&&(this.logger.verbose(`Replacing tenant domain name ${m} with id ${g}`),m=g)}d!==m&&(n=n.replace(`/${m}/`,`/${d}/`))}),this.replaceTenant(n)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===jr.Adfs||this.protocolMode===Vn.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(U.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),n=await te(this.updateCloudDiscoveryMetadata.bind(this),U.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const o=await te(this.updateEndpointMetadata.bind(this),U.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,n,{source:o}),this.performanceClient?.addFields({cloudDiscoverySource:n,authorityEndpointSource:o},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:Fw(),jwks_uri:""}),e}updateCachedMetadata(e,n,o){n!==sr.CACHE&&o?.source!==sr.CACHE&&(e.expiresAt=Fw(),e.canonical_authority=this.canonicalAuthority);const i=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(i,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(U.AuthorityUpdateEndpointMetadata,this.correlationId);const n=this.updateEndpointMetadataFromLocalSources(e);if(n){if(n.source===sr.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&n.metadata){const i=await te(this.updateMetadataWithRegionalInformation.bind(this),U.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n.metadata);dd(e,i,!1),e.canonical_authority=this.canonicalAuthority}return n.source}let o=await te(this.getEndpointMetadataFromNetwork.bind(this),U.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(o)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(o=await te(this.updateMetadataWithRegionalInformation.bind(this),U.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(o)),dd(e,o,!0),sr.NETWORK;throw le(w_,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const n=this.getEndpointMetadataFromConfig();if(n)return this.logger.verbose("Found endpoint metadata in authority configuration"),dd(e,n,!1),{source:sr.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const i=this.getEndpointMetadataFromHardcodedValues();if(i)return dd(e,i,!1),{source:sr.HARDCODED_VALUES,metadata:i};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const o=qw(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!o?(this.logger.verbose("Found endpoint metadata in the cache."),{source:sr.CACHE}):(o&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new it(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw bt(K_)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(U.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},n=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${n}`);try{const o=await this.networkInterface.sendGetRequestAsync(n,e);return nL(o.body)?o.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(o){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${o}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in Pw?Pw[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(U.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const n=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(n){if(n!==re.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=zp.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=n,_n.replaceWithRegionalInformation(e,n);const o=await te(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),U.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(o)return this.regionDiscoveryMetadata.region_outcome=zp.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=o,_n.replaceWithRegionalInformation(e,o);this.regionDiscoveryMetadata.region_outcome=zp.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(U.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const n=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(n)return n;const o=await te(this.getCloudDiscoveryMetadataFromNetwork.bind(this),U.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(o)return jp(e,o,!0),sr.NETWORK;throw bt(G_)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||re.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||re.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||re.NOT_APPLICABLE}`);const n=this.getCloudDiscoveryMetadataFromConfig();if(n)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),jp(e,n,!1),sr.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const i=Q1(this.hostnameAndPort);if(i)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),jp(e,i,!1),sr.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const o=qw(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!o?(this.logger.verbose("Found cloud discovery metadata in the cache."),sr.CACHE):(o&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===jr.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),_n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),n=Xd(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),n)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),n;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),bt(Uy)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),_n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(U.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${re.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,n={};let o=null;try{const i=await this.networkInterface.sendGetRequestAsync(e,n);let l,c;if(rL(i.body))l=i.body,c=l.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${l.tenant_discovery_endpoint}`);else if(oL(i.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${i.status}`),l=i.body,l.error===re.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${l.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${l.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),c=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),o=Xd(c,this.hostnameAndPort)}catch(i){if(i instanceof gt)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${i.errorCode}
Error Description: ${i.errorMessage}`);else{const l=i;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${l.name}
Error Description: ${l.message}`)}return null}return o||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),o=_n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),o}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(n=>n&&it.getDomainFromUrl(n).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,n){let o;if(n&&n.azureCloudInstance!==Py.None){const i=n.tenant?n.tenant:re.DEFAULT_COMMON_TENANT;o=`${n.azureCloudInstance}/${i}/`}return o||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return re.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw le(Fo)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return tR.has(e)}static isPublicCloudAuthority(e){return re.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,n,o){const i=new it(e);i.validateAsUri();const l=i.getUrlComponents();let c=`${n}.${l.HostNameAndPort}`;this.isPublicCloudAuthority(l.HostNameAndPort)&&(c=`${n}.${re.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const d=it.constructAuthorityUriFromObject({...i.getUrlComponents(),HostNameAndPort:c}).urlString;return o?`${d}?${o}`:d}static replaceWithRegionalInformation(e,n){const o={...e};return o.authorization_endpoint=_n.buildRegionalAuthorityString(o.authorization_endpoint,n),o.token_endpoint=_n.buildRegionalAuthorityString(o.token_endpoint,n),o.end_session_endpoint&&(o.end_session_endpoint=_n.buildRegionalAuthorityString(o.end_session_endpoint,n)),o}static transformCIAMAuthority(e){let n=e;const i=new it(e).getUrlComponents();if(i.PathSegments.length===0&&i.HostNameAndPort.endsWith(re.CIAM_AUTH_URL)){const l=i.HostNameAndPort.split(".")[0];n=`${n}${l}${re.AAD_TENANT_DOMAIN_SUFFIX}`}return n}}_n.reservedTenantDomains=new Set(["{tenant}","{tenantid}",ka.COMMON,ka.CONSUMERS,ka.ORGANIZATIONS]);function hL(t){const o=new it(t).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(o){case ka.COMMON:case ka.ORGANIZATIONS:case ka.CONSUMERS:return;default:return o}}function bR(t){return t.endsWith(re.FORWARD_SLASH)?t:`${t}${re.FORWARD_SLASH}`}function mL(t){const e=t.cloudDiscoveryMetadata;let n;if(e)try{n=JSON.parse(e)}catch{throw bt(Uy)}return{canonicalAuthority:t.authority?bR(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:n}}async function CR(t,e,n,o,i,l,c){c?.addQueueMeasurement(U.AuthorityFactoryCreateDiscoveredInstance,l);const d=_n.transformCIAMAuthority(bR(t)),f=new _n(d,e,n,o,i,l,c);try{return await te(f.resolveEndpointsAsync.bind(f),U.AuthorityResolveEndpointsAsync,i,c,l)(),f}catch{throw le(Fo)}}class Di extends gt{constructor(e,n,o,i,l){super(e,n,o),this.name="ServerError",this.errorNo=i,this.status=l,Object.setPrototypeOf(this,Di.prototype)}}function Kf(t,e,n){return{clientId:t,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:n,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||e.tokenBodyParameters?.clientId}}class uo{static generateThrottlingStorageKey(e){return`${mc.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,n,o){const i=uo.generateThrottlingStorageKey(n),l=e.getThrottlingCache(i);if(l){if(l.throttleTime<Date.now()){e.removeItem(i,o);return}throw new Di(l.errorCodes?.join(" ")||re.EMPTY_STRING,l.errorMessage,l.subError)}}static postProcess(e,n,o,i){if(uo.checkResponseStatus(o)||uo.checkResponseForRetryAfter(o)){const l={throttleTime:uo.calculateThrottleTime(parseInt(o.headers[Dn.RETRY_AFTER])),error:o.body.error,errorCodes:o.body.error_codes,errorMessage:o.body.error_description,subError:o.body.suberror};e.setThrottlingCache(uo.generateThrottlingStorageKey(n),l,i)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(Dn.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const n=e<=0?0:e,o=Date.now()/1e3;return Math.floor(Math.min(o+(n||mc.DEFAULT_THROTTLE_TIME_SECONDS),o+mc.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,n,o,i){const l=Kf(n,o,i),c=this.generateThrottlingStorageKey(l);e.removeItem(c,o.correlationId)}}class Gf extends gt{constructor(e,n,o){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,Gf.prototype),this.name="NetworkError",this.error=e,this.httpStatus=n,this.responseHeaders=o}}function uc(t,e,n,o){return t.errorMessage=`${t.errorMessage}, additionalErrorInfo: error.name:${o?.name}, error.message:${o?.message}`,new Gf(t,e,n)}class ev{constructor(e,n){this.config=oD(e),this.logger=new Ko(this.config.loggerOptions,U_,My),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=n}createTokenRequestHeaders(e){const n={};if(n[Dn.CONTENT_TYPE]=re.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case qr.HOME_ACCOUNT_ID:try{const o=Ms(e.credential);n[Dn.CCS_HEADER]=`Oid:${o.uid}@${o.utid}`}catch(o){this.logger.verbose("Could not parse home account ID for CCS Header: "+o)}break;case qr.UPN:n[Dn.CCS_HEADER]=`UPN: ${e.credential}`;break}return n}async executePostToTokenEndpoint(e,n,o,i,l,c){c&&this.performanceClient?.addQueueMeasurement(c,l);const d=await this.sendPostRequest(i,e,{body:n,headers:o},l);return this.config.serverTelemetryManager&&d.status<500&&d.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),d}async sendPostRequest(e,n,o,i){uo.preProcess(this.cacheManager,e,i);let l;try{l=await te(this.networkClient.sendPostRequestAsync.bind(this.networkClient),U.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,i)(n,o);const c=l.headers||{};this.performanceClient?.addFields({refreshTokenSize:l.body.refresh_token?.length||0,httpVerToken:c[Dn.X_MS_HTTP_VERSION]||"",requestId:c[Dn.X_MS_REQUEST_ID]||""},i)}catch(c){if(c instanceof Gf){const d=c.responseHeaders;throw d&&this.performanceClient?.addFields({httpVerToken:d[Dn.X_MS_HTTP_VERSION]||"",requestId:d[Dn.X_MS_REQUEST_ID]||"",contentTypeHeader:d[Dn.CONTENT_TYPE]||void 0,contentLengthHeader:d[Dn.CONTENT_LENGTH]||void 0,httpStatus:c.httpStatus},i),c.error}throw c instanceof gt?c:le(S_)}return uo.postProcess(this.cacheManager,e,l,i),l}async updateAuthority(e,n){this.performanceClient?.addQueueMeasurement(U.UpdateTokenEndpointAuthority,n);const o=`https://${e}/${this.authority.tenant}/`,i=await CR(o,this.networkClient,this.cacheManager,this.authority.options,this.logger,n,this.performanceClient);this.authority=i}createTokenQueryParameters(e){const n=new Map;return e.embeddedClientId&&Bf(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&Ma(n,e.tokenQueryParameters),Qy(n,e.correlationId),zf(n,e.correlationId,this.performanceClient),Tc(n)}}function ER(t){return t&&(t.tid||t.tfp||t.acr)||null}class Gr{getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,loginHint:this.loginHint,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static createAccount(e,n,o){const i=new Gr;n.authorityType===jr.Adfs?i.authorityType=cd.ADFS_ACCOUNT_TYPE:n.protocolMode===Vn.OIDC?i.authorityType=cd.GENERIC_ACCOUNT_TYPE:i.authorityType=cd.MSSTS_ACCOUNT_TYPE;let l;e.clientInfo&&o&&(l=Jd(e.clientInfo,o)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;const c=e.environment||n&&n.getPreferredCache();if(!c)throw le(xy);i.environment=c,i.realm=l?.utid||ER(e.idTokenClaims)||"",i.localAccountId=l?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";const d=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,f=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(i.username=d||f||"",i.loginHint=e.idTokenClaims?.login_hint,i.name=e.idTokenClaims?.name||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{const m=zy(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[m]}return i}static createFromAccountInfo(e,n,o){const i=new Gr;return i.authorityType=e.authorityType||cd.GENERIC_ACCOUNT_TYPE,i.homeAccountId=e.homeAccountId,i.localAccountId=e.localAccountId,i.nativeAccountId=e.nativeAccountId,i.realm=e.tenantId,i.environment=e.environment,i.username=e.username,i.name=e.name,i.loginHint=e.loginHint,i.cloudGraphHostName=n,i.msGraphHost=o,i.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),i}static generateHomeAccountId(e,n,o,i,l){if(!(n===jr.Adfs||n===jr.Dsts)){if(e)try{const c=Jd(e,i.base64Decode);if(c.uid&&c.utid)return`${c.uid}.${c.utid}`}catch{}o.warning("No client info in response")}return l?.sub||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,n,o){if(!e||!n)return!1;let i=!0;if(o){const l=e.idTokenClaims||{},c=n.idTokenClaims||{};i=l.iat===c.iat&&l.nonce===c.nonce}return e.homeAccountId===n.homeAccountId&&e.localAccountId===n.localAccountId&&e.username===n.username&&e.tenantId===n.tenantId&&e.loginHint===n.loginHint&&e.environment===n.environment&&e.nativeAccountId===n.nativeAccountId&&i}}const rf="no_tokens_found",SR="native_account_unavailable",tv="refresh_token_expired",nv="ux_not_allowed",pL="interaction_required",gL="consent_required",yL="login_required",Vf="bad_token";const Kw=[pL,gL,yL,Vf,nv],vL=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],bL={[rf]:"No refresh token found in the cache. Please sign-in.",[SR]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[tv]:"Refresh token has expired.",[Vf]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[nv]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."};class Vr extends gt{constructor(e,n,o,i,l,c,d,f){super(e,n,o),Object.setPrototypeOf(this,Vr.prototype),this.timestamp=i||re.EMPTY_STRING,this.traceId=l||re.EMPTY_STRING,this.correlationId=c||re.EMPTY_STRING,this.claims=d||re.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=f}}function wR(t,e,n){const o=!!t&&Kw.indexOf(t)>-1,i=!!n&&vL.indexOf(n)>-1,l=!!e&&Kw.some(c=>e.indexOf(c)>-1);return o||l||i}function of(t){return new Vr(t,bL[t])}class Xs{static setRequestState(e,n,o){const i=Xs.generateLibraryState(e,o);return n?`${i}${re.RESOURCE_DELIM}${n}`:i}static generateLibraryState(e,n){if(!e)throw le(Eg);const o={id:e.createNewGuid()};n&&(o.meta=n);const i=JSON.stringify(o);return e.base64Encode(i)}static parseRequestState(e,n){if(!e)throw le(Eg);if(!n)throw le(Hs);try{const o=n.split(re.RESOURCE_DELIM),i=o[0],l=o.length>1?o.slice(1).join(re.RESOURCE_DELIM):re.EMPTY_STRING,c=e.base64Decode(i),d=JSON.parse(c);return{userRequestState:l||re.EMPTY_STRING,libraryState:d}}catch{throw le(Hs)}}}const CL={SW:"sw"};class zs{constructor(e,n){this.cryptoUtils=e,this.performanceClient=n}async generateCnf(e,n){this.performanceClient?.addQueueMeasurement(U.PopTokenGenerateCnf,e.correlationId);const o=await te(this.generateKid.bind(this),U.PopTokenGenerateCnf,n,this.performanceClient,e.correlationId)(e),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(o));return{kid:o.kid,reqCnfString:i}}async generateKid(e){return this.performanceClient?.addQueueMeasurement(U.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:CL.SW}}async signPopToken(e,n,o){return this.signPayload(e,n,o)}async signPayload(e,n,o,i){const{resourceRequestMethod:l,resourceRequestUri:c,shrClaims:d,shrNonce:f,shrOptions:m}=o,y=(c?new it(c):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:$n(),m:l?.toUpperCase(),u:y?.HostNameAndPort,nonce:f||this.cryptoUtils.createNewGuid(),p:y?.AbsolutePath,q:y?.QueryString?[[],y.QueryString]:void 0,client_claims:d||void 0,...i},n,m,o.correlationId)}}class EL{constructor(e,n){this.cache=e,this.hasChanged=n}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class wi{constructor(e,n,o,i,l,c,d){this.clientId=e,this.cacheStorage=n,this.cryptoObj=o,this.logger=i,this.serializableCache=l,this.persistencePlugin=c,this.performanceClient=d}validateTokenResponse(e,n){if(e.error||e.error_description||e.suberror){const o=`Error(s): ${e.error_codes||re.NOT_AVAILABLE} - Timestamp: ${e.timestamp||re.NOT_AVAILABLE} - Description: ${e.error_description||re.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||re.NOT_AVAILABLE} - Trace ID: ${e.trace_id||re.NOT_AVAILABLE}`,i=e.error_codes?.length?e.error_codes[0]:void 0,l=new Di(e.error,o,e.suberror,i,e.status);if(n&&e.status&&e.status>=Ia.SERVER_ERROR_RANGE_START&&e.status<=Ia.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${l}`);return}else if(n&&e.status&&e.status>=Ia.CLIENT_ERROR_RANGE_START&&e.status<=Ia.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${l}`);return}throw wR(e.error,e.error_description,e.suberror)?new Vr(e.error,e.error_description,e.suberror,e.timestamp||re.EMPTY_STRING,e.trace_id||re.EMPTY_STRING,e.correlation_id||re.EMPTY_STRING,e.claims||re.EMPTY_STRING,i):l}}async handleServerTokenResponse(e,n,o,i,l,c,d,f,m){this.performanceClient?.addQueueMeasurement(U.HandleServerTokenResponse,e.correlation_id);let g;if(e.id_token){if(g=$s(e.id_token||re.EMPTY_STRING,this.cryptoObj.base64Decode),l&&l.nonce&&g.nonce!==l.nonce)throw le(__);if(i.maxAge||i.maxAge===0){const w=g.auth_time;if(!w)throw le(Oy);J_(w,i.maxAge)}}this.homeAccountIdentifier=Gr.generateHomeAccountId(e.client_info||re.EMPTY_STRING,n.authorityType,this.logger,this.cryptoObj,g);let y;l&&l.state&&(y=Xs.parseRequestState(this.cryptoObj,l.state)),e.key_id=e.key_id||i.sshKid||void 0;const v=this.generateCacheRecord(e,n,o,i,g,c,l);let E;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),E=new EL(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(E)),d&&!f&&v.account){const w=this.cacheStorage.generateAccountKey(v.account.getAccountInfo());if(!this.cacheStorage.getAccount(w,i.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await wi.generateAuthenticationResult(this.cryptoObj,n,v,!1,i,g,y,void 0,m)}await this.cacheStorage.saveCacheRecord(v,i.correlationId,i.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&E&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(E))}return wi.generateAuthenticationResult(this.cryptoObj,n,v,!1,i,g,y,e,m)}generateCacheRecord(e,n,o,i,l,c,d){const f=n.getPreferredCache();if(!f)throw le(xy);const m=ER(l);let g,y;e.id_token&&l&&(g=Ff(this.homeAccountIdentifier,f,e.id_token,this.clientId,m||""),y=rv(this.cacheStorage,n,this.homeAccountIdentifier,this.cryptoObj.base64Decode,i.correlationId,l,e.client_info,f,m,d,void 0,this.logger));let v=null;if(e.access_token){const S=e.scope?on.fromString(e.scope):new on(i.scopes||[]),T=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,R=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,O=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,x=o+T,B=x+R,L=O&&O>0?o+O:void 0;v=qf(this.homeAccountIdentifier,f,e.access_token,this.clientId,m||n.tenant||"",S.printScopes(),x,B,this.cryptoObj.base64Decode,L,e.token_type,c,e.key_id,i.claims,i.requestedClaimsHash)}let E=null;if(e.refresh_token){let S;if(e.refresh_token_expires_in){const T=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;S=o+T}E=vR(this.homeAccountIdentifier,f,e.refresh_token,this.clientId,e.foci,c,S)}let w=null;return e.foci&&(w={clientId:this.clientId,environment:f,familyId:e.foci}),{account:y,idToken:g,accessToken:v,refreshToken:E,appMetadata:w}}static async generateAuthenticationResult(e,n,o,i,l,c,d,f,m){let g=re.EMPTY_STRING,y=[],v=null,E,w,S=re.EMPTY_STRING;if(o.accessToken){if(o.accessToken.tokenType===dt.POP&&!l.popKid){const x=new zs(e),{secret:B,keyId:L}=o.accessToken;if(!L)throw le(ky);g=await x.signPopToken(B,L,l)}else g=o.accessToken.secret;y=on.fromString(o.accessToken.target).asArray(),v=Ps(o.accessToken.expiresOn),E=Ps(o.accessToken.extendedExpiresOn),o.accessToken.refreshOn&&(w=Ps(o.accessToken.refreshOn))}o.appMetadata&&(S=o.appMetadata.familyId===Gd?Gd:"");const T=c?.oid||c?.sub||"",R=c?.tid||"";f?.spa_accountid&&o.account&&(o.account.nativeAccountId=f?.spa_accountid);const O=o.account?By(o.account.getAccountInfo(),void 0,c,o.idToken?.secret):null;return{authority:n.canonicalAuthority,uniqueId:T,tenantId:R,scopes:y,account:O,idToken:o?.idToken?.secret||"",idTokenClaims:c||{},accessToken:g,fromCache:i,expiresOn:v,extExpiresOn:E,refreshOn:w,correlationId:l.correlationId,requestId:m||re.EMPTY_STRING,familyId:S,tokenType:o.accessToken?.tokenType||re.EMPTY_STRING,state:d?d.userRequestState:re.EMPTY_STRING,cloudGraphHostName:o.account?.cloudGraphHostName||re.EMPTY_STRING,msGraphHost:o.account?.msGraphHost||re.EMPTY_STRING,code:f?.spa_code,fromNativeBroker:!1}}}function rv(t,e,n,o,i,l,c,d,f,m,g,y){y?.verbose("setCachedAccount called");const E=t.getAccountKeys().find(O=>O.startsWith(n));let w=null;E&&(w=t.getAccount(E,i));const S=w||Gr.createAccount({homeAccountId:n,idTokenClaims:l,clientInfo:c,environment:d,cloudGraphHostName:m?.cloud_graph_host_name,msGraphHost:m?.msgraph_host,nativeAccountId:g},e,o),T=S.tenantProfiles||[],R=f||S.realm;if(R&&!T.find(O=>O.tenantId===R)){const O=zy(n,S.localAccountId,R,l);T.push(O)}return S.tenantProfiles=T,S}async function TR(t,e,n){return typeof t=="string"?t:t({clientId:e,tokenEndpoint:n})}class AR extends ev{constructor(e,n){super(e,n),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async acquireToken(e,n){if(this.performanceClient?.addQueueMeasurement(U.AuthClientAcquireToken,e.correlationId),!e.code)throw le(I_);const o=$n(),i=await te(this.executeTokenRequest.bind(this),U.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),l=i.headers?.[Dn.X_MS_REQUEST_ID],c=new wi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return c.validateTokenResponse(i.body),te(c.handleServerTokenResponse.bind(c),U.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,o,e,n,void 0,void 0,void 0,l)}getLogoutUri(e){if(!e)throw bt(q_);const n=this.createLogoutUrlQueryString(e);return it.appendQueryString(this.authority.endSessionEndpoint,n)}async executeTokenRequest(e,n){this.performanceClient?.addQueueMeasurement(U.AuthClientExecuteTokenRequest,n.correlationId);const o=this.createTokenQueryParameters(n),i=it.appendQueryString(e.tokenEndpoint,o),l=await te(this.createTokenRequestBody.bind(this),U.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,n.correlationId)(n);let c;if(n.clientInfo)try{const m=Jd(n.clientInfo,this.cryptoUtils.base64Decode);c={credential:`${m.uid}${wc.CLIENT_INFO_SEPARATOR}${m.utid}`,type:qr.HOME_ACCOUNT_ID}}catch(m){this.logger.verbose("Could not parse client info for CCS Header: "+m)}const d=this.createTokenRequestHeaders(c||n.ccsCredential),f=Kf(this.config.authOptions.clientId,n);return te(this.executePostToTokenEndpoint.bind(this),U.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,n.correlationId)(i,l,d,f,n.correlationId,U.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(U.AuthClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(Gy(n,e.embeddedClientId||e.tokenBodyParameters?.[Si]||this.config.authOptions.clientId),this.includeRedirectUri)Vy(n,e.redirectUri);else if(!e.redirectUri)throw bt(H_);if(Ky(n,e.scopes,!0,this.oidcDefaultScopes),$D(n,e.code),$y(n,this.config.libraryInfo),Xy(n,this.config.telemetry.application),yR(n),this.serverTelemetryManager&&!oR(this.config)&&gR(n,this.serverTelemetryManager),e.codeVerifier&&WD(n,e.codeVerifier),this.config.clientCredentials.clientSecret&&uR(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const i=this.config.clientCredentials.clientAssertion;dR(n,await TR(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),fR(n,i.assertionType)}if(hR(n,v_.AUTHORIZATION_CODE_GRANT),Wy(n),e.authenticationScheme===dt.POP){const i=new zs(this.cryptoUtils,this.performanceClient);let l;e.popKid?l=this.cryptoUtils.encodeKid(e.popKid):l=(await te(i.generateCnf.bind(i),U.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,Jy(n,l)}else if(e.authenticationScheme===dt.SSH)if(e.sshJwk)pR(n,e.sshJwk);else throw bt(Hf);(!ur.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Yy(n,e.claims,this.config.authOptions.clientCapabilities);let o;if(e.clientInfo)try{const i=Jd(e.clientInfo,this.cryptoUtils.base64Decode);o={credential:`${i.uid}${wc.CLIENT_INFO_SEPARATOR}${i.utid}`,type:qr.HOME_ACCOUNT_ID}}catch(i){this.logger.verbose("Could not parse client info for CCS Header: "+i)}else o=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&o)switch(o.type){case qr.HOME_ACCOUNT_ID:try{const i=Ms(o.credential);pc(n,i)}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case qr.UPN:tf(n,o.credential);break}return e.embeddedClientId&&Bf(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Ma(n,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[Uw])&&Ma(n,{[Uw]:"1"}),zf(n,e.correlationId,this.performanceClient),Tc(n)}createLogoutUrlQueryString(e){const n=new Map;return e.postLogoutRedirectUri&&KD(n,e.postLogoutRedirectUri),e.correlationId&&Qy(n,e.correlationId),e.idTokenHint&&GD(n,e.idTokenHint),e.state&&lR(n,e.state),e.logoutHint&&ZD(n,e.logoutHint),e.extraQueryParameters&&Ma(n,e.extraQueryParameters),this.config.authOptions.instanceAware&&mR(n),Tc(n,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}const SL=300;class wL extends ev{constructor(e,n){super(e,n)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(U.RefreshTokenClientAcquireToken,e.correlationId);const n=$n(),o=await te(this.executeTokenRequest.bind(this),U.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),i=o.headers?.[Dn.X_MS_REQUEST_ID],l=new wi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return l.validateTokenResponse(o.body),te(l.handleServerTokenResponse.bind(l),U.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(o.body,this.authority,n,e,void 0,void 0,!0,e.forceCache,i)}async acquireTokenByRefreshToken(e){if(!e)throw bt(F_);if(this.performanceClient?.addQueueMeasurement(U.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw le(Iy);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await te(this.acquireTokenWithCachedRefreshToken.bind(this),U.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(o){const i=o instanceof Vr&&o.errorCode===rf,l=o instanceof Di&&o.errorCode===Ow.INVALID_GRANT_ERROR&&o.subError===Ow.CLIENT_MISMATCH_ERROR;if(i||l)return te(this.acquireTokenWithCachedRefreshToken.bind(this),U.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw o}return te(this.acquireTokenWithCachedRefreshToken.bind(this),U.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,n){this.performanceClient?.addQueueMeasurement(U.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const o=dr(this.cacheManager.getRefreshToken.bind(this.cacheManager),U.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,n,e.correlationId,void 0,this.performanceClient);if(!o)throw of(rf);if(o.expiresOn&&nf(o.expiresOn,e.refreshTokenExpirationOffsetSeconds||SL))throw this.performanceClient?.addFields({rtExpiresOnMs:Number(o.expiresOn)},e.correlationId),of(tv);const i={...e,refreshToken:o.secret,authenticationScheme:e.authenticationScheme||dt.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:qr.HOME_ACCOUNT_ID}};try{return await te(this.acquireToken.bind(this),U.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(i)}catch(l){if(l instanceof Vr&&(this.performanceClient?.addFields({rtExpiresOnMs:Number(o.expiresOn)},e.correlationId),l.subError===Vf)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const c=this.cacheManager.generateCredentialKey(o);this.cacheManager.removeRefreshToken(c,e.correlationId)}throw l}}async executeTokenRequest(e,n){this.performanceClient?.addQueueMeasurement(U.RefreshTokenClientExecuteTokenRequest,e.correlationId);const o=this.createTokenQueryParameters(e),i=it.appendQueryString(n.tokenEndpoint,o),l=await te(this.createTokenRequestBody.bind(this),U.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),c=this.createTokenRequestHeaders(e.ccsCredential),d=Kf(this.config.authOptions.clientId,e);return te(this.executePostToTokenEndpoint.bind(this),U.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(i,l,c,d,e.correlationId,U.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(U.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(Gy(n,e.embeddedClientId||e.tokenBodyParameters?.[Si]||this.config.authOptions.clientId),e.redirectUri&&Vy(n,e.redirectUri),Ky(n,e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),hR(n,v_.REFRESH_TOKEN_GRANT),Wy(n),$y(n,this.config.libraryInfo),Xy(n,this.config.telemetry.application),yR(n),this.serverTelemetryManager&&!oR(this.config)&&gR(n,this.serverTelemetryManager),XD(n,e.refreshToken),this.config.clientCredentials.clientSecret&&uR(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const o=this.config.clientCredentials.clientAssertion;dR(n,await TR(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),fR(n,o.assertionType)}if(e.authenticationScheme===dt.POP){const o=new zs(this.cryptoUtils,this.performanceClient);let i;e.popKid?i=this.cryptoUtils.encodeKid(e.popKid):i=(await te(o.generateCnf.bind(o),U.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,Jy(n,i)}else if(e.authenticationScheme===dt.SSH)if(e.sshJwk)pR(n,e.sshJwk);else throw bt(Hf);if((!ur.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Yy(n,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case qr.HOME_ACCOUNT_ID:try{const o=Ms(e.ccsCredential.credential);pc(n,o)}catch(o){this.logger.verbose("Could not parse home account ID for CCS Header: "+o)}break;case qr.UPN:tf(n,e.ccsCredential.credential);break}return e.embeddedClientId&&Bf(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Ma(n,e.tokenBodyParameters),zf(n,e.correlationId,this.performanceClient),Tc(n)}}class TL extends ev{constructor(e,n){super(e,n)}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(U.SilentFlowClientAcquireCachedToken,e.correlationId);let n=fi.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!ur.isEmptyObj(e.claims))throw this.setCacheOutcome(fi.FORCE_REFRESH_OR_CLAIMS,e.correlationId),le(Na);if(!e.account)throw le(Iy);const o=e.account.tenantId||hL(e.authority),i=this.cacheManager.getTokenKeys(),l=this.cacheManager.getAccessToken(e.account,e,i,o);if(l){if(iL(l.cachedAt)||nf(l.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(fi.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),le(Na);l.refreshOn&&nf(l.refreshOn,0)&&(n=fi.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(fi.NO_CACHED_ACCESS_TOKEN,e.correlationId),le(Na);const c=e.authority||this.authority.getPreferredCache(),d={account:this.cacheManager.getAccount(this.cacheManager.generateAccountKey(e.account),e.correlationId),accessToken:l,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,i,o,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(c)};return this.setCacheOutcome(n,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await te(this.generateResultFromCacheRecord.bind(this),U.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(d,e),n]}setCacheOutcome(e,n){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},n),e!==fi.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,n){this.performanceClient?.addQueueMeasurement(U.SilentFlowClientGenerateResultFromCacheRecord,n.correlationId);let o;if(e.idToken&&(o=$s(e.idToken.secret,this.config.cryptoInterface.base64Decode)),n.maxAge||n.maxAge===0){const i=o?.auth_time;if(!i)throw le(Oy);J_(i,n.maxAge)}return wi.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,n,o)}}const AL={sendGetRequestAsync:()=>Promise.reject(le(Ye)),sendPostRequestAsync:()=>Promise.reject(le(Ye))};function _L(t,e,n,o){const i=e.correlationId,l=new Map;Gy(l,e.embeddedClientId||e.extraQueryParameters?.[Si]||t.clientId);const c=[...e.scopes||[],...e.extraScopesToConsent||[]];if(Ky(l,c,!0,t.authority.options.OIDCOptions?.defaultScopes),Vy(l,e.redirectUri),Qy(l,i),FD(l,e.responseMode),Wy(l),e.prompt&&(YD(l,e.prompt),o?.addFields({prompt:e.prompt},i)),e.domainHint&&(VD(l,e.domainHint),o?.addFields({domainHintFromRequest:!0},i)),e.prompt!==Ln.SELECT_ACCOUNT)if(e.sid&&e.prompt===Ln.NONE)n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),Hw(l,e.sid),o?.addFields({sidFromRequest:!0},i);else if(e.account){const d=IL(e.account);let f=xL(e.account);if(f&&e.domainHint&&(n.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),f=null),f){n.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),ud(l,f),o?.addFields({loginHintFromClaim:!0},i);try{const m=Ms(e.account.homeAccountId);pc(l,m)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(d&&e.prompt===Ln.NONE){n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),Hw(l,d),o?.addFields({sidFromClaim:!0},i);try{const m=Ms(e.account.homeAccountId);pc(l,m)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)n.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),ud(l,e.loginHint),tf(l,e.loginHint),o?.addFields({loginHintFromRequest:!0},i);else if(e.account.username){n.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),ud(l,e.account.username),o?.addFields({loginHintFromUpn:!0},i);try{const m=Ms(e.account.homeAccountId);pc(l,m)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(n.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),ud(l,e.loginHint),tf(l,e.loginHint),o?.addFields({loginHintFromRequest:!0},i));else n.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&QD(l,e.nonce),e.state&&lR(l,e.state),(e.claims||t.clientCapabilities&&t.clientCapabilities.length>0)&&Yy(l,e.claims,t.clientCapabilities),e.embeddedClientId&&Bf(l,t.clientId,t.redirectUri),t.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(Tg))&&mR(l),l}function ov(t,e,n,o){const i=Tc(e,n,o);return it.appendQueryString(t.authorizationEndpoint,i)}function RL(t,e){if(_R(t,e),!t.code)throw le(P_);return t}function _R(t,e){if(!t.state||!e)throw t.state?le(vg,"Cached State"):le(vg,"Server State");let n,o;try{n=decodeURIComponent(t.state)}catch{throw le(Hs,t.state)}try{o=decodeURIComponent(e)}catch{throw le(Hs,t.state)}if(n!==o)throw le(A_);if(t.error||t.error_description||t.suberror){const i=OL(t);throw wR(t.error,t.error_description,t.suberror)?new Vr(t.error||"",t.error_description,t.suberror,t.timestamp||"",t.trace_id||"",t.correlation_id||"",t.claims||"",i):new Di(t.error||"",t.error_description,t.suberror,i)}}function OL(t){const e="code=",n=t.error_uri?.lastIndexOf(e);return n&&n>=0?t.error_uri?.substring(n+e.length):void 0}function IL(t){return t.idTokenClaims?.sid||null}function xL(t){return t.loginHint||t.idTokenClaims?.login_hint||null}const Gw=",",RR="|";function kL(t){const{skus:e,libraryName:n,libraryVersion:o,extensionName:i,extensionVersion:l}=t,c=new Map([[0,[n,o]],[2,[i,l]]]);let d=[];if(e?.length){if(d=e.split(Gw),d.length<4)return e}else d=Array.from({length:4},()=>RR);return c.forEach((f,m)=>{f.length===2&&f[0]?.length&&f[1]?.length&&NL({skuArr:d,index:m,skuName:f[0],skuVersion:f[1]})}),d.join(Gw)}function NL(t){const{skuArr:e,index:n,skuName:o,skuVersion:i}=t;n>=e.length||(e[n]=[o,i].join(RR))}class Ac{constructor(e,n){this.cacheOutcome=fi.NOT_APPLICABLE,this.cacheManager=n,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||re.EMPTY_STRING,this.wrapperVer=e.wrapperVer||re.EMPTY_STRING,this.telemetryCacheKey=vn.CACHE_KEY+wc.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${vn.VALUE_SEPARATOR}${this.cacheOutcome}`,n=[this.wrapperSKU,this.wrapperVer],o=this.getNativeBrokerErrorCode();o?.length&&n.push(`broker_error=${o}`);const i=n.join(vn.VALUE_SEPARATOR),l=this.getRegionDiscoveryFields(),c=[e,l].join(vn.VALUE_SEPARATOR);return[vn.SCHEMA_VERSION,c,i].join(vn.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),n=Ac.maxErrorsToSend(e),o=e.failedRequests.slice(0,2*n).join(vn.VALUE_SEPARATOR),i=e.errors.slice(0,n).join(vn.VALUE_SEPARATOR),l=e.errors.length,c=n<l?vn.OVERFLOW_TRUE:vn.OVERFLOW_FALSE,d=[l,c].join(vn.VALUE_SEPARATOR);return[vn.SCHEMA_VERSION,e.cacheHits,o,i,d].join(vn.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const n=this.getLastRequests();n.errors.length>=vn.MAX_CACHED_ERRORS&&(n.failedRequests.shift(),n.failedRequests.shift(),n.errors.shift()),n.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof gt?e.subError?n.errors.push(e.subError):e.errorCode?n.errors.push(e.errorCode):n.errors.push(e.toString()):n.errors.push(e.toString()):n.errors.push(vn.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n,this.correlationId)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),n=Ac.maxErrorsToSend(e),o=e.errors.length;if(n===o)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{const i={failedRequests:e.failedRequests.slice(n*2),errors:e.errors.slice(n),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i,this.correlationId)}}static maxErrorsToSend(e){let n,o=0,i=0;const l=e.errors.length;for(n=0;n<l;n++){const c=e.failedRequests[2*n]||re.EMPTY_STRING,d=e.failedRequests[2*n+1]||re.EMPTY_STRING,f=e.errors[n]||re.EMPTY_STRING;if(i+=c.toString().length+d.toString().length+f.length+3,i<vn.MAX_LAST_HEADER_BYTES)o+=1;else break}return o}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||re.EMPTY_STRING),e.push(this.regionSource||re.EMPTY_STRING),e.push(this.regionOutcome||re.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const n=this.getLastRequests();n.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return kL(e)}}const OR="missing_kid_error",IR="missing_alg_error";const ML={[OR]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[IR]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class av extends gt{constructor(e,n){super(e,n),this.name="JoseHeaderError",Object.setPrototypeOf(this,av.prototype)}}function Vw(t){return new av(t,ML[t])}class iv{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw Vw(OR);if(!e.alg)throw Vw(IR);const n=new iv({typ:e.typ||_1.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(n)}}const sv="pkce_not_created",lv="ear_jwk_empty",xR="ear_jwe_empty",Ag="crypto_nonexistent",Yf="empty_navigate_uri",kR="hash_empty_error",cv="no_state_in_hash",NR="hash_does_not_contain_known_properties",MR="unable_to_parse_state",PR="state_interaction_type_mismatch",DR="interaction_in_progress",LR="popup_window_error",UR="empty_window_error",_c="user_cancelled",PL="monitor_popup_timeout",HR="monitor_window_timeout",zR="redirect_in_iframe",BR="block_iframe_reload",jR="block_nested_popups",DL="iframe_closed_prematurely",Qf="silent_logout_unsupported",FR="no_account_error",LL="silent_prompt_value_error",qR="no_token_request_cache_error",KR="unable_to_parse_token_request_cache_error",UL="auth_request_not_set_error",HL="invalid_cache_type",$f="non_browser_environment",_s="database_not_open",af="no_network_connectivity",GR="post_request_failed",VR="get_request_failed",_g="failed_to_parse_response",YR="unable_to_load_token",uv="crypto_key_not_found",QR="auth_code_required",$R="auth_code_or_nativeAccountId_required",XR="spa_code_and_nativeAccountId_present",dv="database_unavailable",WR="unable_to_acquire_token_from_native_platform",JR="native_handshake_timeout",ZR="native_extension_not_installed",fv="native_connection_not_established",gc="uninitialized_public_client_application",e0="native_prompt_not_supported",t0="invalid_base64_string",n0="invalid_pop_token_request",r0="failed_to_build_headers",o0="failed_to_parse_headers",Pd="failed_to_decrypt_ear_response",sf="timed_out";const zo="For more visit: aka.ms/msaljs/browser-errors",zL={[sv]:"The PKCE code challenge and verifier could not be generated.",[lv]:"No EAR encryption key provided. This is unexpected.",[xR]:"Server response does not contain ear_jwe property. This is unexpected.",[Ag]:"The crypto object or function is not available.",[Yf]:"Navigation URI is empty. Please check stack trace for more info.",[kR]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${zo}`,[cv]:"Hash does not contain state. Please verify that the request originated from msal.",[NR]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${zo}`,[MR]:"Unable to parse state. Please verify that the request originated from msal.",[PR]:"Hash contains state but the interaction type does not match the caller.",[DR]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${zo}`,[LR]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[UR]:"window.open returned null or undefined window object.",[_c]:"User cancelled the flow.",[PL]:`Token acquisition in popup failed due to timeout.  ${zo}`,[HR]:`Token acquisition in iframe failed due to timeout.  ${zo}`,[zR]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[BR]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${zo}`,[jR]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[DL]:"The iframe being monitored was closed prematurely.",[Qf]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[FR]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[LL]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[qR]:"No token request found in cache.",[KR]:"The cached token request could not be parsed.",[UL]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[HL]:"Invalid cache type",[$f]:"Login and token requests are not supported in non-browser environments.",[_s]:"Database is not open!",[af]:"No network connectivity. Check your internet connection.",[GR]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[VR]:"Network request failed. Please check the network trace to determine root cause.",[_g]:"Failed to parse network response. Check network trace.",[YR]:"Error loading token to cache.",[uv]:"Cryptographic Key or Keypair not found in browser storage.",[QR]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[$R]:"An authorization code or nativeAccountId must be provided to this flow.",[XR]:"Request cannot contain both spa code and native account id.",[dv]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[WR]:`Unable to acquire token from native platform.  ${zo}`,[JR]:"Timed out while attempting to establish connection to browser extension",[ZR]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[fv]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${zo}`,[gc]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${zo}`,[e0]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[t0]:"Invalid base64 encoded string.",[n0]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[r0]:"Failed to build request headers object.",[o0]:"Failed to parse response headers",[Pd]:"Failed to decrypt ear response",[sf]:"The request timed out."};class Bc extends gt{constructor(e,n){super(e,zL[e],n),Object.setPrototypeOf(this,Bc.prototype),this.name="BrowserAuthError"}}function Ee(t,e){return new Bc(t,e)}const Gn={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},Ir={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS",MICROSOFT_ENTRA_BROKERID:"MicrosoftEntra",DOM_API_NAME:"DOM API",PLATFORM_DOM_APIS:"get-token-and-sign-out",PLATFORM_DOM_PROVIDER:"PlatformAuthDOMHandler",PLATFORM_EXTENSION_PROVIDER:"PlatformAuthExtensionHandler"},oc={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},an={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},Yw={GET:"GET",POST:"POST"},Ra={SIGNIN:"signin",SIGNOUT:"signout"},Xt={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},fd={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},pt={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var De;(function(t){t.Redirect="redirect",t.Popup="popup",t.Silent="silent",t.None="none"})(De||(De={}));const rn={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},Qw={scopes:Qs},a0="jwk",BL={React:"@azure/msal-react"},Rg="msal.db",jL=1,FL=`${Rg}.keys`,Pn={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},qL=[Pn.Default,Pn.Skip,Pn.RefreshTokenAndNetwork];function hd(t){return encodeURIComponent(Rc(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function La(t){return i0(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Rc(t){return i0(new TextEncoder().encode(t))}function i0(t){const e=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(e)}function Kr(t){return new TextDecoder().decode(Pa(t))}function Pa(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw Ee(t0)}const n=atob(e);return Uint8Array.from(n,o=>o.codePointAt(0)||0)}const KL="RSASSA-PKCS1-v1_5",Ws="AES-GCM",s0="HKDF",hv="SHA-256",GL=2048,VL=new Uint8Array([1,0,1]),$w="0123456789abcdef",Xw=new Uint32Array(1),mv="raw",l0="encrypt",pv="decrypt",YL="deriveKey",QL="crypto_subtle_undefined",gv={name:KL,hash:hv,modulusLength:GL,publicExponent:VL};function $L(t){if(!window)throw Ee($f);if(!window.crypto)throw Ee(Ag);if(!t&&!window.crypto.subtle)throw Ee(Ag,QL)}async function c0(t,e,n){e?.addQueueMeasurement(U.Sha256Digest,n);const i=new TextEncoder().encode(t);return window.crypto.subtle.digest(hv,i)}function XL(t){return window.crypto.getRandomValues(t)}function Fp(){return window.crypto.getRandomValues(Xw),Xw[0]}function Yr(){const t=Date.now(),e=Fp()*1024+(Fp()&1023),n=new Uint8Array(16),o=Math.trunc(e/2**30),i=e&2**30-1,l=Fp();n[0]=t/2**40,n[1]=t/2**32,n[2]=t/2**24,n[3]=t/2**16,n[4]=t/2**8,n[5]=t,n[6]=112|o>>>8,n[7]=o,n[8]=128|i>>>24,n[9]=i>>>16,n[10]=i>>>8,n[11]=i,n[12]=l>>>24,n[13]=l>>>16,n[14]=l>>>8,n[15]=l;let c="";for(let d=0;d<n.length;d++)c+=$w.charAt(n[d]>>>4),c+=$w.charAt(n[d]&15),(d===3||d===5||d===7||d===9)&&(c+="-");return c}async function WL(t,e){return window.crypto.subtle.generateKey(gv,t,e)}async function qp(t){return window.crypto.subtle.exportKey(a0,t)}async function JL(t,e,n){return window.crypto.subtle.importKey(a0,t,gv,e,n)}async function ZL(t,e){return window.crypto.subtle.sign(gv,t,e)}async function yv(){const t=await u0(),n={alg:"dir",kty:"oct",k:La(new Uint8Array(t))};return Rc(JSON.stringify(n))}async function eU(t){const e=Kr(t),o=JSON.parse(e).k,i=Pa(o);return window.crypto.subtle.importKey(mv,i,Ws,!1,[pv])}async function tU(t,e){const n=e.split(".");if(n.length!==5)throw Ee(Pd,"jwe_length");const o=await eU(t).catch(()=>{throw Ee(Pd,"import_key")});try{const i=new TextEncoder().encode(n[0]),l=Pa(n[2]),c=Pa(n[3]),d=Pa(n[4]),f=d.byteLength*8,m=new Uint8Array(c.length+d.length);m.set(c),m.set(d,c.length);const g=await window.crypto.subtle.decrypt({name:Ws,iv:l,tagLength:f,additionalData:i},o,m);return new TextDecoder().decode(g)}catch{throw Ee(Pd,"decrypt")}}async function u0(){const t=await window.crypto.subtle.generateKey({name:Ws,length:256},!0,[l0,pv]);return window.crypto.subtle.exportKey(mv,t)}async function Ww(t){return window.crypto.subtle.importKey(mv,t,s0,!1,[YL])}async function d0(t,e,n){return window.crypto.subtle.deriveKey({name:s0,salt:e,hash:hv,info:new TextEncoder().encode(n)},t,{name:Ws,length:256},!1,[l0,pv])}async function nU(t,e,n){const o=new TextEncoder().encode(e),i=window.crypto.getRandomValues(new Uint8Array(16)),l=await d0(t,i,n),c=await window.crypto.subtle.encrypt({name:Ws,iv:new Uint8Array(12)},l,o);return{data:La(new Uint8Array(c)),nonce:La(i)}}async function Jw(t,e,n,o){const i=Pa(o),l=await d0(t,Pa(e),n),c=await window.crypto.subtle.decrypt({name:Ws,iv:new Uint8Array(12)},l,i);return new TextDecoder().decode(c)}async function f0(t){const e=await c0(t),n=new Uint8Array(e);return La(n)}const Xf="storage_not_supported",nn="stubbed_public_client_application_called",vv="in_mem_redirect_unavailable";const Dd={[Xf]:"Given storage configuration option was not supported.",[nn]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[vv]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};Dd[Xf],Dd[nn],Dd[vv];class bv extends gt{constructor(e,n){super(e,n),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,bv.prototype)}}function $t(t){return new bv(t,Dd[t])}function h0(t){t.location.hash="",typeof t.history.replaceState=="function"&&t.history.replaceState(null,"",`${t.location.origin}${t.location.pathname}${t.location.search}`)}function rU(t){const e=t.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function Cv(){return window.parent!==window}function oU(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${Gn.POPUP_NAME_PREFIX}.`)===0}function qo(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function aU(){const e=new it(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function iU(){if(it.hashContainsKnownProperties(window.location.hash)&&Cv())throw Ee(BR)}function sU(t){if(Cv()&&!t)throw Ee(zR)}function lU(){if(oU())throw Ee(jR)}function m0(){if(typeof window>"u")throw Ee($f)}function p0(t){if(!t)throw Ee(gc)}function Ev(t){m0(),iU(),lU(),p0(t)}function Zw(t,e){if(Ev(t),sU(e.system.allowRedirectInIframe),e.cache.cacheLocation===an.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw $t(vv)}function g0(t){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(t).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function cU(){return Yr()}class lf{navigateInternal(e,n){return lf.defaultNavigateWindow(e,n)}navigateExternal(e,n){return lf.defaultNavigateWindow(e,n)}static defaultNavigateWindow(e,n){return n.noHistory?window.location.replace(e):window.location.assign(e),new Promise((o,i)=>{setTimeout(()=>{i(Ee(sf,"failed_to_redirect"))},n.timeout)})}}class uU{async sendGetRequestAsync(e,n){let o,i={},l=0;const c=eT(n);try{o=await fetch(e,{method:Yw.GET,headers:c})}catch(d){throw uc(Ee(window.navigator.onLine?VR:af),void 0,void 0,d)}i=tT(o.headers);try{return l=o.status,{headers:i,body:await o.json(),status:l}}catch(d){throw uc(Ee(_g),l,i,d)}}async sendPostRequestAsync(e,n){const o=n&&n.body||"",i=eT(n);let l,c=0,d={};try{l=await fetch(e,{method:Yw.POST,headers:i,body:o})}catch(f){throw uc(Ee(window.navigator.onLine?GR:af),void 0,void 0,f)}d=tT(l.headers);try{return c=l.status,{headers:d,body:await l.json(),status:c}}catch(f){throw uc(Ee(_g),c,d,f)}}}function eT(t){try{const e=new Headers;if(!(t&&t.headers))return e;const n=t.headers;return Object.entries(n).forEach(([o,i])=>{e.append(o,i)}),e}catch(e){throw uc(Ee(r0),void 0,void 0,e)}}function tT(t){try{const e={};return t.forEach((n,o)=>{e[o]=n}),e}catch{throw Ee(o0)}}const dU=6e4,Og=1e4,fU=3e4,y0=2e3;function hU({auth:t,cache:e,system:n,telemetry:o},i){const l={clientId:re.EMPTY_STRING,authority:`${re.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:re.EMPTY_STRING,authorityMetadata:re.EMPTY_STRING,redirectUri:typeof window<"u"?qo():"",postLogoutRedirectUri:re.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Vn.AAD,OIDCOptions:{serverResponseType:Uf.FRAGMENT,defaultScopes:[re.OPENID_SCOPE,re.PROFILE_SCOPE,re.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:Py.None,tenant:re.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},c={cacheLocation:an.SessionStorage,cacheRetentionDays:5,temporaryCacheLocation:an.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===an.LocalStorage),claimsBasedCachingEnabled:!1},d={loggerCallback:()=>{},logLevel:Rt.Info,piiLoggingEnabled:!1},m={...{...rR,loggerOptions:d,networkClient:i?new uU:AL,navigationClient:new lf,loadFrameTimeout:0,windowHashTimeout:n?.loadFrameTimeout||dU,iframeHashTimeout:n?.loadFrameTimeout||Og,navigateFrameWait:0,redirectNavigationTimeout:fU,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:n?.nativeBrokerHandshakeTimeout||y0,pollIntervalMilliseconds:Gn.DEFAULT_POLL_INTERVAL_MS},...n,loggerOptions:n?.loggerOptions||d},g={application:{appName:re.EMPTY_STRING,appVersion:re.EMPTY_STRING},client:new nR};if(t?.protocolMode!==Vn.OIDC&&t?.OIDCOptions&&new Ko(m.loggerOptions).warning(JSON.stringify(bt(Y_))),t?.protocolMode&&t.protocolMode===Vn.OIDC&&m?.allowPlatformBroker)throw bt(Q_);return{auth:{...l,...t,OIDCOptions:{...l.OIDCOptions,...t?.OIDCOptions}},cache:{...c,...e},system:m,telemetry:{...g,...o}}}const mU="@azure/msal-browser",Ti="4.23.0";const hn="msal",Sv="browser",Kp="-",wa=1,Ig=1,pU=`${hn}.${Sv}.log.level`,gU=`${hn}.${Sv}.log.pii`,yU=`${hn}.${Sv}.platform.auth.dom`,nT=`${hn}.version`,rT="account.keys",oT="token.keys";function co(t=Ig){return t<1?`${hn}.${rT}`:`${hn}.${t}.${rT}`}function gi(t,e=wa){return e<1?`${hn}.${oT}.${t}`:`${hn}.${e}.${oT}.${t}`}class wv{static loggerCallback(e,n){switch(e){case Rt.Error:console.error(n);return;case Rt.Info:console.info(n);return;case Rt.Verbose:console.debug(n);return;case Rt.Warning:console.warn(n);return;default:console.log(n);return}}constructor(e){this.browserEnvironment=typeof window<"u",this.config=hU(e,this.browserEnvironment);let n;try{n=window[an.SessionStorage]}catch{}const o=n?.getItem(pU),i=n?.getItem(gU)?.toLowerCase(),l=i==="true"?!0:i==="false"?!1:void 0,c={...this.config.system.loggerOptions},d=o&&Object.keys(Rt).includes(o)?Rt[o]:void 0;d&&(c.loggerCallback=wv.loggerCallback,c.logLevel=d),l!==void 0&&(c.piiLoggingEnabled=l),this.logger=new Ko(c,mU,Ti),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class Ai extends wv{getModuleName(){return Ai.MODULE_NAME}getId(){return Ai.ID}async initialize(){return this.available=typeof window<"u",this.available}}Ai.MODULE_NAME="";Ai.ID="StandardOperatingContext";class vU{constructor(){this.dbName=Rg,this.version=jL,this.tableName=FL,this.dbOpen=!1}async open(){return new Promise((e,n)=>{const o=window.indexedDB.open(this.dbName,this.version);o.addEventListener("upgradeneeded",i=>{i.target.result.createObjectStore(this.tableName)}),o.addEventListener("success",i=>{const l=i;this.db=l.target.result,this.dbOpen=!0,e()}),o.addEventListener("error",()=>n(Ee(dv)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((n,o)=>{if(!this.db)return o(Ee(_s));const c=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);c.addEventListener("success",d=>{const f=d;this.closeConnection(),n(f.target.result)}),c.addEventListener("error",d=>{this.closeConnection(),o(d)})})}async setItem(e,n){return await this.validateDbIsOpen(),new Promise((o,i)=>{if(!this.db)return i(Ee(_s));const d=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(n,e);d.addEventListener("success",()=>{this.closeConnection(),o()}),d.addEventListener("error",f=>{this.closeConnection(),i(f)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((n,o)=>{if(!this.db)return o(Ee(_s));const c=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);c.addEventListener("success",()=>{this.closeConnection(),n()}),c.addEventListener("error",d=>{this.closeConnection(),o(d)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,n)=>{if(!this.db)return n(Ee(_s));const l=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();l.addEventListener("success",c=>{const d=c;this.closeConnection(),e(d.target.result)}),l.addEventListener("error",c=>{this.closeConnection(),n(c)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((n,o)=>{if(!this.db)return o(Ee(_s));const c=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);c.addEventListener("success",d=>{const f=d;this.closeConnection(),n(f.target.result===1)}),c.addEventListener("error",d=>{this.closeConnection(),o(d)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,n)=>{const o=window.indexedDB.deleteDatabase(Rg),i=setTimeout(()=>n(!1),200);o.addEventListener("success",()=>(clearTimeout(i),e(!0))),o.addEventListener("blocked",()=>(clearTimeout(i),e(!0))),o.addEventListener("error",()=>(clearTimeout(i),n(!1)))})}}class Wf{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,n){this.cache.set(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((n,o)=>{e.push(o)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}decryptData(){return Promise.resolve(null)}}class bU{constructor(e){this.inMemoryCache=new Wf,this.indexedDBCache=new vU,this.logger=e}handleDatabaseAccessError(e){if(e instanceof Bc&&e.errorCode===dv)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const n=this.inMemoryCache.getItem(e);if(!n)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(o){this.handleDatabaseAccessError(o)}return n}async setItem(e,n){this.inMemoryCache.setItem(e,n);try{await this.indexedDBCache.setItem(e,n)}catch(o){this.handleDatabaseAccessError(o)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(n){this.handleDatabaseAccessError(n)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(n){this.handleDatabaseAccessError(n)}return e}async containsKey(e){const n=this.inMemoryCache.containsKey(e);if(!n)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(o){this.handleDatabaseAccessError(o)}return n}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}class Go{constructor(e,n,o){this.logger=e,$L(o??!1),this.cache=new bU(this.logger),this.performanceClient=n}createNewGuid(){return Yr()}base64Encode(e){return Rc(e)}base64Decode(e){return Kr(e)}base64UrlEncode(e){return hd(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){const n=this.performanceClient?.startMeasurement(U.CryptoOptsGetPublicKeyThumbprint,e.correlationId),o=await WL(Go.EXTRACTABLE,Go.POP_KEY_USAGES),i=await qp(o.publicKey),l={e:i.e,kty:i.kty,n:i.n},c=aT(l),d=await this.hashString(c),f=await qp(o.privateKey),m=await JL(f,!1,["sign"]);return await this.cache.setItem(d,{privateKey:m,publicKey:o.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),n&&n.end({success:!0}),d}async removeTokenBindingKey(e){if(await this.cache.removeItem(e),await this.cache.containsKey(e))throw le(D_)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,n,o,i){const l=this.performanceClient?.startMeasurement(U.CryptoOptsSignJwt,i),c=await this.cache.getItem(n);if(!c)throw Ee(uv);const d=await qp(c.publicKey),f=aT(d),m=hd(JSON.stringify({kid:n})),g=iv.getShrHeaderString({...o?.header,alg:d.alg,kid:m}),y=hd(g);e.cnf={jwk:JSON.parse(f)};const v=hd(JSON.stringify(e)),E=`${y}.${v}`,S=new TextEncoder().encode(E),T=await ZL(c.privateKey,S),R=La(new Uint8Array(T)),O=`${E}.${R}`;return l&&l.end({success:!0}),O}async hashString(e){return f0(e)}}Go.POP_KEY_USAGES=["sign","verify"];Go.EXTRACTABLE=!0;function aT(t){return JSON.stringify(t,Object.keys(t).sort())}const CU=1440*60*1e3,xg={Lax:"Lax",None:"None"};class v0{initialize(){return Promise.resolve()}getItem(e){const n=`${encodeURIComponent(e)}`,o=document.cookie.split(";");for(let i=0;i<o.length;i++){const l=o[i],[c,...d]=decodeURIComponent(l).trim().split("="),f=d.join("=");if(c===n)return f}return""}getUserData(){throw le(Ye)}setItem(e,n,o,i=!0,l=xg.Lax){let c=`${encodeURIComponent(e)}=${encodeURIComponent(n)};path=/;SameSite=${l};`;if(o){const d=EU(o);c+=`expires=${d};`}(i||l===xg.None)&&(c+="Secure;"),document.cookie=c}async setUserData(){return Promise.reject(le(Ye))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),n=[];return e.forEach(o=>{const i=decodeURIComponent(o).trim().split("=");n.push(i[0])}),n}containsKey(e){return this.getKeys().includes(e)}decryptData(){return Promise.resolve(null)}}function EU(t){const e=new Date;return new Date(e.getTime()+t*CU).toUTCString()}function yc(t,e){const n=t.getItem(co(e));return n?JSON.parse(n):[]}function vc(t,e,n){const o=e.getItem(gi(t,n));if(o){const i=JSON.parse(o);if(i&&i.hasOwnProperty("idToken")&&i.hasOwnProperty("accessToken")&&i.hasOwnProperty("refreshToken"))return i}return{idToken:[],accessToken:[],refreshToken:[]}}function kg(t){return t.hasOwnProperty("id")&&t.hasOwnProperty("nonce")&&t.hasOwnProperty("data")}const iT="msal.cache.encryption",SU="msal.broadcast.cache";class wU{constructor(e,n,o){if(!window.localStorage)throw $t(Xf);this.memoryStorage=new Wf,this.initialized=!1,this.clientId=e,this.logger=n,this.performanceClient=o,this.broadcast=new BroadcastChannel(SU)}async initialize(e){const n=new v0,o=n.getItem(iT);let i={key:"",id:""};if(o)try{i=JSON.parse(o)}catch{}if(i.key&&i.id){const l=dr(Pa,U.Base64Decode,this.logger,this.performanceClient,e)(i.key);this.encryptionCookie={id:i.id,key:await te(Ww,U.GenerateHKDF,this.logger,this.performanceClient,e)(l)}}else{const l=Yr(),c=await te(u0,U.GenerateBaseKey,this.logger,this.performanceClient,e)(),d=dr(La,U.UrlEncodeArr,this.logger,this.performanceClient,e)(new Uint8Array(c));this.encryptionCookie={id:l,key:await te(Ww,U.GenerateHKDF,this.logger,this.performanceClient,e)(c)};const f={id:l,key:d};n.setItem(iT,JSON.stringify(f),0,!0,xg.None)}await te(this.importExistingCache.bind(this),U.ImportExistingCache,this.logger,this.performanceClient,e)(e),this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw Ee(gc);return this.memoryStorage.getItem(e)}async decryptData(e,n,o){if(!this.initialized||!this.encryptionCookie)throw Ee(gc);if(n.id!==this.encryptionCookie.id)return this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},o),null;const i=await te(Jw,U.Decrypt,this.logger,this.performanceClient,o)(this.encryptionCookie.key,n.nonce,this.getContext(e),n.data);if(!i)return null;try{return JSON.parse(i)}catch{return this.performanceClient.incrementFields({encryptedCacheCorruptionCount:1},o),null}}setItem(e,n){window.localStorage.setItem(e,n)}async setUserData(e,n,o,i){if(!this.initialized||!this.encryptionCookie)throw Ee(gc);const{data:l,nonce:c}=await te(nU,U.Encrypt,this.logger,this.performanceClient,o)(this.encryptionCookie.key,n,this.getContext(e)),d={id:this.encryptionCookie.id,nonce:c,data:l,lastUpdatedAt:i};this.memoryStorage.setItem(e,n),this.setItem(e,JSON.stringify(d)),this.broadcast.postMessage({key:e,value:n,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear(),yc(this).forEach(o=>this.removeItem(o));const n=vc(this.clientId,this);n.idToken.forEach(o=>this.removeItem(o)),n.accessToken.forEach(o=>this.removeItem(o)),n.refreshToken.forEach(o=>this.removeItem(o)),this.getKeys().forEach(o=>{(o.startsWith(hn)||o.indexOf(this.clientId)!==-1)&&this.removeItem(o)})}async importExistingCache(e){if(!this.encryptionCookie)return;let n=yc(this);n=await this.importArray(n,e),n.length?this.setItem(co(),JSON.stringify(n)):this.removeItem(co());const o=vc(this.clientId,this);o.idToken=await this.importArray(o.idToken,e),o.accessToken=await this.importArray(o.accessToken,e),o.refreshToken=await this.importArray(o.refreshToken,e),o.idToken.length||o.accessToken.length||o.refreshToken.length?this.setItem(gi(this.clientId),JSON.stringify(o)):this.removeItem(gi(this.clientId))}async getItemFromEncryptedCache(e,n){if(!this.encryptionCookie)return null;const o=this.getItem(e);if(!o)return null;let i;try{i=JSON.parse(o)}catch{return null}return kg(i)?i.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},n),null):te(Jw,U.Decrypt,this.logger,this.performanceClient,n)(this.encryptionCookie.key,i.nonce,this.getContext(e),i.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},n),i)}async importArray(e,n){const o=[],i=[];return e.forEach(l=>{const c=this.getItemFromEncryptedCache(l,n).then(d=>{d?(this.memoryStorage.setItem(l,d),o.push(l)):this.removeItem(l)});i.push(c)}),await Promise.all(i),o}getContext(e){let n="";return e.includes(this.clientId)&&(n=this.clientId),n}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const n=this.performanceClient.startMeasurement(U.LocalStorageUpdated);n.add({isBackground:!0});const{key:o,value:i,context:l}=e.data;if(!o){this.logger.error("Broadcast event missing key"),n.end({success:!1,errorCode:"noKey"});return}if(l&&l!==this.clientId){this.logger.trace(`Ignoring broadcast event from clientId: ${l}`),n.end({success:!1,errorCode:"contextMismatch"});return}i?(this.memoryStorage.setItem(o,i),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(o),this.logger.verbose("Removed item from internal cache")),n.end({success:!0})}}class TU{constructor(){if(!window.sessionStorage)throw $t(Xf)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,n){window.sessionStorage.setItem(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}decryptData(){return Promise.resolve(null)}}const Te={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache",BROKER_CONNECTION_ESTABLISHED:"msal:brokerConnectionEstablished"};function sT(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ng extends wg{constructor(e,n,o,i,l,c,d){super(e,o,i,l,d),this.cacheConfig=n,this.logger=i,this.internalStorage=new Wf,this.browserStorage=lT(e,n.cacheLocation,i,l),this.temporaryCacheStorage=lT(e,n.temporaryCacheLocation,i,l),this.cookieStorage=new v0,this.eventHandler=c}async initialize(e){this.performanceClient.addFields({cacheLocation:this.cacheConfig.cacheLocation,cacheRetentionDays:this.cacheConfig.cacheRetentionDays},e),await this.browserStorage.initialize(e),await this.migrateExistingCache(e),this.trackVersionChanges(e)}async migrateExistingCache(e){const n=yc(this.browserStorage,0),o=vc(this.clientId,this.browserStorage,0);this.performanceClient.addFields({oldAccountCount:n.length,oldAccessCount:o.accessToken.length,oldIdCount:o.idToken.length,oldRefreshCount:o.refreshToken.length},e);const i=yc(this.browserStorage,1),l=vc(this.clientId,this.browserStorage,1);this.performanceClient.addFields({currAccountCount:i.length,currAccessCount:l.accessToken.length,currIdCount:l.idToken.length,currRefreshCount:l.refreshToken.length},e),await Promise.all([this.updateV0ToCurrent(Ig,n,i,e),this.updateV0ToCurrent(wa,o.idToken,l.idToken,e),this.updateV0ToCurrent(wa,o.accessToken,l.accessToken,e),this.updateV0ToCurrent(wa,o.refreshToken,l.refreshToken,e)]),n.length>0?this.browserStorage.setItem(co(0),JSON.stringify(n)):this.browserStorage.removeItem(co(0)),i.length>0?this.browserStorage.setItem(co(1),JSON.stringify(i)):this.browserStorage.removeItem(co(1)),this.setTokenKeys(o,e,0),this.setTokenKeys(l,e,1)}async updateV0ToCurrent(e,n,o,i){const l=[];for(const c of[...n]){const d=this.browserStorage.getItem(c),f=this.validateAndParseJson(d||"");if(!f){sT(n,c);continue}f.lastUpdatedAt||(f.lastUpdatedAt=Date.now().toString(),this.setItem(c,JSON.stringify(f),i));const m=kg(f)?await this.browserStorage.decryptData(c,f,i):f;let g;if(m&&(Bw(m)||jw(m))&&(g=m.expiresOn),!m||aL(f.lastUpdatedAt,this.cacheConfig.cacheRetentionDays)||g&&nf(g,b_)){this.browserStorage.removeItem(c),sT(n,c),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},i);continue}if(this.cacheConfig.cacheLocation!==an.LocalStorage||kg(f)){const y=`${hn}.${e}${Kp}${c}`,v=this.browserStorage.getItem(y);if(v){const E=this.validateAndParseJson(v);if(Number(f.lastUpdatedAt)>Number(E.lastUpdatedAt)){l.push(this.setUserData(y,JSON.stringify(m),i,f.lastUpdatedAt).then(()=>{this.performanceClient.incrementFields({updatedCacheFromV0Count:1},i)}));continue}}else{l.push(this.setUserData(y,JSON.stringify(m),i,f.lastUpdatedAt).then(()=>{o.push(y),this.performanceClient.incrementFields({upgradedCacheCount:1},i)}));continue}}}return Promise.all(l)}trackVersionChanges(e){const n=this.browserStorage.getItem(nT);n&&(this.logger.info(`MSAL.js was last initialized by version: ${n}`),this.performanceClient.addFields({previousLibraryVersion:n},e)),n!==Ti&&this.setItem(nT,Ti,e)}validateAndParseJson(e){if(!e)return null;try{const n=JSON.parse(e);return n&&typeof n=="object"?n:null}catch{return null}}setItem(e,n,o){let i=0,l=[];const c=20;for(let d=0;d<=c;d++)try{this.browserStorage.setItem(e,n),d>0&&(d<=i?this.removeAccessTokenKeys(l.slice(0,d),o,0):(this.removeAccessTokenKeys(l.slice(0,i),o,0),this.removeAccessTokenKeys(l.slice(i,d),o)));break}catch(f){const m=Sg(f);if(m.errorCode===Wd&&d<c){if(!l.length){const g=e===gi(this.clientId,0)?JSON.parse(n).accessToken:this.getTokenKeys(0).accessToken,y=e===gi(this.clientId)?JSON.parse(n).accessToken:this.getTokenKeys().accessToken;l=[...g,...y],i=g.length}if(l.length<=d)throw m;this.removeAccessToken(l[d],o,!1)}else throw m}}async setUserData(e,n,o,i){let l=0,c=[];const d=20;for(let f=0;f<=d;f++)try{await te(this.browserStorage.setUserData.bind(this.browserStorage),U.SetUserData,this.logger,this.performanceClient)(e,n,o,i),f>0&&(f<=l?this.removeAccessTokenKeys(c.slice(0,f),o,0):(this.removeAccessTokenKeys(c.slice(0,l),o,0),this.removeAccessTokenKeys(c.slice(l,f),o)));break}catch(m){const g=Sg(m);if(g.errorCode===Wd&&f<d){if(!c.length){const y=this.getTokenKeys(0).accessToken,v=this.getTokenKeys().accessToken;c=[...y,...v],l=y.length}if(c.length<=f)throw g;this.removeAccessToken(c[f],o,!1)}else throw g}}getAccount(e,n){this.logger.trace("BrowserCacheManager.getAccount called");const o=this.browserStorage.getUserData(e);if(!o)return this.removeAccountKeyFromMap(e,n),null;const i=this.validateAndParseJson(o);return!i||!Gr.isAccountEntity(i)?null:wg.toObject(new Gr,i)}async setAccount(e,n){this.logger.trace("BrowserCacheManager.setAccount called");const o=this.generateAccountKey(e.getAccountInfo()),i=Date.now().toString();e.lastUpdatedAt=i,await this.setUserData(o,JSON.stringify(e),n,i);const l=this.addAccountKeyToMap(o,n);this.cacheConfig.cacheLocation===an.LocalStorage&&l&&this.eventHandler.emitEvent(Te.ACCOUNT_ADDED,void 0,e.getAccountInfo())}getAccountKeys(){return yc(this.browserStorage)}addAccountKeyToMap(e,n){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const o=this.getAccountKeys();return o.indexOf(e)===-1?(o.push(e),this.setItem(co(),JSON.stringify(o),n),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e,n){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const o=this.getAccountKeys(),i=o.indexOf(e);if(i>-1){if(o.splice(i,1),o.length===0){this.removeItem(co());return}else this.setItem(co(),JSON.stringify(o),n);this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")}else this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(e,n){const o=this.getActiveAccount(n);o?.homeAccountId===e.homeAccountId&&o?.environment===e.environment&&this.setActiveAccount(null,n),super.removeAccount(e,n),this.removeAccountKeyFromMap(this.generateAccountKey(e),n),this.browserStorage.getKeys().forEach(i=>{i.includes(e.homeAccountId)&&i.includes(e.environment)&&this.browserStorage.removeItem(i)}),this.cacheConfig.cacheLocation===an.LocalStorage&&this.eventHandler.emitEvent(Te.ACCOUNT_REMOVED,void 0,e)}removeIdToken(e,n){super.removeIdToken(e,n);const o=this.getTokenKeys(),i=o.idToken.indexOf(e);i>-1&&(this.logger.info("idToken removed from tokenKeys map"),o.idToken.splice(i,1),this.setTokenKeys(o,n))}removeAccessToken(e,n,o=!0){super.removeAccessToken(e,n),o&&this.removeAccessTokenKeys([e],n)}removeAccessTokenKeys(e,n,o=wa){this.logger.trace("removeAccessTokenKey called");const i=this.getTokenKeys(o);let l=0;if(e.forEach(c=>{const d=i.accessToken.indexOf(c);d>-1&&(i.accessToken.splice(d,1),l++)}),l>0){this.logger.info(`removed ${l} accessToken keys from tokenKeys map`),this.setTokenKeys(i,n,o);return}}removeRefreshToken(e,n){super.removeRefreshToken(e,n);const o=this.getTokenKeys(),i=o.refreshToken.indexOf(e);i>-1&&(this.logger.info("refreshToken removed from tokenKeys map"),o.refreshToken.splice(i,1),this.setTokenKeys(o,n))}getTokenKeys(e=wa){return vc(this.clientId,this.browserStorage,e)}setTokenKeys(e,n,o=wa){if(e.idToken.length===0&&e.accessToken.length===0&&e.refreshToken.length===0){this.removeItem(gi(this.clientId,o));return}else this.setItem(gi(this.clientId,o),JSON.stringify(e),n)}getIdTokenCredential(e,n){const o=this.browserStorage.getUserData(e);if(!o)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeIdToken(e,n),null;const i=this.validateAndParseJson(o);return!i||!sL(i)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),i)}async setIdTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const o=this.generateCredentialKey(e),i=Date.now().toString();e.lastUpdatedAt=i,await this.setUserData(o,JSON.stringify(e),n,i);const l=this.getTokenKeys();l.idToken.indexOf(o)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),l.idToken.push(o),this.setTokenKeys(l,n))}getAccessTokenCredential(e,n){const o=this.browserStorage.getUserData(e);if(!o)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeAccessTokenKeys([e],n),null;const i=this.validateAndParseJson(o);return!i||!Bw(i)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),i)}async setAccessTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const o=this.generateCredentialKey(e),i=Date.now().toString();e.lastUpdatedAt=i,await this.setUserData(o,JSON.stringify(e),n,i);const l=this.getTokenKeys(),c=l.accessToken.indexOf(o);c!==-1&&l.accessToken.splice(c,1),this.logger.trace(`access token ${c===-1?"added to":"updated in"} map`),l.accessToken.push(o),this.setTokenKeys(l,n)}getRefreshTokenCredential(e,n){const o=this.browserStorage.getUserData(e);if(!o)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeRefreshToken(e,n),null;const i=this.validateAndParseJson(o);return!i||!jw(i)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),i)}async setRefreshTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const o=this.generateCredentialKey(e),i=Date.now().toString();e.lastUpdatedAt=i,await this.setUserData(o,JSON.stringify(e),n,i);const l=this.getTokenKeys();l.refreshToken.indexOf(o)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),l.refreshToken.push(o),this.setTokenKeys(l,n))}getAppMetadata(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const o=this.validateAndParseJson(n);return!o||!dL(e,o)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),o)}setAppMetadata(e,n){this.logger.trace("BrowserCacheManager.setAppMetadata called");const o=uL(e);this.setItem(o,JSON.stringify(e),n)}getServerTelemetry(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const o=this.validateAndParseJson(n);return!o||!lL(e,o)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),o)}setServerTelemetry(e,n,o){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(n),o)}getAuthorityMetadata(e){const n=this.internalStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const o=this.validateAndParseJson(n);return o&&fL(e,o)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),o):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(n=>this.isAuthorityMetadata(n))}setWrapperMetadata(e,n){this.internalStorage.setItem(fd.WRAPPER_SKU,e),this.internalStorage.setItem(fd.WRAPPER_VER,n)}getWrapperMetadata(){const e=this.internalStorage.getItem(fd.WRAPPER_SKU)||re.EMPTY_STRING,n=this.internalStorage.getItem(fd.WRAPPER_VER)||re.EMPTY_STRING;return[e,n]}setAuthorityMetadata(e,n){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(n))}getActiveAccount(e){const n=this.generateCacheKey(Rw.ACTIVE_ACCOUNT_FILTERS),o=this.browserStorage.getItem(n);if(!o)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const i=this.validateAndParseJson(o);return i?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:i.homeAccountId,localAccountId:i.localAccountId,tenantId:i.tenantId},e)):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e,n){const o=this.generateCacheKey(Rw.ACTIVE_ACCOUNT_FILTERS);if(e){this.logger.verbose("setActiveAccount: Active account set");const i={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId,lastUpdatedAt:$n().toString()};this.setItem(o,JSON.stringify(i),n)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(o);this.eventHandler.emitEvent(Te.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const o=this.validateAndParseJson(n);return!o||!cL(e,o)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),o)}setThrottlingCache(e,n,o){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(n),o)}getTemporaryCache(e,n){const o=n?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const l=this.cookieStorage.getItem(o);if(l)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),l}const i=this.temporaryCacheStorage.getItem(o);if(!i){if(this.cacheConfig.cacheLocation===an.LocalStorage){const l=this.browserStorage.getItem(o);if(l)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),l}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),i}setTemporaryCache(e,n,o){const i=o?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(i,n),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(i,n,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}clear(e){this.removeAllAccounts(e),this.removeAppMetadata(e),this.temporaryCacheStorage.getKeys().forEach(n=>{(n.indexOf(hn)!==-1||n.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(n)}),this.browserStorage.getKeys().forEach(n=>{(n.indexOf(hn)!==-1||n.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(n)}),this.internalStorage.clear()}clearTokensAndKeysWithClaims(e){this.performanceClient.addQueueMeasurement(U.ClearTokensAndKeysWithClaims,e);const n=this.getTokenKeys();let o=0;n.accessToken.forEach(i=>{const l=this.getAccessTokenCredential(i,e);l?.requestedClaimsHash&&i.includes(l.requestedClaimsHash.toLowerCase())&&(this.removeAccessToken(i,e),o++)}),o>0&&this.logger.warning(`${o} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return ur.startsWith(e,hn)?e:`${hn}.${this.clientId}.${e}`}generateCredentialKey(e){const n=e.credentialType===Cn.REFRESH_TOKEN&&e.familyId||e.clientId,o=e.tokenType&&e.tokenType.toLowerCase()!==dt.BEARER.toLowerCase()?e.tokenType.toLowerCase():"";return[`${hn}.${wa}`,e.homeAccountId,e.environment,e.credentialType,n,e.realm||"",e.target||"",e.requestedClaimsHash||"",o].join(Kp).toLowerCase()}generateAccountKey(e){const n=e.homeAccountId.split(".")[1];return[`${hn}.${Ig}`,e.homeAccountId,e.environment,n||e.tenantId||""].join(Kp).toLowerCase()}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(Xt.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(Xt.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(Xt.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(Xt.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(Xt.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,n){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const o=Rc(JSON.stringify(e));if(this.setTemporaryCache(Xt.REQUEST_PARAMS,o,!0),n){const i=Rc(n);this.setTemporaryCache(Xt.VERIFIER,i,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(Xt.REQUEST_PARAMS,!0);if(!e)throw Ee(qR);const n=this.getTemporaryCache(Xt.VERIFIER,!0);let o,i="";try{o=JSON.parse(Kr(e)),n&&(i=Kr(n))}catch(l){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${l}`),Ee(KR)}return[o,i]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(Xt.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const n=this.validateAndParseJson(e);return n||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const n=this.getInteractionInProgress()?.clientId;return e?n===this.clientId:!!n}getInteractionInProgress(){const e=`${hn}.${Xt.INTERACTION_STATUS_KEY}`,n=this.getTemporaryCache(e,!1);try{return n?JSON.parse(n):null}catch{return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),h0(window),null}}setInteractionInProgress(e,n=Ra.SIGNIN){const o=`${hn}.${Xt.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw Ee(DR);this.setTemporaryCache(o,JSON.stringify({clientId:this.clientId,type:n}),!1)}else!e&&this.getInteractionInProgress()?.clientId===this.clientId&&this.removeTemporaryItem(o)}async hydrateCache(e,n){const o=Ff(e.account?.homeAccountId,e.account?.environment,e.idToken,this.clientId,e.tenantId);let i;n.claims&&(i=await this.cryptoImpl.hashString(n.claims));const l=qf(e.account?.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?zw(e.expiresOn):0,e.extExpiresOn?zw(e.extExpiresOn):0,Kr,void 0,e.tokenType,void 0,n.sshKid,n.claims,i),c={idToken:o,accessToken:l};return this.saveCacheRecord(c,e.correlationId)}async saveCacheRecord(e,n,o){try{await super.saveCacheRecord(e,n,o)}catch(i){if(i instanceof Ns&&this.performanceClient&&n)try{const l=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:l.refreshToken.length,cacheIdCount:l.idToken.length,cacheAtCount:l.accessToken.length},n)}catch{}throw i}}}function lT(t,e,n,o){try{switch(e){case an.LocalStorage:return new wU(t,n,o);case an.SessionStorage:return new TU;case an.MemoryStorage:default:break}}catch(i){n.error(i)}return new Wf}const AU=(t,e,n,o)=>{const i={cacheLocation:an.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:an.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new Ng(t,i,Qd,e,n,o)};function _U(t,e,n,o,i){return t.verbose("getAllAccounts called"),n?e.getAllAccounts(i||{},o):[]}function RU(t,e,n,o){const i=n.getAccountInfoFilteredBy(t,o);return i?(e.verbose("getAccount: Account matching provided filter found, returning"),i):(e.verbose("getAccount: No matching account found, returning null"),null)}function OU(t,e,n,o){if(e.trace("getAccountByUsername called"),!t)return e.warning("getAccountByUsername: No username provided"),null;const i=n.getAccountInfoFilteredBy({username:t},o);return i?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${t}`),i):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function IU(t,e,n,o){if(e.trace("getAccountByHomeId called"),!t)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const i=n.getAccountInfoFilteredBy({homeAccountId:t},o);return i?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${t}`),i):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function xU(t,e,n,o){if(e.trace("getAccountByLocalId called"),!t)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const i=n.getAccountInfoFilteredBy({localAccountId:t},o);return i?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${t}`),i):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function kU(t,e,n){e.setActiveAccount(t,n)}function NU(t,e){return t.getActiveAccount(e)}const MU="msal.broadcast.event";class PU{constructor(e){this.eventCallbacks=new Map,this.logger=e||new Ko({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(MU)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,n,o){if(typeof window<"u"){const i=o||cU();return this.eventCallbacks.has(i)?(this.logger.error(`Event callback with id: ${i} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(i,[e,n||[]]),this.logger.verbose(`Event callback registered with id: ${i}`),i)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,n,o,i){const l={eventType:e,interactionType:n||null,payload:o||null,error:i||null,timestamp:Date.now()};switch(e){case Te.ACCOUNT_ADDED:case Te.ACCOUNT_REMOVED:case Te.ACTIVE_ACCOUNT_CHANGED:this.broadcastChannel?.postMessage(l);break;default:this.invokeCallbacks(l);break}}invokeCallbacks(e){this.eventCallbacks.forEach(([n,o],i)=>{(o.length===0||o.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${i}: ${e.eventType}`),n.apply(null,[e]))})}invokeCrossTabCallbacks(e){const n=e.data;this.invokeCallbacks(n)}subscribeCrossTab(){this.broadcastChannel?.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){this.broadcastChannel?.removeEventListener("message",this.invokeCrossTabCallbacks)}}class b0{constructor(e,n,o,i,l,c,d,f,m){this.config=e,this.browserStorage=n,this.browserCrypto=o,this.networkClient=this.config.system.networkClient,this.eventHandler=l,this.navigationClient=c,this.platformAuthProvider=f,this.correlationId=m||Yr(),this.logger=i.clone(Gn.MSAL_SKU,Ti,this.correlationId),this.performanceClient=d}async clearCacheOnLogout(e,n){if(n)try{this.browserStorage.removeAccount(n,e),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),this.browserStorage.clear(e),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const n=e||this.config.auth.redirectUri;return it.getAbsoluteUrl(n,qo())}initializeServerTelemetryManager(e,n){this.logger.verbose("initializeServerTelemetryManager called");const o={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:n||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Ac(o,this.browserStorage)}async getDiscoveredAuthority(e){const{account:n}=e,o=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(U.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const i={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},l=e.requestAuthority||this.config.auth.authority,c=o?.length?o==="true":this.config.auth.instanceAware,d=n&&c?this.config.auth.authority.replace(it.getDomainFromUrl(l),n.environment):l,f=_n.generateAuthority(d,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),m=await te(CR,U.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(f,this.config.system.networkClient,this.browserStorage,i,this.logger,this.correlationId,this.performanceClient);if(n&&!m.isAlias(n.environment))throw bt($_);return m}}async function Tv(t,e,n,o){n.addQueueMeasurement(U.InitializeBaseRequest,t.correlationId);const i=t.authority||e.auth.authority,l=[...t&&t.scopes||[]],c={...t,correlationId:t.correlationId,authority:i,scopes:l};if(!c.authenticationScheme)c.authenticationScheme=dt.BEARER,o.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(c.authenticationScheme===dt.SSH){if(!t.sshJwk)throw bt(Hf);if(!t.sshKid)throw bt(V_)}o.verbose(`Authentication Scheme set to "${c.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&t.claims&&!ur.isEmptyObj(t.claims)&&(c.requestedClaimsHash=await f0(t.claims)),c}async function DU(t,e,n,o,i){o.addQueueMeasurement(U.InitializeSilentRequest,t.correlationId);const l=await te(Tv,U.InitializeBaseRequest,i,o,t.correlationId)(t,n,o,i);return{...t,...l,account:e,forceRefresh:t.forceRefresh||!1}}function C0(t,e){let n;const o=t.httpMethod;if(e===Vn.EAR){if(n=o||pi.POST,n!==pi.POST)throw bt(X_)}else n=o||pi.GET;if(t.authorizePostBodyParameters&&n!==pi.POST)throw bt(W_);return n}class Js extends b0{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);const n={correlationId:this.correlationId||Yr(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const o=this.getLogoutHintFromIdTokenClaims(e.account);o&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),n.logoutHint=o)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",n.correlationId),n.postLogoutRedirectUri=it.getAbsoluteUrl(e.postLogoutRedirectUri,qo())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",n.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",n.correlationId),n.postLogoutRedirectUri=it.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,qo())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",n.correlationId),n.postLogoutRedirectUri=it.getAbsoluteUrl(qo(),qo())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",n.correlationId),n}getLogoutHintFromIdTokenClaims(e){const n=e.idTokenClaims;if(n){if(n.login_hint)return n.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(U.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const n=await te(this.getClientConfiguration.bind(this),U.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new AR(n,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:n,requestAuthority:o,requestAzureCloudOptions:i,requestExtraQueryParameters:l,account:c}=e;this.performanceClient.addQueueMeasurement(U.StandardInteractionClientGetClientConfiguration,this.correlationId);const d=await te(this.getDiscoveredAuthority.bind(this),U.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:o,requestAzureCloudOptions:i,requestExtraQueryParameters:l,account:c}),f=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:d,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:f.loggerCallback,piiLoggingEnabled:f.piiLoggingEnabled,logLevel:f.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:n,libraryInfo:{sku:Gn.MSAL_SKU,version:Ti,cpu:re.EMPTY_STRING,os:re.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,n){this.performanceClient.addQueueMeasurement(U.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const o=this.getRedirectUri(e.redirectUri),i={interactionType:n},l=Xs.setRequestState(this.browserCrypto,e&&e.state||re.EMPTY_STRING,i),d={...await te(Tv,U.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:o,state:l,nonce:e.nonce||Yr(),responseMode:this.config.auth.OIDCOptions.serverResponseType},f={...d,httpMethod:C0(d,this.config.auth.protocolMode)};if(e.loginHint||e.sid)return f;const m=e.account||this.browserStorage.getActiveAccount(this.correlationId);return m&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${m.homeAccountId}`,this.correlationId),f.account=m),f}}function LU(t,e){if(!e)return null;try{return Xs.parseRequestState(t,e).libraryState.meta}catch{throw le(Hs)}}function bc(t,e,n){const o=$d(t);if(!o)throw Z_(t)?(n.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${e} detected is: ${t}`),Ee(NR)):(n.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),Ee(kR));return o}function UU(t,e,n){if(!t.state)throw Ee(cv);const o=LU(e,t.state);if(!o)throw Ee(MR);if(o.interactionType!==n)throw Ee(PR)}class E0{constructor(e,n,o,i,l){this.authModule=e,this.browserStorage=n,this.authCodeRequest=o,this.logger=i,this.performanceClient=l}async handleCodeResponse(e,n){this.performanceClient.addQueueMeasurement(U.HandleCodeResponse,n.correlationId);let o;try{o=RL(e,n.state)}catch(i){throw i instanceof Di&&i.subError===_c?Ee(_c):i}return te(this.handleCodeResponseFromServer.bind(this),U.HandleCodeResponseFromServer,this.logger,this.performanceClient,n.correlationId)(o,n)}async handleCodeResponseFromServer(e,n,o=!0){if(this.performanceClient.addQueueMeasurement(U.HandleCodeResponseFromServer,n.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await te(this.authModule.updateAuthority.bind(this.authModule),U.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,n.correlationId)(e.cloud_instance_host_name,n.correlationId),o&&(e.nonce=n.nonce||void 0),e.state=n.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const l=this.createCcsCredentials(n);l&&(this.authCodeRequest.ccsCredential=l)}return await te(this.authModule.acquireToken.bind(this.authModule),U.AuthClientAcquireToken,this.logger,this.performanceClient,n.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:qr.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:qr.UPN}:null}}const HU="ContentError",S0="user_switch";const zU="USER_INTERACTION_REQUIRED",BU="USER_CANCEL",jU="NO_NETWORK",FU="DISABLED",qU="ACCOUNT_UNAVAILABLE",KU="UX_NOT_ALLOWED";const GU=-2147186943,VU={[S0]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class fo extends gt{constructor(e,n,o){super(e,n),Object.setPrototypeOf(this,fo.prototype),this.name="NativeAuthError",this.ext=o}}function Rs(t){return!!(t.ext&&t.ext.status&&t.ext.status===FU||t.ext&&t.ext.error&&t.ext.error===GU||t.errorCode===HU)}function cf(t,e,n){if(n&&n.status)switch(n.status){case qU:return of(SR);case zU:return new Vr(t,e);case BU:return Ee(_c);case jU:return Ee(af);case KU:return of(nv)}return new fo(t,VU[t]||e,n)}class w0 extends Js{async acquireToken(e){this.performanceClient.addQueueMeasurement(U.SilentCacheClientAcquireToken,e.correlationId);const n=this.initializeServerTelemetryManager(pt.acquireTokenSilent_silentFlow),o=await te(this.getClientConfiguration.bind(this),U.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),i=new TL(o,this.performanceClient);this.logger.verbose("Silent auth client created");try{const c=(await te(i.acquireCachedToken.bind(i),U.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),c}catch(l){throw l instanceof Bc&&l.errorCode===uv&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),l}}logout(e){this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(n.correlationId,n?.account)}}class Ld extends b0{constructor(e,n,o,i,l,c,d,f,m,g,y,v){super(e,n,o,i,l,c,f,m,v),this.apiId=d,this.accountId=g,this.platformAuthProvider=m,this.nativeStorageManager=y,this.silentCacheClient=new w0(e,this.nativeStorageManager,o,i,l,c,f,m,v);const E=this.platformAuthProvider.getExtensionName();this.skus=Ac.makeExtraSkuString({libraryName:Gn.MSAL_SKU,libraryVersion:Ti,extensionName:E,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[zD]:this.skus}}async acquireToken(e,n){this.performanceClient.addQueueMeasurement(U.NativeInteractionClientAcquireToken,this.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const o=this.performanceClient.startMeasurement(U.NativeInteractionClientAcquireToken,this.correlationId),i=$n(),l=this.initializeServerTelemetryManager(this.apiId);try{const c=await this.initializeNativeRequest(e);try{const f=await this.acquireTokensFromCache(this.accountId,c);return o.end({success:!0,isNativeBroker:!1,fromCache:!0}),f}catch(f){if(n===Pn.AccessToken)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),o.end({success:!1,brokerErrorCode:"cache_request_failed"}),f;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const d=await this.platformAuthProvider.sendMessage(c);return await this.handleNativeResponse(d,c,i).then(f=>(o.end({success:!0,isNativeBroker:!0,requestId:f.requestId}),l.clearNativeBrokerErrorCode(),f)).catch(f=>{throw o.end({success:!1,errorCode:f.errorCode,subErrorCode:f.subError}),f})}catch(c){throw c instanceof fo&&l.setNativeBrokerErrorCode(c.errorCode),o.end({success:!1}),c}}createSilentCacheRequest(e,n){return{authority:e.authority,correlationId:this.correlationId,scopes:on.fromString(e.scope).asArray(),account:n,forceRefresh:!1}}async acquireTokensFromCache(e,n){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),le(Cg);const o=this.browserStorage.getBaseAccountInfo({nativeAccountId:e},this.correlationId);if(!o)throw le(Cg);try{const i=this.createSilentCacheRequest(n,o),l=await this.silentCacheClient.acquireToken(i),c={...o,idTokenClaims:l?.idTokenClaims,idToken:l?.idToken};return{...l,account:c}}catch(i){throw i}}async acquireTokenRedirect(e,n){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...o}=e;delete o.onRedirectNavigate;const i=await this.initializeNativeRequest(o);try{await this.platformAuthProvider.sendMessage(i)}catch(d){if(d instanceof fo&&(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(d.errorCode),Rs(d)))throw d}this.browserStorage.setTemporaryCache(Xt.NATIVE_REQUEST,JSON.stringify(i),!0);const l={apiId:pt.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},c=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);n.end({success:!0}),await this.navigationClient.navigateExternal(c,l)}async handleRedirectPromise(e,n){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const o=this.browserStorage.getCachedNativeRequest();if(!o)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&n&&e?.addFields({errorCode:"no_cached_request"},n),null;const{prompt:i,...l}=o;i&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Xt.NATIVE_REQUEST));const c=$n();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const d=await this.platformAuthProvider.sendMessage(l),f=await this.handleNativeResponse(d,l,c);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),e&&this.correlationId&&this.performanceClient.addFields({isNativeBroker:!0},this.correlationId),f}catch(d){throw d}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,n,o){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const i=$s(e.id_token,Kr),l=this.createHomeAccountIdentifier(e,i),c=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:n.accountId},this.correlationId)?.homeAccountId;if(n.extraParameters?.child_client_id&&e.account.id!==n.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(l!==c&&e.account.id!==n.accountId)throw cf(S0);const d=await this.getDiscoveredAuthority({requestAuthority:n.authority}),f=rv(this.browserStorage,d,l,Kr,this.correlationId,i,e.client_info,void 0,i.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const m=await this.generateAuthenticationResult(e,n,i,f,d.canonicalAuthority,o);return await this.cacheAccount(f,this.correlationId),await this.cacheNativeTokens(e,n,l,i,e.access_token,m.tenantId,o),m}createHomeAccountIdentifier(e,n){return Gr.generateHomeAccountId(e.client_info||re.EMPTY_STRING,jr.Default,this.logger,this.browserCrypto,n)}generateScopes(e,n){return n?on.fromString(n):on.fromString(e)}async generatePopAccessToken(e,n){if(n.tokenType===dt.POP&&n.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const o=new zs(this.browserCrypto),i={resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,shrNonce:n.shrNonce};if(!n.keyId)throw le(ky);return o.signPopToken(e.access_token,n.keyId,i)}else return e.access_token}async generateAuthenticationResult(e,n,o,i,l,c){const d=this.addTelemetryFromNativeResponse(e.properties.MATS),f=this.generateScopes(n.scope,e.scope),m=e.account.properties||{},g=m.UID||o.oid||o.sub||re.EMPTY_STRING,y=m.TenantId||o.tid||re.EMPTY_STRING,v=By(i.getAccountInfo(),void 0,o,e.id_token);v.nativeAccountId!==e.account.id&&(v.nativeAccountId=e.account.id);const E=await this.generatePopAccessToken(e,n),w=n.tokenType===dt.POP?dt.POP:dt.BEARER;return{authority:l,uniqueId:g,tenantId:y,scopes:f.asArray(),account:v,idToken:e.id_token,idTokenClaims:o,accessToken:E,fromCache:d?this.isResponseFromCache(d):!1,expiresOn:Ps(c+e.expires_in),tokenType:w,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e,n){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e.getAccountInfo(),n)}cacheNativeTokens(e,n,o,i,l,c,d){const f=Ff(o,n.authority,e.id_token||"",n.clientId,i.tid||""),m=n.tokenType===dt.POP?re.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,g=d+m,y=this.generateScopes(e.scope,n.scope),v=qf(o,n.authority,l,n.clientId,i.tid||c,y.printScopes(),g,0,Kr,void 0,n.tokenType,void 0,n.keyId),E={idToken:f,accessToken:v};return this.nativeStorageManager.saveCacheRecord(E,this.correlationId,n.storeInCache)}getExpiresInValue(e,n){return e===dt.POP?re.SHR_NONCE_VALIDITY:(typeof n=="string"?parseInt(n,10):n)||0}addTelemetryFromNativeResponse(e){const n=this.getMATSFromResponse(e);return n?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:n.broker_version,matsAccountJoinOnStart:n.account_join_on_start,matsAccountJoinOnEnd:n.account_join_on_end,matsDeviceJoin:n.device_join,matsPromptBehavior:n.prompt_behavior,matsApiErrorCode:n.api_error_code,matsUiVisible:n.ui_visible,matsSilentCode:n.silent_code,matsSilentBiSubCode:n.silent_bi_sub_code,matsSilentMessage:n.silent_message,matsSilentStatus:n.silent_status,matsHttpStatus:n.http_status,matsHttpEventCount:n.http_event_count},this.correlationId),n):null}getMATSFromResponse(e){if(e)try{return JSON.parse(e)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const n=await this.getCanonicalAuthority(e),{scopes:o,...i}=e,l=new on(o||[]);l.appendScopes(Qs);const c={...i,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:l.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:this.getPrompt(e.prompt),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(c.signPopToken&&e.popKid)throw Ee(n0);if(this.handleExtraBrokerParams(c),c.extraParameters=c.extraParameters||{},c.extraParameters.telemetry=Ir.MATS_TELEMETRY,e.authenticationScheme===dt.POP){const d={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},f=new zs(this.browserCrypto);let m;if(c.keyId)m=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:c.keyId})),c.signPopToken=!1;else{const g=await te(f.generateCnf.bind(f),U.PopTokenGenerateCnf,this.logger,this.performanceClient,this.correlationId)(d,this.logger);m=g.reqCnfString,c.keyId=g.kid,c.signPopToken=!0}c.reqCnf=m}return this.addRequestSKUs(c),c}async getCanonicalAuthority(e){const n=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:n,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const o=new it(n);return o.validateAsUri(),o}getPrompt(e){switch(this.apiId){case pt.ssoSilent:case pt.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),Ln.NONE}if(!e){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e){case Ln.NONE:case Ln.CONSENT:case Ln.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e} is not compatible with native flow`),Ee(e0)}}handleExtraBrokerParams(e){const n=e.extraParameters&&e.extraParameters.hasOwnProperty(Zd)&&e.extraParameters.hasOwnProperty(ef)&&e.extraParameters.hasOwnProperty(Si);if(!e.embeddedClientId&&!n)return;let o="";const i=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,o=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[ef],o=e.extraParameters[Si]),e.extraParameters={child_client_id:o,child_redirect_uri:i},this.performanceClient?.addFields({embeddedClientId:o,embeddedRedirectUri:i},this.correlationId)}}async function Av(t,e,n,o,i){const l=_L({...t.auth,authority:e},n,o,i);if($y(l,{sku:Gn.MSAL_SKU,version:Ti,os:"",cpu:""}),t.auth.protocolMode!==Vn.OIDC&&Xy(l,t.telemetry.application),n.platformBroker&&(qD(l),i.addFields({isPlatformAuthorizeRequest:!0},n.correlationId),n.authenticationScheme===dt.POP)){const c=new Go(o,i),d=new zs(c);let f;n.popKid?f=c.encodeKid(n.popKid):f=(await te(d.generateCnf.bind(d),U.PopTokenGenerateCnf,o,i,n.correlationId)(n,o)).reqCnfString,Jy(l,f)}return zf(l,n.correlationId,i),l}async function _v(t,e,n,o,i){if(!n.codeChallenge)throw bt(Ly);const l=await te(Av,U.GetStandardParams,o,i,n.correlationId)(t,e,n,o,i);return qy(l,Ty.CODE),cR(l,n.codeChallenge,re.S256_CODE_CHALLENGE_METHOD),Ma(l,n.extraQueryParameters||{}),ov(e,l,t.auth.encodeExtraQueryParams,n.extraQueryParameters)}async function Rv(t,e,n,o,i,l){if(!o.earJwk)throw Ee(lv);const c=await Av(e,n,o,i,l);qy(c,Ty.IDTOKEN_TOKEN_REFRESHTOKEN),eL(c,o.earJwk);const d=new Map;Ma(d,o.extraQueryParameters||{});const f=ov(n,d,e.auth.encodeExtraQueryParams,o.extraQueryParameters);return T0(t,f,c)}async function Ov(t,e,n,o,i,l){const c=await Av(e,n,o,i,l);qy(c,Ty.CODE),cR(c,o.codeChallenge,o.codeChallengeMethod||re.S256_CODE_CHALLENGE_METHOD),tL(c,o.authorizePostBodyParameters||{});const d=new Map;Ma(d,o.extraQueryParameters||{});const f=ov(n,d,e.auth.encodeExtraQueryParams,o.extraQueryParameters);return T0(t,f,c)}function T0(t,e,n){const o=t.createElement("form");return o.method="post",o.action=e,n.forEach((i,l)=>{const c=t.createElement("input");c.hidden=!0,c.name=l,c.value=i,o.appendChild(c)}),t.body.appendChild(o),o}async function A0(t,e,n,o,i,l,c,d,f,m){if(d.verbose("Account id found, calling WAM for token"),!m)throw Ee(fv);const g=new Go(d,f),y=new Ld(o,i,g,d,c,o.system.navigationClient,n,f,m,e,l,t.correlationId),{userRequestState:v}=Xs.parseRequestState(g,t.state);return te(y.acquireToken.bind(y),U.NativeInteractionClientAcquireToken,d,f,t.correlationId)({...t,state:v,prompt:void 0})}async function uf(t,e,n,o,i,l,c,d,f,m,g,y){if(uo.removeThrottle(c,i.auth.clientId,t),e.accountId)return te(A0,U.HandleResponsePlatformBroker,m,g,t.correlationId)(t,e.accountId,o,i,c,d,f,m,g,y);const v={...t,code:e.code||"",codeVerifier:n},E=new E0(l,c,v,m,g);return await te(E.handleCodeResponse.bind(E),U.HandleCodeResponse,m,g,t.correlationId)(e,t)}async function Iv(t,e,n,o,i,l,c,d,f,m,g){if(uo.removeThrottle(l,o.auth.clientId,t),_R(e,t.state),!e.ear_jwe)throw Ee(xR);if(!t.earJwk)throw Ee(lv);const y=JSON.parse(await te(tU,U.DecryptEarResponse,f,m,t.correlationId)(t.earJwk,e.ear_jwe));if(y.accountId)return te(A0,U.HandleResponsePlatformBroker,f,m,t.correlationId)(t,y.accountId,n,o,l,c,d,f,m,g);const v=new wi(o.auth.clientId,l,new Go(f,m),f,null,null,m);v.validateTokenResponse(y);const E={code:"",state:t.state,nonce:t.nonce,client_info:y.client_info,cloud_graph_host_name:y.cloud_graph_host_name,cloud_instance_host_name:y.cloud_instance_host_name,cloud_instance_name:y.cloud_instance_name,msgraph_host:y.msgraph_host};return await te(v.handleServerTokenResponse.bind(v),U.HandleServerTokenResponse,f,m,t.correlationId)(y,i,$n(),t,E,void 0,void 0,void 0,void 0)}const YU=32;async function Jf(t,e,n){t.addQueueMeasurement(U.GeneratePkceCodes,n);const o=dr(QU,U.GenerateCodeVerifier,e,t,n)(t,e,n),i=await te($U,U.GenerateCodeChallengeFromVerifier,e,t,n)(o,t,e,n);return{verifier:o,challenge:i}}function QU(t,e,n){try{const o=new Uint8Array(YU);return dr(XL,U.GetRandomValues,e,t,n)(o),La(o)}catch{throw Ee(sv)}}async function $U(t,e,n,o){e.addQueueMeasurement(U.GenerateCodeChallengeFromVerifier,o);try{const i=await te(c0,U.Sha256Digest,n,e,o)(t,e,o);return La(new Uint8Array(i))}catch{throw Ee(sv)}}class df{constructor(e,n,o,i){this.logger=e,this.handshakeTimeoutMs=n,this.extensionId=i,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=o,this.handshakeEvent=o.startMeasurement(U.NativeMessageHandlerHandshake),this.platformAuthType=Ir.PLATFORM_EXTENSION_PROVIDER}async sendMessage(e){this.logger.trace(this.platformAuthType+" - sendMessage called.");const n={method:oc.GetToken,request:e},o={channel:Ir.CHANNEL_ID,extensionId:this.extensionId,responseId:Yr(),body:n};this.logger.trace(this.platformAuthType+" - Sending request to browser extension"),this.logger.tracePii(this.platformAuthType+` - Sending request to browser extension: ${JSON.stringify(o)}`),this.messageChannel.port1.postMessage(o);const i=await new Promise((c,d)=>{this.resolvers.set(o.responseId,{resolve:c,reject:d})});return this.validatePlatformBrokerResponse(i)}static async createProvider(e,n,o){e.trace("PlatformAuthExtensionHandler - createProvider called.");try{const i=new df(e,n,o,Ir.PREFERRED_EXTENSION_ID);return await i.sendHandshakeRequest(),i}catch{const l=new df(e,n,o);return await l.sendHandshakeRequest(),l}}async sendHandshakeRequest(){this.logger.trace(this.platformAuthType+" - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:Ir.CHANNEL_ID,extensionId:this.extensionId,responseId:Yr(),body:{method:oc.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=n=>{this.onChannelMessage(n)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((n,o)=>{this.handshakeResolvers.set(e.responseId,{resolve:n,reject:o}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),o(Ee(JR)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace(this.platformAuthType+" - onWindowMessage called"),e.source!==window)return;const n=e.data;if(!(!n.channel||n.channel!==Ir.CHANNEL_ID)&&!(n.extensionId&&n.extensionId!==this.extensionId)&&n.body.method===oc.HandshakeRequest){const o=this.handshakeResolvers.get(n.responseId);if(!o){this.logger.trace(this.platformAuthType+`.onWindowMessage - resolver can't be found for request ${n.responseId}`);return}this.logger.verbose(n.extensionId?`Extension with id: ${n.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),o.reject(Ee(ZR))}}onChannelMessage(e){this.logger.trace(this.platformAuthType+" - onChannelMessage called.");const n=e.data,o=this.resolvers.get(n.responseId),i=this.handshakeResolvers.get(n.responseId);try{const l=n.body.method;if(l===oc.Response){if(!o)return;const c=n.body.response;if(this.logger.trace(this.platformAuthType+" - Received response from browser extension"),this.logger.tracePii(this.platformAuthType+` - Received response from browser extension: ${JSON.stringify(c)}`),c.status!=="Success")o.reject(cf(c.code,c.description,c.ext));else if(c.result)c.result.code&&c.result.description?o.reject(cf(c.result.code,c.result.description,c.result.ext)):o.resolve(c.result);else throw yg(Yd,"Event does not contain result.");this.resolvers.delete(n.responseId)}else if(l===oc.HandshakeResponse){if(!i){this.logger.trace(this.platformAuthType+`.onChannelMessage - resolver can't be found for request ${n.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=n.extensionId,this.extensionVersion=n.body.version,this.logger.verbose(this.platformAuthType+` - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),i.resolve(),this.handshakeResolvers.delete(n.responseId)}}catch(l){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${l}`),this.logger.errorPii(`Unable to parse ${e}`),o?o.reject(l):i&&i.reject(l)}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw yg(Yd,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){return this.getExtensionId()===Ir.PREFERRED_EXTENSION_ID?"chrome":this.getExtensionId()?.length?"unknown":void 0}}class xv{constructor(e,n,o){this.logger=e,this.performanceClient=n,this.correlationId=o,this.platformAuthType=Ir.PLATFORM_DOM_PROVIDER}static async createProvider(e,n,o){if(e.trace("PlatformAuthDOMHandler: createProvider called"),window.navigator?.platformAuthentication&&(await window.navigator.platformAuthentication.getSupportedContracts(Ir.MICROSOFT_ENTRA_BROKERID))?.includes(Ir.PLATFORM_DOM_APIS))return e.trace("Platform auth api available in DOM"),new xv(e,n,o)}getExtensionId(){return Ir.MICROSOFT_ENTRA_BROKERID}getExtensionVersion(){return""}getExtensionName(){return Ir.DOM_API_NAME}async sendMessage(e){this.logger.trace(this.platformAuthType+" - Sending request to browser DOM API");try{const n=this.initializePlatformDOMRequest(e),o=await window.navigator.platformAuthentication.executeGetToken(n);return this.validatePlatformBrokerResponse(o)}catch(n){throw this.logger.error(this.platformAuthType+" - executeGetToken DOM API error"),n}}initializePlatformDOMRequest(e){this.logger.trace(this.platformAuthType+" - initializeNativeDOMRequest called");const{accountId:n,clientId:o,authority:i,scope:l,redirectUri:c,correlationId:d,state:f,storeInCache:m,embeddedClientId:g,extraParameters:y,...v}=e,E=this.getDOMExtraParams(v);return{accountId:n,brokerId:this.getExtensionId(),authority:i,clientId:o,correlationId:d||this.correlationId,extraParameters:{...y,...E},isSecurityTokenService:!1,redirectUri:c,scope:l,state:f,storeInCache:m,embeddedClientId:g}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("isSuccess")){if(e.hasOwnProperty("accessToken")&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("clientInfo")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scopes")&&e.hasOwnProperty("expiresIn"))return this.logger.trace(this.platformAuthType+" - platform broker returned successful and valid response"),this.convertToPlatformBrokerResponse(e);if(e.hasOwnProperty("error")){const n=e;if(n.isSuccess===!1&&n.error&&n.error.code)throw this.logger.trace(this.platformAuthType+" - platform broker returned error response"),cf(n.error.code,n.error.description,{error:parseInt(n.error.errorCode),protocol_error:n.error.protocolError,status:n.error.status,properties:n.error.properties})}}throw yg(Yd,"Response missing expected properties.")}convertToPlatformBrokerResponse(e){return this.logger.trace(this.platformAuthType+" - convertToNativeResponse called"),{access_token:e.accessToken,id_token:e.idToken,client_info:e.clientInfo,account:e.account,expires_in:e.expiresIn,scope:e.scopes,state:e.state||"",properties:e.properties||{},extendedLifetimeToken:e.extendedLifetimeToken??!1,shr:e.proofOfPossessionPayload}}getDOMExtraParams(e){return{...Object.entries(e).reduce((i,[l,c])=>(i[l]=String(c),i),{})}}}async function XU(t,e,n,o){t.trace("getPlatformAuthProvider called",n);const i=WU();t.trace("Has client allowed platform auth via DOM API: "+i);let l;try{i&&(l=await xv.createProvider(t,e,n)),l||(t.trace("Platform auth via DOM API not available, checking for extension"),l=await df.createProvider(t,o||y0,e))}catch(c){t.trace("Platform auth not available",c)}return l}function WU(){let t;try{return t=window[an.SessionStorage],t?.getItem(yU)==="true"}catch{return!1}}function Oc(t,e,n,o){if(e.trace("isPlatformAuthAllowed called"),!t.system.allowPlatformBroker)return e.trace("isPlatformAuthAllowed: allowPlatformBroker is not enabled, returning false"),!1;if(!n)return e.trace("isPlatformAuthAllowed: Platform auth provider is not initialized, returning false"),!1;if(o)switch(o){case dt.BEARER:case dt.POP:return e.trace("isPlatformAuthAllowed: authenticationScheme is supported, returning true"),!0;default:return e.trace("isPlatformAuthAllowed: authenticationScheme is not supported, returning false"),!1}return!0}class JU extends Js{constructor(e,n,o,i,l,c,d,f,m,g){super(e,n,o,i,l,c,d,m,g),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=f,this.eventHandler=l}acquireToken(e,n){let o;try{if(o={popupName:this.generatePopupName(e.scopes||Qs,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window},this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,o,n);{const l={...e,httpMethod:C0(e,this.config.auth.protocolMode)};return this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),o.popup=this.openSizedPopup("about:blank",o),this.acquireTokenPopupAsync(l,o,n)}}catch(i){return Promise.reject(i)}}logout(e){try{this.logger.verbose("logoutPopup called");const n=this.initializeLogoutRequest(e),o={popupName:this.generateLogoutPopupName(n),popupWindowAttributes:e?.popupWindowAttributes||{},popupWindowParent:e?.popupWindowParent??window},i=e&&e.authority,l=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(n,o,i,l)):(this.logger.verbose("asyncPopup set to false, opening popup"),o.popup=this.openSizedPopup("about:blank",o),this.logoutPopupAsync(n,o,i,l))}catch(n){return Promise.reject(n)}}async acquireTokenPopupAsync(e,n,o){this.logger.verbose("acquireTokenPopupAsync called");const i=await te(this.initializeAuthorizationRequest.bind(this),U.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,De.Popup);n.popup&&g0(i.authority);const l=Oc(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);return i.platformBroker=l,this.config.auth.protocolMode===Vn.EAR?this.executeEarFlow(i,n):this.executeCodeFlow(i,n,o)}async executeCodeFlow(e,n,o){const i=e.correlationId,l=this.initializeServerTelemetryManager(pt.acquireTokenPopup),c=o||await te(Jf,U.GeneratePkceCodes,this.logger,this.performanceClient,i)(this.performanceClient,this.logger,i),d={...e,codeChallenge:c.challenge};try{const f=await te(this.createAuthCodeClient.bind(this),U.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,i)({serverTelemetryManager:l,requestAuthority:d.authority,requestAzureCloudOptions:d.azureCloudOptions,requestExtraQueryParameters:d.extraQueryParameters,account:d.account});if(d.httpMethod===pi.POST)return await this.executeCodeFlowWithPost(d,n,f,c.verifier);{const m=await te(_v,U.GetAuthCodeUrl,this.logger,this.performanceClient,i)(this.config,f.authority,d,this.logger,this.performanceClient),g=this.initiateAuthRequest(m,n);this.eventHandler.emitEvent(Te.POPUP_OPENED,De.Popup,{popupWindow:g},null);const y=await this.monitorPopupForHash(g,n.popupWindowParent),v=dr(bc,U.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(y,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await te(uf,U.HandleResponseCode,this.logger,this.performanceClient,i)(e,v,c.verifier,pt.acquireTokenPopup,this.config,f,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}catch(f){throw n.popup?.close(),f instanceof gt&&(f.setCorrelationId(this.correlationId),l.cacheFailedRequest(f)),f}}async executeEarFlow(e,n){const o=e.correlationId,i=await te(this.getDiscoveredAuthority.bind(this),U.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,o)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),l=await te(yv,U.GenerateEarKey,this.logger,this.performanceClient,o)(),c={...e,earJwk:l},d=n.popup||this.openPopup("about:blank",n);(await Rv(d.document,this.config,i,c,this.logger,this.performanceClient)).submit();const m=await te(this.monitorPopupForHash.bind(this),U.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,o)(d,n.popupWindowParent),g=dr(bc,U.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(m,this.config.auth.OIDCOptions.serverResponseType,this.logger);return te(Iv,U.HandleResponseEar,this.logger,this.performanceClient,o)(c,g,pt.acquireTokenPopup,this.config,i,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async executeCodeFlowWithPost(e,n,o,i){const l=e.correlationId,c=await te(this.getDiscoveredAuthority.bind(this),U.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,l)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),d=n.popup||this.openPopup("about:blank",n);(await Ov(d.document,this.config,c,e,this.logger,this.performanceClient)).submit();const m=await te(this.monitorPopupForHash.bind(this),U.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,l)(d,n.popupWindowParent),g=dr(bc,U.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(m,this.config.auth.OIDCOptions.serverResponseType,this.logger);return te(uf,U.HandleResponseCode,this.logger,this.performanceClient,l)(e,g,i,pt.acquireTokenPopup,this.config,o,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(e,n,o,i){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(Te.LOGOUT_START,De.Popup,e);const l=this.initializeServerTelemetryManager(pt.logoutPopup);try{await this.clearCacheOnLogout(this.correlationId,e.account);const c=await te(this.createAuthCodeClient.bind(this),U.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:l,requestAuthority:o,account:e.account||void 0});try{c.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId&&e.postLogoutRedirectUri&&c.authority.protocolMode===Vn.OIDC){if(this.eventHandler.emitEvent(Te.LOGOUT_SUCCESS,De.Popup,e),i){const m={apiId:pt.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},g=it.getAbsoluteUrl(i,qo());await this.navigationClient.navigateInternal(g,m)}n.popup?.close();return}}const d=c.getLogoutUri(e);this.eventHandler.emitEvent(Te.LOGOUT_SUCCESS,De.Popup,e);const f=this.openPopup(d,n);if(this.eventHandler.emitEvent(Te.POPUP_OPENED,De.Popup,{popupWindow:f},null),await this.monitorPopupForHash(f,n.popupWindowParent).catch(()=>{}),i){const m={apiId:pt.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},g=it.getAbsoluteUrl(i,qo());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${g}`),await this.navigationClient.navigateInternal(g,m)}else this.logger.verbose("No main window navigation requested")}catch(c){throw n.popup?.close(),c instanceof gt&&(c.setCorrelationId(this.correlationId),l.cacheFailedRequest(c)),this.eventHandler.emitEvent(Te.LOGOUT_FAILURE,De.Popup,null,c),this.eventHandler.emitEvent(Te.LOGOUT_END,De.Popup),c}this.eventHandler.emitEvent(Te.LOGOUT_END,De.Popup)}initiateAuthRequest(e,n){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,n);throw this.logger.error("Navigate url is empty"),Ee(Yf)}monitorPopupForHash(e,n){return new Promise((o,i)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const l=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(l),i(Ee(_c));return}let c="";try{c=e.location.href}catch{}if(!c||c==="about:blank")return;clearInterval(l);let d="";const f=this.config.auth.OIDCOptions.serverResponseType;e&&(f===Uf.QUERY?d=e.location.search:d=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),o(d)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,n)})}openPopup(e,n){try{let o;if(n.popup?(o=n.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),o.location.assign(e)):typeof n.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),o=this.openSizedPopup(e,n)),!o)throw Ee(UR);return o.focus&&o.focus(),this.currentWindow=o,n.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),o}catch(o){throw this.logger.error("error opening popup "+o.message),Ee(LR)}}openSizedPopup(e,{popupName:n,popupWindowAttributes:o,popupWindowParent:i}){const l=i.screenLeft?i.screenLeft:i.screenX,c=i.screenTop?i.screenTop:i.screenY,d=i.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,f=i.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let m=o.popupSize?.width,g=o.popupSize?.height,y=o.popupPosition?.top,v=o.popupPosition?.left;return(!m||m<0||m>d)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),m=Gn.POPUP_WIDTH),(!g||g<0||g>f)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),g=Gn.POPUP_HEIGHT),(!y||y<0||y>f)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),y=Math.max(0,f/2-Gn.POPUP_HEIGHT/2+c)),(!v||v<0||v>d)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),v=Math.max(0,d/2-Gn.POPUP_WIDTH/2+l)),i.open(e,n,`width=${m}, height=${g}, top=${y}, left=${v}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,n){e.close(),n.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,n){return`${Gn.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${n}.${this.correlationId}`}generateLogoutPopupName(e){const n=e.account&&e.account.homeAccountId;return`${Gn.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${n}.${this.correlationId}`}}function ZU(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const t=window.performance.getEntriesByType("navigation");return(t.length?t[0]:void 0)?.type}class e2 extends Js{constructor(e,n,o,i,l,c,d,f,m,g){super(e,n,o,i,l,c,d,m,g),this.nativeStorage=f}async acquireToken(e){const n=await te(this.initializeAuthorizationRequest.bind(this),U.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,De.Redirect);n.platformBroker=Oc(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);const o=l=>{l.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(Te.RESTORE_FROM_BFCACHE,De.Redirect))},i=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${i}`),this.browserStorage.setTemporaryCache(Xt.ORIGIN_URI,i,!0),window.addEventListener("pageshow",o);try{this.config.auth.protocolMode===Vn.EAR?await this.executeEarFlow(n):await this.executeCodeFlow(n,e.onRedirectNavigate)}catch(l){throw l instanceof gt&&l.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",o),l}}async executeCodeFlow(e,n){const o=e.correlationId,i=this.initializeServerTelemetryManager(pt.acquireTokenRedirect),l=await te(Jf,U.GeneratePkceCodes,this.logger,this.performanceClient,o)(this.performanceClient,this.logger,o),c={...e,codeChallenge:l.challenge};this.browserStorage.cacheAuthorizeRequest(c,l.verifier);try{if(c.httpMethod===pi.POST)return await this.executeCodeFlowWithPost(c);{const d=await te(this.createAuthCodeClient.bind(this),U.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:c.authority,requestAzureCloudOptions:c.azureCloudOptions,requestExtraQueryParameters:c.extraQueryParameters,account:c.account}),f=await te(_v,U.GetAuthCodeUrl,this.logger,this.performanceClient,e.correlationId)(this.config,d.authority,c,this.logger,this.performanceClient);return await this.initiateAuthRequest(f,n)}}catch(d){throw d instanceof gt&&(d.setCorrelationId(this.correlationId),i.cacheFailedRequest(d)),d}}async executeEarFlow(e){const n=e.correlationId,o=await te(this.getDiscoveredAuthority.bind(this),U.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),i=await te(yv,U.GenerateEarKey,this.logger,this.performanceClient,n)(),l={...e,earJwk:i};return this.browserStorage.cacheAuthorizeRequest(l),(await Rv(document,this.config,o,l,this.logger,this.performanceClient)).submit(),new Promise((d,f)=>{setTimeout(()=>{f(Ee(sf,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async executeCodeFlowWithPost(e){const n=e.correlationId,o=await te(this.getDiscoveredAuthority.bind(this),U.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return this.browserStorage.cacheAuthorizeRequest(e),(await Ov(document,this.config,o,e,this.logger,this.performanceClient)).submit(),new Promise((l,c)=>{setTimeout(()=>{c(Ee(sf,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async handleRedirectPromise(e="",n,o,i){const l=this.initializeServerTelemetryManager(pt.handleRedirectPromise);try{const[c,d]=this.getRedirectResponse(e||"");if(!c)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),ZU()!=="back_forward"?i.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const f=this.browserStorage.getTemporaryCache(Xt.ORIGIN_URI,!0)||re.EMPTY_STRING,m=Mw(f),g=Mw(window.location.href);if(m===g&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),f.indexOf("#")>-1&&rU(f),await this.handleResponse(c,n,o,l);if(this.config.auth.navigateToLoginRequestUrl){if(!Cv()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(Xt.URL_HASH,d,!0);const y={apiId:pt.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let v=!0;if(!f||f==="null"){const E=aU();this.browserStorage.setTemporaryCache(Xt.ORIGIN_URI,E,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),v=await this.navigationClient.navigateInternal(E,y)}else this.logger.verbose(`Navigating to loginRequestUrl: ${f}`),v=await this.navigationClient.navigateInternal(f,y);if(!v)return await this.handleResponse(c,n,o,l)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(c,n,o,l);return null}catch(c){throw c instanceof gt&&(c.setCorrelationId(this.correlationId),l.cacheFailedRequest(c)),c}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let n=e;n||(this.config.auth.OIDCOptions.serverResponseType===Uf.QUERY?n=window.location.search:n=window.location.hash);let o=$d(n);if(o){try{UU(o,this.browserCrypto,De.Redirect)}catch(l){return l instanceof gt&&this.logger.error(`Interaction type validation failed due to ${l.errorCode}: ${l.errorMessage}`),[null,""]}return h0(window),this.logger.verbose("Hash contains known properties, returning response hash"),[o,n]}const i=this.browserStorage.getTemporaryCache(Xt.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Xt.URL_HASH)),i&&(o=$d(i),o)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[o,i]):[null,""]}async handleResponse(e,n,o,i){if(!e.state)throw Ee(cv);if(e.ear_jwe){const d=await te(this.getDiscoveredAuthority.bind(this),U.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n.correlationId)({requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account});return te(Iv,U.HandleResponseEar,this.logger,this.performanceClient,n.correlationId)(n,e,pt.acquireTokenRedirect,this.config,d,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}const c=await te(this.createAuthCodeClient.bind(this),U.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:n.authority});return te(uf,U.HandleResponseCode,this.logger,this.performanceClient,n.correlationId)(n,e,o,pt.acquireTokenRedirect,this.config,c,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(e,n){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const o={apiId:pt.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},i=n||this.config.auth.onRedirectNavigate;if(typeof i=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),i(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await this.navigationClient.navigateExternal(e,o);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await this.navigationClient.navigateExternal(e,o);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),Ee(Yf)}async logout(e){this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e),o=this.initializeServerTelemetryManager(pt.logout);try{this.eventHandler.emitEvent(Te.LOGOUT_START,De.Redirect,e),await this.clearCacheOnLogout(this.correlationId,n.account);const i={apiId:pt.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},l=await te(this.createAuthCodeClient.bind(this),U.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:e&&e.authority,requestExtraQueryParameters:e?.extraQueryParameters,account:e&&e.account||void 0});if(l.authority.protocolMode===Vn.OIDC)try{l.authority.endSessionEndpoint}catch{if(n.account?.homeAccountId){this.eventHandler.emitEvent(Te.LOGOUT_SUCCESS,De.Redirect,n);return}}const c=l.getLogoutUri(n);if(this.eventHandler.emitEvent(Te.LOGOUT_SUCCESS,De.Redirect,n),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(c)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Ra.SIGNOUT),await this.navigationClient.navigateExternal(c,i);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Ra.SIGNOUT),await this.navigationClient.navigateExternal(c,i);return}}catch(i){throw i instanceof gt&&(i.setCorrelationId(this.correlationId),o.cacheFailedRequest(i)),this.eventHandler.emitEvent(Te.LOGOUT_FAILURE,De.Redirect,null,i),this.eventHandler.emitEvent(Te.LOGOUT_END,De.Redirect),i}this.eventHandler.emitEvent(Te.LOGOUT_END,De.Redirect)}getRedirectStartPage(e){const n=e||window.location.href;return it.getAbsoluteUrl(n,qo())}}async function t2(t,e,n,o,i){if(e.addQueueMeasurement(U.SilentHandlerInitiateAuthRequest,o),!t)throw n.info("Navigate url is empty"),Ee(Yf);return i?te(o2,U.SilentHandlerLoadFrame,n,e,o)(t,i,e,o):dr(a2,U.SilentHandlerLoadFrameSync,n,e,o)(t)}async function n2(t,e,n,o,i){const l=Zf();if(!l.contentDocument)throw"No document associated with iframe!";return(await Ov(l.contentDocument,t,e,n,o,i)).submit(),l}async function r2(t,e,n,o,i){const l=Zf();if(!l.contentDocument)throw"No document associated with iframe!";return(await Rv(l.contentDocument,t,e,n,o,i)).submit(),l}async function cT(t,e,n,o,i,l,c){return o.addQueueMeasurement(U.SilentHandlerMonitorIframeForHash,l),new Promise((d,f)=>{e<Og&&i.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${Og}ms). This may result in timeouts.`);const m=window.setTimeout(()=>{window.clearInterval(g),f(Ee(HR))},e),g=window.setInterval(()=>{let y="";const v=t.contentWindow;try{y=v?v.location.href:""}catch{}if(!y||y==="about:blank")return;let E="";v&&(c===Uf.QUERY?E=v.location.search:E=v.location.hash),window.clearTimeout(m),window.clearInterval(g),d(E)},n)}).finally(()=>{dr(i2,U.RemoveHiddenIframe,i,o,l)(t)})}function o2(t,e,n,o){return n.addQueueMeasurement(U.SilentHandlerLoadFrame,o),new Promise((i,l)=>{const c=Zf();window.setTimeout(()=>{if(!c){l("Unable to load iframe");return}c.src=t,i(c)},e)})}function a2(t){const e=Zf();return e.src=t,e}function Zf(){const t=document.createElement("iframe");return t.className="msalSilentIframe",t.style.visibility="hidden",t.style.position="absolute",t.style.width=t.style.height="0",t.style.border="0",t.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(t),t}function i2(t){document.body===t.parentNode&&document.body.removeChild(t)}class s2 extends Js{constructor(e,n,o,i,l,c,d,f,m,g,y){super(e,n,o,i,l,c,f,g,y),this.apiId=d,this.nativeStorage=m}async acquireToken(e){this.performanceClient.addQueueMeasurement(U.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const n={...e};n.prompt?n.prompt!==Ln.NONE&&n.prompt!==Ln.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${n.prompt} with ${Ln.NONE}`),n.prompt=Ln.NONE):n.prompt=Ln.NONE;const o=await te(this.initializeAuthorizationRequest.bind(this),U.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(n,De.Silent);return o.platformBroker=Oc(this.config,this.logger,this.platformAuthProvider,o.authenticationScheme),g0(o.authority),this.config.auth.protocolMode===Vn.EAR?this.executeEarFlow(o):this.executeCodeFlow(o)}async executeCodeFlow(e){let n;const o=this.initializeServerTelemetryManager(this.apiId);try{return n=await te(this.createAuthCodeClient.bind(this),U.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:o,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await te(this.silentTokenHelper.bind(this),U.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(n,e)}catch(i){if(i instanceof gt&&(i.setCorrelationId(this.correlationId),o.cacheFailedRequest(i)),!n||!(i instanceof gt)||i.errorCode!==Gn.INVALID_GRANT_ERROR)throw i;return this.performanceClient.addFields({retryError:i.errorCode},this.correlationId),await te(this.silentTokenHelper.bind(this),U.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(n,e)}}async executeEarFlow(e){const n=e.correlationId,o=await te(this.getDiscoveredAuthority.bind(this),U.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),i=await te(yv,U.GenerateEarKey,this.logger,this.performanceClient,n)(),l={...e,earJwk:i},c=await te(r2,U.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,n)(this.config,o,l,this.logger,this.performanceClient),d=this.config.auth.OIDCOptions.serverResponseType,f=await te(cT,U.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,n)(c,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,d),m=dr(bc,U.DeserializeResponse,this.logger,this.performanceClient,n)(f,d,this.logger);return te(Iv,U.HandleResponseEar,this.logger,this.performanceClient,n)(l,m,this.apiId,this.config,o,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(Ee(Qf))}async silentTokenHelper(e,n){const o=n.correlationId;this.performanceClient.addQueueMeasurement(U.SilentIframeClientTokenHelper,o);const i=await te(Jf,U.GeneratePkceCodes,this.logger,this.performanceClient,o)(this.performanceClient,this.logger,o),l={...n,codeChallenge:i.challenge};let c;if(n.httpMethod===pi.POST)c=await te(n2,U.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,o)(this.config,e.authority,l,this.logger,this.performanceClient);else{const g=await te(_v,U.GetAuthCodeUrl,this.logger,this.performanceClient,o)(this.config,e.authority,l,this.logger,this.performanceClient);c=await te(t2,U.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,o)(g,this.performanceClient,this.logger,o,this.config.system.navigateFrameWait)}const d=this.config.auth.OIDCOptions.serverResponseType,f=await te(cT,U.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,o)(c,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,o,d),m=dr(bc,U.DeserializeResponse,this.logger,this.performanceClient,o)(f,d,this.logger);return te(uf,U.HandleResponseCode,this.logger,this.performanceClient,o)(n,m,i.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}class l2 extends Js{async acquireToken(e){this.performanceClient.addQueueMeasurement(U.SilentRefreshClientAcquireToken,e.correlationId);const n=await te(Tv,U.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),o={...e,...n};e.redirectUri&&(o.redirectUri=this.getRedirectUri(e.redirectUri));const i=this.initializeServerTelemetryManager(pt.acquireTokenSilent_silentFlow),l=await this.createRefreshTokenClient({serverTelemetryManager:i,authorityUrl:o.authority,azureCloudOptions:o.azureCloudOptions,account:o.account});return te(l.acquireTokenByRefreshToken.bind(l),U.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(o).catch(c=>{throw c.setCorrelationId(this.correlationId),i.cacheFailedRequest(c),c})}logout(){return Promise.reject(Ee(Qf))}async createRefreshTokenClient(e){const n=await te(this.getClientConfiguration.bind(this),U.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new wL(n,this.performanceClient)}}class c2{constructor(e,n,o,i){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=n,this.logger=o,this.cryptoObj=i}async loadExternalTokens(e,n,o){if(!this.isBrowserEnvironment)throw Ee($f);const i=e.correlationId||Yr(),l=n.id_token?$s(n.id_token,Kr):void 0,c={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},d=e.authority?new _n(_n.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,c,this.logger,e.correlationId||Yr()):void 0,f=await this.loadAccount(e,o.clientInfo||n.client_info||"",i,l,d),m=await this.loadIdToken(n,f.homeAccountId,f.environment,f.realm,i),g=await this.loadAccessToken(e,n,f.homeAccountId,f.environment,f.realm,o,i),y=await this.loadRefreshToken(n,f.homeAccountId,f.environment,i);return this.generateAuthenticationResult(e,{account:f,idToken:m,accessToken:g,refreshToken:y},l,d)}async loadAccount(e,n,o,i,l){if(this.logger.verbose("TokenCache - loading account"),e.account){const m=Gr.createFromAccountInfo(e.account);return await this.storage.setAccount(m,o),m}else if(!l||!n&&!i)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),Ee(YR);const c=Gr.generateHomeAccountId(n,l.authorityType,this.logger,this.cryptoObj,i),d=i?.tid,f=rv(this.storage,l,c,Kr,o,i,n,l.hostnameAndPort,d,void 0,void 0,this.logger);return await this.storage.setAccount(f,o),f}async loadIdToken(e,n,o,i,l){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const c=Ff(n,o,e.id_token,this.config.auth.clientId,i);return await this.storage.setIdTokenCredential(c,l),c}async loadAccessToken(e,n,o,i,l,c,d){if(n.access_token)if(n.expires_in){if(!n.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const f=n.scope?on.fromString(n.scope):new on(e.scopes),m=c.expiresOn||n.expires_in+$n(),g=c.extendedExpiresOn||(n.ext_expires_in||n.expires_in)+$n(),y=qf(o,i,n.access_token,this.config.auth.clientId,l,f.printScopes(),m,g,Kr);return await this.storage.setAccessTokenCredential(y,d),y}async loadRefreshToken(e,n,o,i){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const l=vR(n,o,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(l,i),l}generateAuthenticationResult(e,n,o,i){let l="",c=[],d=null,f;n?.accessToken&&(l=n.accessToken.secret,c=on.fromString(n.accessToken.target).asArray(),d=Ps(n.accessToken.expiresOn),f=Ps(n.accessToken.extendedExpiresOn));const m=n.account;return{authority:i?i.canonicalAuthority:"",uniqueId:n.account.localAccountId,tenantId:n.account.realm,scopes:c,account:m.getAccountInfo(),idToken:n.idToken?.secret||"",idTokenClaims:o||{},accessToken:l,fromCache:!0,expiresOn:d,correlationId:e.correlationId||"",requestId:"",extExpiresOn:f,familyId:n.refreshToken?.familyId||"",tokenType:n?.accessToken?.tokenType||"",state:e.state||"",cloudGraphHostName:m.cloudGraphHostName||"",msGraphHost:m.msGraphHost||"",fromNativeBroker:!1}}}class u2 extends AR{constructor(e){super(e),this.includeRedirectUri=!1}}class d2 extends Js{constructor(e,n,o,i,l,c,d,f,m,g){super(e,n,o,i,l,c,f,m,g),this.apiId=d}async acquireToken(e){if(!e.code)throw Ee(QR);const n=await te(this.initializeAuthorizationRequest.bind(this),U.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,De.Silent),o=this.initializeServerTelemetryManager(this.apiId);try{const i={...n,code:e.code},l=await te(this.getClientConfiguration.bind(this),U.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:o,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),c=new u2(l);this.logger.verbose("Auth code client created");const d=new E0(c,this.browserStorage,i,this.logger,this.performanceClient);return await te(d.handleCodeResponseFromServer.bind(d),U.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},n,!1)}catch(i){throw i instanceof gt&&(i.setCorrelationId(this.correlationId),o.cacheFailedRequest(i)),i}}logout(){return Promise.reject(Ee(Qf))}}function f2(t,e,n){const o=window.msal?.clientIds||[],i=o.length,l=o.filter(c=>c===t).length;l>1&&n.warning("There is already an instance of MSAL.js in the window with the same client id."),e.add({msalInstanceCount:i,sameClientIdInstanceCount:l})}function io(t){const e=t?.idTokenClaims;if(e?.tfp||e?.acr)return"B2C";if(e?.tid){if(e?.tid==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function md(t,e){try{Ev(t)}catch(n){throw e.end({success:!1},n),n}}class eh{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Go(this.logger,this.performanceClient):Qd,this.eventHandler=new PU(this.logger),this.browserStorage=this.isBrowserEnvironment?new Ng(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,mL(this.config.auth)):AU(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const n={cacheLocation:an.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:an.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Ng(this.config.auth.clientId,n,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new c2(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,n){const o=new eh(e);return await o.initialize(n),o}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,n){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(Te.INITIALIZE_END);return}const o=e?.correlationId||this.getRequestCorrelationId(),i=this.config.system.allowPlatformBroker,l=this.performanceClient.startMeasurement(U.InitializeClientApplication,o);if(this.eventHandler.emitEvent(Te.INITIALIZE_START),!n)try{this.logMultipleInstances(l)}catch{}if(await te(this.browserStorage.initialize.bind(this.browserStorage),U.InitializeCache,this.logger,this.performanceClient,o)(o),i)try{this.platformAuthProvider=await XU(this.logger,this.performanceClient,o,this.config.system.nativeBrokerHandshakeTimeout)}catch(c){this.logger.verbose(c)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),dr(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),U.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,o)(o)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(o),this.initialized=!0,this.eventHandler.emitEvent(Te.INITIALIZE_END),l.end({allowPlatformBroker:i,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),p0(this.initialized),this.isBrowserEnvironment){const n=e||"";let o=this.redirectResponse.get(n);return typeof o>"u"?(o=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(n,o),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),o}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if(this.browserStorage.getInteractionInProgress()?.type===Ra.SIGNOUT)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const o=this.getAllAccounts(),i=this.browserStorage.getCachedNativeRequest(),l=i&&this.platformAuthProvider&&!e;let c;this.eventHandler.emitEvent(Te.HANDLE_REDIRECT_START,De.Redirect);let d;try{if(l&&this.platformAuthProvider){c=this.performanceClient.startMeasurement(U.AcquireTokenRedirect,i?.correlationId||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform"),c.add({isPlatformBrokerRequest:!0});const f=new Ld(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,pt.handleRedirectPromise,this.performanceClient,this.platformAuthProvider,i.accountId,this.nativeInternalStorage,i.correlationId);d=te(f.handleRedirectPromise.bind(f),U.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,c.event.correlationId)(this.performanceClient,c.event.correlationId)}else{const[f,m]=this.browserStorage.getCachedRequest(),g=f.correlationId;c=this.performanceClient.startMeasurement(U.AcquireTokenRedirect,g),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const y=this.createRedirectClient(g);d=te(y.handleRedirectPromise.bind(y),U.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,c.event.correlationId)(e,f,m,c)}}catch(f){throw this.browserStorage.resetRequestCache(),f}return d.then(f=>(f?(this.browserStorage.resetRequestCache(),o.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(Te.LOGIN_SUCCESS,De.Redirect,f),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(Te.ACQUIRE_TOKEN_SUCCESS,De.Redirect,f),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),c.end({success:!0,accountType:io(f.account)})):c.event.errorCode?c.end({success:!1}):c.discard(),this.eventHandler.emitEvent(Te.HANDLE_REDIRECT_END,De.Redirect),f)).catch(f=>{this.browserStorage.resetRequestCache();const m=f;throw o.length>0?this.eventHandler.emitEvent(Te.ACQUIRE_TOKEN_FAILURE,De.Redirect,null,m):this.eventHandler.emitEvent(Te.LOGIN_FAILURE,De.Redirect,null,m),this.eventHandler.emitEvent(Te.HANDLE_REDIRECT_END,De.Redirect),c.end({success:!1},m),f})}async acquireTokenRedirect(e){const n=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",n);const o=this.performanceClient.startMeasurement(U.AcquireTokenPreRedirect,n);o.add({accountType:io(e.account),scenarioId:e.scenarioId});const i=e.onRedirectNavigate;if(i)e.onRedirectNavigate=c=>{const d=typeof i=="function"?i(c):void 0;return o.add({navigateCallbackResult:d!==!1}),o.event=o.end({success:!0})||o.event,d};else{const c=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=d=>{const f=typeof c=="function"?c(d):void 0;return o.add({navigateCallbackResult:f!==!1}),o.event=o.end({success:!0})||o.event,f}}const l=this.getAllAccounts().length>0;try{Zw(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Ra.SIGNIN),l?this.eventHandler.emitEvent(Te.ACQUIRE_TOKEN_START,De.Redirect,e):this.eventHandler.emitEvent(Te.LOGIN_START,De.Redirect,e);let c;return this.platformAuthProvider&&this.canUsePlatformBroker(e)?c=new Ld(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,pt.acquireTokenRedirect,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(e),this.nativeInternalStorage,n).acquireTokenRedirect(e,o).catch(f=>{if(o.add({brokerErrorName:f.name,brokerErrorCode:f.errorCode}),f instanceof fo&&Rs(f))return this.platformAuthProvider=void 0,this.createRedirectClient(n).acquireToken(e);if(f instanceof Vr)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(n).acquireToken(e);throw f}):c=this.createRedirectClient(n).acquireToken(e),await c}catch(c){throw this.browserStorage.resetRequestCache(),o.event.status===2?this.performanceClient.startMeasurement(U.AcquireTokenRedirect,n).end({success:!1},c):o.end({success:!1},c),l?this.eventHandler.emitEvent(Te.ACQUIRE_TOKEN_FAILURE,De.Redirect,null,c):this.eventHandler.emitEvent(Te.LOGIN_FAILURE,De.Redirect,null,c),c}}acquireTokenPopup(e){const n=this.getRequestCorrelationId(e),o=this.performanceClient.startMeasurement(U.AcquireTokenPopup,n);o.add({scenarioId:e.scenarioId,accountType:io(e.account)});try{this.logger.verbose("acquireTokenPopup called",n),md(this.initialized,o),this.browserStorage.setInteractionInProgress(!0,Ra.SIGNIN)}catch(d){return Promise.reject(d)}const i=this.getAllAccounts();i.length>0?this.eventHandler.emitEvent(Te.ACQUIRE_TOKEN_START,De.Popup,e):this.eventHandler.emitEvent(Te.LOGIN_START,De.Popup,e);let l;const c=this.getPreGeneratedPkceCodes(n);return this.canUsePlatformBroker(e)?(o.add({isPlatformBrokerRequest:!0}),l=this.acquireTokenNative({...e,correlationId:n},pt.acquireTokenPopup).then(d=>(o.end({success:!0,accountType:io(d.account)}),d)).catch(d=>{if(o.add({brokerErrorName:d.name,brokerErrorCode:d.errorCode}),d instanceof fo&&Rs(d))return this.platformAuthProvider=void 0,this.createPopupClient(n).acquireToken(e,c);if(d instanceof Vr)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(n).acquireToken(e,c);throw d})):l=this.createPopupClient(n).acquireToken(e,c),l.then(d=>(i.length<this.getAllAccounts().length?this.eventHandler.emitEvent(Te.LOGIN_SUCCESS,De.Popup,d):this.eventHandler.emitEvent(Te.ACQUIRE_TOKEN_SUCCESS,De.Popup,d),o.end({success:!0,accessTokenSize:d.accessToken.length,idTokenSize:d.idToken.length,accountType:io(d.account)}),d)).catch(d=>(i.length>0?this.eventHandler.emitEvent(Te.ACQUIRE_TOKEN_FAILURE,De.Popup,null,d):this.eventHandler.emitEvent(Te.LOGIN_FAILURE,De.Popup,null,d),o.end({success:!1},d),Promise.reject(d))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(n)})}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){const n=this.getRequestCorrelationId(e),o={...e,prompt:e.prompt,correlationId:n};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(U.SsoSilent,n),this.ssoSilentMeasurement?.add({scenarioId:e.scenarioId,accountType:io(e.account)}),md(this.initialized,this.ssoSilentMeasurement),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",n),this.eventHandler.emitEvent(Te.SSO_SILENT_START,De.Silent,o);let i;return this.canUsePlatformBroker(o)?(this.ssoSilentMeasurement?.add({isPlatformBrokerRequest:!0}),i=this.acquireTokenNative(o,pt.ssoSilent).catch(l=>{if(this.ssoSilentMeasurement?.add({brokerErrorName:l.name,brokerErrorCode:l.errorCode}),l instanceof fo&&Rs(l))return this.platformAuthProvider=void 0,this.createSilentIframeClient(o.correlationId).acquireToken(o);throw l})):i=this.createSilentIframeClient(o.correlationId).acquireToken(o),i.then(l=>(this.eventHandler.emitEvent(Te.SSO_SILENT_SUCCESS,De.Silent,l),this.ssoSilentMeasurement?.end({success:!0,accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length,accountType:io(l.account)}),l)).catch(l=>{throw this.eventHandler.emitEvent(Te.SSO_SILENT_FAILURE,De.Silent,null,l),this.ssoSilentMeasurement?.end({success:!1},l),l}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const n=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",n);const o=this.performanceClient.startMeasurement(U.AcquireTokenByCode,n);md(this.initialized,o),this.eventHandler.emitEvent(Te.ACQUIRE_TOKEN_BY_CODE_START,De.Silent,e),o.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw Ee(XR);if(e.code){const i=e.code;let l=this.hybridAuthCodeResponses.get(i);return l?(this.logger.verbose("Existing acquireTokenByCode request found",n),o.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",n),l=this.acquireTokenByCodeAsync({...e,correlationId:n}).then(c=>(this.eventHandler.emitEvent(Te.ACQUIRE_TOKEN_BY_CODE_SUCCESS,De.Silent,c),this.hybridAuthCodeResponses.delete(i),o.end({success:!0,accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length,accountType:io(c.account)}),c)).catch(c=>{throw this.hybridAuthCodeResponses.delete(i),this.eventHandler.emitEvent(Te.ACQUIRE_TOKEN_BY_CODE_FAILURE,De.Silent,null,c),o.end({success:!1},c),c}),this.hybridAuthCodeResponses.set(i,l)),await l}else if(e.nativeAccountId)if(this.canUsePlatformBroker(e,e.nativeAccountId)){o.add({isPlatformBrokerRequest:!0});const i=await this.acquireTokenNative({...e,correlationId:n},pt.acquireTokenByCode,e.nativeAccountId).catch(l=>{throw l instanceof fo&&Rs(l)&&(this.platformAuthProvider=void 0),o.add({brokerErrorName:l.name,brokerErrorCode:l.errorCode}),l});return o.end({accountType:io(i.account),success:!0}),i}else throw Ee(WR);else throw Ee($R)}catch(i){throw this.eventHandler.emitEvent(Te.ACQUIRE_TOKEN_BY_CODE_FAILURE,De.Silent,null,i),o.end({success:!1},i),i}}async acquireTokenByCodeAsync(e){return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(U.AcquireTokenByCodeAsync,e.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(i=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:i.fromCache}),i)).catch(i=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},i),i}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,n){switch(this.performanceClient.addQueueMeasurement(U.AcquireTokenFromCache,e.correlationId),n){case Pn.Default:case Pn.AccessToken:case Pn.AccessTokenAndRefreshToken:const o=this.createSilentCacheClient(e.correlationId);return te(o.acquireToken.bind(o),U.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw le(Na)}}async acquireTokenByRefreshToken(e,n){switch(this.performanceClient.addQueueMeasurement(U.AcquireTokenByRefreshToken,e.correlationId),n){case Pn.Default:case Pn.AccessTokenAndRefreshToken:case Pn.RefreshToken:case Pn.RefreshTokenAndNetwork:const o=this.createSilentRefreshClient(e.correlationId);return te(o.acquireToken.bind(o),U.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw le(Na)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(U.AcquireTokenBySilentIframe,e.correlationId);const n=this.createSilentIframeClient(e.correlationId);return te(n.acquireToken.bind(n),U.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const n=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",n),this.logoutRedirect({correlationId:n,...e})}async logoutRedirect(e){const n=this.getRequestCorrelationId(e);return Zw(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Ra.SIGNOUT),this.createRedirectClient(n).logout(e)}logoutPopup(e){try{const n=this.getRequestCorrelationId(e);return Ev(this.initialized),this.browserStorage.setInteractionInProgress(!0,Ra.SIGNOUT),this.createPopupClient(n).logout(e).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(n){return Promise.reject(n)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const n=this.getRequestCorrelationId(e);return this.createSilentCacheClient(n).logout(e)}getAllAccounts(e){const n=this.getRequestCorrelationId();return _U(this.logger,this.browserStorage,this.isBrowserEnvironment,n,e)}getAccount(e){const n=this.getRequestCorrelationId();return RU(e,this.logger,this.browserStorage,n)}getAccountByUsername(e){const n=this.getRequestCorrelationId();return OU(e,this.logger,this.browserStorage,n)}getAccountByHomeId(e){const n=this.getRequestCorrelationId();return IU(e,this.logger,this.browserStorage,n)}getAccountByLocalId(e){const n=this.getRequestCorrelationId();return xU(e,this.logger,this.browserStorage,n)}setActiveAccount(e){const n=this.getRequestCorrelationId();kU(e,this.browserStorage,n)}getActiveAccount(){const e=this.getRequestCorrelationId();return NU(this.browserStorage,e)}async hydrateCache(e,n){this.logger.verbose("hydrateCache called");const o=Gr.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(o,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,n)):this.browserStorage.hydrateCache(e,n)}async acquireTokenNative(e,n,o,i){if(this.logger.trace("acquireTokenNative called"),!this.platformAuthProvider)throw Ee(fv);return new Ld(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,n,this.performanceClient,this.platformAuthProvider,o||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,i)}canUsePlatformBroker(e,n){if(this.logger.trace("canUsePlatformBroker called"),!this.platformAuthProvider)return this.logger.trace("canUsePlatformBroker: platform broker unavilable, returning false"),!1;if(!Oc(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case Ln.NONE:case Ln.CONSENT:case Ln.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!n&&!this.getNativeAccountId(e)?(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const n=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return n&&n.nativeAccountId||""}createPopupClient(e){return new JU(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createRedirectClient(e){return new e2(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentIframeClient(e){return new s2(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,pt.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentCacheClient(e){return new w0(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentRefreshClient(e){return new l2(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentAuthCodeClient(e){return new d2(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,pt.acquireTokenByCode,this.performanceClient,this.platformAuthProvider,e)}addEventCallback(e,n){return this.eventHandler.addEventCallback(e,n)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return m0(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){if(this.config.cache.cacheLocation!==an.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.subscribeCrossTab()}disableAccountStorageEvents(){if(this.config.cache.cacheLocation!==an.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.unsubscribeCrossTab()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,n){this.browserStorage.setWrapperMetadata(e,n)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?Yr():re.EMPTY_STRING}async loginRedirect(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",n),this.acquireTokenRedirect({correlationId:n,...e||Qw})}loginPopup(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",n),this.acquireTokenPopup({correlationId:n,...e||Qw})}async acquireTokenSilent(e){const n=this.getRequestCorrelationId(e),o=this.performanceClient.startMeasurement(U.AcquireTokenSilent,n);o.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),md(this.initialized,o),this.logger.verbose("acquireTokenSilent called",n);const i=e.account||this.getActiveAccount();if(!i)throw Ee(FR);return o.add({accountType:io(i)}),this.acquireTokenSilentDeduped(e,i,n).then(l=>(o.end({success:!0,fromCache:l.fromCache,accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length}),{...l,state:e.state,correlationId:n})).catch(l=>{throw l instanceof gt&&l.setCorrelationId(n),o.end({success:!1},l),l})}async acquireTokenSilentDeduped(e,n,o){const i=Kf(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority},n.homeAccountId),l=JSON.stringify(i),c=this.activeSilentTokenRequests.get(l);if(typeof c>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",o),this.performanceClient.addFields({deduped:!1},o);const d=te(this.acquireTokenSilentAsync.bind(this),U.AcquireTokenSilentAsync,this.logger,this.performanceClient,o)({...e,correlationId:o},n);return this.activeSilentTokenRequests.set(l,d),d.finally(()=>{this.activeSilentTokenRequests.delete(l)})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",o),this.performanceClient.addFields({deduped:!0},o),c}async acquireTokenSilentAsync(e,n){const o=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(U.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(Te.ACQUIRE_TOKEN_START,De.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",o);const i=await te(DU,U.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,n,this.config,this.performanceClient,this.logger),l=e.cacheLookupPolicy||Pn.Default;return this.acquireTokenSilentNoIframe(i,l).catch(async d=>{if(h2(d,l))if(this.activeIframeRequest)if(l!==Pn.Skip){const[m,g]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${g}`,i.correlationId);const y=this.performanceClient.startMeasurement(U.AwaitConcurrentIframe,i.correlationId);y.add({awaitIframeCorrelationId:g});const v=await m;if(y.end({success:v}),v)return this.logger.verbose(`Parallel iframe request with correlationId: ${g} succeeded. Retrying cache and/or RT redemption`,i.correlationId),this.acquireTokenSilentNoIframe(i,l);throw this.logger.info(`Iframe request with correlationId: ${g} failed. Interaction is required.`),d}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",i.correlationId),te(this.acquireTokenBySilentIframe.bind(this),U.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i);else{let m;return this.activeIframeRequest=[new Promise(g=>{m=g}),i.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",i.correlationId),te(this.acquireTokenBySilentIframe.bind(this),U.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i).then(g=>(m(!0),g)).catch(g=>{throw m(!1),g}).finally(()=>{this.activeIframeRequest=void 0})}else throw d}).then(d=>(this.eventHandler.emitEvent(Te.ACQUIRE_TOKEN_SUCCESS,De.Silent,d),e.correlationId&&this.performanceClient.addFields({fromCache:d.fromCache},e.correlationId),d)).catch(d=>{throw this.eventHandler.emitEvent(Te.ACQUIRE_TOKEN_FAILURE,De.Silent,null,d),d}).finally(()=>{document.removeEventListener("visibilitychange",o)})}async acquireTokenSilentNoIframe(e,n){return Oc(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.performanceClient.addFields({isPlatformBrokerRequest:!0},e.correlationId),this.acquireTokenNative(e,pt.acquireTokenSilent_silentFlow,e.account.nativeAccountId,n).catch(async o=>{throw this.performanceClient.addFields({brokerErrorName:o.name,brokerErrorCode:o.errorCode},e.correlationId),o instanceof fo&&Rs(o)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.platformAuthProvider=void 0,le(Na)):o})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),n===Pn.AccessToken&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),te(this.acquireTokenFromCache.bind(this),U.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,n).catch(o=>{if(n===Pn.AccessToken)throw o;return this.eventHandler.emitEvent(Te.ACQUIRE_TOKEN_NETWORK_START,De.Silent,e),te(this.acquireTokenByRefreshToken.bind(this),U.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,n)}))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await te(Jf,U.GeneratePkceCodes,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const n=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose(`${n?"Found":"Did not find"} pre-generated PKCE codes`),this.performanceClient.addFields({usePreGeneratedPkce:!!n},e),n}logMultipleInstances(e){const n=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(n),f2(n,e,this.logger)}}function h2(t,e){const n=!(t instanceof Vr&&t.subError!==Vf),o=t.errorCode===Gn.INVALID_GRANT_ERROR||t.errorCode===Na,i=n&&o||t.errorCode===rf||t.errorCode===tv,l=qL.includes(e);return i&&l}async function m2(t,e){const n=new Ai(t);return await n.initialize(),eh.createController(n,e)}class kv{static async createPublicClientApplication(e){const n=await m2(e);return new kv(e,n)}constructor(e,n){this.isBroker=!1,this.controller=n||new eh(new Ai(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,n){return this.controller.addEventCallback(e,n)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,n){return this.controller.initializeWrapperLibrary(e,n)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,n){return this.controller.hydrateCache(e,n)}clearCache(e){return this.controller.clearCache(e)}}const p2={initialize:()=>Promise.reject($t(nn)),acquireTokenPopup:()=>Promise.reject($t(nn)),acquireTokenRedirect:()=>Promise.reject($t(nn)),acquireTokenSilent:()=>Promise.reject($t(nn)),acquireTokenByCode:()=>Promise.reject($t(nn)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject($t(nn)),loginPopup:()=>Promise.reject($t(nn)),loginRedirect:()=>Promise.reject($t(nn)),logout:()=>Promise.reject($t(nn)),logoutRedirect:()=>Promise.reject($t(nn)),logoutPopup:()=>Promise.reject($t(nn)),ssoSilent:()=>Promise.reject($t(nn)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw $t(nn)},getLogger:()=>{throw $t(nn)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw $t(nn)},hydrateCache:()=>Promise.reject($t(nn)),clearCache:()=>Promise.reject($t(nn))};class g2{static getInteractionStatusFromEvent(e,n){switch(e.eventType){case Te.LOGIN_START:return rn.Login;case Te.SSO_SILENT_START:return rn.SsoSilent;case Te.ACQUIRE_TOKEN_START:if(e.interactionType===De.Redirect||e.interactionType===De.Popup)return rn.AcquireToken;break;case Te.HANDLE_REDIRECT_START:return rn.HandleRedirect;case Te.LOGOUT_START:return rn.Logout;case Te.SSO_SILENT_SUCCESS:case Te.SSO_SILENT_FAILURE:if(n&&n!==rn.SsoSilent)break;return rn.None;case Te.LOGOUT_END:if(n&&n!==rn.Logout)break;return rn.None;case Te.HANDLE_REDIRECT_END:if(n&&n!==rn.HandleRedirect)break;return rn.None;case Te.LOGIN_SUCCESS:case Te.LOGIN_FAILURE:case Te.ACQUIRE_TOKEN_SUCCESS:case Te.ACQUIRE_TOKEN_FAILURE:case Te.RESTORE_FROM_BFCACHE:if(e.interactionType===De.Redirect||e.interactionType===De.Popup){if(n&&n!==rn.Login&&n!==rn.AcquireToken)break;return rn.None}break}return null}}const y2="modulepreload",v2=function(t){return"/"+t},uT={},St=function(e,n,o){let i=Promise.resolve();if(n&&n.length>0){let f=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");i=f(n.map(m=>{if(m=v2(m),m in uT)return;uT[m]=!0;const g=m.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":y2,g||(v.as="script"),v.crossOrigin="",v.href=m,d&&v.setAttribute("nonce",d),document.head.appendChild(v),g)return new Promise((E,w)=>{v.addEventListener("load",E),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};const b2={instance:p2,inProgress:rn.None,accounts:[],logger:new Ko({})},Nv=b.createContext(b2);Nv.Consumer;function dT(t,e){if(t.length!==e.length)return!1;const n=[...e];return t.every(o=>{const i=n.shift();return!o||!i?!1:o.homeAccountId===i.homeAccountId&&o.localAccountId===i.localAccountId&&o.username===i.username})}const C2="@azure/msal-react",fT="3.0.19";const ff={UNBLOCK_INPROGRESS:"UNBLOCK_INPROGRESS",EVENT:"EVENT"},E2=(t,e)=>{const{type:n,payload:o}=e;let i=t.inProgress;switch(n){case ff.UNBLOCK_INPROGRESS:t.inProgress===rn.Startup&&(i=rn.None,o.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case ff.EVENT:const c=o.message,d=g2.getInteractionStatusFromEvent(c,t.inProgress);d&&(o.logger.info(`MsalProvider - ${c.eventType} results in setting inProgress from ${t.inProgress} to ${d}`),i=d);break;default:throw new Error(`Unknown action type: ${n}`)}if(i===rn.Startup)return t;const l=o.instance.getAllAccounts();return i!==t.inProgress&&!dT(l,t.accounts)?{...t,inProgress:i,accounts:l}:i!==t.inProgress?{...t,inProgress:i}:dT(l,t.accounts)?t:{...t,accounts:l}};function S2({instance:t,children:e}){b.useEffect(()=>{t.initializeWrapperLibrary(BL.React,fT)},[t]);const n=b.useMemo(()=>t.getLogger().clone(C2,fT),[t]),[o,i]=b.useReducer(E2,void 0,()=>({inProgress:rn.Startup,accounts:[]}));b.useEffect(()=>{const c=t.addEventCallback(d=>{i({payload:{instance:t,logger:n,message:d},type:ff.EVENT})});return n.verbose(`MsalProvider - Registered event callback with id: ${c}`),t.initialize().then(()=>{t.handleRedirectPromise().catch(()=>{}).finally(()=>{i({payload:{instance:t,logger:n},type:ff.UNBLOCK_INPROGRESS})})}).catch(()=>{}),()=>{c&&(n.verbose(`MsalProvider - Removing event callback ${c}`),t.removeEventCallback(c))}},[t,n]);const l={instance:t,inProgress:o.inProgress,accounts:o.accounts,logger:n};return ue.createElement(Nv.Provider,{value:l},e)}const _0=()=>b.useContext(Nv),Is={CLIENT_ID:"d35c1d4d-9ddc-4a8b-bb89-1964b37ff573",AUTHORITY:"https://chetangoprueba.ciamlogin.com/8a57ec5a-e2e3-44ad-9494-77fbc7467251",REDIRECT_URI:"https://app.corporacionchetango.com",POST_LOGOUT_REDIRECT_URI:"https://app.corporacionchetango.com",SCOPES:"openid,profile,email,api://d35c1d4d-9ddc-4a8b-bb89-1964b37ff573/access_as_user".split(",")||["openid","profile","email"]},w2={auth:{clientId:Is.CLIENT_ID,authority:Is.AUTHORITY,redirectUri:Is.REDIRECT_URI,postLogoutRedirectUri:Is.POST_LOGOUT_REDIRECT_URI},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:(t,e,n)=>{}}}},T2={scopes:Is.SCOPES},Mg={scopes:Is.SCOPES,forceRefresh:!1},A2=new kv(w2);function R0(t,e){return function(){return t.apply(e,arguments)}}const{toString:_2}=Object.prototype,{getPrototypeOf:Mv}=Object,{iterator:th,toStringTag:O0}=Symbol,nh=(t=>e=>{const n=_2.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Xr=t=>(t=t.toLowerCase(),e=>nh(e)===t),rh=t=>e=>typeof e===t,{isArray:Zs}=Array,Bs=rh("undefined");function jc(t){return t!==null&&!Bs(t)&&t.constructor!==null&&!Bs(t.constructor)&&Yn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const I0=Xr("ArrayBuffer");function R2(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&I0(t.buffer),e}const O2=rh("string"),Yn=rh("function"),x0=rh("number"),Fc=t=>t!==null&&typeof t=="object",I2=t=>t===!0||t===!1,Ud=t=>{if(nh(t)!=="object")return!1;const e=Mv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(O0 in t)&&!(th in t)},x2=t=>{if(!Fc(t)||jc(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},k2=Xr("Date"),N2=Xr("File"),M2=Xr("Blob"),P2=Xr("FileList"),D2=t=>Fc(t)&&Yn(t.pipe),L2=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Yn(t.append)&&((e=nh(t))==="formdata"||e==="object"&&Yn(t.toString)&&t.toString()==="[object FormData]"))},U2=Xr("URLSearchParams"),[H2,z2,B2,j2]=["ReadableStream","Request","Response","Headers"].map(Xr),F2=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let o,i;if(typeof t!="object"&&(t=[t]),Zs(t))for(o=0,i=t.length;o<i;o++)e.call(null,t[o],o,t);else{if(jc(t))return;const l=n?Object.getOwnPropertyNames(t):Object.keys(t),c=l.length;let d;for(o=0;o<c;o++)d=l[o],e.call(null,t[d],d,t)}}function k0(t,e){if(jc(t))return null;e=e.toLowerCase();const n=Object.keys(t);let o=n.length,i;for(;o-- >0;)if(i=n[o],e===i.toLowerCase())return i;return null}const yi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,N0=t=>!Bs(t)&&t!==yi;function Pg(){const{caseless:t,skipUndefined:e}=N0(this)&&this||{},n={},o=(i,l)=>{const c=t&&k0(n,l)||l;Ud(n[c])&&Ud(i)?n[c]=Pg(n[c],i):Ud(i)?n[c]=Pg({},i):Zs(i)?n[c]=i.slice():(!e||!Bs(i))&&(n[c]=i)};for(let i=0,l=arguments.length;i<l;i++)arguments[i]&&qc(arguments[i],o);return n}const q2=(t,e,n,{allOwnKeys:o}={})=>(qc(e,(i,l)=>{n&&Yn(i)?t[l]=R0(i,n):t[l]=i},{allOwnKeys:o}),t),K2=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),G2=(t,e,n,o)=>{t.prototype=Object.create(e.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},V2=(t,e,n,o)=>{let i,l,c;const d={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),l=i.length;l-- >0;)c=i[l],(!o||o(c,t,e))&&!d[c]&&(e[c]=t[c],d[c]=!0);t=n!==!1&&Mv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Y2=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const o=t.indexOf(e,n);return o!==-1&&o===n},Q2=t=>{if(!t)return null;if(Zs(t))return t;let e=t.length;if(!x0(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},$2=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Mv(Uint8Array)),X2=(t,e)=>{const o=(t&&t[th]).call(t);let i;for(;(i=o.next())&&!i.done;){const l=i.value;e.call(t,l[0],l[1])}},W2=(t,e)=>{let n;const o=[];for(;(n=t.exec(e))!==null;)o.push(n);return o},J2=Xr("HTMLFormElement"),Z2=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,o,i){return o.toUpperCase()+i}),hT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),eH=Xr("RegExp"),M0=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),o={};qc(n,(i,l)=>{let c;(c=e(i,l,t))!==!1&&(o[l]=c||i)}),Object.defineProperties(t,o)},tH=t=>{M0(t,(e,n)=>{if(Yn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=t[n];if(Yn(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},nH=(t,e)=>{const n={},o=i=>{i.forEach(l=>{n[l]=!0})};return Zs(t)?o(t):o(String(t).split(e)),n},rH=()=>{},oH=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function aH(t){return!!(t&&Yn(t.append)&&t[O0]==="FormData"&&t[th])}const iH=t=>{const e=new Array(10),n=(o,i)=>{if(Fc(o)){if(e.indexOf(o)>=0)return;if(jc(o))return o;if(!("toJSON"in o)){e[i]=o;const l=Zs(o)?[]:{};return qc(o,(c,d)=>{const f=n(c,i+1);!Bs(f)&&(l[d]=f)}),e[i]=void 0,l}}return o};return n(t,0)},sH=Xr("AsyncFunction"),lH=t=>t&&(Fc(t)||Yn(t))&&Yn(t.then)&&Yn(t.catch),P0=((t,e)=>t?setImmediate:e?((n,o)=>(yi.addEventListener("message",({source:i,data:l})=>{i===yi&&l===n&&o.length&&o.shift()()},!1),i=>{o.push(i),yi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Yn(yi.postMessage)),cH=typeof queueMicrotask<"u"?queueMicrotask.bind(yi):typeof process<"u"&&process.nextTick||P0,uH=t=>t!=null&&Yn(t[th]),W={isArray:Zs,isArrayBuffer:I0,isBuffer:jc,isFormData:L2,isArrayBufferView:R2,isString:O2,isNumber:x0,isBoolean:I2,isObject:Fc,isPlainObject:Ud,isEmptyObject:x2,isReadableStream:H2,isRequest:z2,isResponse:B2,isHeaders:j2,isUndefined:Bs,isDate:k2,isFile:N2,isBlob:M2,isRegExp:eH,isFunction:Yn,isStream:D2,isURLSearchParams:U2,isTypedArray:$2,isFileList:P2,forEach:qc,merge:Pg,extend:q2,trim:F2,stripBOM:K2,inherits:G2,toFlatObject:V2,kindOf:nh,kindOfTest:Xr,endsWith:Y2,toArray:Q2,forEachEntry:X2,matchAll:W2,isHTMLForm:J2,hasOwnProperty:hT,hasOwnProp:hT,reduceDescriptors:M0,freezeMethods:tH,toObjectSet:nH,toCamelCase:Z2,noop:rH,toFiniteNumber:oH,findKey:k0,global:yi,isContextDefined:N0,isSpecCompliantForm:aH,toJSONObject:iH,isAsyncFn:sH,isThenable:lH,setImmediate:P0,asap:cH,isIterable:uH};function qe(t,e,n,o,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),o&&(this.request=o),i&&(this.response=i,this.status=i.status?i.status:null)}W.inherits(qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const D0=qe.prototype,L0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{L0[t]={value:t}});Object.defineProperties(qe,L0);Object.defineProperty(D0,"isAxiosError",{value:!0});qe.from=(t,e,n,o,i,l)=>{const c=Object.create(D0);W.toFlatObject(t,c,function(g){return g!==Error.prototype},m=>m!=="isAxiosError");const d=t&&t.message?t.message:"Error",f=e==null&&t?t.code:e;return qe.call(c,d,f,n,o,i),t&&c.cause==null&&Object.defineProperty(c,"cause",{value:t,configurable:!0}),c.name=t&&t.name||"Error",l&&Object.assign(c,l),c};const dH=null;function Dg(t){return W.isPlainObject(t)||W.isArray(t)}function U0(t){return W.endsWith(t,"[]")?t.slice(0,-2):t}function mT(t,e,n){return t?t.concat(e).map(function(i,l){return i=U0(i),!n&&l?"["+i+"]":i}).join(n?".":""):e}function fH(t){return W.isArray(t)&&!t.some(Dg)}const hH=W.toFlatObject(W,{},null,function(e){return/^is[A-Z]/.test(e)});function oh(t,e,n){if(!W.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,T){return!W.isUndefined(T[S])});const o=n.metaTokens,i=n.visitor||g,l=n.dots,c=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(e);if(!W.isFunction(i))throw new TypeError("visitor must be a function");function m(w){if(w===null)return"";if(W.isDate(w))return w.toISOString();if(W.isBoolean(w))return w.toString();if(!f&&W.isBlob(w))throw new qe("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(w)||W.isTypedArray(w)?f&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,S,T){let R=w;if(w&&!T&&typeof w=="object"){if(W.endsWith(S,"{}"))S=o?S:S.slice(0,-2),w=JSON.stringify(w);else if(W.isArray(w)&&fH(w)||(W.isFileList(w)||W.endsWith(S,"[]"))&&(R=W.toArray(w)))return S=U0(S),R.forEach(function(x,B){!(W.isUndefined(x)||x===null)&&e.append(c===!0?mT([S],B,l):c===null?S:S+"[]",m(x))}),!1}return Dg(w)?!0:(e.append(mT(T,S,l),m(w)),!1)}const y=[],v=Object.assign(hH,{defaultVisitor:g,convertValue:m,isVisitable:Dg});function E(w,S){if(!W.isUndefined(w)){if(y.indexOf(w)!==-1)throw Error("Circular reference detected in "+S.join("."));y.push(w),W.forEach(w,function(R,O){(!(W.isUndefined(R)||R===null)&&i.call(e,R,W.isString(O)?O.trim():O,S,v))===!0&&E(R,S?S.concat(O):[O])}),y.pop()}}if(!W.isObject(t))throw new TypeError("data must be an object");return E(t),e}function pT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function Pv(t,e){this._pairs=[],t&&oh(t,this,e)}const H0=Pv.prototype;H0.append=function(e,n){this._pairs.push([e,n])};H0.toString=function(e){const n=e?function(o){return e.call(this,o,pT)}:pT;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function mH(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function z0(t,e,n){if(!e)return t;const o=n&&n.encode||mH;W.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let l;if(i?l=i(e,n):l=W.isURLSearchParams(e)?e.toString():new Pv(e,n).toString(o),l){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class gT{constructor(){this.handlers=[]}use(e,n,o){return this.handlers.push({fulfilled:e,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){W.forEach(this.handlers,function(o){o!==null&&e(o)})}}const B0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pH=typeof URLSearchParams<"u"?URLSearchParams:Pv,gH=typeof FormData<"u"?FormData:null,yH=typeof Blob<"u"?Blob:null,vH={isBrowser:!0,classes:{URLSearchParams:pH,FormData:gH,Blob:yH},protocols:["http","https","file","blob","url","data"]},Dv=typeof window<"u"&&typeof document<"u",Lg=typeof navigator=="object"&&navigator||void 0,bH=Dv&&(!Lg||["ReactNative","NativeScript","NS"].indexOf(Lg.product)<0),CH=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",EH=Dv&&window.location.href||"http://localhost",SH=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Dv,hasStandardBrowserEnv:bH,hasStandardBrowserWebWorkerEnv:CH,navigator:Lg,origin:EH},Symbol.toStringTag,{value:"Module"})),On={...SH,...vH};function wH(t,e){return oh(t,new On.classes.URLSearchParams,{visitor:function(n,o,i,l){return On.isNode&&W.isBuffer(n)?(this.append(o,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...e})}function TH(t){return W.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function AH(t){const e={},n=Object.keys(t);let o;const i=n.length;let l;for(o=0;o<i;o++)l=n[o],e[l]=t[l];return e}function j0(t){function e(n,o,i,l){let c=n[l++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),f=l>=n.length;return c=!c&&W.isArray(i)?i.length:c,f?(W.hasOwnProp(i,c)?i[c]=[i[c],o]:i[c]=o,!d):((!i[c]||!W.isObject(i[c]))&&(i[c]=[]),e(n,o,i[c],l)&&W.isArray(i[c])&&(i[c]=AH(i[c])),!d)}if(W.isFormData(t)&&W.isFunction(t.entries)){const n={};return W.forEachEntry(t,(o,i)=>{e(TH(o),i,n,0)}),n}return null}function _H(t,e,n){if(W.isString(t))try{return(e||JSON.parse)(t),W.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(t)}const Kc={transitional:B0,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const o=n.getContentType()||"",i=o.indexOf("application/json")>-1,l=W.isObject(e);if(l&&W.isHTMLForm(e)&&(e=new FormData(e)),W.isFormData(e))return i?JSON.stringify(j0(e)):e;if(W.isArrayBuffer(e)||W.isBuffer(e)||W.isStream(e)||W.isFile(e)||W.isBlob(e)||W.isReadableStream(e))return e;if(W.isArrayBufferView(e))return e.buffer;if(W.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(l){if(o.indexOf("application/x-www-form-urlencoded")>-1)return wH(e,this.formSerializer).toString();if((d=W.isFileList(e))||o.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return oh(d?{"files[]":e}:e,f&&new f,this.formSerializer)}}return l||i?(n.setContentType("application/json",!1),_H(e)):e}],transformResponse:[function(e){const n=this.transitional||Kc.transitional,o=n&&n.forcedJSONParsing,i=this.responseType==="json";if(W.isResponse(e)||W.isReadableStream(e))return e;if(e&&W.isString(e)&&(o&&!this.responseType||i)){const c=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(d){if(c)throw d.name==="SyntaxError"?qe.from(d,qe.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:On.classes.FormData,Blob:On.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],t=>{Kc.headers[t]={}});const RH=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),OH=t=>{const e={};let n,o,i;return t&&t.split(`
`).forEach(function(c){i=c.indexOf(":"),n=c.substring(0,i).trim().toLowerCase(),o=c.substring(i+1).trim(),!(!n||e[n]&&RH[n])&&(n==="set-cookie"?e[n]?e[n].push(o):e[n]=[o]:e[n]=e[n]?e[n]+", "+o:o)}),e},yT=Symbol("internals");function ac(t){return t&&String(t).trim().toLowerCase()}function Hd(t){return t===!1||t==null?t:W.isArray(t)?t.map(Hd):String(t)}function IH(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(t);)e[o[1]]=o[2];return e}const xH=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Gp(t,e,n,o,i){if(W.isFunction(o))return o.call(this,e,n);if(i&&(e=n),!!W.isString(e)){if(W.isString(o))return e.indexOf(o)!==-1;if(W.isRegExp(o))return o.test(e)}}function kH(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,o)=>n.toUpperCase()+o)}function NH(t,e){const n=W.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+n,{value:function(i,l,c){return this[o].call(this,e,i,l,c)},configurable:!0})})}let Qn=class{constructor(e){e&&this.set(e)}set(e,n,o){const i=this;function l(d,f,m){const g=ac(f);if(!g)throw new Error("header name must be a non-empty string");const y=W.findKey(i,g);(!y||i[y]===void 0||m===!0||m===void 0&&i[y]!==!1)&&(i[y||f]=Hd(d))}const c=(d,f)=>W.forEach(d,(m,g)=>l(m,g,f));if(W.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(W.isString(e)&&(e=e.trim())&&!xH(e))c(OH(e),n);else if(W.isObject(e)&&W.isIterable(e)){let d={},f,m;for(const g of e){if(!W.isArray(g))throw TypeError("Object iterator must return a key-value pair");d[m=g[0]]=(f=d[m])?W.isArray(f)?[...f,g[1]]:[f,g[1]]:g[1]}c(d,n)}else e!=null&&l(n,e,o);return this}get(e,n){if(e=ac(e),e){const o=W.findKey(this,e);if(o){const i=this[o];if(!n)return i;if(n===!0)return IH(i);if(W.isFunction(n))return n.call(this,i,o);if(W.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ac(e),e){const o=W.findKey(this,e);return!!(o&&this[o]!==void 0&&(!n||Gp(this,this[o],o,n)))}return!1}delete(e,n){const o=this;let i=!1;function l(c){if(c=ac(c),c){const d=W.findKey(o,c);d&&(!n||Gp(o,o[d],d,n))&&(delete o[d],i=!0)}}return W.isArray(e)?e.forEach(l):l(e),i}clear(e){const n=Object.keys(this);let o=n.length,i=!1;for(;o--;){const l=n[o];(!e||Gp(this,this[l],l,e,!0))&&(delete this[l],i=!0)}return i}normalize(e){const n=this,o={};return W.forEach(this,(i,l)=>{const c=W.findKey(o,l);if(c){n[c]=Hd(i),delete n[l];return}const d=e?kH(l):String(l).trim();d!==l&&delete n[l],n[d]=Hd(i),o[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return W.forEach(this,(o,i)=>{o!=null&&o!==!1&&(n[i]=e&&W.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const o=new this(e);return n.forEach(i=>o.set(i)),o}static accessor(e){const o=(this[yT]=this[yT]={accessors:{}}).accessors,i=this.prototype;function l(c){const d=ac(c);o[d]||(NH(i,c),o[d]=!0)}return W.isArray(e)?e.forEach(l):l(e),this}};Qn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(Qn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(o){this[n]=o}}});W.freezeMethods(Qn);function Vp(t,e){const n=this||Kc,o=e||n,i=Qn.from(o.headers);let l=o.data;return W.forEach(t,function(d){l=d.call(n,l,i.normalize(),e?e.status:void 0)}),i.normalize(),l}function F0(t){return!!(t&&t.__CANCEL__)}function el(t,e,n){qe.call(this,t??"canceled",qe.ERR_CANCELED,e,n),this.name="CanceledError"}W.inherits(el,qe,{__CANCEL__:!0});function q0(t,e,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?t(n):e(new qe("Request failed with status code "+n.status,[qe.ERR_BAD_REQUEST,qe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function MH(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function PH(t,e){t=t||10;const n=new Array(t),o=new Array(t);let i=0,l=0,c;return e=e!==void 0?e:1e3,function(f){const m=Date.now(),g=o[l];c||(c=m),n[i]=f,o[i]=m;let y=l,v=0;for(;y!==i;)v+=n[y++],y=y%t;if(i=(i+1)%t,i===l&&(l=(l+1)%t),m-c<e)return;const E=g&&m-g;return E?Math.round(v*1e3/E):void 0}}function DH(t,e){let n=0,o=1e3/e,i,l;const c=(m,g=Date.now())=>{n=g,i=null,l&&(clearTimeout(l),l=null),t(...m)};return[(...m)=>{const g=Date.now(),y=g-n;y>=o?c(m,g):(i=m,l||(l=setTimeout(()=>{l=null,c(i)},o-y)))},()=>i&&c(i)]}const hf=(t,e,n=3)=>{let o=0;const i=PH(50,250);return DH(l=>{const c=l.loaded,d=l.lengthComputable?l.total:void 0,f=c-o,m=i(f),g=c<=d;o=c;const y={loaded:c,total:d,progress:d?c/d:void 0,bytes:f,rate:m||void 0,estimated:m&&d&&g?(d-c)/m:void 0,event:l,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(y)},n)},vT=(t,e)=>{const n=t!=null;return[o=>e[0]({lengthComputable:n,total:t,loaded:o}),e[1]]},bT=t=>(...e)=>W.asap(()=>t(...e)),LH=On.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,On.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(On.origin),On.navigator&&/(msie|trident)/i.test(On.navigator.userAgent)):()=>!0,UH=On.hasStandardBrowserEnv?{write(t,e,n,o,i,l){const c=[t+"="+encodeURIComponent(e)];W.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),W.isString(o)&&c.push("path="+o),W.isString(i)&&c.push("domain="+i),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function HH(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function zH(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function K0(t,e,n){let o=!HH(e);return t&&(o||n==!1)?zH(t,e):e}const CT=t=>t instanceof Qn?{...t}:t;function _i(t,e){e=e||{};const n={};function o(m,g,y,v){return W.isPlainObject(m)&&W.isPlainObject(g)?W.merge.call({caseless:v},m,g):W.isPlainObject(g)?W.merge({},g):W.isArray(g)?g.slice():g}function i(m,g,y,v){if(W.isUndefined(g)){if(!W.isUndefined(m))return o(void 0,m,y,v)}else return o(m,g,y,v)}function l(m,g){if(!W.isUndefined(g))return o(void 0,g)}function c(m,g){if(W.isUndefined(g)){if(!W.isUndefined(m))return o(void 0,m)}else return o(void 0,g)}function d(m,g,y){if(y in e)return o(m,g);if(y in t)return o(void 0,m)}const f={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(m,g,y)=>i(CT(m),CT(g),y,!0)};return W.forEach(Object.keys({...t,...e}),function(g){const y=f[g]||i,v=y(t[g],e[g],g);W.isUndefined(v)&&y!==d||(n[g]=v)}),n}const G0=t=>{const e=_i({},t);let{data:n,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:l,headers:c,auth:d}=e;if(e.headers=c=Qn.from(c),e.url=z0(K0(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),W.isFormData(n)){if(On.hasStandardBrowserEnv||On.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(W.isFunction(n.getHeaders)){const f=n.getHeaders(),m=["content-type","content-length"];Object.entries(f).forEach(([g,y])=>{m.includes(g.toLowerCase())&&c.set(g,y)})}}if(On.hasStandardBrowserEnv&&(o&&W.isFunction(o)&&(o=o(e)),o||o!==!1&&LH(e.url))){const f=i&&l&&UH.read(l);f&&c.set(i,f)}return e},BH=typeof XMLHttpRequest<"u",jH=BH&&function(t){return new Promise(function(n,o){const i=G0(t);let l=i.data;const c=Qn.from(i.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:m}=i,g,y,v,E,w;function S(){E&&E(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let T=new XMLHttpRequest;T.open(i.method.toUpperCase(),i.url,!0),T.timeout=i.timeout;function R(){if(!T)return;const x=Qn.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),L={data:!d||d==="text"||d==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:x,config:t,request:T};q0(function(I){n(I),S()},function(I){o(I),S()},L),T=null}"onloadend"in T?T.onloadend=R:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(R)},T.onabort=function(){T&&(o(new qe("Request aborted",qe.ECONNABORTED,t,T)),T=null)},T.onerror=function(B){const L=B&&B.message?B.message:"Network Error",J=new qe(L,qe.ERR_NETWORK,t,T);J.event=B||null,o(J),T=null},T.ontimeout=function(){let B=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const L=i.transitional||B0;i.timeoutErrorMessage&&(B=i.timeoutErrorMessage),o(new qe(B,L.clarifyTimeoutError?qe.ETIMEDOUT:qe.ECONNABORTED,t,T)),T=null},l===void 0&&c.setContentType(null),"setRequestHeader"in T&&W.forEach(c.toJSON(),function(B,L){T.setRequestHeader(L,B)}),W.isUndefined(i.withCredentials)||(T.withCredentials=!!i.withCredentials),d&&d!=="json"&&(T.responseType=i.responseType),m&&([v,w]=hf(m,!0),T.addEventListener("progress",v)),f&&T.upload&&([y,E]=hf(f),T.upload.addEventListener("progress",y),T.upload.addEventListener("loadend",E)),(i.cancelToken||i.signal)&&(g=x=>{T&&(o(!x||x.type?new el(null,t,T):x),T.abort(),T=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const O=MH(i.url);if(O&&On.protocols.indexOf(O)===-1){o(new qe("Unsupported protocol "+O+":",qe.ERR_BAD_REQUEST,t));return}T.send(l||null)})},FH=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let o=new AbortController,i;const l=function(m){if(!i){i=!0,d();const g=m instanceof Error?m:this.reason;o.abort(g instanceof qe?g:new el(g instanceof Error?g.message:g))}};let c=e&&setTimeout(()=>{c=null,l(new qe(`timeout ${e} of ms exceeded`,qe.ETIMEDOUT))},e);const d=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),t=null)};t.forEach(m=>m.addEventListener("abort",l));const{signal:f}=o;return f.unsubscribe=()=>W.asap(d),f}},qH=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let o=0,i;for(;o<n;)i=o+e,yield t.slice(o,i),o=i},KH=async function*(t,e){for await(const n of GH(t))yield*qH(n,e)},GH=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:o}=await e.read();if(n)break;yield o}}finally{await e.cancel()}},ET=(t,e,n,o)=>{const i=KH(t,e);let l=0,c,d=f=>{c||(c=!0,o&&o(f))};return new ReadableStream({async pull(f){try{const{done:m,value:g}=await i.next();if(m){d(),f.close();return}let y=g.byteLength;if(n){let v=l+=y;n(v)}f.enqueue(new Uint8Array(g))}catch(m){throw d(m),m}},cancel(f){return d(f),i.return()}},{highWaterMark:2})},ST=64*1024,{isFunction:pd}=W,VH=(({Request:t,Response:e})=>({Request:t,Response:e}))(W.global),{ReadableStream:wT,TextEncoder:TT}=W.global,AT=(t,...e)=>{try{return!!t(...e)}catch{return!1}},YH=t=>{t=W.merge.call({skipUndefined:!0},VH,t);const{fetch:e,Request:n,Response:o}=t,i=e?pd(e):typeof fetch=="function",l=pd(n),c=pd(o);if(!i)return!1;const d=i&&pd(wT),f=i&&(typeof TT=="function"?(w=>S=>w.encode(S))(new TT):async w=>new Uint8Array(await new n(w).arrayBuffer())),m=l&&d&&AT(()=>{let w=!1;const S=new n(On.origin,{body:new wT,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!S}),g=c&&d&&AT(()=>W.isReadableStream(new o("").body)),y={stream:g&&(w=>w.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!y[w]&&(y[w]=(S,T)=>{let R=S&&S[w];if(R)return R.call(S);throw new qe(`Response type '${w}' is not supported`,qe.ERR_NOT_SUPPORT,T)})});const v=async w=>{if(w==null)return 0;if(W.isBlob(w))return w.size;if(W.isSpecCompliantForm(w))return(await new n(On.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(W.isArrayBufferView(w)||W.isArrayBuffer(w))return w.byteLength;if(W.isURLSearchParams(w)&&(w=w+""),W.isString(w))return(await f(w)).byteLength},E=async(w,S)=>{const T=W.toFiniteNumber(w.getContentLength());return T??v(S)};return async w=>{let{url:S,method:T,data:R,signal:O,cancelToken:x,timeout:B,onDownloadProgress:L,onUploadProgress:J,responseType:I,headers:j,withCredentials:se="same-origin",fetchOptions:he}=G0(w),ge=e||fetch;I=I?(I+"").toLowerCase():"text";let ve=FH([O,x&&x.toAbortSignal()],B),we=null;const be=ve&&ve.unsubscribe&&(()=>{ve.unsubscribe()});let me;try{if(J&&m&&T!=="get"&&T!=="head"&&(me=await E(j,R))!==0){let X=new n(S,{method:"POST",body:R,duplex:"half"}),ie;if(W.isFormData(R)&&(ie=X.headers.get("content-type"))&&j.setContentType(ie),X.body){const[Q,ne]=vT(me,hf(bT(J)));R=ET(X.body,ST,Q,ne)}}W.isString(se)||(se=se?"include":"omit");const P=l&&"credentials"in n.prototype,$={...he,signal:ve,method:T.toUpperCase(),headers:j.normalize().toJSON(),body:R,duplex:"half",credentials:P?se:void 0};we=l&&new n(S,$);let z=await(l?ge(we,he):ge(S,$));const de=g&&(I==="stream"||I==="response");if(g&&(L||de&&be)){const X={};["status","statusText","headers"].forEach(pe=>{X[pe]=z[pe]});const ie=W.toFiniteNumber(z.headers.get("content-length")),[Q,ne]=L&&vT(ie,hf(bT(L),!0))||[];z=new o(ET(z.body,ST,Q,()=>{ne&&ne(),be&&be()}),X)}I=I||"text";let N=await y[W.findKey(y,I)||"text"](z,w);return!de&&be&&be(),await new Promise((X,ie)=>{q0(X,ie,{data:N,headers:Qn.from(z.headers),status:z.status,statusText:z.statusText,config:w,request:we})})}catch(P){throw be&&be(),P&&P.name==="TypeError"&&/Load failed|fetch/i.test(P.message)?Object.assign(new qe("Network Error",qe.ERR_NETWORK,w,we),{cause:P.cause||P}):qe.from(P,P&&P.code,w,we)}}},QH=new Map,V0=t=>{let e=t?t.env:{};const{fetch:n,Request:o,Response:i}=e,l=[o,i,n];let c=l.length,d=c,f,m,g=QH;for(;d--;)f=l[d],m=g.get(f),m===void 0&&g.set(f,m=d?new Map:YH(e)),g=m;return m};V0();const Ug={http:dH,xhr:jH,fetch:{get:V0}};W.forEach(Ug,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const _T=t=>`- ${t}`,$H=t=>W.isFunction(t)||t===null||t===!1,Y0={getAdapter:(t,e)=>{t=W.isArray(t)?t:[t];const{length:n}=t;let o,i;const l={};for(let c=0;c<n;c++){o=t[c];let d;if(i=o,!$H(o)&&(i=Ug[(d=String(o)).toLowerCase()],i===void 0))throw new qe(`Unknown adapter '${d}'`);if(i&&(W.isFunction(i)||(i=i.get(e))))break;l[d||"#"+c]=i}if(!i){const c=Object.entries(l).map(([f,m])=>`adapter ${f} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=n?c.length>1?`since :
`+c.map(_T).join(`
`):" "+_T(c[0]):"as no adapter specified";throw new qe("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return i},adapters:Ug};function Yp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new el(null,t)}function RT(t){return Yp(t),t.headers=Qn.from(t.headers),t.data=Vp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Y0.getAdapter(t.adapter||Kc.adapter,t)(t).then(function(o){return Yp(t),o.data=Vp.call(t,t.transformResponse,o),o.headers=Qn.from(o.headers),o},function(o){return F0(o)||(Yp(t),o&&o.response&&(o.response.data=Vp.call(t,t.transformResponse,o.response),o.response.headers=Qn.from(o.response.headers))),Promise.reject(o)})}const Q0="1.12.2",ah={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ah[t]=function(o){return typeof o===t||"a"+(e<1?"n ":" ")+t}});const OT={};ah.transitional=function(e,n,o){function i(l,c){return"[Axios v"+Q0+"] Transitional option '"+l+"'"+c+(o?". "+o:"")}return(l,c,d)=>{if(e===!1)throw new qe(i(c," has been removed"+(n?" in "+n:"")),qe.ERR_DEPRECATED);return n&&!OT[c]&&(OT[c]=!0,console.warn(i(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(l,c,d):!0}};ah.spelling=function(e){return(n,o)=>(console.warn(`${o} is likely a misspelling of ${e}`),!0)};function XH(t,e,n){if(typeof t!="object")throw new qe("options must be an object",qe.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let i=o.length;for(;i-- >0;){const l=o[i],c=e[l];if(c){const d=t[l],f=d===void 0||c(d,l,t);if(f!==!0)throw new qe("option "+l+" must be "+f,qe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new qe("Unknown option "+l,qe.ERR_BAD_OPTION)}}const zd={assertOptions:XH,validators:ah},so=zd.validators;let bi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new gT,response:new gT}}async request(e,n){try{return await this._request(e,n)}catch(o){if(o instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const l=i.stack?i.stack.replace(/^.+\n/,""):"";try{o.stack?l&&!String(o.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+l):o.stack=l}catch{}}throw o}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=_i(this.defaults,n);const{transitional:o,paramsSerializer:i,headers:l}=n;o!==void 0&&zd.assertOptions(o,{silentJSONParsing:so.transitional(so.boolean),forcedJSONParsing:so.transitional(so.boolean),clarifyTimeoutError:so.transitional(so.boolean)},!1),i!=null&&(W.isFunction(i)?n.paramsSerializer={serialize:i}:zd.assertOptions(i,{encode:so.function,serialize:so.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),zd.assertOptions(n,{baseUrl:so.spelling("baseURL"),withXsrfToken:so.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=l&&W.merge(l.common,l[n.method]);l&&W.forEach(["delete","get","head","post","put","patch","common"],w=>{delete l[w]}),n.headers=Qn.concat(c,l);const d=[];let f=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(f=f&&S.synchronous,d.unshift(S.fulfilled,S.rejected))});const m=[];this.interceptors.response.forEach(function(S){m.push(S.fulfilled,S.rejected)});let g,y=0,v;if(!f){const w=[RT.bind(this),void 0];for(w.unshift(...d),w.push(...m),v=w.length,g=Promise.resolve(n);y<v;)g=g.then(w[y++],w[y++]);return g}v=d.length;let E=n;for(;y<v;){const w=d[y++],S=d[y++];try{E=w(E)}catch(T){S.call(this,T);break}}try{g=RT.call(this,E)}catch(w){return Promise.reject(w)}for(y=0,v=m.length;y<v;)g=g.then(m[y++],m[y++]);return g}getUri(e){e=_i(this.defaults,e);const n=K0(e.baseURL,e.url,e.allowAbsoluteUrls);return z0(n,e.params,e.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(e){bi.prototype[e]=function(n,o){return this.request(_i(o||{},{method:e,url:n,data:(o||{}).data}))}});W.forEach(["post","put","patch"],function(e){function n(o){return function(l,c,d){return this.request(_i(d||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}bi.prototype[e]=n(),bi.prototype[e+"Form"]=n(!0)});let WH=class $0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const o=this;this.promise.then(i=>{if(!o._listeners)return;let l=o._listeners.length;for(;l-- >0;)o._listeners[l](i);o._listeners=null}),this.promise.then=i=>{let l;const c=new Promise(d=>{o.subscribe(d),l=d}).then(i);return c.cancel=function(){o.unsubscribe(l)},c},e(function(l,c,d){o.reason||(o.reason=new el(l,c,d),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=o=>{e.abort(o)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new $0(function(i){e=i}),cancel:e}}};function JH(t){return function(n){return t.apply(null,n)}}function ZH(t){return W.isObject(t)&&t.isAxiosError===!0}const Hg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hg).forEach(([t,e])=>{Hg[e]=t});function X0(t){const e=new bi(t),n=R0(bi.prototype.request,e);return W.extend(n,bi.prototype,e,{allOwnKeys:!0}),W.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return X0(_i(t,i))},n}const Kt=X0(Kc);Kt.Axios=bi;Kt.CanceledError=el;Kt.CancelToken=WH;Kt.isCancel=F0;Kt.VERSION=Q0;Kt.toFormData=oh;Kt.AxiosError=qe;Kt.Cancel=Kt.CanceledError;Kt.all=function(e){return Promise.all(e)};Kt.spread=JH;Kt.isAxiosError=ZH;Kt.mergeConfig=_i;Kt.AxiosHeaders=Qn;Kt.formToJSON=t=>j0(W.isHTMLForm(t)?new FormData(t):t);Kt.getAdapter=Y0.getAdapter;Kt.HttpStatusCode=Hg;Kt.default=Kt;const{Axios:GK,AxiosError:VK,CanceledError:YK,isCancel:QK,CancelToken:$K,VERSION:XK,all:WK,Cancel:JK,isAxiosError:ZK,spread:eG,toFormData:tG,AxiosHeaders:nG,HttpStatusCode:rG,formToJSON:oG,getAdapter:aG,mergeConfig:iG}=Kt,Gc={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"https://api.corporacionchetango.com",VITE_APP_ENVIRONMENT:"production",VITE_APP_NAME:"Chetango",VITE_APP_VERSION:"1.0.0",VITE_AZURE_CLIENT_ID:"d35c1d4d-9ddc-4a8b-bb89-1964b37ff573",VITE_AZURE_REDIRECT_URI:"http://localhost:4173",VITE_AZURE_TENANT_ID:"8a57ec5a-e2e3-44ad-9494-77fbc7467251",VITE_ENABLE_ANALYTICS:"true",VITE_ENABLE_DEVTOOLS:"false",VITE_ENABLE_NOTIFICATIONS:"true",VITE_ENTRA_AUTHORITY:"https://chetangoprueba.ciamlogin.com/8a57ec5a-e2e3-44ad-9494-77fbc7467251",VITE_ENTRA_CLIENT_ID:"d35c1d4d-9ddc-4a8b-bb89-1964b37ff573",VITE_ENTRA_POST_LOGOUT_REDIRECT_URI:"https://app.corporacionchetango.com",VITE_ENTRA_REDIRECT_URI:"https://app.corporacionchetango.com",VITE_ENTRA_SCOPES:"openid,profile,email,api://d35c1d4d-9ddc-4a8b-bb89-1964b37ff573/access_as_user",VITE_ENTRA_TENANT_ID:"8a57ec5a-e2e3-44ad-9494-77fbc7467251"};function ez(t,e){const n=Gc[t]||e;if(!n)throw new Error(`Variable de entorno requerida no encontrada: ${t}`);return n}function ui(t,e=""){return Gc[t]||e}function Qp(t,e=!1){const n=Gc[t];return n?n.toLowerCase()==="true":e}function gd(t,e){const n=Gc[t];if(!n)return e;const o=parseInt(n,10);return isNaN(o)?e:o}const mf={API_URL:ez("VITE_API_BASE_URL"),API_TIMEOUT:gd("VITE_API_TIMEOUT",1e4),TOKEN_EXPIRY:ui("VITE_TOKEN_EXPIRY","24h"),APP_NAME:ui("VITE_APP_NAME","Chetango"),APP_VERSION:ui("VITE_APP_VERSION","1.0.0"),APP_ENVIRONMENT:ui("VITE_APP_ENVIRONMENT","development"),ENABLE_DEVTOOLS:Qp("VITE_ENABLE_DEVTOOLS",!0),ENABLE_ANALYTICS:Qp("VITE_ENABLE_ANALYTICS",!1),ENABLE_NOTIFICATIONS:Qp("VITE_ENABLE_NOTIFICATIONS",!0),MAX_FILE_SIZE:gd("VITE_MAX_FILE_SIZE",5242880),PAGINATION_SIZE:gd("VITE_PAGINATION_SIZE",20),SESSION_TIMEOUT:gd("VITE_SESSION_TIMEOUT",18e5),PAYMENT_GATEWAY_URL:ui("VITE_PAYMENT_GATEWAY_URL"),EMAIL_SERVICE_URL:ui("VITE_EMAIL_SERVICE_URL"),STORAGE_URL:ui("VITE_STORAGE_URL")};function tz(){const e=["VITE_API_BASE_URL"].filter(n=>!Gc[n]);if(e.length>0)throw new Error(`Variables de entorno requeridas faltantes: ${e.join(", ")}
Asegrate de tener un archivo .env.local con todas las variables necesarias.`)}const nz=mf.APP_ENVIRONMENT==="development",rz=mf.APP_ENVIRONMENT==="production";(nz||rz)&&tz();const ih=Kt.create({baseURL:mf.API_URL,timeout:mf.API_TIMEOUT,headers:{"Content-Type":"application/json"}}),sG=Object.freeze(Object.defineProperty({__proto__:null,httpClient:ih},Symbol.toStringTag,{value:"Module"})),rt={HOME:"/",LOGIN:"/login",FORGOT_PASSWORD:"/forgot-password",AUTH_CALLBACK:"/auth/callback",AUTH_LOGOUT:"/auth/logout",DASHBOARD:"/dashboard",ADMIN:{ROOT:"/admin",ATTENDANCE:"/admin/attendance",ATTENDANCE_CORRECTION:"/admin/attendance/correction",ATTENDANCE_LIST:"/admin/attendance/list",ATTENDANCE_REGISTER:"/admin/attendance/register",ATTENDANCE_REPORTS:"/admin/attendance/reports",USERS:"/admin/users",USERS_LIST:"/admin/users/list",USERS_CREATE:"/admin/users/create",USERS_EDIT:t=>`/admin/users/${t}/edit`,PAYMENTS:"/admin/payments",PAYMENTS_LIST:"/admin/payments/list",PAYMENTS_CREATE:"/admin/payments/create",PAYMENTS_HISTORY:"/admin/payments/history",CLASSES:"/admin/classes",CLASSES_LIST:"/admin/classes/list",CLASSES_CREATE:"/admin/classes/create",CLASSES_SCHEDULE:"/admin/classes/schedule",PACKAGES:"/admin/paquetes",PAYROLL:"/admin/payroll",REPORTS:"/admin/reports",REPORTS_ATTENDANCE:"/admin/reports/attendance",REPORTS_PAYMENTS:"/admin/reports/payments",REPORTS_USERS:"/admin/reports/users",SETTINGS:"/admin/settings",SETTINGS_SYSTEM:"/admin/settings/system",SETTINGS_ROLES:"/admin/settings/roles",PROFILE:"/admin/profile",NOTIFICATIONS:"/admin/notifications"},STUDENT:{ROOT:"/student",ATTENDANCE:"/student/attendance",ATTENDANCE_HISTORY:"/student/attendance/history",PAYMENTS:"/student/payments",PAYMENTS_HISTORY:"/student/payments/history",CLASSES:"/student/classes",CLASSES_SCHEDULE:"/student/classes/schedule",PROFILE:"/student/profile",PROFILE_EDIT:"/student/profile/edit"},TEACHER:{ROOT:"/profesor",ATTENDANCE:"/profesor/attendance",ATTENDANCE_REGISTER:"/profesor/attendance/register",CLASSES:"/profesor/classes",CLASSES_MY:"/profesor/classes/my",CLASSES_SCHEDULE:"/profesor/classes/schedule",PAYMENTS:"/profesor/payments",REPORTS:"/profesor/reports",REPORTS_MY_CLASSES:"/profesor/reports/my-classes",PROFILE:"/profesor/profile"},PROFILE:"/profile",NOTIFICATIONS:"/notifications"},oz={ALL_AUTHENTICATED:[rt.DASHBOARD,rt.PROFILE,rt.NOTIFICATIONS]},az={requiresRole:t=>t.startsWith("/admin")?["admin"]:t.startsWith("/student")?["alumno"]:t.startsWith("/profesor")?["profesor"]:null,isPublicAuthenticated:t=>oz.ALL_AUTHENTICATED.includes(t),getDefaultRoute:t=>t.includes("admin")?rt.ADMIN.ROOT:t.includes("alumno")?rt.STUDENT.ROOT:t.includes("profesor")?rt.TEACHER.ROOT:rt.DASHBOARD},iz=(t,{msalInstance:e,accounts:n,tokenRequest:o})=>{console.log("[Auth Interceptor] Setting up with",n.length,"accounts");const i=t.interceptors.request.use(async c=>{if(console.log("[Auth Interceptor] Request to:",c.url,"Accounts:",n.length),n.length>0)try{console.log("[Auth Interceptor] Acquiring token silently...");const d=await e.acquireTokenSilent({...o,account:n[0]});c.headers.Authorization=`Bearer ${d.accessToken}`,console.log("[Auth Interceptor] Token added to request")}catch(d){console.error("[Auth Interceptor] Silent token acquisition failed:",d);try{console.log("[Auth Interceptor] Attempting interactive token acquisition...");const f=await e.acquireTokenPopup({...o,account:n[0]});c.headers.Authorization=`Bearer ${f.accessToken}`,console.log("[Auth Interceptor] Token from popup added successfully")}catch(f){console.error("[Auth Interceptor] Interactive token acquisition failed:",f),console.warn("[Auth Interceptor] Forcing re-login due to token acquisition failure"),window.location.href=rt.LOGIN}}else console.warn("[Auth Interceptor] No accounts available, request will be unauthenticated");return c},c=>Promise.reject(c)),l=t.interceptors.response.use(c=>c,async c=>(c.response?.status===401&&(console.warn("[Auth Interceptor] 401 received"),e.getAllAccounts().length===0&&(console.warn("[Auth Interceptor] No accounts, redirecting to login"),window.location.href=rt.LOGIN)),Promise.reject(c)));return()=>{t.interceptors.request.eject(i),t.interceptors.response.eject(l)}};function sz(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const lz=t=>{switch(t){case"success":return dz;case"info":return hz;case"warning":return fz;case"error":return mz;default:return null}},cz=Array(12).fill(0),uz=({visible:t,className:e})=>ue.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ue.createElement("div",{className:"sonner-spinner"},cz.map((n,o)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),dz=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),fz=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),hz=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),mz=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),pz=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),gz=()=>{const[t,e]=ue.useState(document.hidden);return ue.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let zg=1;class yz{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:o,...i}=e,l=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:zg++,c=this.toasts.find(f=>f.id===l),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),c?this.toasts=this.toasts.map(f=>f.id===l?(this.publish({...f,...e,id:l,title:o}),{...f,...e,id:l,dismissible:d,title:o}):f):this.addToast({title:o,...i,dismissible:d,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(o=>o({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let o;n.loading!==void 0&&(o=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let l=o!==void 0,c;const d=i.then(async m=>{if(c=["resolve",m],ue.isValidElement(m))l=!1,this.create({id:o,type:"default",message:m});else if(bz(m)&&!m.ok){l=!1;const y=typeof n.error=="function"?await n.error(`HTTP error! status: ${m.status}`):n.error,v=typeof n.description=="function"?await n.description(`HTTP error! status: ${m.status}`):n.description,w=typeof y=="object"&&!ue.isValidElement(y)?y:{message:y};this.create({id:o,type:"error",description:v,...w})}else if(m instanceof Error){l=!1;const y=typeof n.error=="function"?await n.error(m):n.error,v=typeof n.description=="function"?await n.description(m):n.description,w=typeof y=="object"&&!ue.isValidElement(y)?y:{message:y};this.create({id:o,type:"error",description:v,...w})}else if(n.success!==void 0){l=!1;const y=typeof n.success=="function"?await n.success(m):n.success,v=typeof n.description=="function"?await n.description(m):n.description,w=typeof y=="object"&&!ue.isValidElement(y)?y:{message:y};this.create({id:o,type:"success",description:v,...w})}}).catch(async m=>{if(c=["reject",m],n.error!==void 0){l=!1;const g=typeof n.error=="function"?await n.error(m):n.error,y=typeof n.description=="function"?await n.description(m):n.description,E=typeof g=="object"&&!ue.isValidElement(g)?g:{message:g};this.create({id:o,type:"error",description:y,...E})}}).finally(()=>{l&&(this.dismiss(o),o=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((m,g)=>d.then(()=>c[0]==="reject"?g(c[1]):m(c[1])).catch(g));return typeof o!="string"&&typeof o!="number"?{unwrap:f}:Object.assign(o,{unwrap:f})},this.custom=(e,n)=>{const o=n?.id||zg++;return this.create({jsx:e(o),id:o,...n}),o},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Fn=new yz,vz=(t,e)=>{const n=e?.id||zg++;return Fn.addToast({title:t,...e,id:n}),n},bz=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Cz=vz,Ez=()=>Fn.toasts,Sz=()=>Fn.getActiveToasts(),qn=Object.assign(Cz,{success:Fn.success,info:Fn.info,warning:Fn.warning,error:Fn.error,custom:Fn.custom,message:Fn.message,promise:Fn.promise,dismiss:Fn.dismiss,loading:Fn.loading},{getHistory:Ez,getToasts:Sz});sz("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function yd(t){return t.label!==void 0}const wz=3,Tz="24px",Az="16px",IT=4e3,_z=356,Rz=14,Oz=45,Iz=200;function lo(...t){return t.filter(Boolean).join(" ")}function xz(t){const[e,n]=t.split("-"),o=[];return e&&o.push(e),n&&o.push(n),o}const kz=t=>{var e,n,o,i,l,c,d,f,m;const{invert:g,toast:y,unstyled:v,interacting:E,setHeights:w,visibleToasts:S,heights:T,index:R,toasts:O,expanded:x,removeToast:B,defaultRichColors:L,closeButton:J,style:I,cancelButtonStyle:j,actionButtonStyle:se,className:he="",descriptionClassName:ge="",duration:ve,position:we,gap:be,expandByDefault:me,classNames:P,icons:$,closeButtonAriaLabel:z="Close toast"}=t,[de,N]=ue.useState(null),[X,ie]=ue.useState(null),[Q,ne]=ue.useState(!1),[pe,Ce]=ue.useState(!1),[ce,ye]=ue.useState(!1),[We,Ke]=ue.useState(!1),[Ve,Le]=ue.useState(!1),[wt,ln]=ue.useState(0),[Co,Sn]=ue.useState(0),Pt=ue.useRef(y.duration||ve||IT),Li=ue.useRef(null),xn=ue.useRef(null),Ui=R===0,Xo=R+1<=S,mn=y.type,Mr=y.dismissible!==!1,Pr=y.className||"",Eo=y.descriptionClassName||"",Xn=ue.useMemo(()=>T.findIndex(Fe=>Fe.toastId===y.id)||0,[T,y.id]),Jt=ue.useMemo(()=>{var Fe;return(Fe=y.closeButton)!=null?Fe:J},[y.closeButton,J]),jt=ue.useMemo(()=>y.duration||ve||IT,[y.duration,ve]),yt=ue.useRef(0),Dr=ue.useRef(0),Hi=ue.useRef(0),gr=ue.useRef(null),[Wo,wn]=we.split("-"),Wn=ue.useMemo(()=>T.reduce((Fe,Ot,It)=>It>=Xn?Fe:Fe+Ot.height,0),[T,Xn]),Wr=gz(),Jr=y.invert||g,Ga=mn==="loading";Dr.current=ue.useMemo(()=>Xn*be+Wn,[Xn,Wn]),ue.useEffect(()=>{Pt.current=jt},[jt]),ue.useEffect(()=>{ne(!0)},[]),ue.useEffect(()=>{const Fe=xn.current;if(Fe){const Ot=Fe.getBoundingClientRect().height;return Sn(Ot),w(It=>[{toastId:y.id,height:Ot,position:y.position},...It]),()=>w(It=>It.filter(Dt=>Dt.toastId!==y.id))}},[w,y.id]),ue.useLayoutEffect(()=>{if(!Q)return;const Fe=xn.current,Ot=Fe.style.height;Fe.style.height="auto";const It=Fe.getBoundingClientRect().height;Fe.style.height=Ot,Sn(It),w(Dt=>Dt.find(Lt=>Lt.toastId===y.id)?Dt.map(Lt=>Lt.toastId===y.id?{...Lt,height:It}:Lt):[{toastId:y.id,height:It,position:y.position},...Dt])},[Q,y.title,y.description,w,y.id,y.jsx,y.action,y.cancel]);const Un=ue.useCallback(()=>{Ce(!0),ln(Dr.current),w(Fe=>Fe.filter(Ot=>Ot.toastId!==y.id)),setTimeout(()=>{B(y)},Iz)},[y,B,w,Dr]);ue.useEffect(()=>{if(y.promise&&mn==="loading"||y.duration===1/0||y.type==="loading")return;let Fe;return x||E||Wr?(()=>{if(Hi.current<yt.current){const Dt=new Date().getTime()-yt.current;Pt.current=Pt.current-Dt}Hi.current=new Date().getTime()})():Pt.current!==1/0&&(yt.current=new Date().getTime(),Fe=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),Un()},Pt.current)),()=>clearTimeout(Fe)},[x,E,y,mn,Wr,Un]),ue.useEffect(()=>{y.delete&&(Un(),y.onDismiss==null||y.onDismiss.call(y,y))},[Un,y.delete]);function So(){var Fe;if($?.loading){var Ot;return ue.createElement("div",{className:lo(P?.loader,y==null||(Ot=y.classNames)==null?void 0:Ot.loader,"sonner-loader"),"data-visible":mn==="loading"},$.loading)}return ue.createElement(uz,{className:lo(P?.loader,y==null||(Fe=y.classNames)==null?void 0:Fe.loader),visible:mn==="loading"})}const Jo=y.icon||$?.[mn]||lz(mn);var yr,zi;return ue.createElement("li",{tabIndex:0,ref:xn,className:lo(he,Pr,P?.toast,y==null||(e=y.classNames)==null?void 0:e.toast,P?.default,P?.[mn],y==null||(n=y.classNames)==null?void 0:n[mn]),"data-sonner-toast":"","data-rich-colors":(yr=y.richColors)!=null?yr:L,"data-styled":!(y.jsx||y.unstyled||v),"data-mounted":Q,"data-promise":!!y.promise,"data-swiped":Ve,"data-removed":pe,"data-visible":Xo,"data-y-position":Wo,"data-x-position":wn,"data-index":R,"data-front":Ui,"data-swiping":ce,"data-dismissible":Mr,"data-type":mn,"data-invert":Jr,"data-swipe-out":We,"data-swipe-direction":X,"data-expanded":!!(x||me&&Q),"data-testid":y.testId,style:{"--index":R,"--toasts-before":R,"--z-index":O.length-R,"--offset":`${pe?wt:Dr.current}px`,"--initial-height":me?"auto":`${Co}px`,...I,...y.style},onDragEnd:()=>{ye(!1),N(null),gr.current=null},onPointerDown:Fe=>{Fe.button!==2&&(Ga||!Mr||(Li.current=new Date,ln(Dr.current),Fe.target.setPointerCapture(Fe.pointerId),Fe.target.tagName!=="BUTTON"&&(ye(!0),gr.current={x:Fe.clientX,y:Fe.clientY})))},onPointerUp:()=>{var Fe,Ot,It;if(We||!Mr)return;gr.current=null;const Dt=Number(((Fe=xn.current)==null?void 0:Fe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),vr=Number(((Ot=xn.current)==null?void 0:Ot.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Lt=new Date().getTime()-((It=Li.current)==null?void 0:It.getTime()),xt=de==="x"?Dt:vr,kt=Math.abs(xt)/Lt;if(Math.abs(xt)>=Oz||kt>.11){ln(Dr.current),y.onDismiss==null||y.onDismiss.call(y,y),ie(de==="x"?Dt>0?"right":"left":vr>0?"down":"up"),Un(),Ke(!0);return}else{var k,H;(k=xn.current)==null||k.style.setProperty("--swipe-amount-x","0px"),(H=xn.current)==null||H.style.setProperty("--swipe-amount-y","0px")}Le(!1),ye(!1),N(null)},onPointerMove:Fe=>{var Ot,It,Dt;if(!gr.current||!Mr||((Ot=window.getSelection())==null?void 0:Ot.toString().length)>0)return;const Lt=Fe.clientY-gr.current.y,xt=Fe.clientX-gr.current.x;var kt;const k=(kt=t.swipeDirections)!=null?kt:xz(we);!de&&(Math.abs(xt)>1||Math.abs(Lt)>1)&&N(Math.abs(xt)>Math.abs(Lt)?"x":"y");let H={x:0,y:0};const V=ae=>1/(1.5+Math.abs(ae)/20);if(de==="y"){if(k.includes("top")||k.includes("bottom"))if(k.includes("top")&&Lt<0||k.includes("bottom")&&Lt>0)H.y=Lt;else{const ae=Lt*V(Lt);H.y=Math.abs(ae)<Math.abs(Lt)?ae:Lt}}else if(de==="x"&&(k.includes("left")||k.includes("right")))if(k.includes("left")&&xt<0||k.includes("right")&&xt>0)H.x=xt;else{const ae=xt*V(xt);H.x=Math.abs(ae)<Math.abs(xt)?ae:xt}(Math.abs(H.x)>0||Math.abs(H.y)>0)&&Le(!0),(It=xn.current)==null||It.style.setProperty("--swipe-amount-x",`${H.x}px`),(Dt=xn.current)==null||Dt.style.setProperty("--swipe-amount-y",`${H.y}px`)}},Jt&&!y.jsx&&mn!=="loading"?ue.createElement("button",{"aria-label":z,"data-disabled":Ga,"data-close-button":!0,onClick:Ga||!Mr?()=>{}:()=>{Un(),y.onDismiss==null||y.onDismiss.call(y,y)},className:lo(P?.closeButton,y==null||(o=y.classNames)==null?void 0:o.closeButton)},(zi=$?.close)!=null?zi:pz):null,(mn||y.icon||y.promise)&&y.icon!==null&&($?.[mn]!==null||y.icon)?ue.createElement("div",{"data-icon":"",className:lo(P?.icon,y==null||(i=y.classNames)==null?void 0:i.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||So():null,y.type!=="loading"?Jo:null):null,ue.createElement("div",{"data-content":"",className:lo(P?.content,y==null||(l=y.classNames)==null?void 0:l.content)},ue.createElement("div",{"data-title":"",className:lo(P?.title,y==null||(c=y.classNames)==null?void 0:c.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?ue.createElement("div",{"data-description":"",className:lo(ge,Eo,P?.description,y==null||(d=y.classNames)==null?void 0:d.description)},typeof y.description=="function"?y.description():y.description):null),ue.isValidElement(y.cancel)?y.cancel:y.cancel&&yd(y.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||j,onClick:Fe=>{yd(y.cancel)&&Mr&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,Fe),Un())},className:lo(P?.cancelButton,y==null||(f=y.classNames)==null?void 0:f.cancelButton)},y.cancel.label):null,ue.isValidElement(y.action)?y.action:y.action&&yd(y.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||se,onClick:Fe=>{yd(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,Fe),!Fe.defaultPrevented&&Un())},className:lo(P?.actionButton,y==null||(m=y.classNames)==null?void 0:m.actionButton)},y.action.label):null)};function xT(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Nz(t,e){const n={};return[t,e].forEach((o,i)=>{const l=i===1,c=l?"--mobile-offset":"--offset",d=l?Az:Tz;function f(m){["top","right","bottom","left"].forEach(g=>{n[`${c}-${g}`]=typeof m=="number"?`${m}px`:m})}typeof o=="number"||typeof o=="string"?f(o):typeof o=="object"?["top","right","bottom","left"].forEach(m=>{o[m]===void 0?n[`${c}-${m}`]=d:n[`${c}-${m}`]=typeof o[m]=="number"?`${o[m]}px`:o[m]}):f(d)}),n}const Mz=ue.forwardRef(function(e,n){const{id:o,invert:i,position:l="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:f,className:m,offset:g,mobileOffset:y,theme:v="light",richColors:E,duration:w,style:S,visibleToasts:T=wz,toastOptions:R,dir:O=xT(),gap:x=Rz,icons:B,containerAriaLabel:L="Notifications"}=e,[J,I]=ue.useState([]),j=ue.useMemo(()=>o?J.filter(Q=>Q.toasterId===o):J.filter(Q=>!Q.toasterId),[J,o]),se=ue.useMemo(()=>Array.from(new Set([l].concat(j.filter(Q=>Q.position).map(Q=>Q.position)))),[j,l]),[he,ge]=ue.useState([]),[ve,we]=ue.useState(!1),[be,me]=ue.useState(!1),[P,$]=ue.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=ue.useRef(null),de=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=ue.useRef(null),X=ue.useRef(!1),ie=ue.useCallback(Q=>{I(ne=>{var pe;return(pe=ne.find(Ce=>Ce.id===Q.id))!=null&&pe.delete||Fn.dismiss(Q.id),ne.filter(({id:Ce})=>Ce!==Q.id)})},[]);return ue.useEffect(()=>Fn.subscribe(Q=>{if(Q.dismiss){requestAnimationFrame(()=>{I(ne=>ne.map(pe=>pe.id===Q.id?{...pe,delete:!0}:pe))});return}setTimeout(()=>{y_.flushSync(()=>{I(ne=>{const pe=ne.findIndex(Ce=>Ce.id===Q.id);return pe!==-1?[...ne.slice(0,pe),{...ne[pe],...Q},...ne.slice(pe+1)]:[Q,...ne]})})})}),[J]),ue.useEffect(()=>{if(v!=="system"){$(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;const Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:ne})=>{$(ne?"dark":"light")})}catch{Q.addListener(({matches:pe})=>{try{$(pe?"dark":"light")}catch(Ce){console.error(Ce)}})}},[v]),ue.useEffect(()=>{J.length<=1&&we(!1)},[J]),ue.useEffect(()=>{const Q=ne=>{var pe;if(c.every(ye=>ne[ye]||ne.code===ye)){var ce;we(!0),(ce=z.current)==null||ce.focus()}ne.code==="Escape"&&(document.activeElement===z.current||(pe=z.current)!=null&&pe.contains(document.activeElement))&&we(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[c]),ue.useEffect(()=>{if(z.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,X.current=!1)}},[z.current]),ue.createElement("section",{ref:n,"aria-label":`${L} ${de}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},se.map((Q,ne)=>{var pe;const[Ce,ce]=Q.split("-");return j.length?ue.createElement("ol",{key:Q,dir:O==="auto"?xT():O,tabIndex:-1,ref:z,className:m,"data-sonner-toaster":!0,"data-sonner-theme":P,"data-y-position":Ce,"data-x-position":ce,style:{"--front-toast-height":`${((pe=he[0])==null?void 0:pe.height)||0}px`,"--width":`${_z}px`,"--gap":`${x}px`,...S,...Nz(g,y)},onBlur:ye=>{X.current&&!ye.currentTarget.contains(ye.relatedTarget)&&(X.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||X.current||(X.current=!0,N.current=ye.relatedTarget)},onMouseEnter:()=>we(!0),onMouseMove:()=>we(!0),onMouseLeave:()=>{be||we(!1)},onDragEnd:()=>we(!1),onPointerDown:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||me(!0)},onPointerUp:()=>me(!1)},j.filter(ye=>!ye.position&&ne===0||ye.position===Q).map((ye,We)=>{var Ke,Ve;return ue.createElement(kz,{key:ye.id,icons:B,index:We,toast:ye,defaultRichColors:E,duration:(Ke=R?.duration)!=null?Ke:w,className:R?.className,descriptionClassName:R?.descriptionClassName,invert:i,visibleToasts:T,closeButton:(Ve=R?.closeButton)!=null?Ve:f,interacting:be,position:Q,style:R?.style,unstyled:R?.unstyled,classNames:R?.classNames,cancelButtonStyle:R?.cancelButtonStyle,actionButtonStyle:R?.actionButtonStyle,closeButtonAriaLabel:R?.closeButtonAriaLabel,removeToast:ie,toasts:j.filter(Le=>Le.position==ye.position),heights:he.filter(Le=>Le.position==ye.position),setHeights:ge,expandByDefault:d,gap:x,expanded:ve,swipeDirections:e.swipeDirections})})):null}))}),xa={400:"Datos invlidos",403:"No tienes permisos para acceder a esta funcin",404:"El recurso solicitado no existe",500:"Error del servidor. Intenta de nuevo.",DEFAULT:"Ha ocurrido un error inesperado"},Pz={"/api/paquetes":"El paquete especificado no existe","/api/alumnos":"El alumno especificado no existe","/api/clases":"La clase especificada no existe","/api/asistencias":"La asistencia especificada no existe"},W0=t=>{if(!t)return xa[404];for(const[e,n]of Object.entries(Pz))if(t.includes(e))return n;return xa[404]},Dz=(t,e,n)=>t===400&&e?e:t===404?W0(n):xa[t]||xa.DEFAULT,Lz=(t,e=!1)=>{const n=t.response?.status,o=t.response?.data,i=o?.error||o?.message,l=t.config?.url,c=new Error(Dz(n||0,i,l));return c.status=n,c.originalError=t,c.handled=e,c},Uz=t=>{const e=t.interceptors.response.use(n=>n,n=>{const o=n.response?.status,i=n.response?.data,l=i?.error||i?.message,c=n.config?.url;let d=!1;if(o)switch(o){case 400:qn.error(l||xa[400]),d=!0;break;case 403:qn.error(xa[403]),d=!0;break;case 404:qn.error(W0(c)),d=!0;break;case 500:qn.error(xa[500]),d=!0;break;default:o!==401&&(qn.error(xa.DEFAULT),d=!0);break}const f=Lz(n,d);return Promise.reject(f)});return()=>{t.interceptors.response.eject(e)}},Hz=(t,e)=>{const n=[iz(t,e),Uz(t)];return()=>{n.forEach(o=>o())}},zz=()=>{const{instance:t,accounts:e}=_0(),n=b.useRef(null);b.useEffect(()=>(n.current&&n.current(),e.length>0&&(n.current=Hz(ih,{msalInstance:t,accounts:e,tokenRequest:Mg})),()=>{n.current&&(n.current(),n.current=null)}),[t,e.length])},Bz=({children:t})=>(zz(),_.jsx(_.Fragment,{children:t})),jz=({children:t})=>_.jsx(S2,{instance:A2,children:_.jsx(Bz,{children:t})});var Vc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Fz={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},qz=class{#e=Fz;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},vi=new qz;function Kz(t){setTimeout(t,0)}var Ri=typeof window>"u"||"Deno"in globalThis;function Kn(){}function Gz(t,e){return typeof t=="function"?t(e):t}function Bg(t){return typeof t=="number"&&t>=0&&t!==1/0}function J0(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Da(t,e){return typeof t=="function"?t(e):t}function Or(t,e){return typeof t=="function"?t(e):t}function kT(t,e){const{type:n="all",exact:o,fetchStatus:i,predicate:l,queryKey:c,stale:d}=t;if(c){if(o){if(e.queryHash!==Lv(c,e.options))return!1}else if(!xc(e.queryKey,c))return!1}if(n!=="all"){const f=e.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||i&&i!==e.state.fetchStatus||l&&!l(e))}function NT(t,e){const{exact:n,status:o,predicate:i,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(n){if(Ic(e.options.mutationKey)!==Ic(l))return!1}else if(!xc(e.options.mutationKey,l))return!1}return!(o&&e.state.status!==o||i&&!i(e))}function Lv(t,e){return(e?.queryKeyHashFn||Ic)(t)}function Ic(t){return JSON.stringify(t,(e,n)=>Fg(n)?Object.keys(n).sort().reduce((o,i)=>(o[i]=n[i],o),{}):n)}function xc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>xc(t[n],e[n])):!1}var Vz=Object.prototype.hasOwnProperty;function Z0(t,e){if(t===e)return t;const n=MT(t)&&MT(e);if(!n&&!(Fg(t)&&Fg(e)))return e;const i=(n?t:Object.keys(t)).length,l=n?e:Object.keys(e),c=l.length,d=n?new Array(c):{};let f=0;for(let m=0;m<c;m++){const g=n?m:l[m],y=t[g],v=e[g];if(y===v){d[g]=y,(n?m<i:Vz.call(t,g))&&f++;continue}if(y===null||v===null||typeof y!="object"||typeof v!="object"){d[g]=v;continue}const E=Z0(y,v);d[g]=E,E===y&&f++}return i===c&&f===i?t:d}function jg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function MT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Fg(t){if(!PT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!PT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function PT(t){return Object.prototype.toString.call(t)==="[object Object]"}function Yz(t){return new Promise(e=>{vi.setTimeout(e,t)})}function qg(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Z0(t,e):e}function Qz(t,e,n=0){const o=[...t,e];return n&&o.length>n?o.slice(1):o}function $z(t,e,n=0){const o=[e,...t];return n&&o.length>n?o.slice(0,-1):o}var Uv=Symbol();function eO(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Uv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Xz(t,e){return typeof t=="function"?t(...e):!!t}var Wz=class extends Vc{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Ri&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Hv=new Wz;function Kg(){let t,e;const n=new Promise((i,l)=>{t=i,e=l});n.status="pending",n.catch(()=>{});function o(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{o({status:"fulfilled",value:i}),t(i)},n.reject=i=>{o({status:"rejected",reason:i}),e(i)},n}var Jz=Kz;function Zz(){let t=[],e=0,n=d=>{d()},o=d=>{d()},i=Jz;const l=d=>{e?t.push(d):i(()=>{n(d)})},c=()=>{const d=t;t=[],d.length&&i(()=>{o(()=>{d.forEach(f=>{n(f)})})})};return{batch:d=>{let f;e++;try{f=d()}finally{e--,e||c()}return f},batchCalls:d=>(...f)=>{l(()=>{d(...f)})},schedule:l,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{o=d},setScheduler:d=>{i=d}}}var En=Zz(),eB=class extends Vc{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Ri&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},pf=new eB;function tB(t){return Math.min(1e3*2**t,3e4)}function tO(t){return(t??"online")==="online"?pf.isOnline():!0}var Gg=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function nO(t){let e=!1,n=0,o;const i=Kg(),l=()=>i.status!=="pending",c=S=>{if(!l()){const T=new Gg(S);v(T),t.onCancel?.(T)}},d=()=>{e=!0},f=()=>{e=!1},m=()=>Hv.isFocused()&&(t.networkMode==="always"||pf.isOnline())&&t.canRun(),g=()=>tO(t.networkMode)&&t.canRun(),y=S=>{l()||(o?.(),i.resolve(S))},v=S=>{l()||(o?.(),i.reject(S))},E=()=>new Promise(S=>{o=T=>{(l()||m())&&S(T)},t.onPause?.()}).then(()=>{o=void 0,l()||t.onContinue?.()}),w=()=>{if(l())return;let S;const T=n===0?t.initialPromise:void 0;try{S=T??t.fn()}catch(R){S=Promise.reject(R)}Promise.resolve(S).then(y).catch(R=>{if(l())return;const O=t.retry??(Ri?0:3),x=t.retryDelay??tB,B=typeof x=="function"?x(n,R):x,L=O===!0||typeof O=="number"&&n<O||typeof O=="function"&&O(n,R);if(e||!L){v(R);return}n++,t.onFail?.(n,R),Yz(B).then(()=>m()?void 0:E()).then(()=>{e?v(R):w()})})};return{promise:i,status:()=>i.status,cancel:c,continue:()=>(o?.(),i),cancelRetry:d,continueRetry:f,canStart:g,start:()=>(g()?w():E().then(w),i)}}var rO=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Bg(this.gcTime)&&(this.#e=vi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ri?1/0:300*1e3))}clearGcTimeout(){this.#e&&(vi.clearTimeout(this.#e),this.#e=void 0)}},nB=class extends rO{#e;#t;#n;#r;#o;#s;#i;constructor(t){super(),this.#i=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=DT(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#o?.promise}setOptions(t){if(this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=DT(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=qg(this.state.data,t,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#a({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#o?.promise;return this.#o?.cancel(t),e?e.then(Kn).catch(Kn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Or(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Uv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Da(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!J0(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#o?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#o?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#o&&(this.#i?this.#o.cancel({revert:!0}):this.#o.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#o?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#o)return this.#o.continueRetry(),this.#o.promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,o=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#i=!0,n.signal)})},i=()=>{const d=eO(this.options,e),m=(()=>{const g={client:this.#r,queryKey:this.queryKey,meta:this.meta};return o(g),g})();return this.#i=!1,this.options.persister?this.options.persister(d,m,this):d(m)},c=(()=>{const d={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return o(d),d})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#a({type:"fetch",meta:c.fetchOptions?.meta}),this.#o=nO({initialPromise:e?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof Gg&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(d,f)=>{this.#a({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#o.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof Gg){if(d.silent)return this.#o.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#a({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#a(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...oO(n.data,this.options),fetchMeta:t.meta??null};case"success":const o={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?o:void 0,o;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),En.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function oO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function DT(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,o=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var rB=class extends Vc{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#i=Kg(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#o;#s;#i;#a;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),LT(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Vg(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Vg(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#C(),this.#E(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Or(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),e._defaulted&&!jg(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&UT(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),o&&(this.#t!==n||Or(this.options.enabled,this.#t)!==Or(e.enabled,this.#t)||Da(this.options.staleTime,this.#t)!==Da(e.staleTime,this.#t))&&this.#g();const i=this.#y();o&&(this.#t!==n||Or(this.options.enabled,this.#t)!==Or(e.enabled,this.#t)||i!==this.#l)&&this.#v(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return aB(this,n)&&(this.#r=n,this.#s=this.options,this.#o=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,o)=>(this.trackProp(o),e?.(o),o==="promise"&&!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,o))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Kn)),e}#g(){this.#C();const t=Da(this.options.staleTime,this.#t);if(Ri||this.#r.isStale||!Bg(t))return;const n=J0(this.#r.dataUpdatedAt,t)+1;this.#c=vi.setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#E(),this.#l=t,!(Ri||Or(this.options.enabled,this.#t)===!1||!Bg(this.#l)||this.#l===0)&&(this.#u=vi.setInterval(()=>{(this.options.refetchIntervalInBackground||Hv.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#v(this.#y())}#C(){this.#c&&(vi.clearTimeout(this.#c),this.#c=void 0)}#E(){this.#u&&(vi.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,o=this.options,i=this.#r,l=this.#o,c=this.#s,f=t!==n?t.state:this.#n,{state:m}=t;let g={...m},y=!1,v;if(e._optimisticResults){const j=this.hasListeners(),se=!j&&LT(t,e),he=j&&UT(t,n,e,o);(se||he)&&(g={...g,...oO(m.data,t.options)}),e._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:E,errorUpdatedAt:w,status:S}=g;v=g.data;let T=!1;if(e.placeholderData!==void 0&&v===void 0&&S==="pending"){let j;i?.isPlaceholderData&&e.placeholderData===c?.placeholderData?(j=i.data,T=!0):j=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,j!==void 0&&(S="success",v=qg(i?.data,j,e),y=!0)}if(e.select&&v!==void 0&&!T)if(i&&v===l?.data&&e.select===this.#p)v=this.#f;else try{this.#p=e.select,v=e.select(v),v=qg(i?.data,v,e),this.#f=v,this.#a=null}catch(j){this.#a=j}this.#a&&(E=this.#a,v=this.#f,w=Date.now(),S="error");const R=g.fetchStatus==="fetching",O=S==="pending",x=S==="error",B=O&&R,L=v!==void 0,I={status:S,fetchStatus:g.fetchStatus,isPending:O,isSuccess:S==="success",isError:x,isInitialLoading:B,isLoading:B,data:v,dataUpdatedAt:g.dataUpdatedAt,error:E,errorUpdatedAt:w,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>f.dataUpdateCount||g.errorUpdateCount>f.errorUpdateCount,isFetching:R,isRefetching:R&&!O,isLoadingError:x&&!L,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:x&&L,isStale:zv(t,e),refetch:this.refetch,promise:this.#i,isEnabled:Or(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const j=ge=>{I.status==="error"?ge.reject(I.error):I.data!==void 0&&ge.resolve(I.data)},se=()=>{const ge=this.#i=I.promise=Kg();j(ge)},he=this.#i;switch(he.status){case"pending":t.queryHash===n.queryHash&&j(he);break;case"fulfilled":(I.status==="error"||I.data!==he.value)&&se();break;case"rejected":(I.status!=="error"||I.error!==he.reason)&&se();break}}return I}updateResult(){const t=this.#r,e=this.createResult(this.#t,this.options);if(this.#o=this.#t.state,this.#s=this.options,this.#o.data!==void 0&&(this.#h=this.#t),jg(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,i=typeof o=="function"?o():o;if(i==="all"||!i&&!this.#m.size)return!0;const l=new Set(i??this.#m);return this.options.throwOnError&&l.add("error"),Object.keys(this.#r).some(c=>{const d=c;return this.#r[d]!==t[d]&&l.has(d)})};this.#w({listeners:n()})}#S(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#w(t){En.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function oB(t,e){return Or(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function LT(t,e){return oB(t,e)||t.state.data!==void 0&&Vg(t,e,e.refetchOnMount)}function Vg(t,e,n){if(Or(e.enabled,t)!==!1&&Da(e.staleTime,t)!=="static"){const o=typeof n=="function"?n(t):n;return o==="always"||o!==!1&&zv(t,e)}return!1}function UT(t,e,n,o){return(t!==e||Or(o.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&zv(t,n)}function zv(t,e){return Or(e.enabled,t)!==!1&&t.isStaleByTime(Da(e.staleTime,t))}function aB(t,e){return!jg(t.getCurrentResult(),e)}function HT(t){return{onFetch:(e,n)=>{const o=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,l=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},f=0;const m=async()=>{let g=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},v=eO(e.options,e.fetchOptions),E=async(w,S,T)=>{if(g)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const O=(()=>{const J={client:e.client,queryKey:e.queryKey,pageParam:S,direction:T?"backward":"forward",meta:e.options.meta};return y(J),J})(),x=await v(O),{maxPages:B}=e.options,L=T?$z:Qz;return{pages:L(w.pages,x,B),pageParams:L(w.pageParams,S,B)}};if(i&&l.length){const w=i==="backward",S=w?iB:zT,T={pages:l,pageParams:c},R=S(o,T);d=await E(T,R,w)}else{const w=t??l.length;do{const S=f===0?c[0]??o.initialPageParam:zT(o,d);if(f>0&&S==null)break;d=await E(d,S),f++}while(f<w)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=m}}}function zT(t,{pages:e,pageParams:n}){const o=e.length-1;return e.length>0?t.getNextPageParam(e[o],e,n[o],n):void 0}function iB(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var sB=class extends rO{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||lB(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})};this.#n=nO({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,l)=>{this.#r({type:"failed",failureCount:i,error:l})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",o=!this.#n.canStart();try{if(n)e();else{this.#r({type:"pending",variables:t,isPaused:o}),await this.#t.config.onMutate?.(t,this);const l=await this.options.onMutate?.(t);l!==this.state.context&&this.#r({type:"pending",context:l,variables:t,isPaused:o})}const i=await this.#n.start();return await this.#t.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),En.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function lB(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cB=class extends Vc{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const o=new sB({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(o),o}add(t){this.#e.add(t);const e=vd(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=vd(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const o=n.indexOf(t);o!==-1&&n.splice(o,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=vd(t);if(typeof e=="string"){const o=this.#t.get(e)?.find(i=>i.state.status==="pending");return!o||o===t}else return!0}runNext(t){const e=vd(t);return typeof e=="string"?this.#t.get(e)?.find(o=>o!==t&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){En.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>NT(e,n))}findAll(t={}){return this.getAll().filter(e=>NT(t,e))}notify(t){En.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return En.batch(()=>Promise.all(t.map(e=>e.continue().catch(Kn))))}};function vd(t){return t.options.scope?.id}var uB=class extends Vc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const o=e.queryKey,i=e.queryHash??Lv(o,e);let l=this.get(i);return l||(l=new nB({client:t,queryKey:o,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(o)}),this.add(l)),l}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){En.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>kT(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>kT(t,n)):e}notify(t){En.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){En.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){En.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},dB=class{#e;#t;#n;#r;#o;#s;#i;#a;constructor(t={}){this.#e=t.queryCache||new uB,this.#t=t.mutationCache||new cB,this.#n=t.defaultOptions||{},this.#r=new Map,this.#o=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#i=Hv.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=pf.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),o=n.state.data;return o===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Da(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(o))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const o=n.data;return[e,o]})}setQueryData(t,e,n){const o=this.defaultQueryOptions({queryKey:t}),l=this.#e.get(o.queryHash)?.state.data,c=Gz(e,l);if(c!==void 0)return this.#e.build(this,o).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return En.batch(()=>this.#e.findAll(t).map(({queryKey:o})=>[o,this.setQueryData(o,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;En.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return En.batch(()=>(n.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},o=En.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(o).then(Kn).catch(Kn)}invalidateQueries(t,e={}){return En.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},o=En.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let l=i.fetch(void 0,n);return n.throwOnError||(l=l.catch(Kn)),i.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(o).then(Kn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Da(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Kn).catch(Kn)}fetchInfiniteQuery(t){return t.behavior=HT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Kn).catch(Kn)}ensureInfiniteQueryData(t){return t.behavior=HT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return pf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Ic(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(o=>{xc(t,o.queryKey)&&Object.assign(n,o.defaultOptions)}),n}setMutationDefaults(t,e){this.#o.set(Ic(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#o.values()],n={};return e.forEach(o=>{xc(t,o.mutationKey)&&Object.assign(n,o.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Lv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Uv&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},aO=b.createContext(void 0),fB=t=>{const e=b.useContext(aO);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},hB=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),_.jsx(aO.Provider,{value:t,children:e})),iO=b.createContext(!1),mB=()=>b.useContext(iO);iO.Provider;function pB(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var gB=b.createContext(pB()),yB=()=>b.useContext(gB),vB=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},bB=t=>{b.useEffect(()=>{t.clearReset()},[t])},CB=({result:t,errorResetBoundary:e,throwOnError:n,query:o,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&o&&(i&&t.data===void 0||Xz(n,[t.error,o])),EB=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),o=t.staleTime;t.staleTime=typeof o=="function"?(...i)=>n(o(...i)):n(o),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},SB=(t,e)=>t.isLoading&&t.isFetching&&!e,wB=(t,e)=>t?.suspense&&e.isPending,BT=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function TB(t,e,n){const o=mB(),i=yB(),l=fB(),c=l.defaultQueryOptions(t);l.getDefaultOptions().queries?._experimental_beforeQuery?.(c),c._optimisticResults=o?"isRestoring":"optimistic",EB(c),vB(c,i),bB(i);const d=!l.getQueryCache().get(c.queryHash),[f]=b.useState(()=>new e(l,c)),m=f.getOptimisticResult(c),g=!o&&t.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(y=>{const v=g?f.subscribe(En.batchCalls(y)):Kn;return f.updateResult(),v},[f,g]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),b.useEffect(()=>{f.setOptions(c)},[c,f]),wB(c,m))throw BT(c,f,i);if(CB({result:m,errorResetBoundary:i,throwOnError:c.throwOnError,query:l.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw m.error;return l.getDefaultOptions().queries?._experimental_afterQuery?.(c,m),c.experimental_prefetchInRender&&!Ri&&SB(m,o)&&(d?BT(c,f,i):l.getQueryCache().get(c.queryHash)?.promise)?.catch(Kn).finally(()=>{f.updateResult()}),c.notifyOnChangeProps?m:f.trackResult(m)}function sO(t,e){return TB(t,rB)}var AB=function(){return null};const _B=new dB({defaultOptions:{queries:{staleTime:300*1e3,retry:1}}});function RB({children:t}){return _.jsxs(hB,{client:_B,children:[t,_.jsx(AB,{initialIsOpen:!1})]})}var $p={exports:{}},Xp={};var jT;function OB(){if(jT)return Xp;jT=1;var t=kf();function e(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:e,o=t.useSyncExternalStore,i=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return Xp.useSyncExternalStoreWithSelector=function(f,m,g,y,v){var E=i(null);if(E.current===null){var w={hasValue:!1,value:null};E.current=w}else w=E.current;E=c(function(){function T(L){if(!R){if(R=!0,O=L,L=y(L),v!==void 0&&w.hasValue){var J=w.value;if(v(J,L))return x=J}return x=L}if(J=x,n(O,L))return J;var I=y(L);return v!==void 0&&v(J,I)?(O=L,J):(O=L,x=I)}var R=!1,O,x,B=g===void 0?null:g;return[function(){return T(m())},B===null?void 0:function(){return T(B())}]},[m,g,y,v]);var S=o(f,E[0],E[1]);return l(function(){w.hasValue=!0,w.value=S},[S]),d(S),S},Xp}var FT;function IB(){return FT||(FT=1,$p.exports=OB()),$p.exports}var xB=IB();function kB(t){t()}function NB(){let t=null,e=null;return{clear(){t=null,e=null},notify(){kB(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let o=t;for(;o;)n.push(o),o=o.next;return n},subscribe(n){let o=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!o||t===null||(o=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var qT={notify(){},get:()=>[]};function MB(t,e){let n,o=qT,i=0,l=!1;function c(S){g();const T=o.subscribe(S);let R=!1;return()=>{R||(R=!0,T(),y())}}function d(){o.notify()}function f(){w.onStateChange&&w.onStateChange()}function m(){return l}function g(){i++,n||(n=t.subscribe(f),o=NB())}function y(){i--,n&&i===0&&(n(),n=void 0,o.clear(),o=qT)}function v(){l||(l=!0,g())}function E(){l&&(l=!1,y())}const w={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:m,trySubscribe:v,tryUnsubscribe:E,getListeners:()=>o};return w}var PB=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DB=PB(),LB=()=>typeof navigator<"u"&&navigator.product==="ReactNative",UB=LB(),HB=()=>DB||UB?b.useLayoutEffect:b.useEffect,zB=HB();function KT(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function lG(t,e){if(KT(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!KT(t[n[i]],e[n[i]]))return!1;return!0}var BB=Symbol.for("react-redux-context"),jB=typeof globalThis<"u"?globalThis:{};function FB(){if(!b.createContext)return{};const t=jB[BB]??=new Map;let e=t.get(b.createContext);return e||(e=b.createContext(null),t.set(b.createContext,e)),e}var Ua=FB();function qB(t){const{children:e,context:n,serverState:o,store:i}=t,l=b.useMemo(()=>{const f=MB(i);return{store:i,subscription:f,getServerState:o?()=>o:void 0}},[i,o]),c=b.useMemo(()=>i.getState(),[i]);zB(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const d=n||Ua;return b.createElement(d.Provider,{value:l},e)}var KB=qB;function Bv(t=Ua){return function(){return b.useContext(t)}}var lO=Bv();function cO(t=Ua){const e=t===Ua?lO:Bv(t),n=()=>{const{store:o}=e();return o};return Object.assign(n,{withTypes:()=>n}),n}var GB=cO();function VB(t=Ua){const e=t===Ua?GB:cO(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var YB=VB(),QB=(t,e)=>t===e;function $B(t=Ua){const e=t===Ua?lO:Bv(t),n=(o,i={})=>{const{equalityFn:l=QB}=typeof i=="function"?{equalityFn:i}:i,c=e(),{store:d,subscription:f,getServerState:m}=c;b.useRef(!0);const g=b.useCallback({[o.name](v){return o(v)}}[o.name],[o]),y=xB.useSyncExternalStoreWithSelector(f.addNestedSub,d.getState,m||d.getState,g,l);return b.useDebugValue(y),y};return Object.assign(n,{withTypes:()=>n}),n}var XB=$B();function bn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var WB=typeof Symbol=="function"&&Symbol.observable||"@@observable",GT=WB,Wp=()=>Math.random().toString(36).substring(7).split("").join("."),JB={INIT:`@@redux/INIT${Wp()}`,REPLACE:`@@redux/REPLACE${Wp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Wp()}`},gf=JB;function jv(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function uO(t,e,n){if(typeof t!="function")throw new Error(bn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(bn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(bn(1));return n(uO)(t,e)}let o=t,i=e,l=new Map,c=l,d=0,f=!1;function m(){c===l&&(c=new Map,l.forEach((T,R)=>{c.set(R,T)}))}function g(){if(f)throw new Error(bn(3));return i}function y(T){if(typeof T!="function")throw new Error(bn(4));if(f)throw new Error(bn(5));let R=!0;m();const O=d++;return c.set(O,T),function(){if(R){if(f)throw new Error(bn(6));R=!1,m(),c.delete(O),l=null}}}function v(T){if(!jv(T))throw new Error(bn(7));if(typeof T.type>"u")throw new Error(bn(8));if(typeof T.type!="string")throw new Error(bn(17));if(f)throw new Error(bn(9));try{f=!0,i=o(i,T)}finally{f=!1}return(l=c).forEach(O=>{O()}),T}function E(T){if(typeof T!="function")throw new Error(bn(10));o=T,v({type:gf.REPLACE})}function w(){const T=y;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error(bn(11));function O(){const B=R;B.next&&B.next(g())}return O(),{unsubscribe:T(O)}},[GT](){return this}}}return v({type:gf.INIT}),{dispatch:v,subscribe:y,getState:g,replaceReducer:E,[GT]:w}}function ZB(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:gf.INIT})>"u")throw new Error(bn(12));if(typeof n(void 0,{type:gf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bn(13))})}function dO(t){const e=Object.keys(t),n={};for(let l=0;l<e.length;l++){const c=e[l];typeof t[c]=="function"&&(n[c]=t[c])}const o=Object.keys(n);let i;try{ZB(n)}catch(l){i=l}return function(c={},d){if(i)throw i;let f=!1;const m={};for(let g=0;g<o.length;g++){const y=o[g],v=n[y],E=c[y],w=v(E,d);if(typeof w>"u")throw d&&d.type,new Error(bn(14));m[y]=w,f=f||w!==E}return f=f||o.length!==Object.keys(c).length,f?m:c}}function yf(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...o)=>e(n(...o)))}function e4(...t){return e=>(n,o)=>{const i=e(n,o);let l=()=>{throw new Error(bn(15))};const c={getState:i.getState,dispatch:(f,...m)=>l(f,...m)},d=t.map(f=>f(c));return l=yf(...d)(i.dispatch),{...i,dispatch:l}}}function fO(t){return jv(t)&&"type"in t&&typeof t.type=="string"}var hO=Symbol.for("immer-nothing"),VT=Symbol.for("immer-draftable"),mr=Symbol.for("immer-state");function Fr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var js=Object.getPrototypeOf;function Oi(t){return!!t&&!!t[mr]}function Vo(t){return t?mO(t)||Array.isArray(t)||!!t[VT]||!!t.constructor?.[VT]||Yc(t)||lh(t):!1}var t4=Object.prototype.constructor.toString();function mO(t){if(!t||typeof t!="object")return!1;const e=js(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===t4}function vf(t,e){sh(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,o)=>e(o,n,t))}function sh(t){const e=t[mr];return e?e.type_:Array.isArray(t)?1:Yc(t)?2:lh(t)?3:0}function Yg(t,e){return sh(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function pO(t,e,n){const o=sh(t);o===2?t.set(e,n):o===3?t.add(n):t[e]=n}function n4(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Yc(t){return t instanceof Map}function lh(t){return t instanceof Set}function hi(t){return t.copy_||t.base_}function Qg(t,e){if(Yc(t))return new Map(t);if(lh(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=mO(t);if(e===!0||e==="class_only"&&!n){const o=Object.getOwnPropertyDescriptors(t);delete o[mr];let i=Reflect.ownKeys(o);for(let l=0;l<i.length;l++){const c=i[l],d=o[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(o[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(js(t),o)}else{const o=js(t);if(o!==null&&n)return{...t};const i=Object.create(o);return Object.assign(i,t)}}function Fv(t,e=!1){return ch(t)||Oi(t)||!Vo(t)||(sh(t)>1&&Object.defineProperties(t,{set:{value:bd},add:{value:bd},clear:{value:bd},delete:{value:bd}}),Object.freeze(t),e&&Object.values(t).forEach(n=>Fv(n,!0))),t}function bd(){Fr(2)}function ch(t){return Object.isFrozen(t)}var r4={};function Ii(t){const e=r4[t];return e||Fr(0,t),e}var kc;function gO(){return kc}function o4(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function YT(t,e){e&&(Ii("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function $g(t){Xg(t),t.drafts_.forEach(a4),t.drafts_=null}function Xg(t){t===kc&&(kc=t.parent_)}function QT(t){return kc=o4(kc,t)}function a4(t){const e=t[mr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function $T(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[mr].modified_&&($g(e),Fr(4)),Vo(t)&&(t=bf(e,t),e.parent_||Cf(e,t)),e.patches_&&Ii("Patches").generateReplacementPatches_(n[mr].base_,t,e.patches_,e.inversePatches_)):t=bf(e,n,[]),$g(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==hO?t:void 0}function bf(t,e,n){if(ch(e))return e;const o=e[mr];if(!o)return vf(e,(i,l)=>XT(t,o,e,i,l,n)),e;if(o.scope_!==t)return e;if(!o.modified_)return Cf(t,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const i=o.copy_;let l=i,c=!1;o.type_===3&&(l=new Set(i),i.clear(),c=!0),vf(l,(d,f)=>XT(t,o,i,d,f,n,c)),Cf(t,i,!1),n&&t.patches_&&Ii("Patches").generatePatches_(o,n,t.patches_,t.inversePatches_)}return o.copy_}function XT(t,e,n,o,i,l,c){if(Oi(i)){const d=l&&e&&e.type_!==3&&!Yg(e.assigned_,o)?l.concat(o):void 0,f=bf(t,i,d);if(pO(n,o,f),Oi(f))t.canAutoFreeze_=!1;else return}else c&&n.add(i);if(Vo(i)&&!ch(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;bf(t,i),(!e||!e.scope_.parent_)&&typeof o!="symbol"&&(Yc(n)?n.has(o):Object.prototype.propertyIsEnumerable.call(n,o))&&Cf(t,i)}}function Cf(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Fv(e,n)}function i4(t,e){const n=Array.isArray(t),o={type_:n?1:0,scope_:e?e.scope_:gO(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=o,l=qv;n&&(i=[o],l=Nc);const{revoke:c,proxy:d}=Proxy.revocable(i,l);return o.draft_=d,o.revoke_=c,d}var qv={get(t,e){if(e===mr)return t;const n=hi(t);if(!Yg(n,e))return s4(t,n,e);const o=n[e];return t.finalized_||!Vo(o)?o:o===Jp(t.base_,e)?(Zp(t),t.copy_[e]=Jg(o,t)):o},has(t,e){return e in hi(t)},ownKeys(t){return Reflect.ownKeys(hi(t))},set(t,e,n){const o=yO(hi(t),e);if(o?.set)return o.set.call(t.draft_,n),!0;if(!t.modified_){const i=Jp(hi(t),e),l=i?.[mr];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(n4(n,i)&&(n!==void 0||Yg(t.base_,e)))return!0;Zp(t),Wg(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Jp(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Zp(t),Wg(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=hi(t),o=Reflect.getOwnPropertyDescriptor(n,e);return o&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:o.enumerable,value:n[e]}},defineProperty(){Fr(11)},getPrototypeOf(t){return js(t.base_)},setPrototypeOf(){Fr(12)}},Nc={};vf(qv,(t,e)=>{Nc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Nc.deleteProperty=function(t,e){return Nc.set.call(this,t,e,void 0)};Nc.set=function(t,e,n){return qv.set.call(this,t[0],e,n,t[0])};function Jp(t,e){const n=t[mr];return(n?hi(n):t)[e]}function s4(t,e,n){const o=yO(e,n);return o?"value"in o?o.value:o.get?.call(t.draft_):void 0}function yO(t,e){if(!(e in t))return;let n=js(t);for(;n;){const o=Object.getOwnPropertyDescriptor(n,e);if(o)return o;n=js(n)}}function Wg(t){t.modified_||(t.modified_=!0,t.parent_&&Wg(t.parent_))}function Zp(t){t.copy_||(t.copy_=Qg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var l4=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,o)=>{if(typeof e=="function"&&typeof n!="function"){const l=n;n=e;const c=this;return function(f=l,...m){return c.produce(f,g=>n.call(this,g,...m))}}typeof n!="function"&&Fr(6),o!==void 0&&typeof o!="function"&&Fr(7);let i;if(Vo(e)){const l=QT(this),c=Jg(e,void 0);let d=!0;try{i=n(c),d=!1}finally{d?$g(l):Xg(l)}return YT(l,o),$T(i,l)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===hO&&(i=void 0),this.autoFreeze_&&Fv(i,!0),o){const l=[],c=[];Ii("Patches").generateReplacementPatches_(e,i,l,c),o(l,c)}return i}else Fr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,f=>e(f,...d));let o,i;return[this.produce(e,n,(c,d)=>{o=c,i=d}),o,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Vo(t)||Fr(8),Oi(t)&&(t=c4(t));const e=QT(this),n=Jg(t,void 0);return n[mr].isManual_=!0,Xg(e),n}finishDraft(t,e){const n=t&&t[mr];(!n||!n.isManual_)&&Fr(9);const{scope_:o}=n;return YT(o,e),$T(void 0,o)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const o=Ii("Patches").applyPatches_;return Oi(t)?o(t,e):this.produce(t,i=>o(i,e))}};function Jg(t,e){const n=Yc(t)?Ii("MapSet").proxyMap_(t,e):lh(t)?Ii("MapSet").proxySet_(t,e):i4(t,e);return(e?e.scope_:gO()).drafts_.push(n),n}function c4(t){return Oi(t)||Fr(10,t),vO(t)}function vO(t){if(!Vo(t)||ch(t))return t;const e=t[mr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Qg(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Qg(t,!0);return vf(n,(o,i)=>{pO(n,o,vO(i))}),e&&(e.finalized_=!1),n}var u4=new l4,bO=u4.produce;function cG(t){return t}function CO(t){return({dispatch:n,getState:o})=>i=>l=>typeof l=="function"?l(n,o,t):i(l)}var d4=CO(),f4=CO,h4=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?yf:yf.apply(null,arguments)};function Fs(t,e){function n(...o){if(e){let i=e(...o);if(!i)throw new Error(fr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:o[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=o=>fO(o)&&o.type===t,n}var EO=class dc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,dc.prototype)}static get[Symbol.species](){return dc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new dc(...e[0].concat(this)):new dc(...e.concat(this))}};function WT(t){return Vo(t)?bO(t,()=>{}):t}function Cd(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function m4(t){return typeof t=="boolean"}var p4=()=>function(e){const{thunk:n=!0,immutableCheck:o=!0,serializableCheck:i=!0,actionCreatorCheck:l=!0}=e??{};let c=new EO;return n&&(m4(n)?c.push(d4):c.push(f4(n.extraArgument))),c},SO="RTK_autoBatch",uG=()=>t=>({payload:t,meta:{[SO]:!0}}),JT=t=>e=>{setTimeout(e,t)},g4=(t={type:"raf"})=>e=>(...n)=>{const o=e(...n);let i=!0,l=!1,c=!1;const d=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:JT(10):t.type==="callback"?t.queueNotification:JT(t.timeout),m=()=>{c=!1,l&&(l=!1,d.forEach(g=>g()))};return Object.assign({},o,{subscribe(g){const y=()=>i&&g(),v=o.subscribe(y);return d.add(g),()=>{v(),d.delete(g)}},dispatch(g){try{return i=!g?.meta?.[SO],l=!i,l&&(c||(c=!0,f(m))),o.dispatch(g)}finally{i=!0}}})},y4=t=>function(n){const{autoBatch:o=!0}=n??{};let i=new EO(t);return o&&i.push(g4(typeof o=="object"?o:void 0)),i};function v4(t){const e=p4(),{reducer:n=void 0,middleware:o,devTools:i=!0,duplicateMiddlewareCheck:l=!0,preloadedState:c=void 0,enhancers:d=void 0}=t||{};let f;if(typeof n=="function")f=n;else if(jv(n))f=dO(n);else throw new Error(fr(1));let m;typeof o=="function"?m=o(e):m=e();let g=yf;i&&(g=h4({trace:!1,...typeof i=="object"&&i}));const y=e4(...m),v=y4(y);let E=typeof d=="function"?d(v):v();const w=g(...E);return uO(f,c,w)}function wO(t){const e={},n=[];let o;const i={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(fr(28));if(d in e)throw new Error(fr(29));return e[d]=c,i},addAsyncThunk(l,c){return c.pending&&(e[l.pending.type]=c.pending),c.rejected&&(e[l.rejected.type]=c.rejected),c.fulfilled&&(e[l.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:l.settled,reducer:c.settled}),i},addMatcher(l,c){return n.push({matcher:l,reducer:c}),i},addDefaultCase(l){return o=l,i}};return t(i),[e,n,o]}function b4(t){return typeof t=="function"}function C4(t,e){let[n,o,i]=wO(e),l;if(b4(t))l=()=>WT(t());else{const d=WT(t);l=()=>d}function c(d=l(),f){let m=[n[f.type],...o.filter(({matcher:g})=>g(f)).map(({reducer:g})=>g)];return m.filter(g=>!!g).length===0&&(m=[i]),m.reduce((g,y)=>{if(y)if(Oi(g)){const E=y(g,f);return E===void 0?g:E}else{if(Vo(g))return bO(g,v=>y(v,f));{const v=y(g,f);if(v===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return g},d)}return c.getInitialState=l,c}var E4="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",S4=(t=21)=>{let e="",n=t;for(;n--;)e+=E4[Math.random()*64|0];return e},w4=Symbol.for("rtk-slice-createasyncthunk");function T4(t,e){return`${t}/${e}`}function A4({creators:t}={}){const e=t?.asyncThunk?.[w4];return function(o){const{name:i,reducerPath:l=i}=o;if(!i)throw new Error(fr(11));const c=(typeof o.reducers=="function"?o.reducers(R4()):o.reducers)||{},d=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(x,B){const L=typeof x=="string"?x:x.type;if(!L)throw new Error(fr(12));if(L in f.sliceCaseReducersByType)throw new Error(fr(13));return f.sliceCaseReducersByType[L]=B,m},addMatcher(x,B){return f.sliceMatchers.push({matcher:x,reducer:B}),m},exposeAction(x,B){return f.actionCreators[x]=B,m},exposeCaseReducer(x,B){return f.sliceCaseReducersByName[x]=B,m}};d.forEach(x=>{const B=c[x],L={reducerName:x,type:T4(i,x),createNotation:typeof o.reducers=="function"};I4(B)?k4(L,B,m,e):O4(L,B,m)});function g(){const[x={},B=[],L=void 0]=typeof o.extraReducers=="function"?wO(o.extraReducers):[o.extraReducers],J={...x,...f.sliceCaseReducersByType};return C4(o.initialState,I=>{for(let j in J)I.addCase(j,J[j]);for(let j of f.sliceMatchers)I.addMatcher(j.matcher,j.reducer);for(let j of B)I.addMatcher(j.matcher,j.reducer);L&&I.addDefaultCase(L)})}const y=x=>x,v=new Map,E=new WeakMap;let w;function S(x,B){return w||(w=g()),w(x,B)}function T(){return w||(w=g()),w.getInitialState()}function R(x,B=!1){function L(I){let j=I[x];return typeof j>"u"&&B&&(j=Cd(E,L,T)),j}function J(I=y){const j=Cd(v,B,()=>new WeakMap);return Cd(j,I,()=>{const se={};for(const[he,ge]of Object.entries(o.selectors??{}))se[he]=_4(ge,I,()=>Cd(E,I,T),B);return se})}return{reducerPath:x,getSelectors:J,get selectors(){return J(L)},selectSlice:L}}const O={name:i,reducer:S,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:T,...R(l),injectInto(x,{reducerPath:B,...L}={}){const J=B??l;return x.inject({reducerPath:J,reducer:S},L),{...O,...R(J,!0)}}};return O}}function _4(t,e,n,o){function i(l,...c){let d=e(l);return typeof d>"u"&&o&&(d=n()),t(d,...c)}return i.unwrapped=t,i}var tl=A4();function R4(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function O4({type:t,reducerName:e,createNotation:n},o,i){let l,c;if("reducer"in o){if(n&&!x4(o))throw new Error(fr(17));l=o.reducer,c=o.prepare}else l=o;i.addCase(t,l).exposeCaseReducer(e,l).exposeAction(e,c?Fs(t,c):Fs(t))}function I4(t){return t._reducerDefinitionType==="asyncThunk"}function x4(t){return t._reducerDefinitionType==="reducerWithPrepare"}function k4({type:t,reducerName:e},n,o,i){if(!i)throw new Error(fr(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:f,settled:m,options:g}=n,y=i(t,l,g);o.exposeAction(e,y),c&&o.addCase(y.fulfilled,c),d&&o.addCase(y.pending,d),f&&o.addCase(y.rejected,f),m&&o.addMatcher(y.settled,m),o.exposeCaseReducer(e,{fulfilled:c||Ed,pending:d||Ed,rejected:f||Ed,settled:m||Ed})}function Ed(){}var N4="task",TO="listener",AO="completed",Kv="cancelled",M4=`task-${Kv}`,P4=`task-${AO}`,Zg=`${TO}-${Kv}`,D4=`${TO}-${AO}`,uh=class{constructor(t){this.code=t,this.message=`${N4} ${Kv} (reason: ${t})`}name="TaskAbortError";message},Gv=(t,e)=>{if(typeof t!="function")throw new TypeError(fr(32))},Ef=()=>{},_O=(t,e=Ef)=>(t.catch(e),t),RO=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Ci=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Ei=t=>{if(t.aborted){const{reason:e}=t;throw new uh(e)}};function OO(t,e){let n=Ef;return new Promise((o,i)=>{const l=()=>i(new uh(t.reason));if(t.aborted){l();return}n=RO(t,l),e.finally(()=>n()).then(o,i)}).finally(()=>{n=Ef})}var L4=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof uh?"cancelled":"rejected",error:n}}finally{e?.()}},Sf=t=>e=>_O(OO(t,e).then(n=>(Ei(t),n))),IO=t=>{const e=Sf(t);return n=>e(new Promise(o=>setTimeout(o,n)))},{assign:Ds}=Object,ZT={},dh="listenerMiddleware",U4=(t,e)=>{const n=o=>RO(t,()=>Ci(o,t.reason));return(o,i)=>{Gv(o);const l=new AbortController;n(l);const c=L4(async()=>{Ei(t),Ei(l.signal);const d=await o({pause:Sf(l.signal),delay:IO(l.signal),signal:l.signal});return Ei(l.signal),d},()=>Ci(l,P4));return i?.autoJoin&&e.push(c.catch(Ef)),{result:Sf(t)(c),cancel(){Ci(l,M4)}}}},H4=(t,e)=>{const n=async(o,i)=>{Ei(e);let l=()=>{};const d=[new Promise((f,m)=>{let g=t({predicate:o,effect:(y,v)=>{v.unsubscribe(),f([y,v.getState(),v.getOriginalState()])}});l=()=>{g(),m()}})];i!=null&&d.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await OO(e,Promise.race(d));return Ei(e),f}finally{l()}};return(o,i)=>_O(n(o,i))},xO=t=>{let{type:e,actionCreator:n,matcher:o,predicate:i,effect:l}=t;if(e)i=Fs(e).match;else if(n)e=n.type,i=n.match;else if(o)i=o;else if(!i)throw new Error(fr(21));return Gv(l),{predicate:i,type:e,effect:l}},kO=Ds(t=>{const{type:e,predicate:n,effect:o}=xO(t);return{id:S4(),effect:o,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(fr(22))}}},{withTypes:()=>kO}),eA=(t,e)=>{const{type:n,effect:o,predicate:i}=xO(e);return Array.from(t.values()).find(l=>(typeof n=="string"?l.type===n:l.predicate===i)&&l.effect===o)},ey=t=>{t.pending.forEach(e=>{Ci(e,Zg)})},z4=t=>()=>{t.forEach(ey),t.clear()},tA=(t,e,n)=>{try{t(e,n)}catch(o){setTimeout(()=>{throw o},0)}},NO=Ds(Fs(`${dh}/add`),{withTypes:()=>NO}),B4=Fs(`${dh}/removeAll`),MO=Ds(Fs(`${dh}/remove`),{withTypes:()=>MO}),j4=(...t)=>{console.error(`${dh}/error`,...t)},dG=(t={})=>{const e=new Map,{extra:n,onError:o=j4}=t;Gv(o);const i=g=>(g.unsubscribe=()=>e.delete(g.id),e.set(g.id,g),y=>{g.unsubscribe(),y?.cancelActive&&ey(g)}),l=g=>{const y=eA(e,g)??kO(g);return i(y)};Ds(l,{withTypes:()=>l});const c=g=>{const y=eA(e,g);return y&&(y.unsubscribe(),g.cancelActive&&ey(y)),!!y};Ds(c,{withTypes:()=>c});const d=async(g,y,v,E)=>{const w=new AbortController,S=H4(l,w.signal),T=[];try{g.pending.add(w),await Promise.resolve(g.effect(y,Ds({},v,{getOriginalState:E,condition:(R,O)=>S(R,O).then(Boolean),take:S,delay:IO(w.signal),pause:Sf(w.signal),extra:n,signal:w.signal,fork:U4(w.signal,T),unsubscribe:g.unsubscribe,subscribe:()=>{e.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((R,O,x)=>{R!==w&&(Ci(R,Zg),x.delete(R))})},cancel:()=>{Ci(w,Zg),g.pending.delete(w)},throwIfCancelled:()=>{Ei(w.signal)}})))}catch(R){R instanceof uh||tA(o,R,{raisedBy:"effect"})}finally{await Promise.all(T),Ci(w,D4),g.pending.delete(w)}},f=z4(e);return{middleware:g=>y=>v=>{if(!fO(v))return y(v);if(NO.match(v))return l(v.payload);if(B4.match(v)){f();return}if(MO.match(v))return c(v.payload);let E=g.getState();const w=()=>{if(E===ZT)throw new Error(fr(23));return E};let S;try{if(S=y(v),e.size>0){const T=g.getState(),R=Array.from(e.values());for(const O of R){let x=!1;try{x=O.predicate(v,T,E)}catch(B){x=!1,tA(o,B,{raisedBy:"predicate"})}x&&d(O,v,g,w)}}}finally{E=ZT}return S},startListening:l,stopListening:c,clearListeners:f}};function fr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const F4=()=>YB(),q4=XB,K4={isLoading:!1,error:null,isInitialized:!1},PO=tl({name:"auth",initialState:K4,reducers:{setLoading:(t,e)=>{t.isLoading=e.payload},setError:(t,e)=>{t.error=e.payload},setInitialized:(t,e)=>{t.isInitialized=e.payload},clearError:t=>{t.error=null}}}),{setLoading:Sd,setError:fG,setInitialized:nA,clearError:G4}=PO.actions,V4=t=>{try{const n=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(atob(n).split("").map(i=>"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(o)}catch{return null}},Y4=t=>{try{const n=Object.keys(sessionStorage).find(l=>l.includes("accesstoken")&&l.includes(t));if(!n)return[];const o=JSON.parse(sessionStorage.getItem(n)||"{}");return o.secret?V4(o.secret)?.roles||[]:[]}catch{return[]}},Q4=t=>{try{let e=t.idTokenClaims?.roles||[];return e.length===0&&(e=Y4("d35c1d4d-9ddc-4a8b-bb89-1964b37ff573")),{id:t.localAccountId,email:t.username,name:t.name||t.username,givenName:t.idTokenClaims?.given_name,familyName:t.idTokenClaims?.family_name,roles:e}}catch(e){const n=e instanceof Error?e.message:"Unknown error";throw new Error(`Failed to map account to user: ${n}`)}},$4=()=>({handleError:b.useCallback((e,n={})=>{const{logError:o=!0,fallbackMessage:i="Ha ocurrido un error inesperado"}=n;let l=i;if(e instanceof Error)l=e.message;else if(typeof e=="string")l=e;else if(e&&typeof e=="object"&&"message"in e){const c=e.message;l=typeof c=="string"?c:i}return l},[])}),Qc=()=>{const{instance:t,accounts:e,inProgress:n}=_0(),o=F4(),i=q4(y=>y.auth),{handleError:l}=$4();b.useEffect(()=>{if(n==="none"&&!i.isInitialized&&o(nA(!0)),!i.isInitialized){const y=setTimeout(()=>{console.warn("[useAuth] Forcing initialization after timeout"),o(nA(!0))},3e3);return()=>clearTimeout(y)}},[n,i.isInitialized,o,e,t]);const c={user:e.length>0?Q4(e[0]):null,isAuthenticated:e.length>0},d=b.useCallback(async y=>{try{o(Sd(!0)),o(G4()),y&&sessionStorage.setItem("returnUrl",y),await t.loginRedirect(T2)}catch(v){l(v,{fallbackMessage:"Error de login"}),o(Sd(!1))}},[t,o,l]),f=b.useCallback(async()=>{try{o(Sd(!0)),await t.logoutRedirect({postLogoutRedirectUri:window.location.origin+"/login"})}catch(y){l(y,{fallbackMessage:"Error de logout"}),o(Sd(!1))}},[t,o,l]),m=b.useCallback(async()=>{if(e.length===0)return null;try{return(await t.acquireTokenSilent({...Mg,account:e[0]})).accessToken}catch{try{return(await t.acquireTokenPopup(Mg)).accessToken}catch(v){return l(v,{fallbackMessage:"Error obteniendo token"}),null}}},[t,e,o]);let g;return i.isInitialized?c.isAuthenticated?g="authenticated":g="unauthenticated":g="unknown",{session:c,authState:i,status:g,login:d,logout:f,getAccessToken:m}},X4={activeRole:null,availableRoles:[]},DO=tl({name:"role",initialState:X4,reducers:{setAvailableRoles:(t,e)=>{t.availableRoles=e.payload,!t.activeRole&&e.payload.length>0&&(e.payload.includes("admin")?t.activeRole="admin":e.payload.includes("profesor")?t.activeRole="profesor":t.activeRole=e.payload[0])},setActiveRole:(t,e)=>{t.availableRoles.includes(e.payload)&&(t.activeRole=e.payload,localStorage.setItem("chetango_active_role",e.payload))},clearRoles:t=>{t.activeRole=null,t.availableRoles=[],localStorage.removeItem("chetango_active_role")},restoreActiveRole:t=>{const e=localStorage.getItem("chetango_active_role");e&&t.availableRoles.includes(e)&&(t.activeRole=e)}}}),{setAvailableRoles:hG,setActiveRole:mG,clearRoles:pG,restoreActiveRole:gG}=DO.actions,W4=DO.reducer;const J4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,o)=>o?o.toUpperCase():n.toLowerCase()),rA=t=>{const e=Z4(t);return e.charAt(0).toUpperCase()+e.slice(1)},LO=(...t)=>t.filter((e,n,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===n).join(" ").trim(),ej=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var tj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const nj=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:i="",children:l,iconNode:c,...d},f)=>b.createElement("svg",{ref:f,...tj,width:e,height:e,stroke:t,strokeWidth:o?Number(n)*24/Number(e):n,className:LO("lucide",i),...!l&&!ej(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,g])=>b.createElement(m,g)),...Array.isArray(l)?l:[l]]));const sn=(t,e)=>{const n=b.forwardRef(({className:o,...i},l)=>b.createElement(nj,{ref:l,iconNode:e,className:LO(`lucide-${J4(rA(t))}`,`lucide-${t}`,o),...i}));return n.displayName=rA(t),n};const rj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xs=sn("calendar",rj);const oj=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],oA=sn("chart-column",oj);const aj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ij=sn("check",aj);const sj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],UO=sn("chevron-down",sj);const lj=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],cj=sn("chevron-up",lj);const uj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],dj=sn("circle-check",uj);const fj=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],hj=sn("clipboard-check",fj);const mj=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],pj=sn("credit-card",mj);const gj=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],yj=sn("dollar-sign",gj);const vj=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],bj=sn("external-link",vj);const Cj=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],eg=sn("house",Cj);const Ej=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Sj=sn("loader-circle",Ej);const wj=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Tj=sn("mail",wj);const Aj=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],_j=sn("package",Aj);const Rj=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Oj=sn("phone",Rj);const Ij=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wf=sn("user",Ij);const xj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kj=sn("users",xj);const Nj=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],aA=sn("wallet",Nj);const Mj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pj=sn("x",Mj),Vv=-5,Yv=()=>{const t=new Date,e=t.getTime()+t.getTimezoneOffset()*6e4;return new Date(e+Vv*36e5)},Dj=()=>{const t=Yv(),e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${o}`},yG=(t=Yv())=>new Date(t.getTime()+t.getTimezoneOffset()*6e4+Vv*36e5).toISOString(),vG=(t=Yv())=>{const e=new Date(t.getTime()+t.getTimezoneOffset()*6e4+Vv*36e5),n=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${n}-${o}-${i}`},Lj=()=>Dj(),iA={selectedDate:Lj(),selectedClassId:null,searchTerm:"",updatingStudents:{}},HO=tl({name:"attendance",initialState:iA,reducers:{setSelectedDate:(t,e)=>{t.selectedDate=e.payload,t.selectedClassId=null},setSelectedClassId:(t,e)=>{t.selectedClassId=e.payload},setSearchTerm:(t,e)=>{t.searchTerm=e.payload},setUpdatingStudent:(t,e)=>{const{studentId:n,isUpdating:o}=e.payload;o?t.updatingStudents[n]=!0:delete t.updatingStudents[n]},clearUpdatingStudents:t=>{t.updatingStudents={}},resetAttendanceState:()=>iA}}),{setSelectedDate:bG,setSelectedClassId:CG,setSearchTerm:EG,setUpdatingStudent:SG,clearUpdatingStudents:wG,resetAttendanceState:TG}=HO.actions,Uj=HO.reducer,Hj={searchTerm:"",filterProfesor:"todos",filterTipo:"todos",filterFecha:"",selectedClaseId:null,filtroAnterior:"ultimos_7",showClasesAnteriores:!1,resumenClaseId:null,reprogramarClaseId:null},zO=tl({name:"classes",initialState:Hj,reducers:{setSearchTerm:(t,e)=>{t.searchTerm=e.payload},setFilterProfesor:(t,e)=>{t.filterProfesor=e.payload},setFilterTipo:(t,e)=>{t.filterTipo=e.payload},setFilterFecha:(t,e)=>{t.filterFecha=e.payload},setSelectedClaseId:(t,e)=>{t.selectedClaseId=e.payload},clearFilters:t=>{t.searchTerm="",t.filterProfesor="todos",t.filterTipo="todos",t.filterFecha=""},setFiltroAnterior:(t,e)=>{t.filtroAnterior=e.payload},toggleClasesAnteriores:t=>{t.showClasesAnteriores=!t.showClasesAnteriores},setResumenClaseId:(t,e)=>{t.resumenClaseId=e.payload},setReprogramarClaseId:(t,e)=>{t.reprogramarClaseId=e.payload}}}),AG=t=>({filtroAnterior:t.classes.filtroAnterior,showClasesAnteriores:t.classes.showClasesAnteriores,resumenClaseId:t.classes.resumenClaseId}),_G=t=>({selectedClaseId:t.classes.selectedClaseId,reprogramarClaseId:t.classes.reprogramarClaseId}),{setSearchTerm:RG,setFilterProfesor:OG,setFilterTipo:IG,setFilterFecha:xG,setSelectedClaseId:kG,clearFilters:NG,setFiltroAnterior:MG,toggleClasesAnteriores:PG,setResumenClaseId:DG,setReprogramarClaseId:LG}=zO.actions,zj=zO.reducer,Bj={searchTerm:"",filterEstado:"todos",filterTipoPaquete:"todos"},BO=tl({name:"packages",initialState:Bj,reducers:{setSearchTerm:(t,e)=>{t.searchTerm=e.payload},setFilterEstado:(t,e)=>{t.filterEstado=e.payload},setFilterTipoPaquete:(t,e)=>{t.filterTipoPaquete=e.payload},clearFilters:t=>{t.searchTerm="",t.filterEstado="todos",t.filterTipoPaquete="todos"}}}),{setSearchTerm:UG,setFilterEstado:HG,setFilterTipoPaquete:zG,clearFilters:BG}=BO.actions,jj=BO.reducer,sA={searchTerm:"",selectedAlumnoId:null,activeTab:"busqueda",isQRScannerActive:!1},jO=tl({name:"payments",initialState:sA,reducers:{setSearchTerm:(t,e)=>{t.searchTerm=e.payload},setSelectedAlumno:(t,e)=>{t.selectedAlumnoId=e.payload},setActiveTab:(t,e)=>{t.activeTab=e.payload,t.isQRScannerActive=e.payload==="qr"},setQRScannerActive:(t,e)=>{t.isQRScannerActive=e.payload},clearSelection:t=>{t.selectedAlumnoId=null,t.searchTerm=""},resetPaymentsUI:()=>sA}}),{setSearchTerm:jG,setSelectedAlumno:FG,setActiveTab:qG,setQRScannerActive:KG,clearSelection:GG,resetPaymentsUI:VG}=jO.actions,Fj=jO.reducer,qj=dO({auth:PO.reducer,role:W4,attendance:Uj,classes:zj,packages:jj,payments:Fj}),Kj=v4({reducer:qj,middleware:t=>t({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}}),devTools:!1}),Gj=({children:t})=>_.jsx(KB,{store:Kj,children:t});function Vj({position:t="bottom-center",closeButton:e=!0,duration:n=4e3}){return _.jsx(Mz,{position:t,closeButton:e,duration:n,theme:"dark",className:"toaster group",toastOptions:{classNames:{toast:["group toast","backdrop-blur-2xl","bg-gradient-to-br from-[rgba(42,42,48,0.95)] to-[rgba(26,26,32,0.98)]","border border-[rgba(255,255,255,0.15)]","rounded-2xl","shadow-[0_12px_48px_rgba(0,0,0,0.5),inset_0_2px_4px_rgba(255,255,255,0.1)]","text-[#f9fafb]","min-w-[280px]"].join(" "),title:"text-[#f9fafb] font-medium text-[15px]",description:"text-[#d1d5db] text-[13px]",actionButton:["bg-[#c93448] text-[#f9fafb]","hover:bg-[#a8243a]","rounded-lg px-3 py-1.5","transition-colors"].join(" "),cancelButton:["bg-[rgba(255,255,255,0.1)] text-[#d1d5db]","hover:bg-[rgba(255,255,255,0.15)]","rounded-lg px-3 py-1.5","transition-colors"].join(" "),closeButton:["bg-[rgba(255,255,255,0.1)]","hover:bg-[rgba(255,255,255,0.15)]","border-[rgba(255,255,255,0.1)]","text-[#d1d5db]"].join(" "),success:["border-l-4 border-l-[#34d399]","bg-gradient-to-br from-[rgba(52,211,153,0.2)] to-[rgba(52,211,153,0.1)]","border border-[rgba(52,211,153,0.4)]","shadow-[0_12px_48px_rgba(52,211,153,0.3),inset_0_2px_4px_rgba(255,255,255,0.1)]"].join(" "),error:["border-l-4 border-l-[#ef4444]","bg-gradient-to-br from-[rgba(239,68,68,0.2)] to-[rgba(239,68,68,0.1)]","border border-[rgba(239,68,68,0.4)]"].join(" "),warning:["border-l-4 border-l-[#f59e0b]","bg-gradient-to-br from-[rgba(245,158,11,0.2)] to-[rgba(245,158,11,0.1)]","border border-[rgba(245,158,11,0.4)]"].join(" "),info:["border-l-4 border-l-[#3b82f6]","bg-gradient-to-br from-[rgba(59,130,246,0.2)] to-[rgba(59,130,246,0.1)]","border border-[rgba(59,130,246,0.4)]"].join(" ")}}})}const YG={success:(t,e)=>qn.success(t,{description:e}),error:(t,e)=>qn.error(t,{description:e}),warning:(t,e)=>qn.warning(t,{description:e}),info:(t,e)=>qn.info(t,{description:e}),loading:t=>qn.loading(t),dismiss:t=>qn.dismiss(t),promise:(t,e)=>qn.promise(t,e),attendanceMarked:()=>qn.success("Asistencia marcada",{description:"Cambio guardado"}),packageReactivated:()=>qn.info("Paquete reactivado automticamente",{description:"El paquete congelado fue reactivado al marcar presente"})},FO=b.createContext(void 0);function qO({children:t}){const[e,n]=b.useState({isOpen:!1,userId:null,userType:null}),o=(l,c)=>{n({isOpen:!0,userId:l,userType:c})},i=()=>{n({isOpen:!1,userId:null,userType:null})};return _.jsx(FO.Provider,{value:{state:e,openQuickView:o,closeQuickView:i},children:t})}function Yj(){const t=b.useContext(FO);if(!t)throw new Error("useUserQuickView debe usarse dentro de UserQuickViewProvider");return t}function Qj({children:t,variant:e="primary",size:n="md",icon:o,className:i="",...l}){const c={sm:"px-4 py-2 rounded-lg text-[14px]",md:"px-6 py-3 rounded-xl text-[16px]",lg:"px-8 py-4 rounded-xl text-[16px]"},d={primary:`
      bg-gradient-to-r from-[#c93448] to-[#a8243a] 
      hover:from-[#e54d5e] hover:to-[#c93448] 
      text-white 
      shadow-[0_8px_32px_rgba(201,52,72,0.4),inset_0_1px_2px_rgba(255,255,255,0.2)] 
      hover:shadow-[0_12px_48px_rgba(201,52,72,0.6)] 
      hover:scale-[1.02]
    `,secondary:`
      backdrop-blur-2xl 
      bg-[rgba(42,42,48,0.6)] 
      border border-[rgba(255,255,255,0.15)] 
      hover:border-[rgba(255,255,255,0.25)] 
      text-[#f9fafb] 
      hover:bg-[rgba(42,42,48,0.8)] 
      hover:scale-[1.02] 
      shadow-[0_8px_24px_rgba(0,0,0,0.4),inset_0_1px_2px_rgba(255,255,255,0.1)] 
      hover:shadow-[0_12px_32px_rgba(0,0,0,0.5)]
    `,ghost:`
      text-[#d1d5db] 
      hover:text-[#f9fafb] 
      hover:bg-[rgba(255,255,255,0.05)] 
      backdrop-blur-sm
    `,icon:`
      p-3 
      backdrop-blur-xl 
      bg-[rgba(42,42,48,0.6)] 
      border border-[rgba(255,255,255,0.15)] 
      hover:border-[rgba(255,255,255,0.25)] 
      text-[#f9fafb] 
      hover:bg-[rgba(42,42,48,0.8)] 
      shadow-[0_4px_16px_rgba(0,0,0,0.3),inset_0_1px_1px_rgba(255,255,255,0.1)] 
      hover:shadow-[0_8px_24px_rgba(0,0,0,0.4)] 
      hover:scale-105
    `};return e==="icon"?_.jsx("button",{className:`
          ${d.icon}
          rounded-xl 
          transition-all duration-300
          ${i}
        `,...l,children:t}):_.jsxs("button",{className:`
        ${d[e]}
        ${c[n]}
        transition-all duration-300 
        relative overflow-hidden group
        ${i}
      `,...l,children:[_.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[o,t]}),e==="primary"&&_.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})}function At(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function lA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function KO(...t){return e=>{let n=!1;const o=t.map(i=>{const l=lA(i,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<o.length;i++){const l=o[i];typeof l=="function"?l():lA(t[i],null)}}}}function Wt(...t){return b.useCallback(KO(...t),t)}function fh(t,e=[]){let n=[];function o(l,c){const d=b.createContext(c),f=n.length;n=[...n,c];const m=y=>{const{scope:v,children:E,...w}=y,S=v?.[t]?.[f]||d,T=b.useMemo(()=>w,Object.values(w));return _.jsx(S.Provider,{value:T,children:E})};m.displayName=l+"Provider";function g(y,v){const E=v?.[t]?.[f]||d,w=b.useContext(E);if(w)return w;if(c!==void 0)return c;throw new Error(`\`${y}\` must be used within \`${l}\``)}return[m,g]}const i=()=>{const l=n.map(c=>b.createContext(c));return function(d){const f=d?.[t]||l;return b.useMemo(()=>({[`__scope${t}`]:{...d,[t]:f}}),[d,f])}};return i.scopeName=t,[o,$j(i,...e)]}function $j(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const o=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const c=o.reduce((d,{useScope:f,scopeName:m})=>{const y=f(l)[`__scope${m}`];return{...d,...y}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}function Mc(t){const e=Xj(t),n=b.forwardRef((o,i)=>{const{children:l,...c}=o,d=b.Children.toArray(l),f=d.find(Jj);if(f){const m=f.props.children,g=d.map(y=>y===f?b.Children.count(m)>1?b.Children.only(null):b.isValidElement(m)?m.props.children:null:y);return _.jsx(e,{...c,ref:i,children:b.isValidElement(m)?b.cloneElement(m,void 0,g):null})}return _.jsx(e,{...c,ref:i,children:l})});return n.displayName=`${t}.Slot`,n}function Xj(t){const e=b.forwardRef((n,o)=>{const{children:i,...l}=n;if(b.isValidElement(i)){const c=eF(i),d=Zj(l,i.props);return i.type!==b.Fragment&&(d.ref=o?KO(o,c):c),b.cloneElement(i,d)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Wj=Symbol("radix.slottable");function Jj(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Wj}function Zj(t,e){const n={...e};for(const o in e){const i=t[o],l=e[o];/^on[A-Z]/.test(o)?i&&l?n[o]=(...d)=>{const f=l(...d);return i(...d),f}:i&&(n[o]=i):o==="style"?n[o]={...i,...l}:o==="className"&&(n[o]=[i,l].filter(Boolean).join(" "))}return{...t,...n}}function eF(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var tF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mt=tF.reduce((t,e)=>{const n=Mc(`Primitive.${e}`),o=b.forwardRef((i,l)=>{const{asChild:c,...d}=i,f=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(f,{...d,ref:l})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{});function nF(t,e){t&&Ys.flushSync(()=>t.dispatchEvent(e))}function xi(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>e.current?.(...n),[])}function rF(t,e=globalThis?.document){const n=xi(t);b.useEffect(()=>{const o=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",o,{capture:!0}),()=>e.removeEventListener("keydown",o,{capture:!0})},[n,e])}var oF="DismissableLayer",ty="dismissableLayer.update",aF="dismissableLayer.pointerDownOutside",iF="dismissableLayer.focusOutside",cA,GO=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Qv=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...f}=t,m=b.useContext(GO),[g,y]=b.useState(null),v=g?.ownerDocument??globalThis?.document,[,E]=b.useState({}),w=Wt(e,I=>y(I)),S=Array.from(m.layers),[T]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),R=S.indexOf(T),O=g?S.indexOf(g):-1,x=m.layersWithOutsidePointerEventsDisabled.size>0,B=O>=R,L=cF(I=>{const j=I.target,se=[...m.branches].some(he=>he.contains(j));!B||se||(i?.(I),c?.(I),I.defaultPrevented||d?.())},v),J=uF(I=>{const j=I.target;[...m.branches].some(he=>he.contains(j))||(l?.(I),c?.(I),I.defaultPrevented||d?.())},v);return rF(I=>{O===m.layers.size-1&&(o?.(I),!I.defaultPrevented&&d&&(I.preventDefault(),d()))},v),b.useEffect(()=>{if(g)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(cA=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),uA(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=cA)}},[g,v,n,m]),b.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),uA())},[g,m]),b.useEffect(()=>{const I=()=>E({});return document.addEventListener(ty,I),()=>document.removeEventListener(ty,I)},[]),_.jsx(Mt.div,{...f,ref:w,style:{pointerEvents:x?B?"auto":"none":void 0,...t.style},onFocusCapture:At(t.onFocusCapture,J.onFocusCapture),onBlurCapture:At(t.onBlurCapture,J.onBlurCapture),onPointerDownCapture:At(t.onPointerDownCapture,L.onPointerDownCapture)})});Qv.displayName=oF;var sF="DismissableLayerBranch",lF=b.forwardRef((t,e)=>{const n=b.useContext(GO),o=b.useRef(null),i=Wt(e,o);return b.useEffect(()=>{const l=o.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),_.jsx(Mt.div,{...t,ref:i})});lF.displayName=sF;function cF(t,e=globalThis?.document){const n=xi(t),o=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const l=d=>{if(d.target&&!o.current){let f=function(){VO(aF,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);o.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>o.current=!0}}function uF(t,e=globalThis?.document){const n=xi(t),o=b.useRef(!1);return b.useEffect(()=>{const i=l=>{l.target&&!o.current&&VO(iF,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function uA(){const t=new CustomEvent(ty);document.dispatchEvent(t)}function VO(t,e,n,{discrete:o}){const i=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),o?nF(i,l):i.dispatchEvent(l)}var tg=0;function YO(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??dA()),document.body.insertAdjacentElement("beforeend",t[1]??dA()),tg++,()=>{tg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tg--}},[])}function dA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ng="focusScope.autoFocusOnMount",rg="focusScope.autoFocusOnUnmount",fA={bubbles:!1,cancelable:!0},dF="FocusScope",$v=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...c}=t,[d,f]=b.useState(null),m=xi(i),g=xi(l),y=b.useRef(null),v=Wt(e,S=>f(S)),E=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(o){let S=function(x){if(E.paused||!d)return;const B=x.target;d.contains(B)?y.current=B:Ta(y.current,{select:!0})},T=function(x){if(E.paused||!d)return;const B=x.relatedTarget;B!==null&&(d.contains(B)||Ta(y.current,{select:!0}))},R=function(x){if(document.activeElement===document.body)for(const L of x)L.removedNodes.length>0&&Ta(d)};document.addEventListener("focusin",S),document.addEventListener("focusout",T);const O=new MutationObserver(R);return d&&O.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",T),O.disconnect()}}},[o,d,E.paused]),b.useEffect(()=>{if(d){mA.add(E);const S=document.activeElement;if(!d.contains(S)){const R=new CustomEvent(ng,fA);d.addEventListener(ng,m),d.dispatchEvent(R),R.defaultPrevented||(fF(yF(QO(d)),{select:!0}),document.activeElement===S&&Ta(d))}return()=>{d.removeEventListener(ng,m),setTimeout(()=>{const R=new CustomEvent(rg,fA);d.addEventListener(rg,g),d.dispatchEvent(R),R.defaultPrevented||Ta(S??document.body,{select:!0}),d.removeEventListener(rg,g),mA.remove(E)},0)}}},[d,m,g,E]);const w=b.useCallback(S=>{if(!n&&!o||E.paused)return;const T=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,R=document.activeElement;if(T&&R){const O=S.currentTarget,[x,B]=hF(O);x&&B?!S.shiftKey&&R===B?(S.preventDefault(),n&&Ta(x,{select:!0})):S.shiftKey&&R===x&&(S.preventDefault(),n&&Ta(B,{select:!0})):R===O&&S.preventDefault()}},[n,o,E.paused]);return _.jsx(Mt.div,{tabIndex:-1,...c,ref:v,onKeyDown:w})});$v.displayName=dF;function fF(t,{select:e=!1}={}){const n=document.activeElement;for(const o of t)if(Ta(o,{select:e}),document.activeElement!==n)return}function hF(t){const e=QO(t),n=hA(e,t),o=hA(e.reverse(),t);return[n,o]}function QO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function hA(t,e){for(const n of t)if(!mF(n,{upTo:e}))return n}function mF(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function pF(t){return t instanceof HTMLInputElement&&"select"in t}function Ta(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&pF(t)&&e&&t.select()}}var mA=gF();function gF(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=pA(t,e),t.unshift(e)},remove(e){t=pA(t,e),t[0]?.resume()}}}function pA(t,e){const n=[...t],o=n.indexOf(e);return o!==-1&&n.splice(o,1),n}function yF(t){return t.filter(e=>e.tagName!=="A")}var In=globalThis?.document?b.useLayoutEffect:()=>{},vF=hy[" useId ".trim().toString()]||(()=>{}),bF=0;function hh(t){const[e,n]=b.useState(vF());return In(()=>{n(o=>o??String(bF++))},[t]),e?`radix-${e}`:""}const CF=["top","right","bottom","left"],Ha=Math.min,cr=Math.max,Tf=Math.round,wd=Math.floor,go=t=>({x:t,y:t}),EF={left:"right",right:"left",bottom:"top",top:"bottom"},SF={start:"end",end:"start"};function ny(t,e,n){return cr(t,Ha(e,n))}function Yo(t,e){return typeof t=="function"?t(e):t}function Qo(t){return t.split("-")[0]}function nl(t){return t.split("-")[1]}function Xv(t){return t==="x"?"y":"x"}function Wv(t){return t==="y"?"height":"width"}const wF=new Set(["top","bottom"]);function mo(t){return wF.has(Qo(t))?"y":"x"}function Jv(t){return Xv(mo(t))}function TF(t,e,n){n===void 0&&(n=!1);const o=nl(t),i=Jv(t),l=Wv(i);let c=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Af(c)),[c,Af(c)]}function AF(t){const e=Af(t);return[ry(t),e,ry(e)]}function ry(t){return t.replace(/start|end/g,e=>SF[e])}const gA=["left","right"],yA=["right","left"],_F=["top","bottom"],RF=["bottom","top"];function OF(t,e,n){switch(t){case"top":case"bottom":return n?e?yA:gA:e?gA:yA;case"left":case"right":return e?_F:RF;default:return[]}}function IF(t,e,n,o){const i=nl(t);let l=OF(Qo(t),n==="start",o);return i&&(l=l.map(c=>c+"-"+i),e&&(l=l.concat(l.map(ry)))),l}function Af(t){return t.replace(/left|right|bottom|top/g,e=>EF[e])}function xF(t){return{top:0,right:0,bottom:0,left:0,...t}}function $O(t){return typeof t!="number"?xF(t):{top:t,right:t,bottom:t,left:t}}function _f(t){const{x:e,y:n,width:o,height:i}=t;return{width:o,height:i,top:n,left:e,right:e+o,bottom:n+i,x:e,y:n}}function vA(t,e,n){let{reference:o,floating:i}=t;const l=mo(e),c=Jv(e),d=Wv(c),f=Qo(e),m=l==="y",g=o.x+o.width/2-i.width/2,y=o.y+o.height/2-i.height/2,v=o[d]/2-i[d]/2;let E;switch(f){case"top":E={x:g,y:o.y-i.height};break;case"bottom":E={x:g,y:o.y+o.height};break;case"right":E={x:o.x+o.width,y};break;case"left":E={x:o.x-i.width,y};break;default:E={x:o.x,y:o.y}}switch(nl(e)){case"start":E[c]-=v*(n&&m?-1:1);break;case"end":E[c]+=v*(n&&m?-1:1);break}return E}const kF=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:l=[],platform:c}=n,d=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y}=vA(m,o,f),v=o,E={},w=0;for(let S=0;S<d.length;S++){const{name:T,fn:R}=d[S],{x:O,y:x,data:B,reset:L}=await R({x:g,y,initialPlacement:o,placement:v,strategy:i,middlewareData:E,rects:m,platform:c,elements:{reference:t,floating:e}});g=O??g,y=x??y,E={...E,[T]:{...E[T],...B}},L&&w<=50&&(w++,typeof L=="object"&&(L.placement&&(v=L.placement),L.rects&&(m=L.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:i}):L.rects),{x:g,y}=vA(m,v,f)),S=-1)}return{x:g,y,placement:v,strategy:i,middlewareData:E}};async function Pc(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:l,rects:c,elements:d,strategy:f}=t,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:v=!1,padding:E=0}=Yo(e,t),w=$O(E),T=d[v?y==="floating"?"reference":"floating":y],R=_f(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(T)))==null||n?T:T.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:g,strategy:f})),O=y==="floating"?{x:o,y:i,width:c.floating.width,height:c.floating.height}:c.reference,x=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),B=await(l.isElement==null?void 0:l.isElement(x))?await(l.getScale==null?void 0:l.getScale(x))||{x:1,y:1}:{x:1,y:1},L=_f(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:O,offsetParent:x,strategy:f}):O);return{top:(R.top-L.top+w.top)/B.y,bottom:(L.bottom-R.bottom+w.bottom)/B.y,left:(R.left-L.left+w.left)/B.x,right:(L.right-R.right+w.right)/B.x}}const NF=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:l,platform:c,elements:d,middlewareData:f}=e,{element:m,padding:g=0}=Yo(t,e)||{};if(m==null)return{};const y=$O(g),v={x:n,y:o},E=Jv(i),w=Wv(E),S=await c.getDimensions(m),T=E==="y",R=T?"top":"left",O=T?"bottom":"right",x=T?"clientHeight":"clientWidth",B=l.reference[w]+l.reference[E]-v[E]-l.floating[w],L=v[E]-l.reference[E],J=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let I=J?J[x]:0;(!I||!await(c.isElement==null?void 0:c.isElement(J)))&&(I=d.floating[x]||l.floating[w]);const j=B/2-L/2,se=I/2-S[w]/2-1,he=Ha(y[R],se),ge=Ha(y[O],se),ve=he,we=I-S[w]-ge,be=I/2-S[w]/2+j,me=ny(ve,be,we),P=!f.arrow&&nl(i)!=null&&be!==me&&l.reference[w]/2-(be<ve?he:ge)-S[w]/2<0,$=P?be<ve?be-ve:be-we:0;return{[E]:v[E]+$,data:{[E]:me,centerOffset:be-me-$,...P&&{alignmentOffset:$}},reset:P}}}),MF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:l,rects:c,initialPlacement:d,platform:f,elements:m}=e,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:v,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:S=!0,...T}=Yo(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const R=Qo(i),O=mo(d),x=Qo(d)===d,B=await(f.isRTL==null?void 0:f.isRTL(m.floating)),L=v||(x||!S?[Af(d)]:AF(d)),J=w!=="none";!v&&J&&L.push(...IF(d,S,w,B));const I=[d,...L],j=await Pc(e,T),se=[];let he=((o=l.flip)==null?void 0:o.overflows)||[];if(g&&se.push(j[R]),y){const be=TF(i,c,B);se.push(j[be[0]],j[be[1]])}if(he=[...he,{placement:i,overflows:se}],!se.every(be=>be<=0)){var ge,ve;const be=(((ge=l.flip)==null?void 0:ge.index)||0)+1,me=I[be];if(me&&(!(y==="alignment"?O!==mo(me):!1)||he.every(z=>mo(z.placement)===O?z.overflows[0]>0:!0)))return{data:{index:be,overflows:he},reset:{placement:me}};let P=(ve=he.filter($=>$.overflows[0]<=0).sort(($,z)=>$.overflows[1]-z.overflows[1])[0])==null?void 0:ve.placement;if(!P)switch(E){case"bestFit":{var we;const $=(we=he.filter(z=>{if(J){const de=mo(z.placement);return de===O||de==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(de=>de>0).reduce((de,N)=>de+N,0)]).sort((z,de)=>z[1]-de[1])[0])==null?void 0:we[0];$&&(P=$);break}case"initialPlacement":P=d;break}if(i!==P)return{reset:{placement:P}}}return{}}}};function bA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function CA(t){return CF.some(e=>t[e]>=0)}const PF=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:o="referenceHidden",...i}=Yo(t,e);switch(o){case"referenceHidden":{const l=await Pc(e,{...i,elementContext:"reference"}),c=bA(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:CA(c)}}}case"escaped":{const l=await Pc(e,{...i,altBoundary:!0}),c=bA(l,n.floating);return{data:{escapedOffsets:c,escaped:CA(c)}}}default:return{}}}}},XO=new Set(["left","top"]);async function DF(t,e){const{placement:n,platform:o,elements:i}=t,l=await(o.isRTL==null?void 0:o.isRTL(i.floating)),c=Qo(n),d=nl(n),f=mo(n)==="y",m=XO.has(c)?-1:1,g=l&&f?-1:1,y=Yo(e,t);let{mainAxis:v,crossAxis:E,alignmentAxis:w}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return d&&typeof w=="number"&&(E=d==="end"?w*-1:w),f?{x:E*g,y:v*m}:{x:v*m,y:E*g}}const LF=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:l,placement:c,middlewareData:d}=e,f=await DF(e,t);return c===((n=d.offset)==null?void 0:n.placement)&&(o=d.arrow)!=null&&o.alignmentOffset?{}:{x:i+f.x,y:l+f.y,data:{...f,placement:c}}}}},UF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:T=>{let{x:R,y:O}=T;return{x:R,y:O}}},...f}=Yo(t,e),m={x:n,y:o},g=await Pc(e,f),y=mo(Qo(i)),v=Xv(y);let E=m[v],w=m[y];if(l){const T=v==="y"?"top":"left",R=v==="y"?"bottom":"right",O=E+g[T],x=E-g[R];E=ny(O,E,x)}if(c){const T=y==="y"?"top":"left",R=y==="y"?"bottom":"right",O=w+g[T],x=w-g[R];w=ny(O,w,x)}const S=d.fn({...e,[v]:E,[y]:w});return{...S,data:{x:S.x-n,y:S.y-o,enabled:{[v]:l,[y]:c}}}}}},HF=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:i,rects:l,middlewareData:c}=e,{offset:d=0,mainAxis:f=!0,crossAxis:m=!0}=Yo(t,e),g={x:n,y:o},y=mo(i),v=Xv(y);let E=g[v],w=g[y];const S=Yo(d,e),T=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(f){const x=v==="y"?"height":"width",B=l.reference[v]-l.floating[x]+T.mainAxis,L=l.reference[v]+l.reference[x]-T.mainAxis;E<B?E=B:E>L&&(E=L)}if(m){var R,O;const x=v==="y"?"width":"height",B=XO.has(Qo(i)),L=l.reference[y]-l.floating[x]+(B&&((R=c.offset)==null?void 0:R[y])||0)+(B?0:T.crossAxis),J=l.reference[y]+l.reference[x]+(B?0:((O=c.offset)==null?void 0:O[y])||0)-(B?T.crossAxis:0);w<L?w=L:w>J&&(w=J)}return{[v]:E,[y]:w}}}},zF=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,o;const{placement:i,rects:l,platform:c,elements:d}=e,{apply:f=()=>{},...m}=Yo(t,e),g=await Pc(e,m),y=Qo(i),v=nl(i),E=mo(i)==="y",{width:w,height:S}=l.floating;let T,R;y==="top"||y==="bottom"?(T=y,R=v===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(R=y,T=v==="end"?"top":"bottom");const O=S-g.top-g.bottom,x=w-g.left-g.right,B=Ha(S-g[T],O),L=Ha(w-g[R],x),J=!e.middlewareData.shift;let I=B,j=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(j=x),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(I=O),J&&!v){const he=cr(g.left,0),ge=cr(g.right,0),ve=cr(g.top,0),we=cr(g.bottom,0);E?j=w-2*(he!==0||ge!==0?he+ge:cr(g.left,g.right)):I=S-2*(ve!==0||we!==0?ve+we:cr(g.top,g.bottom))}await f({...e,availableWidth:j,availableHeight:I});const se=await c.getDimensions(d.floating);return w!==se.width||S!==se.height?{reset:{rects:!0}}:{}}}};function mh(){return typeof window<"u"}function rl(t){return WO(t)?(t.nodeName||"").toLowerCase():"#document"}function hr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function bo(t){var e;return(e=(WO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function WO(t){return mh()?t instanceof Node||t instanceof hr(t).Node:!1}function Qr(t){return mh()?t instanceof Element||t instanceof hr(t).Element:!1}function vo(t){return mh()?t instanceof HTMLElement||t instanceof hr(t).HTMLElement:!1}function EA(t){return!mh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof hr(t).ShadowRoot}const BF=new Set(["inline","contents"]);function $c(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=$r(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!BF.has(i)}const jF=new Set(["table","td","th"]);function FF(t){return jF.has(rl(t))}const qF=[":popover-open",":modal"];function ph(t){return qF.some(e=>{try{return t.matches(e)}catch{return!1}})}const KF=["transform","translate","scale","rotate","perspective"],GF=["transform","translate","scale","rotate","perspective","filter"],VF=["paint","layout","strict","content"];function Zv(t){const e=eb(),n=Qr(t)?$r(t):t;return KF.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||GF.some(o=>(n.willChange||"").includes(o))||VF.some(o=>(n.contain||"").includes(o))}function YF(t){let e=za(t);for(;vo(e)&&!qs(e);){if(Zv(e))return e;if(ph(e))return null;e=za(e)}return null}function eb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const QF=new Set(["html","body","#document"]);function qs(t){return QF.has(rl(t))}function $r(t){return hr(t).getComputedStyle(t)}function gh(t){return Qr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function za(t){if(rl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||EA(t)&&t.host||bo(t);return EA(e)?e.host:e}function JO(t){const e=za(t);return qs(e)?t.ownerDocument?t.ownerDocument.body:t.body:vo(e)&&$c(e)?e:JO(e)}function Dc(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=JO(t),l=i===((o=t.ownerDocument)==null?void 0:o.body),c=hr(i);if(l){const d=oy(c);return e.concat(c,c.visualViewport||[],$c(i)?i:[],d&&n?Dc(d):[])}return e.concat(i,Dc(i,[],n))}function oy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ZO(t){const e=$r(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=vo(t),l=i?t.offsetWidth:n,c=i?t.offsetHeight:o,d=Tf(n)!==l||Tf(o)!==c;return d&&(n=l,o=c),{width:n,height:o,$:d}}function tb(t){return Qr(t)?t:t.contextElement}function Ls(t){const e=tb(t);if(!vo(e))return go(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:l}=ZO(e);let c=(l?Tf(n.width):n.width)/o,d=(l?Tf(n.height):n.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const $F=go(0);function eI(t){const e=hr(t);return!eb()||!e.visualViewport?$F:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function XF(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==hr(t)?!1:e}function ki(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),l=tb(t);let c=go(1);e&&(o?Qr(o)&&(c=Ls(o)):c=Ls(t));const d=XF(l,n,o)?eI(l):go(0);let f=(i.left+d.x)/c.x,m=(i.top+d.y)/c.y,g=i.width/c.x,y=i.height/c.y;if(l){const v=hr(l),E=o&&Qr(o)?hr(o):o;let w=v,S=oy(w);for(;S&&o&&E!==w;){const T=Ls(S),R=S.getBoundingClientRect(),O=$r(S),x=R.left+(S.clientLeft+parseFloat(O.paddingLeft))*T.x,B=R.top+(S.clientTop+parseFloat(O.paddingTop))*T.y;f*=T.x,m*=T.y,g*=T.x,y*=T.y,f+=x,m+=B,w=hr(S),S=oy(w)}}return _f({width:g,height:y,x:f,y:m})}function yh(t,e){const n=gh(t).scrollLeft;return e?e.left+n:ki(bo(t)).left+n}function tI(t,e){const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-yh(t,n),i=n.top+e.scrollTop;return{x:o,y:i}}function WF(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const l=i==="fixed",c=bo(o),d=e?ph(e.floating):!1;if(o===c||d&&l)return n;let f={scrollLeft:0,scrollTop:0},m=go(1);const g=go(0),y=vo(o);if((y||!y&&!l)&&((rl(o)!=="body"||$c(c))&&(f=gh(o)),vo(o))){const E=ki(o);m=Ls(o),g.x=E.x+o.clientLeft,g.y=E.y+o.clientTop}const v=c&&!y&&!l?tI(c,f):go(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-f.scrollLeft*m.x+g.x+v.x,y:n.y*m.y-f.scrollTop*m.y+g.y+v.y}}function JF(t){return Array.from(t.getClientRects())}function ZF(t){const e=bo(t),n=gh(t),o=t.ownerDocument.body,i=cr(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),l=cr(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let c=-n.scrollLeft+yh(t);const d=-n.scrollTop;return $r(o).direction==="rtl"&&(c+=cr(e.clientWidth,o.clientWidth)-i),{width:i,height:l,x:c,y:d}}const SA=25;function e5(t,e){const n=hr(t),o=bo(t),i=n.visualViewport;let l=o.clientWidth,c=o.clientHeight,d=0,f=0;if(i){l=i.width,c=i.height;const g=eb();(!g||g&&e==="fixed")&&(d=i.offsetLeft,f=i.offsetTop)}const m=yh(o);if(m<=0){const g=o.ownerDocument,y=g.body,v=getComputedStyle(y),E=g.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,w=Math.abs(o.clientWidth-y.clientWidth-E);w<=SA&&(l-=w)}else m<=SA&&(l+=m);return{width:l,height:c,x:d,y:f}}const t5=new Set(["absolute","fixed"]);function n5(t,e){const n=ki(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,l=vo(t)?Ls(t):go(1),c=t.clientWidth*l.x,d=t.clientHeight*l.y,f=i*l.x,m=o*l.y;return{width:c,height:d,x:f,y:m}}function wA(t,e,n){let o;if(e==="viewport")o=e5(t,n);else if(e==="document")o=ZF(bo(t));else if(Qr(e))o=n5(e,n);else{const i=eI(t);o={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return _f(o)}function nI(t,e){const n=za(t);return n===e||!Qr(n)||qs(n)?!1:$r(n).position==="fixed"||nI(n,e)}function r5(t,e){const n=e.get(t);if(n)return n;let o=Dc(t,[],!1).filter(d=>Qr(d)&&rl(d)!=="body"),i=null;const l=$r(t).position==="fixed";let c=l?za(t):t;for(;Qr(c)&&!qs(c);){const d=$r(c),f=Zv(c);!f&&d.position==="fixed"&&(i=null),(l?!f&&!i:!f&&d.position==="static"&&!!i&&t5.has(i.position)||$c(c)&&!f&&nI(t,c))?o=o.filter(g=>g!==c):i=d,c=za(c)}return e.set(t,o),o}function o5(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const c=[...n==="clippingAncestors"?ph(e)?[]:r5(e,this._c):[].concat(n),o],d=c[0],f=c.reduce((m,g)=>{const y=wA(e,g,i);return m.top=cr(y.top,m.top),m.right=Ha(y.right,m.right),m.bottom=Ha(y.bottom,m.bottom),m.left=cr(y.left,m.left),m},wA(e,d,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function a5(t){const{width:e,height:n}=ZO(t);return{width:e,height:n}}function i5(t,e,n){const o=vo(e),i=bo(e),l=n==="fixed",c=ki(t,!0,l,e);let d={scrollLeft:0,scrollTop:0};const f=go(0);function m(){f.x=yh(i)}if(o||!o&&!l)if((rl(e)!=="body"||$c(i))&&(d=gh(e)),o){const E=ki(e,!0,l,e);f.x=E.x+e.clientLeft,f.y=E.y+e.clientTop}else i&&m();l&&!o&&i&&m();const g=i&&!o&&!l?tI(i,d):go(0),y=c.left+d.scrollLeft-f.x-g.x,v=c.top+d.scrollTop-f.y-g.y;return{x:y,y:v,width:c.width,height:c.height}}function og(t){return $r(t).position==="static"}function TA(t,e){if(!vo(t)||$r(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return bo(t)===n&&(n=n.ownerDocument.body),n}function rI(t,e){const n=hr(t);if(ph(t))return n;if(!vo(t)){let i=za(t);for(;i&&!qs(i);){if(Qr(i)&&!og(i))return i;i=za(i)}return n}let o=TA(t,e);for(;o&&FF(o)&&og(o);)o=TA(o,e);return o&&qs(o)&&og(o)&&!Zv(o)?n:o||YF(t)||n}const s5=async function(t){const e=this.getOffsetParent||rI,n=this.getDimensions,o=await n(t.floating);return{reference:i5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function l5(t){return $r(t).direction==="rtl"}const c5={convertOffsetParentRelativeRectToViewportRelativeRect:WF,getDocumentElement:bo,getClippingRect:o5,getOffsetParent:rI,getElementRects:s5,getClientRects:JF,getDimensions:a5,getScale:Ls,isElement:Qr,isRTL:l5};function oI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function u5(t,e){let n=null,o;const i=bo(t);function l(){var d;clearTimeout(o),(d=n)==null||d.disconnect(),n=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const m=t.getBoundingClientRect(),{left:g,top:y,width:v,height:E}=m;if(d||e(),!v||!E)return;const w=wd(y),S=wd(i.clientWidth-(g+v)),T=wd(i.clientHeight-(y+E)),R=wd(g),x={rootMargin:-w+"px "+-S+"px "+-T+"px "+-R+"px",threshold:cr(0,Ha(1,f))||1};let B=!0;function L(J){const I=J[0].intersectionRatio;if(I!==f){if(!B)return c();I?c(!1,I):o=setTimeout(()=>{c(!1,1e-7)},1e3)}I===1&&!oI(m,t.getBoundingClientRect())&&c(),B=!1}try{n=new IntersectionObserver(L,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(L,x)}n.observe(t)}return c(!0),l}function d5(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=o,m=tb(t),g=i||l?[...m?Dc(m):[],...Dc(e)]:[];g.forEach(R=>{i&&R.addEventListener("scroll",n,{passive:!0}),l&&R.addEventListener("resize",n)});const y=m&&d?u5(m,n):null;let v=-1,E=null;c&&(E=new ResizeObserver(R=>{let[O]=R;O&&O.target===m&&E&&(E.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var x;(x=E)==null||x.observe(e)})),n()}),m&&!f&&E.observe(m),E.observe(e));let w,S=f?ki(t):null;f&&T();function T(){const R=ki(t);S&&!oI(S,R)&&n(),S=R,w=requestAnimationFrame(T)}return n(),()=>{var R;g.forEach(O=>{i&&O.removeEventListener("scroll",n),l&&O.removeEventListener("resize",n)}),y?.(),(R=E)==null||R.disconnect(),E=null,f&&cancelAnimationFrame(w)}}const f5=LF,h5=UF,m5=MF,p5=zF,g5=PF,AA=NF,y5=HF,v5=(t,e,n)=>{const o=new Map,i={platform:c5,...n},l={...i.platform,_c:o};return kF(t,e,{...i,platform:l})};var b5=typeof document<"u",C5=function(){},Bd=b5?b.useLayoutEffect:C5;function Rf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,o,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!Rf(t[o],e[o]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,i[o]))return!1;for(o=n;o--!==0;){const l=i[o];if(!(l==="_owner"&&t.$$typeof)&&!Rf(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function aI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function _A(t,e){const n=aI(t);return Math.round(e*n)/n}function ag(t){const e=b.useRef(t);return Bd(()=>{e.current=t}),e}function E5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:i,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:f,open:m}=t,[g,y]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,E]=b.useState(o);Rf(v,o)||E(o);const[w,S]=b.useState(null),[T,R]=b.useState(null),O=b.useCallback(z=>{z!==J.current&&(J.current=z,S(z))},[]),x=b.useCallback(z=>{z!==I.current&&(I.current=z,R(z))},[]),B=l||w,L=c||T,J=b.useRef(null),I=b.useRef(null),j=b.useRef(g),se=f!=null,he=ag(f),ge=ag(i),ve=ag(m),we=b.useCallback(()=>{if(!J.current||!I.current)return;const z={placement:e,strategy:n,middleware:v};ge.current&&(z.platform=ge.current),v5(J.current,I.current,z).then(de=>{const N={...de,isPositioned:ve.current!==!1};be.current&&!Rf(j.current,N)&&(j.current=N,Ys.flushSync(()=>{y(N)}))})},[v,e,n,ge,ve]);Bd(()=>{m===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,y(z=>({...z,isPositioned:!1})))},[m]);const be=b.useRef(!1);Bd(()=>(be.current=!0,()=>{be.current=!1}),[]),Bd(()=>{if(B&&(J.current=B),L&&(I.current=L),B&&L){if(he.current)return he.current(B,L,we);we()}},[B,L,we,he,se]);const me=b.useMemo(()=>({reference:J,floating:I,setReference:O,setFloating:x}),[O,x]),P=b.useMemo(()=>({reference:B,floating:L}),[B,L]),$=b.useMemo(()=>{const z={position:n,left:0,top:0};if(!P.floating)return z;const de=_A(P.floating,g.x),N=_A(P.floating,g.y);return d?{...z,transform:"translate("+de+"px, "+N+"px)",...aI(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:de,top:N}},[n,d,P.floating,g.x,g.y]);return b.useMemo(()=>({...g,update:we,refs:me,elements:P,floatingStyles:$}),[g,we,me,P,$])}const S5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:i}=typeof t=="function"?t(n):t;return o&&e(o)?o.current!=null?AA({element:o.current,padding:i}).fn(n):{}:o?AA({element:o,padding:i}).fn(n):{}}}},w5=(t,e)=>({...f5(t),options:[t,e]}),T5=(t,e)=>({...h5(t),options:[t,e]}),A5=(t,e)=>({...y5(t),options:[t,e]}),_5=(t,e)=>({...m5(t),options:[t,e]}),R5=(t,e)=>({...p5(t),options:[t,e]}),O5=(t,e)=>({...g5(t),options:[t,e]}),I5=(t,e)=>({...S5(t),options:[t,e]});var x5="Arrow",iI=b.forwardRef((t,e)=>{const{children:n,width:o=10,height:i=5,...l}=t;return _.jsx(Mt.svg,{...l,ref:e,width:o,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:_.jsx("polygon",{points:"0,0 30,0 15,10"})})});iI.displayName=x5;var k5=iI;function N5(t){const[e,n]=b.useState(void 0);return In(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const o=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let c,d;if("borderBoxSize"in l){const f=l.borderBoxSize,m=Array.isArray(f)?f[0]:f;c=m.inlineSize,d=m.blockSize}else c=t.offsetWidth,d=t.offsetHeight;n({width:c,height:d})});return o.observe(t,{box:"border-box"}),()=>o.unobserve(t)}else n(void 0)},[t]),e}var nb="Popper",[sI,vh]=fh(nb),[M5,lI]=sI(nb),cI=t=>{const{__scopePopper:e,children:n}=t,[o,i]=b.useState(null);return _.jsx(M5,{scope:e,anchor:o,onAnchorChange:i,children:n})};cI.displayName=nb;var uI="PopperAnchor",dI=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:o,...i}=t,l=lI(uI,n),c=b.useRef(null),d=Wt(e,c),f=b.useRef(null);return b.useEffect(()=>{const m=f.current;f.current=o?.current||c.current,m!==f.current&&l.onAnchorChange(f.current)}),o?null:_.jsx(Mt.div,{...i,ref:d})});dI.displayName=uI;var rb="PopperContent",[P5,D5]=sI(rb),fI=b.forwardRef((t,e)=>{const{__scopePopper:n,side:o="bottom",sideOffset:i=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:y="partial",hideWhenDetached:v=!1,updatePositionStrategy:E="optimized",onPlaced:w,...S}=t,T=lI(rb,n),[R,O]=b.useState(null),x=Wt(e,ce=>O(ce)),[B,L]=b.useState(null),J=N5(B),I=J?.width??0,j=J?.height??0,se=o+(l!=="center"?"-"+l:""),he=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},ge=Array.isArray(m)?m:[m],ve=ge.length>0,we={padding:he,boundary:ge.filter(U5),altBoundary:ve},{refs:be,floatingStyles:me,placement:P,isPositioned:$,middlewareData:z}=E5({strategy:"fixed",placement:se,whileElementsMounted:(...ce)=>d5(...ce,{animationFrame:E==="always"}),elements:{reference:T.anchor},middleware:[w5({mainAxis:i+j,alignmentAxis:c}),f&&T5({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?A5():void 0,...we}),f&&_5({...we}),R5({...we,apply:({elements:ce,rects:ye,availableWidth:We,availableHeight:Ke})=>{const{width:Ve,height:Le}=ye.reference,wt=ce.floating.style;wt.setProperty("--radix-popper-available-width",`${We}px`),wt.setProperty("--radix-popper-available-height",`${Ke}px`),wt.setProperty("--radix-popper-anchor-width",`${Ve}px`),wt.setProperty("--radix-popper-anchor-height",`${Le}px`)}}),B&&I5({element:B,padding:d}),H5({arrowWidth:I,arrowHeight:j}),v&&O5({strategy:"referenceHidden",...we})]}),[de,N]=pI(P),X=xi(w);In(()=>{$&&X?.()},[$,X]);const ie=z.arrow?.x,Q=z.arrow?.y,ne=z.arrow?.centerOffset!==0,[pe,Ce]=b.useState();return In(()=>{R&&Ce(window.getComputedStyle(R).zIndex)},[R]),_.jsx("div",{ref:be.setFloating,"data-radix-popper-content-wrapper":"",style:{...me,transform:$?me.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pe,"--radix-popper-transform-origin":[z.transformOrigin?.x,z.transformOrigin?.y].join(" "),...z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:_.jsx(P5,{scope:n,placedSide:de,onArrowChange:L,arrowX:ie,arrowY:Q,shouldHideArrow:ne,children:_.jsx(Mt.div,{"data-side":de,"data-align":N,...S,ref:x,style:{...S.style,animation:$?void 0:"none"}})})})});fI.displayName=rb;var hI="PopperArrow",L5={top:"bottom",right:"left",bottom:"top",left:"right"},mI=b.forwardRef(function(e,n){const{__scopePopper:o,...i}=e,l=D5(hI,o),c=L5[l.placedSide];return _.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:_.jsx(k5,{...i,ref:n,style:{...i.style,display:"block"}})})});mI.displayName=hI;function U5(t){return t!==null}var H5=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:o,middlewareData:i}=e,c=i.arrow?.centerOffset!==0,d=c?0:t.arrowWidth,f=c?0:t.arrowHeight,[m,g]=pI(n),y={start:"0%",center:"50%",end:"100%"}[g],v=(i.arrow?.x??0)+d/2,E=(i.arrow?.y??0)+f/2;let w="",S="";return m==="bottom"?(w=c?y:`${v}px`,S=`${-f}px`):m==="top"?(w=c?y:`${v}px`,S=`${o.floating.height+f}px`):m==="right"?(w=`${-f}px`,S=c?y:`${E}px`):m==="left"&&(w=`${o.floating.width+f}px`,S=c?y:`${E}px`),{data:{x:w,y:S}}}});function pI(t){const[e,n="center"]=t.split("-");return[e,n]}var gI=cI,ob=dI,yI=fI,vI=mI,z5="Portal",ab=b.forwardRef((t,e)=>{const{container:n,...o}=t,[i,l]=b.useState(!1);In(()=>l(!0),[]);const c=n||i&&globalThis?.document?.body;return c?y_.createPortal(_.jsx(Mt.div,{...o,ref:e}),c):null});ab.displayName=z5;function B5(t,e){return b.useReducer((n,o)=>e[n][o]??n,t)}var ib=t=>{const{present:e,children:n}=t,o=j5(e),i=typeof n=="function"?n({present:o.isPresent}):b.Children.only(n),l=Wt(o.ref,F5(i));return typeof n=="function"||o.isPresent?b.cloneElement(i,{ref:l}):null};ib.displayName="Presence";function j5(t){const[e,n]=b.useState(),o=b.useRef(null),i=b.useRef(t),l=b.useRef("none"),c=t?"mounted":"unmounted",[d,f]=B5(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const m=Td(o.current);l.current=d==="mounted"?m:"none"},[d]),In(()=>{const m=o.current,g=i.current;if(g!==t){const v=l.current,E=Td(m);t?f("MOUNT"):E==="none"||m?.display==="none"?f("UNMOUNT"):f(g&&v!==E?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,f]),In(()=>{if(e){let m;const g=e.ownerDocument.defaultView??window,y=E=>{const S=Td(o.current).includes(CSS.escape(E.animationName));if(E.target===e&&S&&(f("ANIMATION_END"),!i.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",m=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},v=E=>{E.target===e&&(l.current=Td(o.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{g.clearTimeout(m),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:b.useCallback(m=>{o.current=m?getComputedStyle(m):null,n(m)},[])}}function Td(t){return t?.animationName||"none"}function F5(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var q5=hy[" useInsertionEffect ".trim().toString()]||In;function ay({prop:t,defaultProp:e,onChange:n=()=>{},caller:o}){const[i,l,c]=K5({defaultProp:e,onChange:n}),d=t!==void 0,f=d?t:i;{const g=b.useRef(t!==void 0);b.useEffect(()=>{const y=g.current;y!==d&&console.warn(`${o} is changing from ${y?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,o])}const m=b.useCallback(g=>{if(d){const y=G5(g)?g(t):g;y!==t&&c.current?.(y)}else l(g)},[d,t,l,c]);return[f,m]}function K5({defaultProp:t,onChange:e}){const[n,o]=b.useState(t),i=b.useRef(n),l=b.useRef(e);return q5(()=>{l.current=e},[e]),b.useEffect(()=>{i.current!==n&&(l.current?.(n),i.current=n)},[n,i]),[n,o,l]}function G5(t){return typeof t=="function"}var V5=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Es=new WeakMap,Ad=new WeakMap,_d={},ig=0,bI=function(t){return t&&(t.host||bI(t.parentNode))},Y5=function(t,e){return e.map(function(n){if(t.contains(n))return n;var o=bI(n);return o&&t.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Q5=function(t,e,n,o){var i=Y5(e,Array.isArray(t)?t:[t]);_d[n]||(_d[n]=new WeakMap);var l=_d[n],c=[],d=new Set,f=new Set(i),m=function(y){!y||d.has(y)||(d.add(y),m(y.parentNode))};i.forEach(m);var g=function(y){!y||f.has(y)||Array.prototype.forEach.call(y.children,function(v){if(d.has(v))g(v);else try{var E=v.getAttribute(o),w=E!==null&&E!=="false",S=(Es.get(v)||0)+1,T=(l.get(v)||0)+1;Es.set(v,S),l.set(v,T),c.push(v),S===1&&w&&Ad.set(v,!0),T===1&&v.setAttribute(n,"true"),w||v.setAttribute(o,"true")}catch(R){console.error("aria-hidden: cannot operate on ",v,R)}})};return g(e),d.clear(),ig++,function(){c.forEach(function(y){var v=Es.get(y)-1,E=l.get(y)-1;Es.set(y,v),l.set(y,E),v||(Ad.has(y)||y.removeAttribute(o),Ad.delete(y)),E||y.removeAttribute(n)}),ig--,ig||(Es=new WeakMap,Es=new WeakMap,Ad=new WeakMap,_d={})}},CI=function(t,e,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),i=V5(t);return i?(o.push.apply(o,Array.from(i.querySelectorAll("[aria-live], script"))),Q5(o,i,n,"aria-hidden")):function(){return null}},ho=function(){return ho=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},ho.apply(this,arguments)};function EI(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(n[o[i]]=t[o[i]]);return n}function $5(t,e,n){if(n||arguments.length===2)for(var o=0,i=e.length,l;o<i;o++)(l||!(o in e))&&(l||(l=Array.prototype.slice.call(e,0,o)),l[o]=e[o]);return t.concat(l||Array.prototype.slice.call(e))}var jd="right-scroll-bar-position",Fd="width-before-scroll-bar",X5="with-scroll-bars-hidden",W5="--removed-body-scroll-bar-size";function sg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function J5(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(o){var i=n.value;i!==o&&(n.value=o,n.callback(o,i))}}}})[0];return n.callback=e,n.facade}var Z5=typeof window<"u"?b.useLayoutEffect:b.useEffect,RA=new WeakMap;function e3(t,e){var n=J5(null,function(o){return t.forEach(function(i){return sg(i,o)})});return Z5(function(){var o=RA.get(n);if(o){var i=new Set(o),l=new Set(t),c=n.current;i.forEach(function(d){l.has(d)||sg(d,null)}),l.forEach(function(d){i.has(d)||sg(d,c)})}RA.set(n,t)},[t]),n}function t3(t){return t}function n3(t,e){e===void 0&&(e=t3);var n=[],o=!1,i={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var c=e(l,o);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(o=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){o=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(l),c=n}var f=function(){var g=c;c=[],g.forEach(l)},m=function(){return Promise.resolve().then(f)};m(),n={push:function(g){c.push(g),m()},filter:function(g){return c=c.filter(g),n}}}};return i}function r3(t){t===void 0&&(t={});var e=n3(null);return e.options=ho({async:!0,ssr:!1},t),e}var SI=function(t){var e=t.sideCar,n=EI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=e.read();if(!o)throw new Error("Sidecar medium not found");return b.createElement(o,ho({},n))};SI.isSideCarExport=!0;function o3(t,e){return t.useMedium(e),SI}var wI=r3(),lg=function(){},bh=b.forwardRef(function(t,e){var n=b.useRef(null),o=b.useState({onScrollCapture:lg,onWheelCapture:lg,onTouchMoveCapture:lg}),i=o[0],l=o[1],c=t.forwardProps,d=t.children,f=t.className,m=t.removeScrollBar,g=t.enabled,y=t.shards,v=t.sideCar,E=t.noRelative,w=t.noIsolation,S=t.inert,T=t.allowPinchZoom,R=t.as,O=R===void 0?"div":R,x=t.gapMode,B=EI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=v,J=e3([n,e]),I=ho(ho({},B),i);return b.createElement(b.Fragment,null,g&&b.createElement(L,{sideCar:wI,removeScrollBar:m,shards:y,noRelative:E,noIsolation:w,inert:S,setCallbacks:l,allowPinchZoom:!!T,lockRef:n,gapMode:x}),c?b.cloneElement(b.Children.only(d),ho(ho({},I),{ref:J})):b.createElement(O,ho({},I,{className:f,ref:J}),d))});bh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bh.classNames={fullWidth:Fd,zeroRight:jd};var a3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function i3(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=a3();return e&&t.setAttribute("nonce",e),t}function s3(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function l3(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var c3=function(){var t=0,e=null;return{add:function(n){t==0&&(e=i3())&&(s3(e,n),l3(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},u3=function(){var t=c3();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},TI=function(){var t=u3(),e=function(n){var o=n.styles,i=n.dynamic;return t(o,i),null};return e},d3={left:0,top:0,right:0,gap:0},cg=function(t){return parseInt(t||"",10)||0},f3=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],o=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[cg(n),cg(o),cg(i)]},h3=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return d3;var e=f3(t),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,o-n+e[2]-e[0])}},m3=TI(),Us="data-scroll-locked",p3=function(t,e,n,o){var i=t.left,l=t.top,c=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(X5,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(d,"px ").concat(o,`;
  }
  body[`).concat(Us,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jd,` {
    right: `).concat(d,"px ").concat(o,`;
  }
  
  .`).concat(Fd,` {
    margin-right: `).concat(d,"px ").concat(o,`;
  }
  
  .`).concat(jd," .").concat(jd,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Fd," .").concat(Fd,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Us,`] {
    `).concat(W5,": ").concat(d,`px;
  }
`)},OA=function(){var t=parseInt(document.body.getAttribute(Us)||"0",10);return isFinite(t)?t:0},g3=function(){b.useEffect(function(){return document.body.setAttribute(Us,(OA()+1).toString()),function(){var t=OA()-1;t<=0?document.body.removeAttribute(Us):document.body.setAttribute(Us,t.toString())}},[])},y3=function(t){var e=t.noRelative,n=t.noImportant,o=t.gapMode,i=o===void 0?"margin":o;g3();var l=b.useMemo(function(){return h3(i)},[i]);return b.createElement(m3,{styles:p3(l,!e,i,n?"":"!important")})},iy=!1;if(typeof window<"u")try{var Rd=Object.defineProperty({},"passive",{get:function(){return iy=!0,!0}});window.addEventListener("test",Rd,Rd),window.removeEventListener("test",Rd,Rd)}catch{iy=!1}var Ss=iy?{passive:!1}:!1,v3=function(t){return t.tagName==="TEXTAREA"},AI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!v3(t)&&n[e]==="visible")},b3=function(t){return AI(t,"overflowY")},C3=function(t){return AI(t,"overflowX")},IA=function(t,e){var n=e.ownerDocument,o=e;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var i=_I(t,o);if(i){var l=RI(t,o),c=l[1],d=l[2];if(c>d)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},E3=function(t){var e=t.scrollTop,n=t.scrollHeight,o=t.clientHeight;return[e,n,o]},S3=function(t){var e=t.scrollLeft,n=t.scrollWidth,o=t.clientWidth;return[e,n,o]},_I=function(t,e){return t==="v"?b3(e):C3(e)},RI=function(t,e){return t==="v"?E3(e):S3(e)},w3=function(t,e){return t==="h"&&e==="rtl"?-1:1},T3=function(t,e,n,o,i){var l=w3(t,window.getComputedStyle(e).direction),c=l*o,d=n.target,f=e.contains(d),m=!1,g=c>0,y=0,v=0;do{if(!d)break;var E=RI(t,d),w=E[0],S=E[1],T=E[2],R=S-T-l*w;(w||R)&&_I(t,d)&&(y+=R,v+=w);var O=d.parentNode;d=O&&O.nodeType===Node.DOCUMENT_FRAGMENT_NODE?O.host:O}while(!f&&d!==document.body||f&&(e.contains(d)||e===d));return(g&&Math.abs(y)<1||!g&&Math.abs(v)<1)&&(m=!0),m},Od=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},xA=function(t){return[t.deltaX,t.deltaY]},kA=function(t){return t&&"current"in t?t.current:t},A3=function(t,e){return t[0]===e[0]&&t[1]===e[1]},_3=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},R3=0,ws=[];function O3(t){var e=b.useRef([]),n=b.useRef([0,0]),o=b.useRef(),i=b.useState(R3++)[0],l=b.useState(TI)[0],c=b.useRef(t);b.useEffect(function(){c.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var S=$5([t.lockRef.current],(t.shards||[]).map(kA),!0).filter(Boolean);return S.forEach(function(T){return T.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),S.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var d=b.useCallback(function(S,T){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!c.current.allowPinchZoom;var R=Od(S),O=n.current,x="deltaX"in S?S.deltaX:O[0]-R[0],B="deltaY"in S?S.deltaY:O[1]-R[1],L,J=S.target,I=Math.abs(x)>Math.abs(B)?"h":"v";if("touches"in S&&I==="h"&&J.type==="range")return!1;var j=window.getSelection(),se=j&&j.anchorNode,he=se?se===J||se.contains(J):!1;if(he)return!1;var ge=IA(I,J);if(!ge)return!0;if(ge?L=I:(L=I==="v"?"h":"v",ge=IA(I,J)),!ge)return!1;if(!o.current&&"changedTouches"in S&&(x||B)&&(o.current=L),!L)return!0;var ve=o.current||L;return T3(ve,T,S,ve==="h"?x:B)},[]),f=b.useCallback(function(S){var T=S;if(!(!ws.length||ws[ws.length-1]!==l)){var R="deltaY"in T?xA(T):Od(T),O=e.current.filter(function(L){return L.name===T.type&&(L.target===T.target||T.target===L.shadowParent)&&A3(L.delta,R)})[0];if(O&&O.should){T.cancelable&&T.preventDefault();return}if(!O){var x=(c.current.shards||[]).map(kA).filter(Boolean).filter(function(L){return L.contains(T.target)}),B=x.length>0?d(T,x[0]):!c.current.noIsolation;B&&T.cancelable&&T.preventDefault()}}},[]),m=b.useCallback(function(S,T,R,O){var x={name:S,delta:T,target:R,should:O,shadowParent:I3(R)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(B){return B!==x})},1)},[]),g=b.useCallback(function(S){n.current=Od(S),o.current=void 0},[]),y=b.useCallback(function(S){m(S.type,xA(S),S.target,d(S,t.lockRef.current))},[]),v=b.useCallback(function(S){m(S.type,Od(S),S.target,d(S,t.lockRef.current))},[]);b.useEffect(function(){return ws.push(l),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:v}),document.addEventListener("wheel",f,Ss),document.addEventListener("touchmove",f,Ss),document.addEventListener("touchstart",g,Ss),function(){ws=ws.filter(function(S){return S!==l}),document.removeEventListener("wheel",f,Ss),document.removeEventListener("touchmove",f,Ss),document.removeEventListener("touchstart",g,Ss)}},[]);var E=t.removeScrollBar,w=t.inert;return b.createElement(b.Fragment,null,w?b.createElement(l,{styles:_3(i)}):null,E?b.createElement(y3,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function I3(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const x3=o3(wI,O3);var sb=b.forwardRef(function(t,e){return b.createElement(bh,ho({},t,{ref:e,sideCar:x3}))});sb.classNames=bh.classNames;var Ch="Popover",[OI,QG]=fh(Ch,[vh]),Xc=vh(),[k3,Fa]=OI(Ch),II=t=>{const{__scopePopover:e,children:n,open:o,defaultOpen:i,onOpenChange:l,modal:c=!1}=t,d=Xc(e),f=b.useRef(null),[m,g]=b.useState(!1),[y,v]=ay({prop:o,defaultProp:i??!1,onChange:l,caller:Ch});return _.jsx(gI,{...d,children:_.jsx(k3,{scope:e,contentId:hh(),triggerRef:f,open:y,onOpenChange:v,onOpenToggle:b.useCallback(()=>v(E=>!E),[v]),hasCustomAnchor:m,onCustomAnchorAdd:b.useCallback(()=>g(!0),[]),onCustomAnchorRemove:b.useCallback(()=>g(!1),[]),modal:c,children:n})})};II.displayName=Ch;var xI="PopoverAnchor",N3=b.forwardRef((t,e)=>{const{__scopePopover:n,...o}=t,i=Fa(xI,n),l=Xc(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=i;return b.useEffect(()=>(c(),()=>d()),[c,d]),_.jsx(ob,{...l,...o,ref:e})});N3.displayName=xI;var kI="PopoverTrigger",NI=b.forwardRef((t,e)=>{const{__scopePopover:n,...o}=t,i=Fa(kI,n),l=Xc(n),c=Wt(e,i.triggerRef),d=_.jsx(Mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":UI(i.open),...o,ref:c,onClick:At(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?d:_.jsx(ob,{asChild:!0,...l,children:d})});NI.displayName=kI;var lb="PopoverPortal",[M3,P3]=OI(lb,{forceMount:void 0}),MI=t=>{const{__scopePopover:e,forceMount:n,children:o,container:i}=t,l=Fa(lb,e);return _.jsx(M3,{scope:e,forceMount:n,children:_.jsx(ib,{present:n||l.open,children:_.jsx(ab,{asChild:!0,container:i,children:o})})})};MI.displayName=lb;var Ks="PopoverContent",PI=b.forwardRef((t,e)=>{const n=P3(Ks,t.__scopePopover),{forceMount:o=n.forceMount,...i}=t,l=Fa(Ks,t.__scopePopover);return _.jsx(ib,{present:o||l.open,children:l.modal?_.jsx(L3,{...i,ref:e}):_.jsx(U3,{...i,ref:e})})});PI.displayName=Ks;var D3=Mc("PopoverContent.RemoveScroll"),L3=b.forwardRef((t,e)=>{const n=Fa(Ks,t.__scopePopover),o=b.useRef(null),i=Wt(e,o),l=b.useRef(!1);return b.useEffect(()=>{const c=o.current;if(c)return CI(c)},[]),_.jsx(sb,{as:D3,allowPinchZoom:!0,children:_.jsx(DI,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:At(t.onCloseAutoFocus,c=>{c.preventDefault(),l.current||n.triggerRef.current?.focus()}),onPointerDownOutside:At(t.onPointerDownOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,m=d.button===2||f;l.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:At(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),U3=b.forwardRef((t,e)=>{const n=Fa(Ks,t.__scopePopover),o=b.useRef(!1),i=b.useRef(!1);return _.jsx(DI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(o.current||n.triggerRef.current?.focus(),l.preventDefault()),o.current=!1,i.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(o.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=l.target;n.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),DI=b.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:g,...y}=t,v=Fa(Ks,n),E=Xc(n);return YO(),_.jsx($v,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:l,children:_.jsx(Qv,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:g,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onDismiss:()=>v.onOpenChange(!1),children:_.jsx(yI,{"data-state":UI(v.open),role:"dialog",id:v.contentId,...E,...y,ref:e,style:{...y.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),LI="PopoverClose",H3=b.forwardRef((t,e)=>{const{__scopePopover:n,...o}=t,i=Fa(LI,n);return _.jsx(Mt.button,{type:"button",...o,ref:e,onClick:At(t.onClick,()=>i.onOpenChange(!1))})});H3.displayName=LI;var z3="PopoverArrow",B3=b.forwardRef((t,e)=>{const{__scopePopover:n,...o}=t,i=Xc(n);return _.jsx(vI,{...i,...o,ref:e})});B3.displayName=z3;function UI(t){return t?"open":"closed"}var j3=II,F3=NI,q3=MI,HI=PI;function zI(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=zI(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function cb(){for(var t,e,n=0,o="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=zI(t))&&(o&&(o+=" "),o+=e);return o}const K3=(t,e)=>{const n=new Array(t.length+e.length);for(let o=0;o<t.length;o++)n[o]=t[o];for(let o=0;o<e.length;o++)n[t.length+o]=e[o];return n},G3=(t,e)=>({classGroupId:t,validator:e}),BI=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Of="-",NA=[],V3="arbitrary..",Y3=t=>{const e=$3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return Q3(c);const d=c.split(Of),f=d[0]===""&&d.length>1?1:0;return jI(d,f,e)},getConflictingClassGroupIds:(c,d)=>{if(d){const f=o[c],m=n[c];return f?m?K3(m,f):f:m||NA}return n[c]||NA}}},jI=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],l=n.nextPart.get(i);if(l){const m=jI(t,e+1,l);if(m)return m}const c=n.validators;if(c===null)return;const d=e===0?t.join(Of):t.slice(e).join(Of),f=c.length;for(let m=0;m<f;m++){const g=c[m];if(g.validator(d))return g.classGroupId}},Q3=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),o=e.slice(0,n);return o?V3+o:void 0})(),$3=t=>{const{theme:e,classGroups:n}=t;return X3(n,e)},X3=(t,e)=>{const n=BI();for(const o in t){const i=t[o];ub(i,n,o,e)}return n},ub=(t,e,n,o)=>{const i=t.length;for(let l=0;l<i;l++){const c=t[l];W3(c,e,n,o)}},W3=(t,e,n,o)=>{if(typeof t=="string"){J3(t,e,n);return}if(typeof t=="function"){Z3(t,e,n,o);return}e6(t,e,n,o)},J3=(t,e,n)=>{const o=t===""?e:FI(e,t);o.classGroupId=n},Z3=(t,e,n,o)=>{if(t6(t)){ub(t(o),e,n,o);return}e.validators===null&&(e.validators=[]),e.validators.push(G3(n,t))},e6=(t,e,n,o)=>{const i=Object.entries(t),l=i.length;for(let c=0;c<l;c++){const[d,f]=i[c];ub(f,FI(e,d),n,o)}},FI=(t,e)=>{let n=t;const o=e.split(Of),i=o.length;for(let l=0;l<i;l++){const c=o[l];let d=n.nextPart.get(c);d||(d=BI(),n.nextPart.set(c,d)),n=d}return n},t6=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,n6=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),o=Object.create(null);const i=(l,c)=>{n[l]=c,e++,e>t&&(e=0,o=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=o[l])!==void 0)return i(l,c),c},set(l,c){l in n?n[l]=c:i(l,c)}}},sy="!",MA=":",r6=[],PA=(t,e,n,o,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:o,isExternal:i}),o6=t=>{const{prefix:e,experimentalParseClassName:n}=t;let o=i=>{const l=[];let c=0,d=0,f=0,m;const g=i.length;for(let S=0;S<g;S++){const T=i[S];if(c===0&&d===0){if(T===MA){l.push(i.slice(f,S)),f=S+1;continue}if(T==="/"){m=S;continue}}T==="["?c++:T==="]"?c--:T==="("?d++:T===")"&&d--}const y=l.length===0?i:i.slice(f);let v=y,E=!1;y.endsWith(sy)?(v=y.slice(0,-1),E=!0):y.startsWith(sy)&&(v=y.slice(1),E=!0);const w=m&&m>f?m-f:void 0;return PA(l,E,v,w)};if(e){const i=e+MA,l=o;o=c=>c.startsWith(i)?l(c.slice(i.length)):PA(r6,!1,c,void 0,!0)}if(n){const i=o;o=l=>n({className:l,parseClassName:i})}return o},a6=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,o)=>{e.set(n,1e6+o)}),n=>{const o=[];let i=[];for(let l=0;l<n.length;l++){const c=n[l],d=c[0]==="[",f=e.has(c);d||f?(i.length>0&&(i.sort(),o.push(...i),i=[]),o.push(c)):i.push(c)}return i.length>0&&(i.sort(),o.push(...i)),o}},i6=t=>({cache:n6(t.cacheSize),parseClassName:o6(t),sortModifiers:a6(t),...Y3(t)}),s6=/\s+/,l6=(t,e)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:i,sortModifiers:l}=e,c=[],d=t.trim().split(s6);let f="";for(let m=d.length-1;m>=0;m-=1){const g=d[m],{isExternal:y,modifiers:v,hasImportantModifier:E,baseClassName:w,maybePostfixModifierPosition:S}=n(g);if(y){f=g+(f.length>0?" "+f:f);continue}let T=!!S,R=o(T?w.substring(0,S):w);if(!R){if(!T){f=g+(f.length>0?" "+f:f);continue}if(R=o(w),!R){f=g+(f.length>0?" "+f:f);continue}T=!1}const O=v.length===0?"":v.length===1?v[0]:l(v).join(":"),x=E?O+sy:O,B=x+R;if(c.indexOf(B)>-1)continue;c.push(B);const L=i(R,T);for(let J=0;J<L.length;++J){const I=L[J];c.push(x+I)}f=g+(f.length>0?" "+f:f)}return f},c6=(...t)=>{let e=0,n,o,i="";for(;e<t.length;)(n=t[e++])&&(o=qI(n))&&(i&&(i+=" "),i+=o);return i},qI=t=>{if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=qI(t[o]))&&(n&&(n+=" "),n+=e);return n},u6=(t,...e)=>{let n,o,i,l;const c=f=>{const m=e.reduce((g,y)=>y(g),t());return n=i6(m),o=n.cache.get,i=n.cache.set,l=d,d(f)},d=f=>{const m=o(f);if(m)return m;const g=l6(f,n);return i(f,g),g};return l=c,(...f)=>l(c6(...f))},d6=[],tn=t=>{const e=n=>n[t]||d6;return e.isThemeGetter=!0,e},KI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,GI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,f6=/^\d+\/\d+$/,h6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,m6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,p6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,g6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,y6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ts=t=>f6.test(t),$e=t=>!!t&&!Number.isNaN(Number(t)),Sa=t=>!!t&&Number.isInteger(Number(t)),ug=t=>t.endsWith("%")&&$e(t.slice(0,-1)),Bo=t=>h6.test(t),v6=()=>!0,b6=t=>m6.test(t)&&!p6.test(t),VI=()=>!1,C6=t=>g6.test(t),E6=t=>y6.test(t),S6=t=>!_e(t)&&!Re(t),w6=t=>ol(t,$I,VI),_e=t=>KI.test(t),di=t=>ol(t,XI,b6),dg=t=>ol(t,O6,$e),DA=t=>ol(t,YI,VI),T6=t=>ol(t,QI,E6),Id=t=>ol(t,WI,C6),Re=t=>GI.test(t),ic=t=>al(t,XI),A6=t=>al(t,I6),LA=t=>al(t,YI),_6=t=>al(t,$I),R6=t=>al(t,QI),xd=t=>al(t,WI,!0),ol=(t,e,n)=>{const o=KI.exec(t);return o?o[1]?e(o[1]):n(o[2]):!1},al=(t,e,n=!1)=>{const o=GI.exec(t);return o?o[1]?e(o[1]):n:!1},YI=t=>t==="position"||t==="percentage",QI=t=>t==="image"||t==="url",$I=t=>t==="length"||t==="size"||t==="bg-size",XI=t=>t==="length",O6=t=>t==="number",I6=t=>t==="family-name",WI=t=>t==="shadow",x6=()=>{const t=tn("color"),e=tn("font"),n=tn("text"),o=tn("font-weight"),i=tn("tracking"),l=tn("leading"),c=tn("breakpoint"),d=tn("container"),f=tn("spacing"),m=tn("radius"),g=tn("shadow"),y=tn("inset-shadow"),v=tn("text-shadow"),E=tn("drop-shadow"),w=tn("blur"),S=tn("perspective"),T=tn("aspect"),R=tn("ease"),O=tn("animate"),x=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...B(),Re,_e],J=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],j=()=>[Re,_e,f],se=()=>[Ts,"full","auto",...j()],he=()=>[Sa,"none","subgrid",Re,_e],ge=()=>["auto",{span:["full",Sa,Re,_e]},Sa,Re,_e],ve=()=>[Sa,"auto",Re,_e],we=()=>["auto","min","max","fr",Re,_e],be=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],me=()=>["start","end","center","stretch","center-safe","end-safe"],P=()=>["auto",...j()],$=()=>[Ts,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],z=()=>[t,Re,_e],de=()=>[...B(),LA,DA,{position:[Re,_e]}],N=()=>["no-repeat",{repeat:["","x","y","space","round"]}],X=()=>["auto","cover","contain",_6,w6,{size:[Re,_e]}],ie=()=>[ug,ic,di],Q=()=>["","none","full",m,Re,_e],ne=()=>["",$e,ic,di],pe=()=>["solid","dashed","dotted","double"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[$e,ug,LA,DA],ye=()=>["","none",w,Re,_e],We=()=>["none",$e,Re,_e],Ke=()=>["none",$e,Re,_e],Ve=()=>[$e,Re,_e],Le=()=>[Ts,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Bo],breakpoint:[Bo],color:[v6],container:[Bo],"drop-shadow":[Bo],ease:["in","out","in-out"],font:[S6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Bo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Bo],shadow:[Bo],spacing:["px",$e],text:[Bo],"text-shadow":[Bo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ts,_e,Re,T]}],container:["container"],columns:[{columns:[$e,_e,Re,d]}],"break-after":[{"break-after":x()}],"break-before":[{"break-before":x()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:se()}],"inset-x":[{"inset-x":se()}],"inset-y":[{"inset-y":se()}],start:[{start:se()}],end:[{end:se()}],top:[{top:se()}],right:[{right:se()}],bottom:[{bottom:se()}],left:[{left:se()}],visibility:["visible","invisible","collapse"],z:[{z:[Sa,"auto",Re,_e]}],basis:[{basis:[Ts,"full","auto",d,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$e,Ts,"auto","initial","none",_e]}],grow:[{grow:["",$e,Re,_e]}],shrink:[{shrink:["",$e,Re,_e]}],order:[{order:[Sa,"first","last","none",Re,_e]}],"grid-cols":[{"grid-cols":he()}],"col-start-end":[{col:ge()}],"col-start":[{"col-start":ve()}],"col-end":[{"col-end":ve()}],"grid-rows":[{"grid-rows":he()}],"row-start-end":[{row:ge()}],"row-start":[{"row-start":ve()}],"row-end":[{"row-end":ve()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":we()}],"auto-rows":[{"auto-rows":we()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...be(),"normal"]}],"justify-items":[{"justify-items":[...me(),"normal"]}],"justify-self":[{"justify-self":["auto",...me()]}],"align-content":[{content:["normal",...be()]}],"align-items":[{items:[...me(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...me(),{baseline:["","last"]}]}],"place-content":[{"place-content":be()}],"place-items":[{"place-items":[...me(),"baseline"]}],"place-self":[{"place-self":["auto",...me()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:P()}],mx:[{mx:P()}],my:[{my:P()}],ms:[{ms:P()}],me:[{me:P()}],mt:[{mt:P()}],mr:[{mr:P()}],mb:[{mb:P()}],ml:[{ml:P()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:$()}],w:[{w:[d,"screen",...$()]}],"min-w":[{"min-w":[d,"screen","none",...$()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...$()]}],h:[{h:["screen","lh",...$()]}],"min-h":[{"min-h":["screen","lh","none",...$()]}],"max-h":[{"max-h":["screen","lh",...$()]}],"font-size":[{text:["base",n,ic,di]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,Re,dg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ug,_e]}],"font-family":[{font:[A6,_e,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Re,_e]}],"line-clamp":[{"line-clamp":[$e,"none",Re,dg]}],leading:[{leading:[l,...j()]}],"list-image":[{"list-image":["none",Re,_e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Re,_e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[$e,"from-font","auto",Re,di]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[$e,"auto",Re,_e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re,_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re,_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:de()}],"bg-repeat":[{bg:N()}],"bg-size":[{bg:X()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Sa,Re,_e],radial:["",Re,_e],conic:[Sa,Re,_e]},R6,T6]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:ie()}],"gradient-via-pos":[{via:ie()}],"gradient-to-pos":[{to:ie()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...pe(),"hidden","none"]}],"divide-style":[{divide:[...pe(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$e,Re,_e]}],"outline-w":[{outline:["",$e,ic,di]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",g,xd,Id]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",y,xd,Id]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[$e,di]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",v,xd,Id]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[$e,Re,_e]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$e]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[Re,_e]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":B()}],"mask-image-conic-pos":[{"mask-conic":[$e]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:de()}],"mask-repeat":[{mask:N()}],"mask-size":[{mask:X()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Re,_e]}],filter:[{filter:["","none",Re,_e]}],blur:[{blur:ye()}],brightness:[{brightness:[$e,Re,_e]}],contrast:[{contrast:[$e,Re,_e]}],"drop-shadow":[{"drop-shadow":["","none",E,xd,Id]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",$e,Re,_e]}],"hue-rotate":[{"hue-rotate":[$e,Re,_e]}],invert:[{invert:["",$e,Re,_e]}],saturate:[{saturate:[$e,Re,_e]}],sepia:[{sepia:["",$e,Re,_e]}],"backdrop-filter":[{"backdrop-filter":["","none",Re,_e]}],"backdrop-blur":[{"backdrop-blur":ye()}],"backdrop-brightness":[{"backdrop-brightness":[$e,Re,_e]}],"backdrop-contrast":[{"backdrop-contrast":[$e,Re,_e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$e,Re,_e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$e,Re,_e]}],"backdrop-invert":[{"backdrop-invert":["",$e,Re,_e]}],"backdrop-opacity":[{"backdrop-opacity":[$e,Re,_e]}],"backdrop-saturate":[{"backdrop-saturate":[$e,Re,_e]}],"backdrop-sepia":[{"backdrop-sepia":["",$e,Re,_e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Re,_e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$e,"initial",Re,_e]}],ease:[{ease:["linear","initial",R,Re,_e]}],delay:[{delay:[$e,Re,_e]}],animate:[{animate:["none",O,Re,_e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,Re,_e]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:We()}],"rotate-x":[{"rotate-x":We()}],"rotate-y":[{"rotate-y":We()}],"rotate-z":[{"rotate-z":We()}],scale:[{scale:Ke()}],"scale-x":[{"scale-x":Ke()}],"scale-y":[{"scale-y":Ke()}],"scale-z":[{"scale-z":Ke()}],"scale-3d":["scale-3d"],skew:[{skew:Ve()}],"skew-x":[{"skew-x":Ve()}],"skew-y":[{"skew-y":Ve()}],transform:[{transform:[Re,_e,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Le()}],"translate-x":[{"translate-x":Le()}],"translate-y":[{"translate-y":Le()}],"translate-z":[{"translate-z":Le()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re,_e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re,_e]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[$e,ic,di,dg]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},db=u6(x6);function k6(...t){return db(cb(t))}const $G=j3,XG=F3,N6=b.forwardRef(({className:t,align:e="center",sideOffset:n=4,glass:o=!0,...i},l)=>_.jsx(q3,{children:_.jsx(HI,{ref:l,align:e,sideOffset:n,className:k6("data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","z-50 w-72 rounded-xl p-4 shadow-md outline-none",o&&["backdrop-blur-2xl","bg-gradient-to-br from-[rgba(42,42,48,0.9)] to-[rgba(26,26,32,0.95)]","border border-[rgba(255,255,255,0.15)]","shadow-[0_20px_40px_rgba(0,0,0,0.5),inset_0_1px_2px_rgba(255,255,255,0.15),inset_0_-1px_2px_rgba(0,0,0,0.3)]","text-[#f9fafb]"],!o&&"bg-[#1a1a1d] border border-[rgba(255,255,255,0.12)] text-[#f9fafb]",t),...i})}));N6.displayName=HI.displayName;function UA(t,[e,n]){return Math.min(n,Math.max(e,t))}function M6(t){const e=t+"CollectionProvider",[n,o]=fh(e),[i,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=S=>{const{scope:T,children:R}=S,O=ue.useRef(null),x=ue.useRef(new Map).current;return _.jsx(i,{scope:T,itemMap:x,collectionRef:O,children:R})};c.displayName=e;const d=t+"CollectionSlot",f=Mc(d),m=ue.forwardRef((S,T)=>{const{scope:R,children:O}=S,x=l(d,R),B=Wt(T,x.collectionRef);return _.jsx(f,{ref:B,children:O})});m.displayName=d;const g=t+"CollectionItemSlot",y="data-radix-collection-item",v=Mc(g),E=ue.forwardRef((S,T)=>{const{scope:R,children:O,...x}=S,B=ue.useRef(null),L=Wt(T,B),J=l(g,R);return ue.useEffect(()=>(J.itemMap.set(B,{ref:B,...x}),()=>{J.itemMap.delete(B)})),_.jsx(v,{[y]:"",ref:L,children:O})});E.displayName=g;function w(S){const T=l(t+"CollectionConsumer",S);return ue.useCallback(()=>{const O=T.collectionRef.current;if(!O)return[];const x=Array.from(O.querySelectorAll(`[${y}]`));return Array.from(T.itemMap.values()).sort((J,I)=>x.indexOf(J.ref.current)-x.indexOf(I.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:c,Slot:m,ItemSlot:E},w,o]}var P6=b.createContext(void 0);function D6(t){const e=b.useContext(P6);return t||e||"ltr"}function L6(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var JI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),U6="VisuallyHidden",H6=b.forwardRef((t,e)=>_.jsx(Mt.span,{...t,ref:e,style:{...JI,...t.style}}));H6.displayName=U6;var z6=[" ","Enter","ArrowUp","ArrowDown"],B6=[" ","Enter"],Ni="Select",[Eh,Sh,j6]=M6(Ni),[il,WG]=fh(Ni,[j6,vh]),wh=vh(),[F6,qa]=il(Ni),[q6,K6]=il(Ni),ZI=t=>{const{__scopeSelect:e,children:n,open:o,defaultOpen:i,onOpenChange:l,value:c,defaultValue:d,onValueChange:f,dir:m,name:g,autoComplete:y,disabled:v,required:E,form:w}=t,S=wh(e),[T,R]=b.useState(null),[O,x]=b.useState(null),[B,L]=b.useState(!1),J=D6(m),[I,j]=ay({prop:o,defaultProp:i??!1,onChange:l,caller:Ni}),[se,he]=ay({prop:c,defaultProp:d,onChange:f,caller:Ni}),ge=b.useRef(null),ve=T?w||!!T.closest("form"):!0,[we,be]=b.useState(new Set),me=Array.from(we).map(P=>P.props.value).join(";");return _.jsx(gI,{...S,children:_.jsxs(F6,{required:E,scope:e,trigger:T,onTriggerChange:R,valueNode:O,onValueNodeChange:x,valueNodeHasChildren:B,onValueNodeHasChildrenChange:L,contentId:hh(),value:se,onValueChange:he,open:I,onOpenChange:j,dir:J,triggerPointerDownPosRef:ge,disabled:v,children:[_.jsx(Eh.Provider,{scope:e,children:_.jsx(q6,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(P=>{be($=>new Set($).add(P))},[]),onNativeOptionRemove:b.useCallback(P=>{be($=>{const z=new Set($);return z.delete(P),z})},[]),children:n})}),ve?_.jsxs(wx,{"aria-hidden":!0,required:E,tabIndex:-1,name:g,autoComplete:y,value:se,onChange:P=>he(P.target.value),disabled:v,form:w,children:[se===void 0?_.jsx("option",{value:""}):null,Array.from(we)]},me):null]})})};ZI.displayName=Ni;var ex="SelectTrigger",tx=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:o=!1,...i}=t,l=wh(n),c=qa(ex,n),d=c.disabled||o,f=Wt(e,c.onTriggerChange),m=Sh(n),g=b.useRef("touch"),[y,v,E]=Ax(S=>{const T=m().filter(x=>!x.disabled),R=T.find(x=>x.value===c.value),O=_x(T,S,R);O!==void 0&&c.onValueChange(O.value)}),w=S=>{d||(c.onOpenChange(!0),E()),S&&(c.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return _.jsx(ob,{asChild:!0,...l,children:_.jsx(Mt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":Tx(c.value)?"":void 0,...i,ref:f,onClick:At(i.onClick,S=>{S.currentTarget.focus(),g.current!=="mouse"&&w(S)}),onPointerDown:At(i.onPointerDown,S=>{g.current=S.pointerType;const T=S.target;T.hasPointerCapture(S.pointerId)&&T.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(w(S),S.preventDefault())}),onKeyDown:At(i.onKeyDown,S=>{const T=y.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&v(S.key),!(T&&S.key===" ")&&z6.includes(S.key)&&(w(),S.preventDefault())})})})});tx.displayName=ex;var nx="SelectValue",rx=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:o,style:i,children:l,placeholder:c="",...d}=t,f=qa(nx,n),{onValueNodeHasChildrenChange:m}=f,g=l!==void 0,y=Wt(e,f.onValueNodeChange);return In(()=>{m(g)},[m,g]),_.jsx(Mt.span,{...d,ref:y,style:{pointerEvents:"none"},children:Tx(f.value)?_.jsx(_.Fragment,{children:c}):l})});rx.displayName=nx;var G6="SelectIcon",ox=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:o,...i}=t;return _.jsx(Mt.span,{"aria-hidden":!0,...i,ref:e,children:o||""})});ox.displayName=G6;var V6="SelectPortal",ax=t=>_.jsx(ab,{asChild:!0,...t});ax.displayName=V6;var Mi="SelectContent",ix=b.forwardRef((t,e)=>{const n=qa(Mi,t.__scopeSelect),[o,i]=b.useState();if(In(()=>{i(new DocumentFragment)},[]),!n.open){const l=o;return l?Ys.createPortal(_.jsx(sx,{scope:t.__scopeSelect,children:_.jsx(Eh.Slot,{scope:t.__scopeSelect,children:_.jsx("div",{children:t.children})})}),l):null}return _.jsx(lx,{...t,ref:e})});ix.displayName=Mi;var Br=10,[sx,Ka]=il(Mi),Y6="SelectContentImpl",Q6=Mc("SelectContent.RemoveScroll"),lx=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:o="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:l,onPointerDownOutside:c,side:d,sideOffset:f,align:m,alignOffset:g,arrowPadding:y,collisionBoundary:v,collisionPadding:E,sticky:w,hideWhenDetached:S,avoidCollisions:T,...R}=t,O=qa(Mi,n),[x,B]=b.useState(null),[L,J]=b.useState(null),I=Wt(e,ce=>B(ce)),[j,se]=b.useState(null),[he,ge]=b.useState(null),ve=Sh(n),[we,be]=b.useState(!1),me=b.useRef(!1);b.useEffect(()=>{if(x)return CI(x)},[x]),YO();const P=b.useCallback(ce=>{const[ye,...We]=ve().map(Le=>Le.ref.current),[Ke]=We.slice(-1),Ve=document.activeElement;for(const Le of ce)if(Le===Ve||(Le?.scrollIntoView({block:"nearest"}),Le===ye&&L&&(L.scrollTop=0),Le===Ke&&L&&(L.scrollTop=L.scrollHeight),Le?.focus(),document.activeElement!==Ve))return},[ve,L]),$=b.useCallback(()=>P([j,x]),[P,j,x]);b.useEffect(()=>{we&&$()},[we,$]);const{onOpenChange:z,triggerPointerDownPosRef:de}=O;b.useEffect(()=>{if(x){let ce={x:0,y:0};const ye=Ke=>{ce={x:Math.abs(Math.round(Ke.pageX)-(de.current?.x??0)),y:Math.abs(Math.round(Ke.pageY)-(de.current?.y??0))}},We=Ke=>{ce.x<=10&&ce.y<=10?Ke.preventDefault():x.contains(Ke.target)||z(!1),document.removeEventListener("pointermove",ye),de.current=null};return de.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",We,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",We,{capture:!0})}}},[x,z,de]),b.useEffect(()=>{const ce=()=>z(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[z]);const[N,X]=Ax(ce=>{const ye=ve().filter(Ve=>!Ve.disabled),We=ye.find(Ve=>Ve.ref.current===document.activeElement),Ke=_x(ye,ce,We);Ke&&setTimeout(()=>Ke.ref.current.focus())}),ie=b.useCallback((ce,ye,We)=>{const Ke=!me.current&&!We;(O.value!==void 0&&O.value===ye||Ke)&&(se(ce),Ke&&(me.current=!0))},[O.value]),Q=b.useCallback(()=>x?.focus(),[x]),ne=b.useCallback((ce,ye,We)=>{const Ke=!me.current&&!We;(O.value!==void 0&&O.value===ye||Ke)&&ge(ce)},[O.value]),pe=o==="popper"?ly:cx,Ce=pe===ly?{side:d,sideOffset:f,align:m,alignOffset:g,arrowPadding:y,collisionBoundary:v,collisionPadding:E,sticky:w,hideWhenDetached:S,avoidCollisions:T}:{};return _.jsx(sx,{scope:n,content:x,viewport:L,onViewportChange:J,itemRefCallback:ie,selectedItem:j,onItemLeave:Q,itemTextRefCallback:ne,focusSelectedItem:$,selectedItemText:he,position:o,isPositioned:we,searchRef:N,children:_.jsx(sb,{as:Q6,allowPinchZoom:!0,children:_.jsx($v,{asChild:!0,trapped:O.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:At(i,ce=>{O.trigger?.focus({preventScroll:!0}),ce.preventDefault()}),children:_.jsx(Qv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>O.onOpenChange(!1),children:_.jsx(pe,{role:"listbox",id:O.contentId,"data-state":O.open?"open":"closed",dir:O.dir,onContextMenu:ce=>ce.preventDefault(),...R,...Ce,onPlaced:()=>be(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:At(R.onKeyDown,ce=>{const ye=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!ye&&ce.key.length===1&&X(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Ke=ve().filter(Ve=>!Ve.disabled).map(Ve=>Ve.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Ke=Ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const Ve=ce.target,Le=Ke.indexOf(Ve);Ke=Ke.slice(Le+1)}setTimeout(()=>P(Ke)),ce.preventDefault()}})})})})})})});lx.displayName=Y6;var $6="SelectItemAlignedPosition",cx=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:o,...i}=t,l=qa(Mi,n),c=Ka(Mi,n),[d,f]=b.useState(null),[m,g]=b.useState(null),y=Wt(e,I=>g(I)),v=Sh(n),E=b.useRef(!1),w=b.useRef(!0),{viewport:S,selectedItem:T,selectedItemText:R,focusSelectedItem:O}=c,x=b.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&m&&S&&T&&R){const I=l.trigger.getBoundingClientRect(),j=m.getBoundingClientRect(),se=l.valueNode.getBoundingClientRect(),he=R.getBoundingClientRect();if(l.dir!=="rtl"){const Ve=he.left-j.left,Le=se.left-Ve,wt=I.left-Le,ln=I.width+wt,Co=Math.max(ln,j.width),Sn=window.innerWidth-Br,Pt=UA(Le,[Br,Math.max(Br,Sn-Co)]);d.style.minWidth=ln+"px",d.style.left=Pt+"px"}else{const Ve=j.right-he.right,Le=window.innerWidth-se.right-Ve,wt=window.innerWidth-I.right-Le,ln=I.width+wt,Co=Math.max(ln,j.width),Sn=window.innerWidth-Br,Pt=UA(Le,[Br,Math.max(Br,Sn-Co)]);d.style.minWidth=ln+"px",d.style.right=Pt+"px"}const ge=v(),ve=window.innerHeight-Br*2,we=S.scrollHeight,be=window.getComputedStyle(m),me=parseInt(be.borderTopWidth,10),P=parseInt(be.paddingTop,10),$=parseInt(be.borderBottomWidth,10),z=parseInt(be.paddingBottom,10),de=me+P+we+z+$,N=Math.min(T.offsetHeight*5,de),X=window.getComputedStyle(S),ie=parseInt(X.paddingTop,10),Q=parseInt(X.paddingBottom,10),ne=I.top+I.height/2-Br,pe=ve-ne,Ce=T.offsetHeight/2,ce=T.offsetTop+Ce,ye=me+P+ce,We=de-ye;if(ye<=ne){const Ve=ge.length>0&&T===ge[ge.length-1].ref.current;d.style.bottom="0px";const Le=m.clientHeight-S.offsetTop-S.offsetHeight,wt=Math.max(pe,Ce+(Ve?Q:0)+Le+$),ln=ye+wt;d.style.height=ln+"px"}else{const Ve=ge.length>0&&T===ge[0].ref.current;d.style.top="0px";const wt=Math.max(ne,me+S.offsetTop+(Ve?ie:0)+Ce)+We;d.style.height=wt+"px",S.scrollTop=ye-ne+S.offsetTop}d.style.margin=`${Br}px 0`,d.style.minHeight=N+"px",d.style.maxHeight=ve+"px",o?.(),requestAnimationFrame(()=>E.current=!0)}},[v,l.trigger,l.valueNode,d,m,S,T,R,l.dir,o]);In(()=>x(),[x]);const[B,L]=b.useState();In(()=>{m&&L(window.getComputedStyle(m).zIndex)},[m]);const J=b.useCallback(I=>{I&&w.current===!0&&(x(),O?.(),w.current=!1)},[x,O]);return _.jsx(W6,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:E,onScrollButtonChange:J,children:_.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:B},children:_.jsx(Mt.div,{...i,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});cx.displayName=$6;var X6="SelectPopperPosition",ly=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:o="start",collisionPadding:i=Br,...l}=t,c=wh(n);return _.jsx(yI,{...c,...l,ref:e,align:o,collisionPadding:i,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ly.displayName=X6;var[W6,fb]=il(Mi,{}),cy="SelectViewport",ux=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:o,...i}=t,l=Ka(cy,n),c=fb(cy,n),d=Wt(e,l.onViewportChange),f=b.useRef(0);return _.jsxs(_.Fragment,{children:[_.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),_.jsx(Eh.Slot,{scope:n,children:_.jsx(Mt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:At(i.onScroll,m=>{const g=m.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:v}=c;if(v?.current&&y){const E=Math.abs(f.current-g.scrollTop);if(E>0){const w=window.innerHeight-Br*2,S=parseFloat(y.style.minHeight),T=parseFloat(y.style.height),R=Math.max(S,T);if(R<w){const O=R+E,x=Math.min(w,O),B=O-x;y.style.height=x+"px",y.style.bottom==="0px"&&(g.scrollTop=B>0?B:0,y.style.justifyContent="flex-end")}}}f.current=g.scrollTop})})})]})});ux.displayName=cy;var dx="SelectGroup",[J6,Z6]=il(dx),eq=b.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t,i=hh();return _.jsx(J6,{scope:n,id:i,children:_.jsx(Mt.div,{role:"group","aria-labelledby":i,...o,ref:e})})});eq.displayName=dx;var fx="SelectLabel",hx=b.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t,i=Z6(fx,n);return _.jsx(Mt.div,{id:i.id,...o,ref:e})});hx.displayName=fx;var If="SelectItem",[tq,mx]=il(If),px=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:o,disabled:i=!1,textValue:l,...c}=t,d=qa(If,n),f=Ka(If,n),m=d.value===o,[g,y]=b.useState(l??""),[v,E]=b.useState(!1),w=Wt(e,O=>f.itemRefCallback?.(O,o,i)),S=hh(),T=b.useRef("touch"),R=()=>{i||(d.onValueChange(o),d.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return _.jsx(tq,{scope:n,value:o,disabled:i,textId:S,isSelected:m,onItemTextChange:b.useCallback(O=>{y(x=>x||(O?.textContent??"").trim())},[]),children:_.jsx(Eh.ItemSlot,{scope:n,value:o,disabled:i,textValue:g,children:_.jsx(Mt.div,{role:"option","aria-labelledby":S,"data-highlighted":v?"":void 0,"aria-selected":m&&v,"data-state":m?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...c,ref:w,onFocus:At(c.onFocus,()=>E(!0)),onBlur:At(c.onBlur,()=>E(!1)),onClick:At(c.onClick,()=>{T.current!=="mouse"&&R()}),onPointerUp:At(c.onPointerUp,()=>{T.current==="mouse"&&R()}),onPointerDown:At(c.onPointerDown,O=>{T.current=O.pointerType}),onPointerMove:At(c.onPointerMove,O=>{T.current=O.pointerType,i?f.onItemLeave?.():T.current==="mouse"&&O.currentTarget.focus({preventScroll:!0})}),onPointerLeave:At(c.onPointerLeave,O=>{O.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:At(c.onKeyDown,O=>{f.searchRef?.current!==""&&O.key===" "||(B6.includes(O.key)&&R(),O.key===" "&&O.preventDefault())})})})})});px.displayName=If;var fc="SelectItemText",gx=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:o,style:i,...l}=t,c=qa(fc,n),d=Ka(fc,n),f=mx(fc,n),m=K6(fc,n),[g,y]=b.useState(null),v=Wt(e,R=>y(R),f.onItemTextChange,R=>d.itemTextRefCallback?.(R,f.value,f.disabled)),E=g?.textContent,w=b.useMemo(()=>_.jsx("option",{value:f.value,disabled:f.disabled,children:E},f.value),[f.disabled,f.value,E]),{onNativeOptionAdd:S,onNativeOptionRemove:T}=m;return In(()=>(S(w),()=>T(w)),[S,T,w]),_.jsxs(_.Fragment,{children:[_.jsx(Mt.span,{id:f.textId,...l,ref:v}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Ys.createPortal(l.children,c.valueNode):null]})});gx.displayName=fc;var yx="SelectItemIndicator",vx=b.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t;return mx(yx,n).isSelected?_.jsx(Mt.span,{"aria-hidden":!0,...o,ref:e}):null});vx.displayName=yx;var uy="SelectScrollUpButton",bx=b.forwardRef((t,e)=>{const n=Ka(uy,t.__scopeSelect),o=fb(uy,t.__scopeSelect),[i,l]=b.useState(!1),c=Wt(e,o.onScrollButtonChange);return In(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=f.scrollTop>0;l(m)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?_.jsx(Ex,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});bx.displayName=uy;var dy="SelectScrollDownButton",Cx=b.forwardRef((t,e)=>{const n=Ka(dy,t.__scopeSelect),o=fb(dy,t.__scopeSelect),[i,l]=b.useState(!1),c=Wt(e,o.onScrollButtonChange);return In(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=f.scrollHeight-f.clientHeight,g=Math.ceil(f.scrollTop)<m;l(g)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?_.jsx(Ex,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});Cx.displayName=dy;var Ex=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:o,...i}=t,l=Ka("SelectScrollButton",n),c=b.useRef(null),d=Sh(n),f=b.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return b.useEffect(()=>()=>f(),[f]),In(()=>{d().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),_.jsx(Mt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:At(i.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(o,50))}),onPointerMove:At(i.onPointerMove,()=>{l.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(o,50))}),onPointerLeave:At(i.onPointerLeave,()=>{f()})})}),nq="SelectSeparator",Sx=b.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t;return _.jsx(Mt.div,{"aria-hidden":!0,...o,ref:e})});Sx.displayName=nq;var fy="SelectArrow",rq=b.forwardRef((t,e)=>{const{__scopeSelect:n,...o}=t,i=wh(n),l=qa(fy,n),c=Ka(fy,n);return l.open&&c.position==="popper"?_.jsx(vI,{...i,...o,ref:e}):null});rq.displayName=fy;var oq="SelectBubbleInput",wx=b.forwardRef(({__scopeSelect:t,value:e,...n},o)=>{const i=b.useRef(null),l=Wt(o,i),c=L6(e);return b.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==e&&g){const y=new Event("change",{bubbles:!0});g.call(d,e),d.dispatchEvent(y)}},[c,e]),_.jsx(Mt.select,{...n,style:{...JI,...n.style},ref:l,defaultValue:e})});wx.displayName=oq;function Tx(t){return t===""||t===void 0}function Ax(t){const e=xi(t),n=b.useRef(""),o=b.useRef(0),i=b.useCallback(c=>{const d=n.current+c;e(d),(function f(m){n.current=m,window.clearTimeout(o.current),m!==""&&(o.current=window.setTimeout(()=>f(""),1e3))})(d)},[e]),l=b.useCallback(()=>{n.current="",window.clearTimeout(o.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(o.current),[]),[n,i,l]}function _x(t,e,n){const i=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let c=aq(t,Math.max(l,0));i.length===1&&(c=c.filter(m=>m!==n));const f=c.find(m=>m.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==n?f:void 0}function aq(t,e){return t.map((n,o)=>t[(e+o)%t.length])}var iq=ZI,Rx=tx,sq=rx,lq=ox,cq=ax,Ox=ix,uq=ux,Ix=hx,xx=px,dq=gx,fq=vx,kx=bx,Nx=Cx,Mx=Sx;function Ba(...t){return db(cb(t))}const JG=iq,ZG=sq,hq=b.forwardRef(({className:t,children:e,icon:n,...o},i)=>_.jsxs(Rx,{ref:i,className:Ba("flex w-full items-center justify-between gap-2","px-4 py-3 text-sm","backdrop-blur-xl","bg-[rgba(30,30,36,0.6)]","border border-[rgba(255,255,255,0.12)]","rounded-xl","text-[#f9fafb]","placeholder:text-[#6b7280]","focus:border-[#c93448]","focus:ring-2 focus:ring-[rgba(201,52,72,0.3)]","focus:outline-none","shadow-[inset_0_2px_4px_rgba(0,0,0,0.3),0_1px_2px_rgba(255,255,255,0.05)]","focus:shadow-[inset_0_2px_4px_rgba(0,0,0,0.3),0_0_0_3px_rgba(201,52,72,0.2)]","transition-all duration-300","disabled:cursor-not-allowed disabled:opacity-50","data-[placeholder]:text-[#6b7280]",t),...o,children:[n&&_.jsx("span",{className:"text-[#6b7280] mr-2",children:n}),e,_.jsx(lq,{asChild:!0,children:_.jsx(UO,{className:"size-4 opacity-50"})})]}));hq.displayName=Rx.displayName;const Px=b.forwardRef(({className:t,...e},n)=>_.jsx(kx,{ref:n,className:Ba("flex cursor-default items-center justify-center py-1",t),...e,children:_.jsx(cj,{className:"size-4 text-[#d1d5db]"})}));Px.displayName=kx.displayName;const Dx=b.forwardRef(({className:t,...e},n)=>_.jsx(Nx,{ref:n,className:Ba("flex cursor-default items-center justify-center py-1",t),...e,children:_.jsx(UO,{className:"size-4 text-[#d1d5db]"})}));Dx.displayName=Nx.displayName;const mq=b.forwardRef(({className:t,children:e,position:n="popper",...o},i)=>_.jsx(cq,{children:_.jsxs(Ox,{ref:i,className:Ba("data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","relative z-[150] max-h-96 min-w-[8rem] overflow-hidden","rounded-xl","backdrop-blur-2xl","bg-gradient-to-br from-[rgba(42,42,48,0.95)] to-[rgba(26,26,32,0.98)]","border border-[rgba(255,255,255,0.15)]","shadow-[0_20px_40px_rgba(0,0,0,0.5),inset_0_1px_2px_rgba(255,255,255,0.15)]","text-[#f9fafb]",n==="popper"&&["data-[side=bottom]:translate-y-1","data-[side=left]:-translate-x-1","data-[side=right]:translate-x-1","data-[side=top]:-translate-y-1"],t),position:n,...o,children:[_.jsx(Px,{}),_.jsx(uq,{className:Ba("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),_.jsx(Dx,{})]})}));mq.displayName=Ox.displayName;const pq=b.forwardRef(({className:t,...e},n)=>_.jsx(Ix,{ref:n,className:Ba("px-2 py-1.5 text-xs text-[#6b7280]",t),...e}));pq.displayName=Ix.displayName;const gq=b.forwardRef(({className:t,children:e,...n},o)=>_.jsxs(xx,{ref:o,className:Ba("relative flex w-full cursor-default select-none items-center","rounded-lg py-2 pl-2 pr-8 text-sm outline-none","text-[#d1d5db]","focus:bg-[rgba(255,255,255,0.1)] focus:text-[#f9fafb]","hover:bg-[rgba(255,255,255,0.08)]","data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[_.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:_.jsx(fq,{children:_.jsx(ij,{className:"size-4 text-[#c93448]"})})}),_.jsx(dq,{children:e})]}));gq.displayName=xx.displayName;const yq=b.forwardRef(({className:t,...e},n)=>_.jsx(Mx,{ref:n,className:Ba("-mx-1 my-1 h-px bg-[rgba(255,255,255,0.1)]",t),...e}));yq.displayName=Mx.displayName;function $o(...t){return db(cb(t))}const vq=b.forwardRef(({className:t,containerClassName:e,showContainer:n=!0,...o},i)=>_.jsx("div",{className:$o("relative w-full overflow-x-auto",n&&["backdrop-blur-xl","bg-[rgba(26,26,32,0.5)]","border border-[rgba(255,255,255,0.1)]","rounded-xl","shadow-[0_8px_32px_rgba(0,0,0,0.3)]"],e),children:_.jsx("table",{ref:i,className:$o("w-full caption-bottom text-sm",t),...o})}));vq.displayName="GlassTable";const bq=b.forwardRef(({className:t,...e},n)=>_.jsx("thead",{ref:n,className:$o("[&_tr]:border-b [&_tr]:border-[rgba(255,255,255,0.08)]","bg-[rgba(255,255,255,0.02)]",t),...e}));bq.displayName="GlassTableHeader";const Cq=b.forwardRef(({className:t,...e},n)=>_.jsx("tbody",{ref:n,className:$o("[&_tr:last-child]:border-0",t),...e}));Cq.displayName="GlassTableBody";const Eq=b.forwardRef(({className:t,...e},n)=>_.jsx("tfoot",{ref:n,className:$o("bg-[rgba(255,255,255,0.05)]","border-t border-[rgba(255,255,255,0.1)]","font-medium","[&>tr]:last:border-b-0",t),...e}));Eq.displayName="GlassTableFooter";const Sq=b.forwardRef(({className:t,...e},n)=>_.jsx("tr",{ref:n,className:$o("border-b border-[rgba(255,255,255,0.05)]","transition-colors duration-200","group","hover:bg-[rgba(255,255,255,0.03)]","data-[state=selected]:bg-[rgba(201,52,72,0.1)]",t),...e}));Sq.displayName="GlassTableRow";const wq=b.forwardRef(({className:t,...e},n)=>_.jsx("th",{ref:n,className:$o("px-8 py-5 text-left align-middle font-medium","text-[#9ca3af] text-[12px] uppercase tracking-[0.1em]","whitespace-nowrap","[&:has([role=checkbox])]:pr-0","[&>[role=checkbox]]:translate-y-[2px]",t),...e}));wq.displayName="GlassTableHead";const Tq=b.forwardRef(({className:t,...e},n)=>_.jsx("td",{ref:n,className:$o("px-8 py-6 align-middle","text-[#d1d5db]","whitespace-nowrap","[&:has([role=checkbox])]:pr-0","[&>[role=checkbox]]:translate-y-[2px]",t),...e}));Tq.displayName="GlassTableCell";const Aq=b.forwardRef(({className:t,...e},n)=>_.jsx("caption",{ref:n,className:$o("mt-4 text-sm text-[#6b7280]",t),...e}));Aq.displayName="GlassTableCaption";const xf={all:["user-quick-view"],alumno:t=>[...xf.all,"alumno",t],profesor:t=>[...xf.all,"profesor",t]};function _q(t,e=!0){return sO({queryKey:xf.alumno(t||""),queryFn:async()=>{if(!t)throw new Error("ID de alumno requerido");return(await ih.get(`/api/alumnos/${t}/quick-view`)).data},enabled:e&&!!t,staleTime:60*1e3,retry:1})}function Rq(t,e=!0){return sO({queryKey:xf.profesor(t||""),queryFn:async()=>{if(!t)throw new Error("ID de profesor requerido");return(await ih.get(`/api/profesores/${t}/quick-view`)).data},enabled:e&&!!t,staleTime:60*1e3,retry:1})}const Oq="_backdrop_ig60o_1",Iq="_modal_ig60o_13",xq="_modal__container_ig60o_27",kq="_modal__header_ig60o_40",Nq="_modal__title_ig60o_48",Mq="_modal__close_ig60o_55",Pq="_modal__content_ig60o_74",Dq="_modal__loading_ig60o_81",Lq="_spinner_ig60o_89",Uq="_modal__error_ig60o_93",Hq="_userInfo_ig60o_99",zq="_userInfo__avatar_ig60o_109",Bq="_userInfo__details_ig60o_124",jq="_userInfo__name_ig60o_129",Fq="_userInfo__document_ig60o_136",qq="_userInfo__badge_ig60o_142",Kq="_section_ig60o_154",Gq="_section__title_ig60o_160",Vq="_section__content_ig60o_169",Yq="_infoRow_ig60o_175",Qq="_statCard_ig60o_195",$q="_statCard__value_ig60o_205",Xq="_statCard__label_ig60o_212",Wq="_modal__actions_ig60o_219",Ue={backdrop:Oq,modal:Iq,modal__container:xq,modal__header:kq,modal__title:Nq,modal__close:Mq,modal__content:Pq,modal__loading:Dq,spinner:Lq,modal__error:Uq,userInfo:Hq,userInfo__avatar:zq,userInfo__details:Bq,userInfo__name:jq,userInfo__document:Fq,userInfo__badge:qq,section:Kq,section__title:Gq,section__content:Vq,infoRow:Yq,statCard:Qq,statCard__value:$q,statCard__label:Xq,modal__actions:Wq};function Jq(){const{state:t,closeQuickView:e}=Yj(),n=Vs(),{data:o,isLoading:i}=_q(t.userType==="alumno"?t.userId:null,t.isOpen&&t.userType==="alumno"),{data:l,isLoading:c}=Rq(t.userType==="profesor"?t.userId:null,t.isOpen&&t.userType==="profesor");if(!t.isOpen)return null;const d=i||c,f=t.userType==="alumno"?o:l,m=()=>{t.userType==="alumno"&&o?n(`${rt.ADMIN.USERS}/${o.idAlumno}?type=alumno`):t.userType==="profesor"&&l&&n(`${rt.ADMIN.USERS}/${l.idProfesor}?type=profesor`),e()},g=y=>y.split(" ").map(v=>v[0]).join("").toUpperCase().slice(0,2);return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:Ue.backdrop,onClick:e,"aria-hidden":"true"}),_.jsx("div",{className:Ue.modal,role:"dialog","aria-modal":"true",children:_.jsxs("div",{className:Ue.modal__container,children:[_.jsxs("div",{className:Ue.modal__header,children:[_.jsx("h2",{className:Ue.modal__title,children:t.userType==="alumno"?"Informacin de Alumno":"Informacin de Profesor"}),_.jsx("button",{onClick:e,className:Ue.modal__close,"aria-label":"Cerrar",children:_.jsx(Pj,{size:20})})]}),d?_.jsxs("div",{className:Ue.modal__loading,children:[_.jsx(Sj,{size:32,className:Ue.spinner}),_.jsx("p",{children:"Cargando informacin..."})]}):f?_.jsxs("div",{className:Ue.modal__content,children:[_.jsxs("div",{className:Ue.userInfo,children:[_.jsx("div",{className:Ue.userInfo__avatar,children:g(f.nombre)}),_.jsxs("div",{className:Ue.userInfo__details,children:[_.jsx("h3",{className:Ue.userInfo__name,children:f.nombre}),_.jsx("p",{className:Ue.userInfo__document,children:f.documento}),"tipoProfesor"in f&&_.jsx("span",{className:Ue.userInfo__badge,children:f.tipoProfesor})]})]}),_.jsxs("div",{className:Ue.section,children:[_.jsx("h4",{className:Ue.section__title,children:"Contacto"}),_.jsxs("div",{className:Ue.section__content,children:[_.jsxs("div",{className:Ue.infoRow,children:[_.jsx(Tj,{size:16}),_.jsx("span",{children:f.correo})]}),f.telefono&&_.jsxs("div",{className:Ue.infoRow,children:[_.jsx(Oj,{size:16}),_.jsx("span",{children:f.telefono})]})]})]}),t.userType==="alumno"&&"paquetesActivos"in f&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:Ue.section,children:[_.jsx("h4",{className:Ue.section__title,children:"Paquetes"}),_.jsx("div",{className:Ue.section__content,children:_.jsxs("div",{className:Ue.statCard,children:[_.jsx("span",{className:Ue.statCard__value,children:f.paquetesActivos}),_.jsx("span",{className:Ue.statCard__label,children:"Paquetes activos"})]})})]}),f.proximaClase&&_.jsxs("div",{className:Ue.section,children:[_.jsx("h4",{className:Ue.section__title,children:"Prxima Clase"}),_.jsxs("div",{className:Ue.section__content,children:[_.jsxs("div",{className:Ue.infoRow,children:[_.jsx(xs,{size:16}),_.jsxs("span",{children:[f.proximaClase.fecha," - ",f.proximaClase.hora]})]}),_.jsxs("div",{className:Ue.infoRow,children:[_.jsx(wf,{size:16}),_.jsx("span",{children:f.proximaClase.tipo})]})]})]}),f.ultimoPago&&_.jsxs("div",{className:Ue.section,children:[_.jsx("h4",{className:Ue.section__title,children:"ltimo Pago"}),_.jsxs("div",{className:Ue.section__content,children:[_.jsxs("div",{className:Ue.infoRow,children:[_.jsx(pj,{size:16}),_.jsxs("span",{children:["$",f.ultimoPago.monto.toLocaleString()]})]}),_.jsxs("div",{className:Ue.infoRow,children:[_.jsx(xs,{size:16}),_.jsx("span",{children:f.ultimoPago.fecha})]})]})]})]}),t.userType==="profesor"&&"clasesAsignadas"in f&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:Ue.section,children:[_.jsx("h4",{className:Ue.section__title,children:"Clases"}),_.jsx("div",{className:Ue.section__content,children:_.jsxs("div",{className:Ue.statCard,children:[_.jsx("span",{className:Ue.statCard__value,children:f.clasesAsignadas}),_.jsx("span",{className:Ue.statCard__label,children:"Clases asignadas"})]})})]}),f.proximaClase&&_.jsxs("div",{className:Ue.section,children:[_.jsx("h4",{className:Ue.section__title,children:"Prxima Clase"}),_.jsx("div",{className:Ue.section__content,children:_.jsxs("div",{className:Ue.infoRow,children:[_.jsx(xs,{size:16}),_.jsxs("span",{children:[f.proximaClase.fecha," - ",f.proximaClase.hora]})]})})]}),f.nominaActual&&_.jsxs("div",{className:Ue.section,children:[_.jsx("h4",{className:Ue.section__title,children:"Nmina Actual"}),_.jsxs("div",{className:Ue.section__content,children:[_.jsxs("div",{className:Ue.infoRow,children:[_.jsx(xs,{size:16}),_.jsx("span",{children:f.nominaActual.periodo})]}),_.jsxs("div",{className:Ue.infoRow,children:[_.jsx(wf,{size:16}),_.jsxs("span",{children:[f.nominaActual.totalClases," clases"]})]})]})]})]}),_.jsx("div",{className:Ue.modal__actions,children:_.jsxs(Qj,{onClick:m,variant:"primary",children:[_.jsx(bj,{size:16}),"Ver perfil completo"]})})]}):_.jsx("div",{className:Ue.modal__error,children:_.jsx("p",{children:"No se pudo cargar la informacin del usuario"})})]})})]})}const Zq=({children:t})=>_.jsx(Gj,{children:_.jsx(RB,{children:_.jsx(jz,{children:_.jsxs(qO,{children:[t,_.jsx(Vj,{})]})})})}),eK=[{label:"Dashboard",path:rt.ADMIN.ROOT,icon:eg,roles:["admin"]},{label:"Dashboard",path:rt.TEACHER.ROOT,icon:eg,roles:["profesor"]},{label:"Dashboard",path:rt.STUDENT.ROOT,icon:eg,roles:["alumno"]},{label:"Asistencias",path:rt.ADMIN.ATTENDANCE,icon:dj,roles:["admin"]},{label:"Pagos Alumnos",path:rt.ADMIN.PAYMENTS,icon:yj,roles:["admin"]},{label:"Clases",path:rt.ADMIN.CLASSES,icon:xs,roles:["admin"]},{label:"Paquetes",path:rt.ADMIN.PACKAGES,icon:_j,roles:["admin"]},{label:"Nmina Profesores",path:rt.ADMIN.PAYROLL,icon:aA,roles:["admin"]},{label:"Usuarios",path:rt.ADMIN.USERS,icon:kj,roles:["admin"]},{label:"Reportes",path:rt.ADMIN.REPORTS,icon:oA,roles:["admin"]},{label:"Mi Perfil",path:rt.ADMIN.PROFILE,icon:wf,roles:["admin"]},{label:"Mi Asistencia",path:rt.STUDENT.ATTENDANCE,roles:["alumno"]},{label:"Mis Pagos",path:rt.STUDENT.PAYMENTS,roles:["alumno"]},{label:"Mis Clases",path:rt.STUDENT.CLASSES,roles:["alumno"]},{label:"Mi Perfil",path:rt.STUDENT.PROFILE,roles:["alumno"]},{label:"Registrar Asistencia",path:rt.TEACHER.ATTENDANCE,icon:hj,roles:["profesor"]},{label:"Mis Clases",path:rt.TEACHER.CLASSES,icon:xs,roles:["profesor"]},{label:"Mis Pagos",path:rt.TEACHER.PAYMENTS,icon:aA,roles:["profesor"]},{label:"Mis Reportes",path:rt.TEACHER.REPORTS,icon:oA,roles:["profesor"]},{label:"Mi Perfil",path:rt.TEACHER.PROFILE,icon:wf,roles:["profesor"]}];function e8(t){return t?eK.filter(e=>!e.roles||e.roles.length===0?!0:e.roles.includes(t)):[]}function Lx(t=[]){return t.includes("admin")?rt.ADMIN.ROOT:t.includes("profesor")?rt.TEACHER.ROOT:t.includes("alumno")?rt.STUDENT.ROOT:rt.DASHBOARD}function tK(){return _.jsxs(qO,{children:[_.jsx(Df,{}),_.jsx(Jq,{})]})}const nK=()=>_.jsx(Df,{}),rK=()=>_.jsx(Df,{}),oK=()=>_.jsx(Df,{}),aK=b.lazy(()=>St(()=>import("./index-B8vBTMSM.js").then(t=>t.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>({default:t.LoginPage}))),iK=b.lazy(()=>St(()=>import("./index-B8vBTMSM.js").then(t=>t.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>({default:t.AuthCallbackPage}))),sK=b.lazy(()=>St(()=>import("./MainLayoutWrapper-EGe_tFhJ.js").then(t=>t.b),__vite__mapDeps([11,1,2,3,4,12])).then(t=>({default:t.MainLayoutWrapper}))),lK=b.lazy(()=>St(()=>import("./index-B8vBTMSM.js").then(t=>t.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>({default:t.DashboardPage}))),cK=b.lazy(()=>St(()=>import("./index-B8vBTMSM.js").then(t=>t.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>({default:t.UsersPage}))),uK=b.lazy(()=>St(()=>import("./index-B8vBTMSM.js").then(t=>t.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>({default:t.ClassesPage}))),dK=b.lazy(()=>St(()=>import("./index-B8vBTMSM.js").then(t=>t.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>({default:t.ReportsPage}))),fK=b.lazy(()=>St(()=>import("./index-B8vBTMSM.js").then(t=>t.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>({default:t.NotFoundPage}))),hK=b.lazy(()=>St(()=>import("./index-B8vBTMSM.js").then(t=>t.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>({default:t.AdminAttendancePage}))),mK=b.lazy(()=>St(()=>import("./index-B8vBTMSM.js").then(t=>t.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>({default:t.AdminPackagesPage}))),pK=b.lazy(()=>St(()=>import("./index-B8vBTMSM.js").then(t=>t.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>({default:t.AdminPaymentsPage}))),gK=b.lazy(()=>St(()=>import("./AdminPayrollPage-D-aafljd.js"),__vite__mapDeps([14,2,8,9,4,5])).then(t=>({default:t.default}))),yK=b.lazy(()=>St(()=>import("./AdminProfilePage-Bt6QVE0E.js").then(t=>t.f),__vite__mapDeps([7,6,2,3,5])).then(t=>({default:t.default}))),vK=b.lazy(()=>St(()=>import("./NotificationsPage-BFGyi_F9.js").then(t=>t.a),__vite__mapDeps([10,6,1,2,3,4])).then(t=>({default:t.default}))),bK=b.lazy(()=>St(()=>import("./index-B8vBTMSM.js").then(t=>t.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>({default:t.UserDetailPage}))),CK=b.lazy(()=>St(()=>import("./index-B8vBTMSM.js").then(t=>t.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>({default:t.ProfesorDashboardPage}))),EK=b.lazy(()=>St(()=>import("./index-B8vBTMSM.js").then(t=>t.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>({default:t.ProfesorAttendancePage}))),SK=b.lazy(()=>St(()=>import("./index-B8vBTMSM.js").then(t=>t.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>({default:t.ProfesorClassesPage}))),wK=b.lazy(()=>St(()=>import("./index-B8vBTMSM.js").then(t=>t.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>({default:t.ProfesorPaymentsPage}))),TK=b.lazy(()=>St(()=>import("./index-B8vBTMSM.js").then(t=>t.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>({default:t.ProfesorProfilePage}))),AK=b.lazy(()=>St(()=>import("./index-B8vBTMSM.js").then(t=>t.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>({default:t.ProfesorReportsPage}))),_K=b.lazy(()=>St(()=>import("./index-B8vBTMSM.js").then(t=>t.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>({default:t.StudentDashboardPage}))),RK=b.lazy(()=>St(()=>import("./index-B8vBTMSM.js").then(t=>t.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>({default:t.StudentAttendancePage}))),OK=b.lazy(()=>St(()=>import("./index-B8vBTMSM.js").then(t=>t.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>({default:t.StudentClassesPage}))),IK=b.lazy(()=>St(()=>import("./index-B8vBTMSM.js").then(t=>t.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>({default:t.StudentProfilePage}))),xK=b.lazy(()=>St(()=>import("./index-B8vBTMSM.js").then(t=>t.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>({default:t.StudentPaymentsPage}))),kK=()=>{const{session:t}=Qc(),e=Vs(),n=Nr();return b.useEffect(()=>{if(t.user?.roles){const o=Lx(t.user.roles);n.pathname!==o&&!n.pathname.startsWith(o)&&e(o,{replace:!0})}else n.pathname==="/"&&e("/dashboard",{replace:!0})},[t.user?.roles,e,n.pathname]),_.jsx("div",{children:"Redirigiendo..."})},NK=()=>{const{session:t}=Qc(),e=Vs(),n=Nr();return b.useEffect(()=>{if(t.user?.roles){const o=Lx(t.user.roles);n.pathname!==o&&!n.pathname.startsWith(o)&&e(o,{replace:!0})}},[t.user?.roles,e,n.pathname]),_.jsx("div",{children:"Redirigiendo..."})},MK=[{path:"/",element:_.jsx(tK,{}),children:[{path:"login",element:_.jsx(aK,{}),meta:{public:!0,onlyGuests:!0,redirectTo:"/dashboard"}},{path:"auth-callback",element:_.jsx(iK,{}),meta:{public:!0}},{path:"/",element:_.jsx(sK,{}),meta:{auth:!0},children:[{index:!0,element:_.jsx(kK,{})},{path:"dashboard",element:_.jsx(NK,{})},{path:"admin",element:_.jsx(nK,{}),meta:{anyRole:["admin"]},children:[{index:!0,element:_.jsx(lK,{})},{path:"attendance",element:_.jsx(hK,{})},{path:"users",element:_.jsx(cK,{})},{path:"users/:id",element:_.jsx(bK,{})},{path:"payments",element:_.jsx(pK,{})},{path:"payroll",element:_.jsx(gK,{})},{path:"classes",element:_.jsx(uK,{})},{path:"paquetes",element:_.jsx(mK,{})},{path:"reports",element:_.jsx(dK,{})},{path:"profile",element:_.jsx(yK,{})},{path:"notifications",element:_.jsx(vK,{})}]},{path:"profesor",element:_.jsx(oK,{}),meta:{anyRole:["profesor"]},children:[{index:!0,element:_.jsx(CK,{})},{path:"attendance",element:_.jsx(EK,{})},{path:"classes",element:_.jsx(SK,{})},{path:"payments",element:_.jsx(wK,{})},{path:"reports",element:_.jsx(AK,{})},{path:"profile",element:_.jsx(TK,{})}]},{path:"student",element:_.jsx(rK,{}),meta:{anyRole:["alumno"]},children:[{index:!0,element:_.jsx(_K,{})},{path:"attendance",element:_.jsx(RK,{})},{path:"classes",element:_.jsx(OK,{})},{path:"payments",element:_.jsx(xK,{})},{path:"profile",element:_.jsx(IK,{})}]},{path:"profile",element:_.jsx("div",{children:"Profile Page"})},{path:"notifications",element:_.jsx("div",{children:"Notifications"})}]},{path:"*",element:_.jsx(fK,{}),meta:{public:!0}}]}];function PK({to:t="/login",children:e}){const{status:n}=Qc(),o=Nr();return n==="unknown"?_.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:_.jsx("div",{children:"Cargando..."})}):n!=="authenticated"?_.jsx(Kd,{to:t,replace:!0,state:{from:o}}):_.jsx(_.Fragment,{children:e})}function DK({to:t="/dashboard",children:e}){const{status:n}=Qc();return n==="unknown"?_.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:_.jsx("div",{children:"Cargando..."})}):n==="authenticated"?_.jsx(Kd,{to:t,replace:!0}):_.jsx(_.Fragment,{children:e})}function LK({anyOf:t,allOf:e,to:n,children:o}){const{status:i,session:l}=Qc();if(i==="unknown")return _.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:_.jsx("div",{children:"Cargando..."})});if(i!=="authenticated")return _.jsx(Kd,{to:"/login",replace:!0});const c=l?.user?.roles??[],d=t?t.some(m=>c.includes(m)):!0,f=e?e.every(m=>c.includes(m)):!0;if(!d||!f){const m=n||UK(c);return _.jsx(Kd,{to:m,replace:!0})}return _.jsx(_.Fragment,{children:o})}function UK(t){return az.getDefaultRoute(t)}function Ux(t){const e=t.children?.map(Ux),n=t.meta??{};let o=t.element;return o=_.jsx(b.Suspense,{fallback:_.jsx("div",{children:"Cargando..."}),children:o}),n.onlyGuests&&(o=_.jsx(DK,{to:n.redirectTo??"/dashboard",children:o})),n.auth&&(o=_.jsx(PK,{to:n.redirectTo??"/login",children:o})),(n.anyRole||n.allRole)&&(o=_.jsx(LK,{anyOf:n.anyRole,allOf:n.allRole,to:n.redirectTo??"/dashboard",children:o})),t.index?{index:!0,element:o}:{path:t.path,element:o,children:e}}const HK=d1(MK.map(Ux));function zK(){return _.jsx(Zq,{children:_.jsx(w1,{router:HK})})}WN.createRoot(document.getElementById("root")).render(_.jsx(b.StrictMode,{children:_.jsx(zK,{})}));export{hy as $,AG as A,MG as B,xs as C,PG as D,DG as E,fB as F,Qj as G,_G as H,LG as I,qn as J,JG as K,Sj as L,hq as M,ZG as N,mq as O,gq as P,yj as Q,rt as R,HA as S,kf as T,kj as U,tl as V,uG as W,Pj as X,c4 as Y,cG as Z,Ys as _,Qc as a,lG as a0,dG as a1,Fs as a2,v4 as a3,dO as a4,g4 as a5,KB as a6,bj as a7,_j as a8,Nr as a9,zG as aA,BG as aB,pj as aC,jK as aD,Oj as aE,cj as aF,UO as aG,eg as aH,hj as aI,hG as aJ,gG as aK,pG as aL,mG as aM,p_ as aN,Df as aO,e8 as aP,Yj as aQ,Vc as aR,jg as aS,Ic as aT,lB as aU,En as aV,Kn as aW,Xz as aX,BK as aY,sG as aZ,az as aa,aA as ab,oA as ac,yG as ad,St as ae,Tj as af,ij as ag,$G as ah,XG as ai,N6 as aj,Sq as ak,Tq as al,vq as am,bq as an,wq as ao,Cq as ap,YG as aq,bG as ar,CG as as,SG as at,EG as au,FK as av,Vj as aw,xa as ax,UG as ay,HG as az,Vs as b,sn as c,_0 as d,F4 as e,nA as f,fG as g,ih as h,cb as i,_ as j,ue as k,wf as l,Dj as m,dj as n,vG as o,q4 as p,RG as q,b as r,Sd as s,db as t,sO as u,OG as v,IG as w,xG as x,NG as y,kG as z};
