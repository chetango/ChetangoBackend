import{c as i,a as q,u as $,F as j,h,r as f,j as e,Q as B,ac as G,a8 as O,aE as A,af as P,X as I,l as F,C as N}from"./index-xg0wAXn9.js";import{A as Q}from"./AmbientGlows-DQ_86F5f.js";import{u as p}from"./useMutation-C0w7SSmQ.js";import{G as g,B as T}from"./GlassPanel-DsiEcOyo.js";import{T as K,C as U}from"./triangle-alert-BedL4Rwo.js";const W=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],X=i("activity",W);const J=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],v=i("briefcase",J);const Y=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],C=i("building-2",Y);const Z=[["path",{d:"M10.88 21.94 15.46 14",key:"xkve6t"}],["path",{d:"M21.17 8H12",key:"19dcdn"}],["path",{d:"M3.95 6.06 8.54 14",key:"g8jz9m"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],ee=i("chromium",Z);const ae=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],y=i("eye-off",ae);const se=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],_=i("facebook",se);const te=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],w=i("eye",te);const re=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],D=i("instagram",re);const ne=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],ce=i("key",ne);const oe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],k=i("lock",oe);const ie=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],le=i("log-out",ie);const de=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],L=i("map-pin",de);const me=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],E=i("message-circle",me);const xe=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],fe=i("monitor",xe);const be=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],S=i("save",be);const ue=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],he=i("settings",ue);const ge=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],z=i("shield",ge);const pe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],je=i("user-x",pe),b={all:["admin-profile"],detail:()=>[...b.all,"detail"],seguridad:()=>[...b.all,"seguridad"]},Ne=()=>{const{session:a}=q();return $({queryKey:b.detail(),queryFn:async()=>(await h.get("/api/admin/me/perfil")).data,enabled:!!a.user})},ve=()=>{const{session:a}=q();return $({queryKey:b.seguridad(),queryFn:async()=>({ultimoCambioPassword:new Date().toISOString(),sesionesActivas:1,historialAccesos:[{fecha:new Date().toISOString(),dispositivo:"Web",navegador:"Edge",ip:"127.0.0.1"}]}),enabled:!!a.user})},ye=()=>{const a=j();return p({mutationFn:async t=>(await h.put("/api/admin/me/datos-personales",t)).data,onSuccess:()=>{a.invalidateQueries({queryKey:b.detail()})}})},we=()=>{const a=j();return p({mutationFn:async t=>(await h.put("/api/admin/me/datos-academia",t)).data,onSuccess:()=>{a.invalidateQueries({queryKey:b.detail()})}})},ke=()=>{const a=j();return p({mutationFn:async t=>(await h.put("/api/admin/me/configuracion",t)).data,onSuccess:()=>{a.invalidateQueries({queryKey:b.detail()})}})},Ce=()=>p({mutationFn:async a=>(await h.post("/api/admin/me/cambiar-password",a)).data}),Ae=()=>{const a=j();return p({mutationFn:async()=>(await h.post("/api/admin/me/cerrar-otras-sesiones")).data,onSuccess:()=>{a.invalidateQueries({queryKey:b.seguridad()})}})},Pe=({profile:a})=>{const[t,r]=f.useState({notificacionesEmail:a.configuracion?.notificacionesEmail??!0,alertasPagosPendientes:a.configuracion?.alertasPagosPendientes??!0,reportesAutomaticos:a.configuracion?.reportesAutomaticos??!0,alertasPaquetesVencer:a.configuracion?.alertasPaquetesVencer??!0,alertasAsistenciaBaja:a.configuracion?.alertasAsistenciaBaja??!0,notificacionesNuevosRegistros:a.configuracion?.notificacionesNuevosRegistros??!0}),s=ke(),c=l=>{const x={...t,[l]:!t[l]};r(x),s.mutate(x)},o=[{key:"notificacionesEmail",icon:T,titulo:"Notificaciones por Email",descripcion:"Recibe actualizaciones importantes del sistema",color:"#10b981"},{key:"alertasPagosPendientes",icon:B,titulo:"Alertas de Pagos Pendientes",descripcion:"Notificaciones cuando hay pagos sin registrar",color:"#c93448"},{key:"reportesAutomaticos",icon:G,titulo:"Reportes Semanales Automáticos",descripcion:"Recibe reportes de rendimiento cada semana",color:"#6366f1"},{key:"alertasPaquetesVencer",icon:O,titulo:"Alertas de Paquetes por Vencer",descripcion:"Te avisamos cuando paquetes están próximos a vencer",color:"#f59e0b"},{key:"alertasAsistenciaBaja",icon:K,titulo:"Alertas de Asistencia Baja",descripcion:"Notificaciones cuando hay clases con poca asistencia",color:"#ef4444"},{key:"notificacionesNuevosRegistros",icon:je,titulo:"Notificaciones de Nuevos Registros",descripcion:"Te informamos cuando hay nuevos alumnos o profesores",color:"#8b5cf6"}];return e.jsxs(g,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(he,{className:"w-5 h-5 text-[#10b981]"}),e.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Configuración de Notificaciones"})]}),e.jsx("div",{className:"space-y-4",children:o.map(({key:l,icon:x,titulo:n,descripcion:d,color:u})=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.1)] hover:bg-[rgba(255,255,255,0.05)] transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{background:`${u}20`},children:e.jsx(x,{className:"w-5 h-5",style:{color:u}})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-[#f9fafb] font-medium",children:n}),e.jsx("p",{className:"text-[#9ca3af] text-sm mt-0.5",children:d})]})]}),e.jsx("button",{onClick:()=>c(l),className:`relative w-14 h-7 rounded-full transition-colors duration-300 ${t[l]?"bg-[#10b981]":"bg-[#4b5563]"}`,children:e.jsx("div",{className:`absolute top-1 w-5 h-5 rounded-full bg-white transition-transform duration-300 ${t[l]?"translate-x-8":"translate-x-1"}`})})]},l))}),e.jsx("div",{className:"mt-6 p-4 rounded-lg bg-[rgba(99,102,241,0.1)] border border-[rgba(99,102,241,0.2)]",children:e.jsxs("p",{className:"text-[#93c5fd] text-sm",children:[e.jsx("strong",{children:"Nota:"})," Los cambios se guardan automáticamente. Puedes modificar estas preferencias en cualquier momento."]})})]})},Se=({profile:a})=>{const[t,r]=f.useState(!1),[s,c]=f.useState({nombreAcademia:a.datosAcademia?.nombreAcademia||"",direccion:a.datosAcademia?.direccion||"",telefono:a.datosAcademia?.telefono||"",emailInstitucional:a.datosAcademia?.emailInstitucional||"",instagram:a.datosAcademia?.instagram||"",facebook:a.datosAcademia?.facebook||"",whatsapp:a.datosAcademia?.whatsapp||""}),o=we(),l=()=>{o.mutate({...s,instagram:s.instagram||null,facebook:s.facebook||null,whatsapp:s.whatsapp||null},{onSuccess:()=>{r(!1)}})},x=()=>{c({nombreAcademia:a.datosAcademia?.nombreAcademia||"",direccion:a.datosAcademia?.direccion||"",telefono:a.datosAcademia?.telefono||"",emailInstitucional:a.datosAcademia?.emailInstitucional||"",instagram:a.datosAcademia?.instagram||"",facebook:a.datosAcademia?.facebook||"",whatsapp:a.datosAcademia?.whatsapp||""}),r(!1)};return e.jsxs(g,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{className:"w-5 h-5 text-[#6366f1]"}),e.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Datos de la Academia"})]}),!t&&e.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] text-sm transition-all duration-300",children:"Editar"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Nombre de la Academia"}),t?e.jsx("input",{type:"text",value:s.nombreAcademia,onChange:n=>c({...s,nombreAcademia:n.target.value}),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#6366f1] transition-colors"}):e.jsxs("div",{className:"flex items-center gap-2 text-[#f9fafb]",children:[e.jsx(C,{className:"w-4 h-4 text-[#9ca3af]"}),e.jsx("span",{className:"text-lg font-medium",children:a.datosAcademia?.nombreAcademia||"No especificado"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Dirección"}),t?e.jsx("input",{type:"text",value:s.direccion,onChange:n=>c({...s,direccion:n.target.value}),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#6366f1] transition-colors"}):e.jsxs("div",{className:"flex items-center gap-2 text-[#f9fafb]",children:[e.jsx(L,{className:"w-4 h-4 text-[#9ca3af]"}),e.jsx("span",{children:a.datosAcademia?.direccion||"No especificado"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Teléfono de Contacto"}),t?e.jsx("input",{type:"tel",value:s.telefono,onChange:n=>c({...s,telefono:n.target.value}),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#6366f1] transition-colors"}):e.jsxs("div",{className:"flex items-center gap-2 text-[#f9fafb]",children:[e.jsx(A,{className:"w-4 h-4 text-[#9ca3af]"}),e.jsx("span",{children:a.datosAcademia?.telefono||"No especificado"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Email Institucional"}),t?e.jsx("input",{type:"email",value:s.emailInstitucional,onChange:n=>c({...s,emailInstitucional:n.target.value}),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#6366f1] transition-colors"}):e.jsxs("div",{className:"flex items-center gap-2 text-[#f9fafb]",children:[e.jsx(P,{className:"w-4 h-4 text-[#9ca3af]"}),e.jsx("span",{children:a.datosAcademia?.emailInstitucional||"No especificado"})]})]}),e.jsxs("div",{className:"pt-4 border-t border-[rgba(255,255,255,0.1)]",children:[e.jsx("h4",{className:"text-[#f9fafb] font-medium mb-4",children:"Redes Sociales"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Instagram"}),t?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-4 h-4 text-[#9ca3af]"}),e.jsx("input",{type:"text",value:s.instagram,onChange:n=>c({...s,instagram:n.target.value}),placeholder:"@usuario",className:"flex-1 px-4 py-2 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#6366f1] transition-colors placeholder:text-[#6b7280]"})]}):e.jsxs("div",{className:"flex items-center gap-2 text-[#f9fafb]",children:[e.jsx(D,{className:"w-4 h-4 text-[#9ca3af]"}),e.jsx("span",{children:a.datosAcademia?.instagram||"No configurado"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Facebook"}),t?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-4 h-4 text-[#9ca3af]"}),e.jsx("input",{type:"text",value:s.facebook,onChange:n=>c({...s,facebook:n.target.value}),placeholder:"facebook.com/pagina",className:"flex-1 px-4 py-2 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#6366f1] transition-colors placeholder:text-[#6b7280]"})]}):e.jsxs("div",{className:"flex items-center gap-2 text-[#f9fafb]",children:[e.jsx(_,{className:"w-4 h-4 text-[#9ca3af]"}),e.jsx("span",{children:a.datosAcademia?.facebook||"No configurado"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"WhatsApp"}),t?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4 text-[#9ca3af]"}),e.jsx("input",{type:"text",value:s.whatsapp,onChange:n=>c({...s,whatsapp:n.target.value}),placeholder:"+57 3001234567",className:"flex-1 px-4 py-2 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#6366f1] transition-colors placeholder:text-[#6b7280]"})]}):e.jsxs("div",{className:"flex items-center gap-2 text-[#f9fafb]",children:[e.jsx(E,{className:"w-4 h-4 text-[#9ca3af]"}),e.jsx("span",{children:a.datosAcademia?.whatsapp||"No configurado"})]})]})]})]}),t&&e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs("button",{onClick:l,disabled:o.isPending,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-[#6366f1] hover:bg-[#4f46e5] text-white font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(S,{className:"w-4 h-4"}),o.isPending?"Guardando...":"Guardar Cambios"]}),e.jsx("button",{onClick:x,disabled:o.isPending,className:"px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] transition-all duration-300 disabled:opacity-50",children:e.jsx(I,{className:"w-4 h-4"})})]})]})]})},Me=({profile:a})=>{const[t,r]=f.useState(!1),[s,c]=f.useState({nombreCompleto:a.nombreCompleto||"",telefono:a.telefono||"",direccionPersonal:a.direccionPersonal||"",fechaNacimiento:a.fechaNacimiento||""}),o=ye(),l=()=>{o.mutate({...s,direccionPersonal:s.direccionPersonal||null,fechaNacimiento:s.fechaNacimiento||null},{onSuccess:()=>{r(!1)}})},x=()=>{c({nombreCompleto:a.nombreCompleto||"",telefono:a.telefono||"",direccionPersonal:a.direccionPersonal||"",fechaNacimiento:a.fechaNacimiento||""}),r(!1)},n=d=>d?new Date(d).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"No registrado";return e.jsxs(g,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(F,{className:"w-5 h-5 text-[#c93448]"}),e.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Datos Personales"})]}),!t&&e.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] text-sm transition-all duration-300",children:"Editar"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Nombre Completo"}),t?e.jsx("input",{type:"text",value:s.nombreCompleto,onChange:d=>c({...s,nombreCompleto:d.target.value}),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors"}):e.jsx("p",{className:"text-[#f9fafb] text-lg",children:a.nombreCompleto})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Correo Electrónico"}),e.jsxs("div",{className:"flex items-center gap-2 text-[#f9fafb]",children:[e.jsx(P,{className:"w-4 h-4 text-[#9ca3af]"}),e.jsx("span",{children:a.correo})]}),e.jsx("p",{className:"text-[#6b7280] text-xs mt-1",children:"El correo no puede ser modificado"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Teléfono"}),t?e.jsx("input",{type:"tel",value:s.telefono,onChange:d=>c({...s,telefono:d.target.value}),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors"}):e.jsxs("div",{className:"flex items-center gap-2 text-[#f9fafb]",children:[e.jsx(A,{className:"w-4 h-4 text-[#9ca3af]"}),e.jsx("span",{children:a.telefono})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Dirección Personal"}),t?e.jsx("input",{type:"text",value:s.direccionPersonal,onChange:d=>c({...s,direccionPersonal:d.target.value}),placeholder:"Ingrese su dirección",className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors placeholder:text-[#6b7280]"}):e.jsxs("div",{className:"flex items-center gap-2 text-[#f9fafb]",children:[e.jsx(L,{className:"w-4 h-4 text-[#9ca3af]"}),e.jsx("span",{children:a.direccionPersonal||"No registrado"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Fecha de Nacimiento"}),t?e.jsx("input",{type:"date",value:s.fechaNacimiento,onChange:d=>c({...s,fechaNacimiento:d.target.value}),className:"w-full px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#c93448] transition-colors"}):e.jsxs("div",{className:"flex items-center gap-2 text-[#f9fafb]",children:[e.jsx(N,{className:"w-4 h-4 text-[#9ca3af]"}),e.jsx("span",{children:n(a.fechaNacimiento||"")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Documento de Identidad"}),e.jsxs("p",{className:"text-[#f9fafb]",children:[a.tipoDocumento," ",a.numeroDocumento]})]}),t&&e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs("button",{onClick:l,disabled:o.isPending,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-[#c93448] hover:bg-[#a8243a] text-white font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(S,{className:"w-4 h-4"}),o.isPending?"Guardando...":"Guardar Cambios"]}),e.jsx("button",{onClick:x,disabled:o.isPending,className:"px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] transition-all duration-300 disabled:opacity-50",children:e.jsx(I,{className:"w-4 h-4"})})]})]})]})},_e=({profile:a})=>{const t=r=>r?new Date(r).toLocaleString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No disponible";return e.jsxs(g,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(v,{className:"w-5 h-5 text-[#f59e0b]"}),e.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Información Profesional"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.1)]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(v,{className:"w-4 h-4 text-[#9ca3af]"}),e.jsx("span",{className:"text-[#9ca3af] text-sm",children:"Cargo"})]}),e.jsx("p",{className:"text-[#f9fafb] font-medium",children:a.cargo||"No especificado"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.1)]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(v,{className:"w-4 h-4 text-[#9ca3af]"}),e.jsx("span",{className:"text-[#9ca3af] text-sm",children:"Departamento"})]}),e.jsx("p",{className:"text-[#f9fafb] font-medium",children:a.departamento||"No especificado"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.1)]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(N,{className:"w-4 h-4 text-[#9ca3af]"}),e.jsx("span",{className:"text-[#9ca3af] text-sm",children:"Fecha de Ingreso"})]}),e.jsx("p",{className:"text-[#f9fafb] font-medium",children:new Date(a.fechaIngreso).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.1)]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(X,{className:"w-4 h-4 text-[#9ca3af]"}),e.jsx("span",{className:"text-[#9ca3af] text-sm",children:"Última Actividad"})]}),e.jsx("p",{className:"text-[#f9fafb] font-medium",children:t(a.ultimaActividad)})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.1)]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(z,{className:"w-4 h-4 text-[#9ca3af]"}),e.jsx("span",{className:"text-[#9ca3af] text-sm",children:"Permisos Asignados"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.permisos&&a.permisos.length>0?a.permisos.map((r,s)=>e.jsx("span",{className:"px-3 py-1 rounded-lg bg-[rgba(201,52,72,0.15)] border border-[rgba(201,52,72,0.3)] text-[#c93448] text-xs font-medium",children:r},s)):e.jsx("span",{className:"text-[#9ca3af] text-sm",children:"No hay permisos asignados"})})]})]})]})},De=({profile:a})=>{const t=s=>s?s.split(" ").map(c=>c[0]).join("").toUpperCase().slice(0,2):"AD",r=s=>s?new Date(s).toLocaleDateString("es-ES",{year:"numeric",month:"long"}):"Fecha no disponible";return e.jsx(g,{className:"p-6 md:p-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-center md:items-start",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-[#c93448] to-[#a8243a] flex items-center justify-center text-white text-4xl font-bold shadow-lg shadow-[rgba(201,52,72,0.3)]",children:t(a.nombreCompleto)}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 bg-[#10b981] rounded-full border-4 border-[#1e1e2f] flex items-center justify-center",children:e.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})})]}),e.jsxs("div",{className:"flex-1 text-center md:text-left",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-[#f9fafb] mb-2",children:a.nombreCompleto||"Nombre no disponible"}),e.jsx("div",{className:"inline-block px-4 py-1.5 rounded-full bg-[rgba(201,52,72,0.15)] border border-[rgba(201,52,72,0.3)] mb-4",children:e.jsx("span",{className:"text-[#c93448] text-sm font-medium",children:a.cargo||"Administrador"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[#d1d5db] justify-center md:justify-start",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:["Miembro desde ",r(a.fechaIngreso)]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[#d1d5db] justify-center md:justify-start",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:[a.tipoDocumento||""," ",a.numeroDocumento||"No registrado"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[#d1d5db] justify-center md:justify-start",children:[e.jsx(P,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:a.correo||"No registrado"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[#d1d5db] justify-center md:justify-start",children:[e.jsx(A,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:a.telefono||"No registrado"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[#d1d5db] justify-center md:justify-start md:col-span-2",children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:a.datosAcademia?.nombreAcademia||"Academia no registrada"})]})]})]})]})})},Ee=({seguridadInfo:a})=>{const[t,r]=f.useState(!1),[s,c]=f.useState({actual:!1,nuevo:!1,confirmar:!1}),[o,l]=f.useState({passwordActual:"",passwordNuevo:"",confirmarPassword:""}),[x,n]=f.useState(""),d=Ce(),u=Ae(),V=()=>{if(o.passwordNuevo!==o.confirmarPassword){n("Las contraseñas no coinciden");return}if(o.passwordNuevo.length<8){n("La contraseña debe tener al menos 8 caracteres");return}n(""),d.mutate(o,{onSuccess:()=>{l({passwordActual:"",passwordNuevo:"",confirmarPassword:""}),r(!1)},onError:m=>{n(m.response?.data?.message||"Error al cambiar la contraseña")}})},H=()=>{confirm("¿Estás seguro de cerrar todas las demás sesiones activas?")&&u.mutate()},M=m=>new Date(m).toLocaleString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs(g,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(z,{className:"w-5 h-5 text-[#ef4444]"}),e.jsx("h3",{className:"text-[#f9fafb] text-xl font-semibold",children:"Seguridad"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"w-4 h-4 text-[#9ca3af]"}),e.jsx("h4",{className:"text-[#f9fafb] font-medium",children:"Cambiar Contraseña"})]}),!t&&e.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] text-sm transition-all duration-300",children:"Cambiar"})]}),t?e.jsxs("div",{className:"space-y-3 p-4 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.1)]",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Contraseña Actual"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[#9ca3af]"}),e.jsx("input",{type:s.actual?"text":"password",value:o.passwordActual,onChange:m=>l({...o,passwordActual:m.target.value}),className:"w-full pl-10 pr-10 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#ef4444] transition-colors"}),e.jsx("button",{type:"button",onClick:()=>c({...s,actual:!s.actual}),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#9ca3af] hover:text-[#f9fafb]",children:s.actual?e.jsx(y,{className:"w-4 h-4"}):e.jsx(w,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Nueva Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[#9ca3af]"}),e.jsx("input",{type:s.nuevo?"text":"password",value:o.passwordNuevo,onChange:m=>l({...o,passwordNuevo:m.target.value}),className:"w-full pl-10 pr-10 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#ef4444] transition-colors"}),e.jsx("button",{type:"button",onClick:()=>c({...s,nuevo:!s.nuevo}),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#9ca3af] hover:text-[#f9fafb]",children:s.nuevo?e.jsx(y,{className:"w-4 h-4"}):e.jsx(w,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#9ca3af] text-sm mb-2",children:"Confirmar Nueva Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[#9ca3af]"}),e.jsx("input",{type:s.confirmar?"text":"password",value:o.confirmarPassword,onChange:m=>l({...o,confirmarPassword:m.target.value}),className:"w-full pl-10 pr-10 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] border border-[rgba(255,255,255,0.1)] text-[#f9fafb] focus:outline-none focus:border-[#ef4444] transition-colors"}),e.jsx("button",{type:"button",onClick:()=>c({...s,confirmar:!s.confirmar}),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#9ca3af] hover:text-[#f9fafb]",children:s.confirmar?e.jsx(y,{className:"w-4 h-4"}):e.jsx(w,{className:"w-4 h-4"})})]})]}),x&&e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-[rgba(239,68,68,0.1)] border border-[rgba(239,68,68,0.3)]",children:[e.jsx(U,{className:"w-4 h-4 text-[#ef4444]"}),e.jsx("span",{className:"text-[#ef4444] text-sm",children:x})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{onClick:V,disabled:d.isPending,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-[#ef4444] hover:bg-[#dc2626] text-white font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(S,{className:"w-4 h-4"}),d.isPending?"Guardando...":"Guardar Nueva Contraseña"]}),e.jsx("button",{onClick:()=>{r(!1),l({passwordActual:"",passwordNuevo:"",confirmarPassword:""}),n("")},disabled:d.isPending,className:"px-4 py-3 rounded-lg bg-[rgba(255,255,255,0.05)] hover:bg-[rgba(255,255,255,0.08)] border border-[rgba(255,255,255,0.1)] text-[#d1d5db] transition-all duration-300",children:"Cancelar"})]})]}):e.jsx("div",{className:"p-4 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.1)]",children:e.jsxs("p",{className:"text-[#9ca3af] text-sm",children:["Última modificación: ",a?.ultimoCambioPassword?M(a.ultimoCambioPassword):"No disponible"]})})]}),e.jsxs("div",{className:"border-t border-[rgba(255,255,255,0.1)] pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"w-4 h-4 text-[#9ca3af]"}),e.jsx("h4",{className:"text-[#f9fafb] font-medium",children:"Sesiones Activas"})]}),e.jsxs("span",{className:"px-3 py-1 rounded-full bg-[rgba(16,185,129,0.15)] border border-[rgba(16,185,129,0.3)] text-[#10b981] text-xs font-medium",children:[a?.sesionesActivas||1," sesión",(a?.sesionesActivas||1)>1?"es":""]})]}),a&&a.sesionesActivas>1&&e.jsxs("button",{onClick:H,disabled:u.isPending,className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-[rgba(239,68,68,0.1)] hover:bg-[rgba(239,68,68,0.15)] border border-[rgba(239,68,68,0.3)] text-[#ef4444] font-medium transition-all duration-300 disabled:opacity-50",children:[e.jsx(le,{className:"w-4 h-4"}),u.isPending?"Cerrando...":"Cerrar Otras Sesiones"]})]}),a?.historialAccesos&&a.historialAccesos.length>0&&e.jsxs("div",{className:"border-t border-[rgba(255,255,255,0.1)] pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(N,{className:"w-4 h-4 text-[#9ca3af]"}),e.jsx("h4",{className:"text-[#f9fafb] font-medium",children:"Historial de Accesos Recientes"})]}),e.jsx("div",{className:"space-y-3",children:a.historialAccesos.slice(0,5).map((m,R)=>e.jsx("div",{className:"p-3 rounded-lg bg-[rgba(255,255,255,0.03)] border border-[rgba(255,255,255,0.1)]",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ee,{className:"w-4 h-4 text-[#9ca3af] mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#f9fafb] text-sm font-medium",children:m.navegador}),e.jsx("p",{className:"text-[#9ca3af] text-xs mt-1",children:m.dispositivo}),e.jsxs("p",{className:"text-[#6b7280] text-xs mt-1",children:["IP: ",m.ip]})]})]}),e.jsx("span",{className:"text-[#9ca3af] text-xs whitespace-nowrap",children:M(m.fecha)})]})},R))})]})]})]})},qe=()=>{const{data:a,isLoading:t,error:r}=Ne(),{data:s}=ve();return t?e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-[#c93448] border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-[#9ca3af] text-sm",children:"Cargando perfil..."})]})}):r||!a?e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[#ef4444] text-lg mb-2",children:"Error al cargar el perfil"}),e.jsx("p",{className:"text-[#9ca3af] text-sm",children:r instanceof Error?r.message:"Por favor, intenta de nuevo más tarde"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(De,{profile:a}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(Me,{profile:a}),e.jsx(_e,{profile:a}),e.jsx(Se,{profile:a})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(Pe,{profile:a}),e.jsx(Ee,{seguridadInfo:s})]})]})]})},$e=()=>e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f1419] py-8 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[e.jsx(Q,{variant:"default"}),e.jsxs("div",{className:"absolute inset-0 opacity-[0.02] pointer-events-none overflow-hidden",children:[e.jsx("div",{className:"text-[200px] font-bold text-white absolute top-20 -left-20 rotate-[-15deg]",children:"MI"}),e.jsx("div",{className:"text-[150px] font-bold text-white absolute bottom-20 -right-20 rotate-[15deg]",children:"PERFIL"})]}),e.jsx("div",{className:"max-w-7xl mx-auto relative z-10",children:e.jsx(qe,{})})]}),He=Object.freeze(Object.defineProperty({__proto__:null,default:$e},Symbol.toStringTag,{value:"Module"}));export{X as A,C as B,w as E,k as L,L as M,S,je as U,v as a,he as b,E as c,le as d,$e as e,He as f};
